const r5="modulepreload",i5=function(t){return"/"+t},f2={},Hp=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=i5(o),o in f2)return;f2[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const f=i[c];if(f.href===o&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":r5,s||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),s)return new Promise((c,f)=>{u.addEventListener("load",c),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};function o5(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const yd=Object.assign,s5=Object.prototype.hasOwnProperty,z0=(t,e)=>s5.call(t,e),zo=Array.isArray,of=t=>_I(t)==="[object Map]",Ob=t=>typeof t=="function",a5=t=>typeof t=="string",Rb=t=>typeof t=="symbol",_d=t=>t!==null&&typeof t=="object",l5=Object.prototype.toString,_I=t=>l5.call(t),bI=t=>_I(t).slice(8,-1),Mb=t=>a5(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,u5=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},c5=u5(t=>t.charAt(0).toUpperCase()+t.slice(1)),Db=(t,e)=>!Object.is(t,e),f5=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})};function Vp(t,...e){console.warn(`[Vue warn] ${t}`,...e)}let Lr;class Bb{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Lr,!e&&Lr&&(this.index=(Lr.scopes||(Lr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Lr;try{return Lr=this,e()}finally{Lr=n}}else Vp("cannot run an inactive effect scope.")}on(){Lr=this}off(){Lr=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function bd(t){return new Bb(t)}function xI(t,e=Lr){e&&e.active&&e.effects.push(t)}function xd(){return Lr}function kb(t){Lr?Lr.cleanups.push(t):Vp("onScopeDispose() is called when there is no active effect scope to be associated with.")}const Nb=t=>{const e=new Set(t);return e.w=0,e.n=0,e},wI=t=>(t.w&qs)>0,EI=t=>(t.n&qs)>0,d5=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=qs},h5=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];wI(i)&&!EI(i)?i.delete(t):e[n++]=i,i.w&=~qs,i.n&=~qs}e.length=n}},zp=new WeakMap;let Yc=0,qs=1;const Z1=30;let ur;const Xa=Symbol("iterate"),J1=Symbol("Map key iterate");class wd{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,xI(this,r)}run(){if(!this.active)return this.fn();let e=ur,n=Us;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ur,ur=this,Us=!0,qs=1<<++Yc,Yc<=Z1?d5(this):d2(this),this.fn()}finally{Yc<=Z1&&h5(this),qs=1<<--Yc,ur=this.parent,Us=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ur===this?this.deferStop=!0:this.active&&(d2(this),this.onStop&&this.onStop(),this.active=!1)}}function d2(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function p5(t,e){t.effect&&(t=t.effect.fn);const n=new wd(t);e&&(yd(n,e),e.scope&&xI(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function g5(t){t.effect.stop()}let Us=!0;const SI=[];function Cl(){SI.push(Us),Us=!1}function Al(){const t=SI.pop();Us=t===void 0?!0:t}function er(t,e,n){if(Us&&ur){let r=zp.get(t);r||zp.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=Nb()),CI(i,{effect:ur,target:t,type:e,key:n})}}function CI(t,e){let n=!1;Yc<=Z1?EI(t)||(t.n|=qs,n=!wI(t)):n=!t.has(ur),n&&(t.add(ur),ur.deps.push(t),ur.onTrack&&ur.onTrack(yd({effect:ur},e)))}function uo(t,e,n,r,i,o){const s=zp.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(n==="length"&&zo(t)){const u=Number(r);s.forEach((c,f)=>{(f==="length"||f>=u)&&a.push(c)})}else switch(n!==void 0&&a.push(s.get(n)),e){case"add":zo(t)?Mb(n)&&a.push(s.get("length")):(a.push(s.get(Xa)),of(t)&&a.push(s.get(J1)));break;case"delete":zo(t)||(a.push(s.get(Xa)),of(t)&&a.push(s.get(J1)));break;case"set":of(t)&&a.push(s.get(Xa));break}const l={target:t,type:e,key:n,newValue:r,oldValue:i,oldTarget:o};if(a.length===1)a[0]&&Q1(a[0],l);else{const u=[];for(const c of a)c&&u.push(...c);Q1(Nb(u),l)}}function Q1(t,e){const n=zo(t)?t:[...t];for(const r of n)r.computed&&h2(r,e);for(const r of n)r.computed||h2(r,e)}function h2(t,e){(t!==ur||t.allowRecurse)&&(t.onTrigger&&t.onTrigger(yd({effect:t},e)),t.scheduler?t.scheduler():t.run())}function m5(t,e){var n;return(n=zp.get(t))==null?void 0:n.get(e)}const v5=o5("__proto__,__v_isRef,__isVue"),AI=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Rb)),y5=j0(),_5=j0(!1,!0),b5=j0(!0),x5=j0(!0,!0),p2=w5();function w5(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Le(this);for(let o=0,s=this.length;o<s;o++)er(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Le)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Cl();const r=Le(this)[e].apply(this,n);return Al(),r}}),t}function E5(t){const e=Le(this);return er(e,"has",t),e.hasOwnProperty(t)}function j0(t=!1,e=!1){return function(r,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&o===(t?e?BI:DI:e?MI:RI).get(r))return r;const s=zo(r);if(!t){if(s&&z0(p2,i))return Reflect.get(p2,i,o);if(i==="hasOwnProperty")return E5}const a=Reflect.get(r,i,o);return(Rb(i)?AI.has(i):v5(i))||(t||er(r,"get",i),e)?a:pt(a)?s&&Mb(i)?a:a.value:_d(a)?t?Tl(a):Mt(a):a}}const S5=TI(),C5=TI(!0);function TI(t=!1){return function(n,r,i,o){let s=n[r];if(es(s)&&pt(s)&&!pt(i))return!1;if(!t&&(!kf(i)&&!es(i)&&(s=Le(s),i=Le(i)),!zo(n)&&pt(s)&&!pt(i)))return s.value=i,!0;const a=zo(n)&&Mb(r)?Number(r)<n.length:z0(n,r),l=Reflect.set(n,r,i,o);return n===Le(o)&&(a?Db(i,s)&&uo(n,"set",r,i,s):uo(n,"add",r,i)),l}}function A5(t,e){const n=z0(t,e),r=t[e],i=Reflect.deleteProperty(t,e);return i&&n&&uo(t,"delete",e,void 0,r),i}function T5(t,e){const n=Reflect.has(t,e);return(!Rb(e)||!AI.has(e))&&er(t,"has",e),n}function P5(t){return er(t,"iterate",zo(t)?"length":Xa),Reflect.ownKeys(t)}const PI={get:y5,set:S5,deleteProperty:A5,has:T5,ownKeys:P5},II={get:b5,set(t,e){return Vp(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0},deleteProperty(t,e){return Vp(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0}},I5=yd({},PI,{get:_5,set:C5}),O5=yd({},II,{get:x5}),Fb=t=>t,W0=t=>Reflect.getPrototypeOf(t);function uh(t,e,n=!1,r=!1){t=t.__v_raw;const i=Le(t),o=Le(e);n||(e!==o&&er(i,"get",e),er(i,"get",o));const{has:s}=W0(i),a=r?Fb:n?Lb:Ff;if(s.call(i,e))return a(t.get(e));if(s.call(i,o))return a(t.get(o));t!==i&&t.get(e)}function ch(t,e=!1){const n=this.__v_raw,r=Le(n),i=Le(t);return e||(t!==i&&er(r,"has",t),er(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function fh(t,e=!1){return t=t.__v_raw,!e&&er(Le(t),"iterate",Xa),Reflect.get(t,"size",t)}function g2(t){t=Le(t);const e=Le(this);return W0(e).has.call(e,t)||(e.add(t),uo(e,"add",t,t)),this}function m2(t,e){e=Le(e);const n=Le(this),{has:r,get:i}=W0(n);let o=r.call(n,t);o?OI(n,r,t):(t=Le(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?Db(e,s)&&uo(n,"set",t,e,s):uo(n,"add",t,e),this}function v2(t){const e=Le(this),{has:n,get:r}=W0(e);let i=n.call(e,t);i?OI(e,n,t):(t=Le(t),i=n.call(e,t));const o=r?r.call(e,t):void 0,s=e.delete(t);return i&&uo(e,"delete",t,void 0,o),s}function y2(){const t=Le(this),e=t.size!==0,n=of(t)?new Map(t):new Set(t),r=t.clear();return e&&uo(t,"clear",void 0,void 0,n),r}function dh(t,e){return function(r,i){const o=this,s=o.__v_raw,a=Le(s),l=e?Fb:t?Lb:Ff;return!t&&er(a,"iterate",Xa),s.forEach((u,c)=>r.call(i,l(u),l(c),o))}}function hh(t,e,n){return function(...r){const i=this.__v_raw,o=Le(i),s=of(o),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,u=i[t](...r),c=n?Fb:e?Lb:Ff;return!e&&er(o,"iterate",l?J1:Xa),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:a?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function hs(t){return function(...e){{const n=e[0]?`on key "${e[0]}" `:"";console.warn(`${c5(t)} operation ${n}failed: target is readonly.`,Le(this))}return t==="delete"?!1:this}}function R5(){const t={get(o){return uh(this,o)},get size(){return fh(this)},has:ch,add:g2,set:m2,delete:v2,clear:y2,forEach:dh(!1,!1)},e={get(o){return uh(this,o,!1,!0)},get size(){return fh(this)},has:ch,add:g2,set:m2,delete:v2,clear:y2,forEach:dh(!1,!0)},n={get(o){return uh(this,o,!0)},get size(){return fh(this,!0)},has(o){return ch.call(this,o,!0)},add:hs("add"),set:hs("set"),delete:hs("delete"),clear:hs("clear"),forEach:dh(!0,!1)},r={get(o){return uh(this,o,!0,!0)},get size(){return fh(this,!0)},has(o){return ch.call(this,o,!0)},add:hs("add"),set:hs("set"),delete:hs("delete"),clear:hs("clear"),forEach:dh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=hh(o,!1,!1),n[o]=hh(o,!0,!1),e[o]=hh(o,!1,!0),r[o]=hh(o,!0,!0)}),[t,n,e,r]}const[M5,D5,B5,k5]=R5();function Y0(t,e){const n=e?t?k5:B5:t?D5:M5;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(z0(n,i)&&i in r?n:r,i,o)}const N5={get:Y0(!1,!1)},F5={get:Y0(!1,!0)},L5={get:Y0(!0,!1)},$5={get:Y0(!0,!0)};function OI(t,e,n){const r=Le(n);if(r!==n&&e.call(t,r)){const i=bI(t);console.warn(`Reactive ${i} contains both the raw and reactive versions of the same object${i==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const RI=new WeakMap,MI=new WeakMap,DI=new WeakMap,BI=new WeakMap;function U5(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function G5(t){return t.__v_skip||!Object.isExtensible(t)?0:U5(bI(t))}function Mt(t){return es(t)?t:X0(t,!1,PI,N5,RI)}function kI(t){return X0(t,!1,I5,F5,MI)}function Tl(t){return X0(t,!0,II,L5,DI)}function fu(t){return X0(t,!0,O5,$5,BI)}function X0(t,e,n,r,i){if(!_d(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=G5(t);if(s===0)return t;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function Di(t){return es(t)?Di(t.__v_raw):!!(t&&t.__v_isReactive)}function es(t){return!!(t&&t.__v_isReadonly)}function kf(t){return!!(t&&t.__v_isShallow)}function Nf(t){return Di(t)||es(t)}function Le(t){const e=t&&t.__v_raw;return e?Le(e):t}function no(t){return f5(t,"__v_skip",!0),t}const Ff=t=>_d(t)?Mt(t):t,Lb=t=>_d(t)?Tl(t):t;function $b(t){Us&&ur&&(t=Le(t),CI(t.dep||(t.dep=Nb()),{target:t,type:"get",key:"value"}))}function K0(t,e){t=Le(t);const n=t.dep;n&&Q1(n,{target:t,type:"set",key:"value",newValue:e})}function pt(t){return!!(t&&t.__v_isRef===!0)}function Z(t){return NI(t,!1)}function q0(t){return NI(t,!0)}function NI(t,e){return pt(t)?t:new H5(t,e)}class H5{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Le(e),this._value=n?e:Ff(e)}get value(){return $b(this),this._value}set value(e){const n=this.__v_isShallow||kf(e)||es(e);e=n?e:Le(e),Db(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Ff(e),K0(this,e))}}function V5(t){K0(t,t.value)}function dr(t){return pt(t)?t.value:t}function z5(t){return Ob(t)?t():dr(t)}const j5={get:(t,e,n)=>dr(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return pt(i)&&!pt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Ub(t){return Di(t)?t:new Proxy(t,j5)}class W5{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>$b(this),()=>K0(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function FI(t){return new W5(t)}function ey(t){Nf(t)||console.warn("toRefs() expects a reactive object but received a plain one.");const e=zo(t)?new Array(t.length):{};for(const n in t)e[n]=LI(t,n);return e}class Y5{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return m5(Le(this._object),this._key)}}class X5{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function sf(t,e,n){return pt(t)?t:Ob(t)?new X5(t):_d(t)&&arguments.length>1?LI(t,e,n):Z(t)}function LI(t,e,n){const r=t[e];return pt(r)?r:new Y5(t,e,n)}class K5{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new wd(e,()=>{this._dirty||(this._dirty=!0,K0(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Le(this);return $b(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function q5(t,e,n=!1){let r,i;const o=Ob(t);o?(r=t,i=()=>{console.warn("Write operation failed: computed value is readonly")}):(r=t.get,i=t.set);const s=new K5(r,i,o||!i,n);return e&&!n&&(s.effect.onTrack=e.onTrack,s.effect.onTrigger=e.onTrigger),s}function Ed(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const St=Object.freeze({}),bu=Object.freeze([]),Cr=()=>{},$I=()=>!1,Z5=/^on[^a-z]/,Sd=t=>Z5.test(t),ty=t=>t.startsWith("onUpdate:"),Xt=Object.assign,Gb=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},J5=Object.prototype.hasOwnProperty,lt=(t,e)=>J5.call(t,e),He=Array.isArray,UI=t=>Cd(t)==="[object Map]",GI=t=>Cd(t)==="[object Set]",Q5=t=>Cd(t)==="[object RegExp]",Ge=t=>typeof t=="function",nn=t=>typeof t=="string",Tt=t=>t!==null&&typeof t=="object",Z0=t=>Tt(t)&&Ge(t.then)&&Ge(t.catch),HI=Object.prototype.toString,Cd=t=>HI.call(t),e9=t=>Cd(t).slice(8,-1),VI=t=>Cd(t)==="[object Object]",af=Ed(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),t9=Ed("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),J0=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},n9=/-(\w)/g,Ni=J0(t=>t.replace(n9,(e,n)=>n?n.toUpperCase():"")),r9=/\B([A-Z])/g,Ou=J0(t=>t.replace(r9,"-$1").toLowerCase()),Ru=J0(t=>t.charAt(0).toUpperCase()+t.slice(1)),Fo=J0(t=>t?`on${Ru(t)}`:""),ny=(t,e)=>!Object.is(t,e),Da=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},ry=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},i9=t=>{const e=parseFloat(t);return isNaN(e)?t:e},o9=t=>{const e=nn(t)?Number(t):NaN;return isNaN(e)?t:e};let _2;const jp=()=>_2||(_2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),s9="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",a9=Ed(s9);function Ad(t){if(He(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=nn(r)?f9(r):Ad(r);if(i)for(const o in i)e[o]=i[o]}return e}else{if(nn(t))return t;if(Tt(t))return t}}const l9=/;(?![^(]*\))/g,u9=/:([^]+)/,c9=/\/\*[^]*?\*\//g;function f9(t){const e={};return t.replace(c9,"").split(l9).forEach(n=>{if(n){const r=n.split(u9);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Td(t){let e="";if(nn(t))e=t;else if(He(t))for(let n=0;n<t.length;n++){const r=Td(t[n]);r&&(e+=r+" ")}else if(Tt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function d9(t){if(!t)return null;let{class:e,style:n}=t;return e&&!nn(e)&&(t.class=Td(e)),n&&(t.style=Ad(n)),t}const h9=t=>nn(t)?t:t==null?"":He(t)||Tt(t)&&(t.toString===HI||!Ge(t.toString))?JSON.stringify(t,zI,2):String(t),zI=(t,e)=>e&&e.__v_isRef?zI(t,e.value):UI(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:GI(e)?{[`Set(${e.size})`]:[...e.values()]}:Tt(e)&&!He(e)&&!VI(e)?String(e):e,Ka=[];function lf(t){Ka.push(t)}function uf(){Ka.pop()}function se(t,...e){Cl();const n=Ka.length?Ka[Ka.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=p9();if(r)oo(r,n,11,[t+e.join(""),n&&n.proxy,i.map(({vnode:o})=>`at <${cg(n,o.type)}>`).join(`
`),i]);else{const o=[`[Vue warn]: ${t}`,...e];i.length&&o.push(`
`,...g9(i)),console.warn(...o)}Al()}function p9(){let t=Ka[Ka.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function g9(t){const e=[];return t.forEach((n,r)=>{e.push(...r===0?[]:[`
`],...m9(n))}),e}function m9({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=t.component?t.component.parent==null:!1,i=` at <${cg(t.component,t.type,r)}`,o=">"+n;return t.props?[i,...v9(t.props),o]:[i+o]}function v9(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(r=>{e.push(...jI(r,t[r]))}),n.length>3&&e.push(" ..."),e}function jI(t,e,n){return nn(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:pt(e)?(e=jI(t,Le(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):Ge(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Le(e),n?e:[`${t}=`,e])}function Hb(t,e){t!==void 0&&(typeof t!="number"?se(`${e} is not a valid number - got ${JSON.stringify(t)}.`):isNaN(t)&&se(`${e} is NaN - the duration expression might be incorrect.`))}const Vb={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function oo(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){Pl(o,e,n)}return i}function Hr(t,e,n,r){if(Ge(t)){const o=oo(t,e,n,r);return o&&Z0(o)&&o.catch(s=>{Pl(s,e,n)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(Hr(t[o],e,n,r));return i}function Pl(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,a=Vb[n];for(;o;){const u=o.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,s,a)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){oo(l,null,10,[t,s,a]);return}}y9(t,n,i,r)}function y9(t,e,n,r=!0){{const i=Vb[e];if(n&&lf(n),se(`Unhandled error${i?` during execution of ${i}`:""}`),n&&uf(),r)throw t;console.error(t)}}let Lf=!1,iy=!1;const Kn=[];let eo=0;const xu=[];let Ki=null,Ss=0;const WI=Promise.resolve();let zb=null;const _9=100;function Xe(t){const e=zb||WI;return t?e.then(this?t.bind(this):t):e}function b9(t){let e=eo+1,n=Kn.length;for(;e<n;){const r=e+n>>>1;$f(Kn[r])<t?e=r+1:n=r}return e}function Pd(t){(!Kn.length||!Kn.includes(t,Lf&&t.allowRecurse?eo+1:eo))&&(t.id==null?Kn.push(t):Kn.splice(b9(t.id),0,t),YI())}function YI(){!Lf&&!iy&&(iy=!0,zb=WI.then(XI))}function x9(t){const e=Kn.indexOf(t);e>eo&&Kn.splice(e,1)}function Q0(t){He(t)?xu.push(...t):(!Ki||!Ki.includes(t,t.allowRecurse?Ss+1:Ss))&&xu.push(t),YI()}function b2(t,e=Lf?eo+1:0){for(t=t||new Map;e<Kn.length;e++){const n=Kn[e];if(n&&n.pre){if(jb(t,n))continue;Kn.splice(e,1),e--,n()}}}function Wp(t){if(xu.length){const e=[...new Set(xu)];if(xu.length=0,Ki){Ki.push(...e);return}for(Ki=e,t=t||new Map,Ki.sort((n,r)=>$f(n)-$f(r)),Ss=0;Ss<Ki.length;Ss++)jb(t,Ki[Ss])||Ki[Ss]();Ki=null,Ss=0}}const $f=t=>t.id==null?1/0:t.id,w9=(t,e)=>{const n=$f(t)-$f(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function XI(t){iy=!1,Lf=!0,t=t||new Map,Kn.sort(w9);const e=n=>jb(t,n);try{for(eo=0;eo<Kn.length;eo++){const n=Kn[eo];if(n&&n.active!==!1){if(e(n))continue;oo(n,null,14)}}}finally{eo=0,Kn.length=0,Wp(t),Lf=!1,zb=null,(Kn.length||xu.length)&&XI(t)}}function jb(t,e){if(!t.has(e))t.set(e,1);else{const n=t.get(e);if(n>_9){const r=e.ownerInstance,i=r&&zf(r.type);return se(`Maximum recursive updates exceeded${i?` in component <${i}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else t.set(e,n+1)}}let Gs=!1;const au=new Set;jp().__VUE_HMR_RUNTIME__={createRecord:ym(KI),rerender:ym(C9),reload:ym(A9)};const ol=new Map;function E9(t){const e=t.type.__hmrId;let n=ol.get(e);n||(KI(e,t.type),n=ol.get(e)),n.instances.add(t)}function S9(t){ol.get(t.type.__hmrId).instances.delete(t)}function KI(t,e){return ol.has(t)?!1:(ol.set(t,{initialDef:cf(e),instances:new Set}),!0)}function cf(t){return $O(t)?t.__vccOpts:t}function C9(t,e){const n=ol.get(t);n&&(n.initialDef.render=e,[...n.instances].forEach(r=>{e&&(r.render=e,cf(r.type).render=e),r.renderCache=[],Gs=!0,r.update(),Gs=!1}))}function A9(t,e){const n=ol.get(t);if(!n)return;e=cf(e),x2(n.initialDef,e);const r=[...n.instances];for(const i of r){const o=cf(i.type);au.has(o)||(o!==n.initialDef&&x2(o,e),au.add(o)),i.appContext.propsCache.delete(i.type),i.appContext.emitsCache.delete(i.type),i.appContext.optionsCache.delete(i.type),i.ceReload?(au.add(o),i.ceReload(e.styles),au.delete(o)):i.parent?Pd(i.parent.update):i.appContext.reload?i.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}Q0(()=>{for(const i of r)au.delete(cf(i.type))})}function x2(t,e){Xt(t,e);for(const n in t)n!=="__file"&&!(n in e)&&delete t[n]}function ym(t){return(e,n)=>{try{return t(e,n)}catch(r){console.error(r),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let Ci,Xc=[],oy=!1;function Id(t,...e){Ci?Ci.emit(t,...e):oy||Xc.push({event:t,args:e})}function Wb(t,e){var n,r;Ci=t,Ci?(Ci.enabled=!0,Xc.forEach(({event:i,args:o})=>Ci.emit(i,...o)),Xc=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{Wb(o,e)}),setTimeout(()=>{Ci||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,oy=!0,Xc=[])},3e3)):(oy=!0,Xc=[])}function T9(t,e){Id("app:init",t,e,{Fragment:Ft,Text:co,Comment:en,Static:Hs})}function P9(t){Id("app:unmount",t)}const sy=Yb("component:added"),qI=Yb("component:updated"),I9=Yb("component:removed"),O9=t=>{Ci&&typeof Ci.cleanupBuffer=="function"&&!Ci.cleanupBuffer(t)&&I9(t)};function Yb(t){return e=>{Id(t,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}const R9=ZI("perf:start"),M9=ZI("perf:end");function ZI(t){return(e,n,r)=>{Id(t,e.appContext.app,e.uid,e,n,r)}}function D9(t,e,n){Id("component:emit",t.appContext.app,t,e,n)}function B9(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||St;{const{emitsOptions:c,propsOptions:[f]}=t;if(c)if(!(e in c))(!f||!(Fo(e)in f))&&se(`Component emitted event "${e}" but it is neither declared in the emits option nor as an "${Fo(e)}" prop.`);else{const d=c[e];Ge(d)&&(d(...n)||se(`Invalid event arguments: event validation failed for event "${e}".`))}}let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const c=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:d}=r[c]||St;d&&(i=n.map(h=>nn(h)?h.trim():h)),f&&(i=n.map(i9))}D9(t,e,i);{const c=e.toLowerCase();c!==e&&r[Fo(c)]&&se(`Event "${c}" is emitted in component ${cg(t,t.type)} but the handler is registered for "${e}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${Ou(e)}" instead of "${e}".`)}let a,l=r[a=Fo(e)]||r[a=Fo(Ni(e))];!l&&o&&(l=r[a=Fo(Ou(e))]),l&&Hr(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Hr(u,t,6,i)}}function JI(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let s={},a=!1;if(!Ge(t)){const l=u=>{const c=JI(u,e,!0);c&&(a=!0,Xt(s,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(Tt(t)&&r.set(t,null),null):(He(o)?o.forEach(l=>s[l]=null):Xt(s,o),Tt(t)&&r.set(t,s),s)}function eg(t,e){return!t||!Sd(e)?!1:(e=e.slice(2).replace(/Once$/,""),lt(t,e[0].toLowerCase()+e.slice(1))||lt(t,Ou(e))||lt(t,e))}let ln=null,tg=null;function Uf(t){const e=ln;return ln=t,tg=t&&t.type.__scopeId||null,e}function k9(t){tg=t}function N9(){tg=null}const F9=t=>Xb;function Xb(t,e=ln,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&py(-1);const o=Uf(e);let s;try{s=t(...i)}finally{Uf(o),r._d&&py(1)}return qI(e),s};return r._n=!0,r._c=!0,r._d=!0,r}let ay=!1;function Yp(){ay=!0}function gp(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:l,emit:u,render:c,renderCache:f,data:d,setupState:h,ctx:p,inheritAttrs:y}=t;let v,g;const m=Uf(t);ay=!1;try{if(n.shapeFlag&4){const x=i||r;v=wr(c.call(x,x,f,o,h,d,p)),g=l}else{const x=e;l===o&&Yp(),v=wr(x.length>1?x(o,{get attrs(){return Yp(),l},slots:a,emit:u}):x(o,null)),g=e.props?l:$9(l)}}catch(x){df.length=0,Pl(x,t,1),v=O(en)}let _=v,b;if(v.patchFlag>0&&v.patchFlag&2048&&([_,b]=L9(v)),g&&y!==!1){const x=Object.keys(g),{shapeFlag:w}=_;if(x.length){if(w&7)s&&x.some(ty)&&(g=U9(g,s)),_=vi(_,g);else if(!ay&&_.type!==en){const E=Object.keys(l),S=[],P=[];for(let C=0,A=E.length;C<A;C++){const T=E[C];Sd(T)?ty(T)||S.push(T[2].toLowerCase()+T.slice(3)):P.push(T)}P.length&&se(`Extraneous non-props attributes (${P.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),S.length&&se(`Extraneous non-emits event listeners (${S.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return n.dirs&&(w2(_)||se("Runtime directive used on component with non-element root node. The directives will not function as intended."),_=vi(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(w2(_)||se("Component inside <Transition> renders non-element root node that cannot be animated."),_.transition=n.transition),b?b(_):v=_,Uf(m),v}const L9=t=>{const e=t.children,n=t.dynamicChildren,r=Kb(e);if(!r)return[t,void 0];const i=e.indexOf(r),o=n?n.indexOf(r):-1,s=a=>{e[i]=a,n&&(o>-1?n[o]=a:a.patchFlag>0&&(t.dynamicChildren=[...n,a]))};return[wr(r),s]};function Kb(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(fo(r)){if(r.type!==en||r.children==="v-if"){if(e)return;e=r}}else return}return e}const $9=t=>{let e;for(const n in t)(n==="class"||n==="style"||Sd(n))&&((e||(e={}))[n]=t[n]);return e},U9=(t,e)=>{const n={};for(const r in t)(!ty(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n},w2=t=>t.shapeFlag&7||t.type===en;function G9(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:l}=e,u=o.emitsOptions;if((i||a)&&Gs||e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?E2(r,s,u):!!s;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(s[d]!==r[d]&&!eg(u,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?E2(r,s,u):!0:!!s;return!1}function E2(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!eg(n,o))return!0}return!1}function qb({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const QI=t=>t.__isSuspense,H9={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,o,s,a,l,u){t==null?z9(e,n,r,i,o,s,a,l,u):j9(t,e,n,r,i,s,a,l,u)},hydrate:W9,create:Zb,normalize:Y9},V9=H9;function Gf(t,e){const n=t.props&&t.props[e];Ge(n)&&n()}function z9(t,e,n,r,i,o,s,a,l){const{p:u,o:{createElement:c}}=l,f=c("div"),d=t.suspense=Zb(t,i,r,e,f,n,o,s,a,l);u(null,d.pendingBranch=t.ssContent,f,null,r,d,o,s),d.deps>0?(Gf(t,"onPending"),Gf(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,o,s),wu(d,t.ssFallback)):d.resolve(!1,!0)}function j9(t,e,n,r,i,o,s,a,{p:l,um:u,o:{createElement:c}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const d=e.ssContent,h=e.ssFallback,{activeBranch:p,pendingBranch:y,isInFallback:v,isHydrating:g}=f;if(y)f.pendingBranch=d,Ai(d,y)?(l(y,d,f.hiddenContainer,null,i,f,o,s,a),f.deps<=0?f.resolve():v&&(l(p,h,n,r,i,null,o,s,a),wu(f,h))):(f.pendingId++,g?(f.isHydrating=!1,f.activeBranch=y):u(y,i,f),f.deps=0,f.effects.length=0,f.hiddenContainer=c("div"),v?(l(null,d,f.hiddenContainer,null,i,f,o,s,a),f.deps<=0?f.resolve():(l(p,h,n,r,i,null,o,s,a),wu(f,h))):p&&Ai(d,p)?(l(p,d,n,r,i,f,o,s,a),f.resolve(!0)):(l(null,d,f.hiddenContainer,null,i,f,o,s,a),f.deps<=0&&f.resolve()));else if(p&&Ai(d,p))l(p,d,n,r,i,f,o,s,a),wu(f,d);else if(Gf(e,"onPending"),f.pendingBranch=d,f.pendingId++,l(null,d,f.hiddenContainer,null,i,f,o,s,a),f.deps<=0)f.resolve();else{const{timeout:m,pendingId:_}=f;m>0?setTimeout(()=>{f.pendingId===_&&f.fallback(h)},m):m===0&&f.fallback(h)}}let S2=!1;function Zb(t,e,n,r,i,o,s,a,l,u,c=!1){S2||(S2=!0,console[console.info?"info":"log"]("<Suspense> is an experimental feature and its API will likely change."));const{p:f,m:d,um:h,n:p,o:{parentNode:y,remove:v}}=u;let g;const m=X9(t);m&&e!=null&&e.pendingBranch&&(g=e.pendingId,e.deps++);const _=t.props?o9(t.props.timeout):void 0;Hb(_,"Suspense timeout");const b={vnode:t,parent:e,parentComponent:n,isSVG:s,container:r,hiddenContainer:i,anchor:o,deps:0,pendingId:0,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:c,isUnmounted:!1,effects:[],resolve(x=!1,w=!1){{if(!x&&!b.pendingBranch)throw new Error("suspense.resolve() is called without a pending branch.");if(b.isUnmounted)throw new Error("suspense.resolve() is called on an already unmounted suspense boundary.")}const{vnode:E,activeBranch:S,pendingBranch:P,pendingId:C,effects:A,parentComponent:T,container:R}=b;if(b.isHydrating)b.isHydrating=!1;else if(!x){const k=S&&P.transition&&P.transition.mode==="out-in";k&&(S.transition.afterLeave=()=>{C===b.pendingId&&d(P,R,U,0)});let{anchor:U}=b;S&&(U=p(S),h(S,T,b,!0)),k||d(P,R,U,0)}wu(b,P),b.pendingBranch=null,b.isInFallback=!1;let N=b.parent,G=!1;for(;N;){if(N.pendingBranch){N.effects.push(...A),G=!0;break}N=N.parent}G||Q0(A),b.effects=[],m&&e&&e.pendingBranch&&g===e.pendingId&&(e.deps--,e.deps===0&&!w&&e.resolve()),Gf(E,"onResolve")},fallback(x){if(!b.pendingBranch)return;const{vnode:w,activeBranch:E,parentComponent:S,container:P,isSVG:C}=b;Gf(w,"onFallback");const A=p(E),T=()=>{b.isInFallback&&(f(null,x,P,A,S,null,C,a,l),wu(b,x))},R=x.transition&&x.transition.mode==="out-in";R&&(E.transition.afterLeave=T),b.isInFallback=!0,h(E,S,null,!0),R||T()},move(x,w,E){b.activeBranch&&d(b.activeBranch,x,w,E),b.container=x},next(){return b.activeBranch&&p(b.activeBranch)},registerDep(x,w){const E=!!b.pendingBranch;E&&b.deps++;const S=x.vnode.el;x.asyncDep.catch(P=>{Pl(P,x,0)}).then(P=>{if(x.isUnmounted||b.isUnmounted||b.pendingId!==x.suspenseId)return;x.asyncResolved=!0;const{vnode:C}=x;lf(C),vy(x,P,!1),S&&(C.el=S);const A=!S&&x.subTree.el;w(x,C,y(S||x.subTree.el),S?null:p(x.subTree),b,s,l),A&&v(A),qb(x,C.el),uf(),E&&--b.deps===0&&b.resolve()})},unmount(x,w){b.isUnmounted=!0,b.activeBranch&&h(b.activeBranch,n,x,w),b.pendingBranch&&h(b.pendingBranch,n,x,w)}};return b}function W9(t,e,n,r,i,o,s,a,l){const u=e.suspense=Zb(e,r,n,t.parentNode,document.createElement("div"),null,i,o,s,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,o,s);return u.deps===0&&u.resolve(!1,!0),c}function Y9(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=C2(r?n.default:n),t.ssFallback=r?C2(n.fallback):O(en)}function C2(t){let e;if(Ge(t)){const n=al&&t._c;n&&(t._d=!1,sg()),t=t(),n&&(t._d=!0,e=Ar,IO())}if(He(t)){const n=Kb(t);n||se("<Suspense> slots expect a single root node."),t=n}return t=wr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function eO(t,e){e&&e.pendingBranch?He(t)?e.effects.push(...t):e.effects.push(t):Q0(t)}function wu(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t,i=n.el=e.el;r&&r.subTree===n&&(r.vnode.el=i,qb(r,i))}function X9(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function sc(t,e){return Od(t,null,e)}function tO(t,e){return Od(t,null,Xt({},e,{flush:"post"}))}function K9(t,e){return Od(t,null,Xt({},e,{flush:"sync"}))}const ph={};function ve(t,e,n){return Ge(e)||se("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Od(t,e,n)}function Od(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=St){var a;e||(n!==void 0&&se('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&se('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const l=x=>{se("Invalid watch source: ",x,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=xd()===((a=an)==null?void 0:a.scope)?an:null;let c,f=!1,d=!1;if(pt(t)?(c=()=>t.value,f=kf(t)):Di(t)?(c=()=>t,r=!0):He(t)?(d=!0,f=t.some(x=>Di(x)||kf(x)),c=()=>t.map(x=>{if(pt(x))return x.value;if(Di(x))return Fa(x);if(Ge(x))return oo(x,u,2);l(x)})):Ge(t)?e?c=()=>oo(t,u,2):c=()=>{if(!(u&&u.isUnmounted))return h&&h(),Hr(t,u,3,[p])}:(c=Cr,l(t)),e&&r){const x=c;c=()=>Fa(x())}let h,p=x=>{h=_.onStop=()=>{oo(x,u,4)}},y;if(Du)if(p=Cr,e?n&&Hr(e,u,3,[c(),d?[]:void 0,p]):c(),i==="sync"){const x=GO();y=x.__watcherHandles||(x.__watcherHandles=[])}else return Cr;let v=d?new Array(t.length).fill(ph):ph;const g=()=>{if(_.active)if(e){const x=_.run();(r||f||(d?x.some((w,E)=>ny(w,v[E])):ny(x,v)))&&(h&&h(),Hr(e,u,3,[x,v===ph?void 0:d&&v[0]===ph?[]:v,p]),v=x)}else _.run()};g.allowRecurse=!!e;let m;i==="sync"?m=g:i==="post"?m=()=>Ln(g,u&&u.suspense):(g.pre=!0,u&&(g.id=u.uid),m=()=>Pd(g));const _=new wd(c,m);_.onTrack=o,_.onTrigger=s,e?n?g():v=_.run():i==="post"?Ln(_.run.bind(_),u&&u.suspense):_.run();const b=()=>{_.stop(),u&&u.scope&&Gb(u.scope.effects,_)};return y&&y.push(b),b}function q9(t,e,n){const r=this.proxy,i=nn(t)?t.includes(".")?nO(r,t):()=>r[t]:t.bind(r,r);let o;Ge(e)?o=e:(o=e.handler,n=e);const s=an;Zs(this);const a=Od(i,o.bind(r),n);return s?Zs(s):Vs(),a}function nO(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Fa(t,e){if(!Tt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),pt(t))Fa(t.value,e);else if(He(t))for(let n=0;n<t.length;n++)Fa(t[n],e);else if(GI(t)||UI(t))t.forEach(n=>{Fa(n,e)});else if(VI(t))for(const n in t)Fa(t[n],e);return t}function rO(t){t9(t)&&se("Do not use built-in directive ids as custom directive id: "+t)}function di(t,e){const n=ln;if(n===null)return se("withDirectives can only be used inside render functions."),t;const r=ug(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[s,a,l,u=St]=e[o];s&&(Ge(s)&&(s={mounted:s,updated:s}),s.deep&&Fa(a),i.push({dir:s,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u}))}return t}function Zi(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[r];l&&(Cl(),Hr(l,n,8,[t.el,a,t,e]),Al())}}function Jb(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ht(()=>{t.isMounted=!0}),qr(()=>{t.isUnmounting=!0}),t}const ei=[Function,Array],Qb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ei,onEnter:ei,onAfterEnter:ei,onEnterCancelled:ei,onBeforeLeave:ei,onLeave:ei,onAfterLeave:ei,onLeaveCancelled:ei,onBeforeAppear:ei,onAppear:ei,onAfterAppear:ei,onAppearCancelled:ei},Z9={name:"BaseTransition",props:Qb,setup(t,{slots:e}){const n=yt(),r=Jb();let i;return()=>{const o=e.default&&ng(e.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){let y=!1;for(const v of o)if(v.type!==en){if(y){se("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}s=v,y=!0}}const a=Le(t),{mode:l}=a;if(l&&l!=="in-out"&&l!=="out-in"&&l!=="default"&&se(`invalid <transition> mode: ${l}`),r.isLeaving)return _m(s);const u=A2(s);if(!u)return _m(s);const c=Mu(u,a,r,n);sl(u,c);const f=n.subTree,d=f&&A2(f);let h=!1;const{getTransitionKey:p}=u.type;if(p){const y=p();i===void 0?i=y:y!==i&&(i=y,h=!0)}if(d&&d.type!==en&&(!Ai(u,d)||h)){const y=Mu(d,a,r,n);if(sl(d,y),l==="out-in")return r.isLeaving=!0,y.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},_m(s);l==="in-out"&&u.type!==en&&(y.delayLeave=(v,g,m)=>{const _=oO(r,d);_[String(d.key)]=d,v._leaveCb=()=>{g(),v._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=m})}return s}}},iO=Z9;function oO(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Mu(t,e,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:f,onLeave:d,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:y,onAppear:v,onAfterAppear:g,onAppearCancelled:m}=e,_=String(t.key),b=oO(n,t),x=(S,P)=>{S&&Hr(S,r,9,P)},w=(S,P)=>{const C=P[1];x(S,P),He(S)?S.every(A=>A.length<=1)&&C():S.length<=1&&C()},E={mode:o,persisted:s,beforeEnter(S){let P=a;if(!n.isMounted)if(i)P=y||a;else return;S._leaveCb&&S._leaveCb(!0);const C=b[_];C&&Ai(t,C)&&C.el._leaveCb&&C.el._leaveCb(),x(P,[S])},enter(S){let P=l,C=u,A=c;if(!n.isMounted)if(i)P=v||l,C=g||u,A=m||c;else return;let T=!1;const R=S._enterCb=N=>{T||(T=!0,N?x(A,[S]):x(C,[S]),E.delayedLeave&&E.delayedLeave(),S._enterCb=void 0)};P?w(P,[S,R]):R()},leave(S,P){const C=String(t.key);if(S._enterCb&&S._enterCb(!0),n.isUnmounting)return P();x(f,[S]);let A=!1;const T=S._leaveCb=R=>{A||(A=!0,P(),R?x(p,[S]):x(h,[S]),S._leaveCb=void 0,b[C]===t&&delete b[C])};b[C]=t,d?w(d,[S,T]):T()},clone(S){return Mu(S,e,n,r)}};return E}function _m(t){if(ac(t))return t=vi(t),t.children=null,t}function A2(t){return ac(t)?t.children?t.children[0]:void 0:t}function sl(t,e){t.shapeFlag&6&&t.component?sl(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ng(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let s=t[o];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===Ft?(s.patchFlag&128&&i++,r=r.concat(ng(s.children,e,a))):(e||s.type!==en)&&r.push(a!=null?vi(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function we(t,e){return Ge(t)?(()=>Xt({name:t.name},e,{setup:t}))():t}const qa=t=>!!t.type.__asyncLoader;function J9(t){Ge(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:o,suspensible:s=!0,onError:a}=t;let l=null,u,c=0;const f=()=>(c++,l=null,d()),d=()=>{let h;return l||(h=l=e().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),a)return new Promise((y,v)=>{a(p,()=>y(f()),()=>v(p),c+1)});throw p}).then(p=>{if(h!==l&&l)return l;if(p||se("Async component loader resolved to undefined. If you are using retry(), make sure to return its return value."),p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),p&&!Tt(p)&&!Ge(p))throw new Error(`Invalid async component load result: ${p}`);return u=p,p}))};return we({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return u},setup(){const h=an;if(u)return()=>bm(u,h);const p=m=>{l=null,Pl(m,h,13,!r)};if(s&&h.suspense||Du)return d().then(m=>()=>bm(m,h)).catch(m=>(p(m),()=>r?O(r,{error:m}):null));const y=Z(!1),v=Z(),g=Z(!!i);return i&&setTimeout(()=>{g.value=!1},i),o!=null&&setTimeout(()=>{if(!y.value&&!v.value){const m=new Error(`Async component timed out after ${o}ms.`);p(m),v.value=m}},o),d().then(()=>{y.value=!0,h.parent&&ac(h.parent.vnode)&&Pd(h.parent.update)}).catch(m=>{p(m),v.value=m}),()=>{if(y.value&&u)return bm(u,h);if(v.value&&r)return O(r,{error:v.value});if(n&&!g.value)return O(n)}}})}function bm(t,e){const{ref:n,props:r,children:i,ce:o}=e.vnode,s=O(t,r,i);return s.ref=n,s.ce=o,delete e.vnode.ce,s}const ac=t=>t.type.__isKeepAlive,Q9={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=yt(),r=n.ctx;if(!r.renderer)return()=>{const m=e.default&&e.default();return m&&m.length===1?m[0]:m};const i=new Map,o=new Set;let s=null;n.__v_cache=i;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:f}}}=r,d=f("div");r.activate=(m,_,b,x,w)=>{const E=m.component;u(m,_,b,0,a),l(E.vnode,m,_,b,E,a,x,m.slotScopeIds,w),Ln(()=>{E.isDeactivated=!1,E.a&&Da(E.a);const S=m.props&&m.props.onVnodeMounted;S&&_r(S,E.parent,m)},a),sy(E)},r.deactivate=m=>{const _=m.component;u(m,d,null,1,a),Ln(()=>{_.da&&Da(_.da);const b=m.props&&m.props.onVnodeUnmounted;b&&_r(b,_.parent,m),_.isDeactivated=!0},a),sy(_)};function h(m){xm(m),c(m,n,a,!0)}function p(m){i.forEach((_,b)=>{const x=zf(_.type);x&&(!m||!m(x))&&y(b)})}function y(m){const _=i.get(m);!s||!Ai(_,s)?h(_):s&&xm(s),i.delete(m),o.delete(m)}ve(()=>[t.include,t.exclude],([m,_])=>{m&&p(b=>Kc(m,b)),_&&p(b=>!Kc(_,b))},{flush:"post",deep:!0});let v=null;const g=()=>{v!=null&&i.set(v,wm(n.subTree))};return Ht(g),Il(g),qr(()=>{i.forEach(m=>{const{subTree:_,suspense:b}=n,x=wm(_);if(m.type===x.type&&m.key===x.key){xm(x);const w=x.component.da;w&&Ln(w,b);return}h(m)})}),()=>{if(v=null,!e.default)return null;const m=e.default(),_=m[0];if(m.length>1)return se("KeepAlive should contain exactly one component child."),s=null,m;if(!fo(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return s=null,_;let b=wm(_);const x=b.type,w=zf(qa(b)?b.type.__asyncResolved||{}:x),{include:E,exclude:S,max:P}=t;if(E&&(!w||!Kc(E,w))||S&&w&&Kc(S,w))return s=b,_;const C=b.key==null?x:b.key,A=i.get(C);return b.el&&(b=vi(b),_.shapeFlag&128&&(_.ssContent=b)),v=C,A?(b.el=A.el,b.component=A.component,b.transition&&sl(b,b.transition),b.shapeFlag|=512,o.delete(C),o.add(C)):(o.add(C),P&&o.size>parseInt(P,10)&&y(o.values().next().value)),b.shapeFlag|=256,s=b,QI(_.type)?_:b}}},e$=Q9;function Kc(t,e){return He(t)?t.some(n=>Kc(n,e)):nn(t)?t.split(",").includes(e):Q5(t)?t.test(e):!1}function ls(t,e){sO(t,"a",e)}function bo(t,e){sO(t,"da",e)}function sO(t,e,n=an){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(rg(e,r,n),n){let i=n.parent;for(;i&&i.parent;)ac(i.parent.vnode)&&t$(r,e,n,i),i=i.parent}}function t$(t,e,n,r){const i=rg(e,t,r,!0);cs(()=>{Gb(r[e],i)},n)}function xm(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function wm(t){return t.shapeFlag&128?t.ssContent:t}function rg(t,e,n=an,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;Cl(),Zs(n);const a=Hr(e,n,t,s);return Vs(),Al(),a});return r?i.unshift(o):i.push(o),o}else{const i=Fo(Vb[t].replace(/ hook$/,""));se(`${i} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const us=t=>(e,n=an)=>(!Du||t==="sp")&&rg(t,(...r)=>e(...r),n),aO=us("bm"),Ht=us("m"),ig=us("bu"),Il=us("u"),qr=us("bum"),cs=us("um"),lO=us("sp"),uO=us("rtg"),cO=us("rtc");function fO(t,e=an){rg("ec",t,e)}const Xp="components",n$="directives";function r$(t,e){return ex(Xp,t,!0,e)||t}const dO=Symbol.for("v-ndc");function i$(t){return nn(t)?ex(Xp,t,!1)||t:t||dO}function hO(t){return ex(n$,t)}function ex(t,e,n=!0,r=!1){const i=ln||an;if(i){const o=i.type;if(t===Xp){const a=zf(o,!1);if(a&&(a===e||a===Ni(e)||a===Ru(Ni(e))))return o}const s=T2(i[t]||o[t],e)||T2(i.appContext[t],e);if(!s&&r)return o;if(n&&!s){const a=t===Xp?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";se(`Failed to resolve ${t.slice(0,-1)}: ${e}${a}`)}return s}else se(`resolve${Ru(t.slice(0,-1))} can only be used in render() or setup().`)}function T2(t,e){return t&&(t[e]||t[Ni(e)]||t[Ru(Ni(e))])}function o$(t,e,n,r){let i;const o=n&&n[r];if(He(t)||nn(t)){i=new Array(t.length);for(let s=0,a=t.length;s<a;s++)i[s]=e(t[s],s,void 0,o&&o[s])}else if(typeof t=="number"){Number.isInteger(t)||se(`The v-for range expect an integer value but got ${t}.`),i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o&&o[s])}else if(Tt(t))if(t[Symbol.iterator])i=Array.from(t,(s,a)=>e(s,a,void 0,o&&o[a]));else{const s=Object.keys(t);i=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const u=s[a];i[a]=e(t[u],u,a,o&&o[a])}}else i=[];return n&&(n[r]=i),i}function s$(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(He(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const o=r.fn(...i);return o&&(o.key=r.key),o}:r.fn)}return t}function a$(t,e,n={},r,i){if(ln.isCE||ln.parent&&qa(ln.parent)&&ln.parent.isCE)return e!=="default"&&(n.name=e),O("slot",n,r&&r());let o=t[e];o&&o.length>1&&(se("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),o=()=>[]),o&&o._c&&(o._d=!1),sg();const s=o&&pO(o(n)),a=ix(Ft,{key:n.key||s&&s.key||`_${e}`},s||(r?r():[]),s&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function pO(t){return t.some(e=>fo(e)?!(e.type===en||e.type===Ft&&!pO(e.children)):!0)?t:null}function l$(t,e){const n={};if(!Tt(t))return se("v-on with no argument expects an object value."),n;for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Fo(r)]=t[r];return n}const ly=t=>t?kO(t)?ug(t)||t.proxy:ly(t.parent):null,Za=Xt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>fu(t.props),$attrs:t=>fu(t.attrs),$slots:t=>fu(t.slots),$refs:t=>fu(t.refs),$parent:t=>ly(t.parent),$root:t=>ly(t.root),$emit:t=>t.emit,$options:t=>nx(t),$forceUpdate:t=>t.f||(t.f=()=>Pd(t.update)),$nextTick:t=>t.n||(t.n=Xe.bind(t.proxy)),$watch:t=>q9.bind(t)}),tx=t=>t==="_"||t==="$",Em=(t,e)=>t!==St&&!t.__isScriptSetup&&lt(t,e),ff={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:l}=t;if(e==="__isVue")return!0;let u;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(Em(r,e))return s[e]=1,r[e];if(i!==St&&lt(i,e))return s[e]=2,i[e];if((u=t.propsOptions[0])&&lt(u,e))return s[e]=3,o[e];if(n!==St&&lt(n,e))return s[e]=4,n[e];uy&&(s[e]=0)}}const c=Za[e];let f,d;if(c)return e==="$attrs"?(er(t,"get",e),Yp()):e==="$slots"&&er(t,"get",e),c(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==St&&lt(n,e))return s[e]=4,n[e];if(d=l.config.globalProperties,lt(d,e))return d[e];ln&&(!nn(e)||e.indexOf("__v")!==0)&&(i!==St&&tx(e[0])&&lt(i,e)?se(`Property ${JSON.stringify(e)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):t===ln&&se(`Property ${JSON.stringify(e)} was accessed during render but is not defined on instance.`))},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return Em(i,e)?(i[e]=n,!0):i.__isScriptSetup&&lt(i,e)?(se(`Cannot mutate <script setup> binding "${e}" from Options API.`),!1):r!==St&&lt(r,e)?(r[e]=n,!0):lt(t.props,e)?(se(`Attempting to mutate prop "${e}". Props are readonly.`),!1):e[0]==="$"&&e.slice(1)in t?(se(`Attempting to mutate public property "${e}". Properties starting with $ are reserved and readonly.`),!1):(e in t.appContext.config.globalProperties?Object.defineProperty(o,e,{enumerable:!0,configurable:!0,value:n}):o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||t!==St&&lt(t,s)||Em(e,s)||(a=o[0])&&lt(a,s)||lt(r,s)||lt(Za,s)||lt(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:lt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};ff.ownKeys=t=>(se("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(t));const u$=Xt({},ff,{get(t,e){if(e!==Symbol.unscopables)return ff.get(t,e,t)},has(t,e){const n=e[0]!=="_"&&!a9(e);return!n&&ff.has(t,e)&&se(`Property ${JSON.stringify(e)} should not start with _ which is a reserved prefix for Vue internals.`),n}});function c$(t){const e={};return Object.defineProperty(e,"_",{configurable:!0,enumerable:!1,get:()=>t}),Object.keys(Za).forEach(n=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:()=>Za[n](t),set:Cr})}),e}function f$(t){const{ctx:e,propsOptions:[n]}=t;n&&Object.keys(n).forEach(r=>{Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>t.props[r],set:Cr})})}function d$(t){const{ctx:e,setupState:n}=t;Object.keys(Le(n)).forEach(r=>{if(!n.__isScriptSetup){if(tx(r[0])){se(`setup() return property ${JSON.stringify(r)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>n[r],set:Cr})}})}const Ol=t=>se(`${t}() is a compiler-hint helper that is only usable inside <script setup> of a single file component. Its arguments should be compiled away and passing it at runtime has no effect.`);function h$(){return Ol("defineProps"),null}function p$(){return Ol("defineEmits"),null}function g$(t){Ol("defineExpose")}function m$(t){Ol("defineOptions")}function v$(){return Ol("defineSlots"),null}function y$(){Ol("defineModel")}function _$(t,e){return Ol("withDefaults"),null}function b$(){return gO().slots}function x$(){return gO().attrs}function w$(t,e,n){const r=yt();if(!r)return se("useModel() called without active instance."),Z();if(!r.propsOptions[0][e])return se(`useModel() called with prop "${e}" which is not declared.`),Z();if(n&&n.local){const i=Z(t[e]);return ve(()=>t[e],o=>i.value=o),ve(i,o=>{o!==t[e]&&r.emit(`update:${e}`,o)}),i}else return{__v_isRef:!0,get value(){return t[e]},set value(i){r.emit(`update:${e}`,i)}}}function gO(){const t=yt();return t||se("useContext() called without active instance."),t.setupContext||(t.setupContext=LO(t))}function Hf(t){return He(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function E$(t,e){const n=Hf(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?He(i)||Ge(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null?i=n[r]={default:e[r]}:se(`props default key "${r}" has no corresponding declaration.`),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function S$(t,e){return!t||!e?t||e:He(t)&&He(e)?t.concat(e):Xt({},Hf(t),Hf(e))}function C$(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function A$(t){const e=yt();e||se("withAsyncContext called without active current instance. This is likely a bug.");let n=t();return Vs(),Z0(n)&&(n=n.catch(r=>{throw Zs(e),r})),[n,()=>Zs(e)]}function T$(){const t=Object.create(null);return(e,n)=>{t[n]?se(`${e} property "${n}" is already defined in ${t[n]}.`):t[n]=e}}let uy=!0;function P$(t){const e=nx(t),n=t.proxy,r=t.ctx;uy=!1,e.beforeCreate&&P2(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:p,activated:y,deactivated:v,beforeDestroy:g,beforeUnmount:m,destroyed:_,unmounted:b,render:x,renderTracked:w,renderTriggered:E,errorCaptured:S,serverPrefetch:P,expose:C,inheritAttrs:A,components:T,directives:R,filters:N}=e,G=T$();{const[U]=t.propsOptions;if(U)for(const W in U)G("Props",W)}if(u&&I$(u,r,G),s)for(const U in s){const W=s[U];Ge(W)?(Object.defineProperty(r,U,{value:W.bind(n),configurable:!0,enumerable:!0,writable:!0}),G("Methods",U)):se(`Method "${U}" has type "${typeof W}" in the component definition. Did you reference the function correctly?`)}if(i){Ge(i)||se("The data option must be a function. Plain object usage is no longer supported.");const U=i.call(n,n);if(Z0(U)&&se("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!Tt(U))se("data() should return an object.");else{t.data=Mt(U);for(const W in U)G("Data",W),tx(W[0])||Object.defineProperty(r,W,{configurable:!0,enumerable:!0,get:()=>U[W],set:Cr})}}if(uy=!0,o)for(const U in o){const W=o[U],K=Ge(W)?W.bind(n,n):Ge(W.get)?W.get.bind(n,n):Cr;K===Cr&&se(`Computed property "${U}" has no getter.`);const fe=!Ge(W)&&Ge(W.set)?W.set.bind(n):()=>{se(`Write operation failed: computed property "${U}" is readonly.`)},ce=re({get:K,set:fe});Object.defineProperty(r,U,{enumerable:!0,configurable:!0,get:()=>ce.value,set:X=>ce.value=X}),G("Computed",U)}if(a)for(const U in a)mO(a[U],r,n,U);if(l){const U=Ge(l)?l.call(n):l;Reflect.ownKeys(U).forEach(W=>{hi(W,U[W])})}c&&P2(c,t,"c");function k(U,W){He(W)?W.forEach(K=>U(K.bind(n))):W&&U(W.bind(n))}if(k(aO,f),k(Ht,d),k(ig,h),k(Il,p),k(ls,y),k(bo,v),k(fO,S),k(cO,w),k(uO,E),k(qr,m),k(cs,b),k(lO,P),He(C))if(C.length){const U=t.exposed||(t.exposed={});C.forEach(W=>{Object.defineProperty(U,W,{get:()=>n[W],set:K=>n[W]=K})})}else t.exposed||(t.exposed={});x&&t.render===Cr&&(t.render=x),A!=null&&(t.inheritAttrs=A),T&&(t.components=T),R&&(t.directives=R)}function I$(t,e,n=Cr){He(t)&&(t=cy(t));for(const r in t){const i=t[r];let o;Tt(i)?"default"in i?o=dn(i.from||r,i.default,!0):o=dn(i.from||r):o=dn(i),pt(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[r]=o,n("Inject",r)}}function P2(t,e,n){Hr(He(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function mO(t,e,n,r){const i=r.includes(".")?nO(n,r):()=>n[r];if(nn(t)){const o=e[t];Ge(o)?ve(i,o):se(`Invalid watch handler specified by key "${t}"`,o)}else if(Ge(t))ve(i,t.bind(n));else if(Tt(t))if(He(t))t.forEach(o=>mO(o,e,n,r));else{const o=Ge(t.handler)?t.handler.bind(n):e[t.handler];Ge(o)?ve(i,o,t):se(`Invalid watch handler specified by key "${t.handler}"`,o)}else se(`Invalid watch option: "${r}"`,t)}function nx(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Kp(l,u,s,!0)),Kp(l,e,s)),Tt(e)&&o.set(e,l),l}function Kp(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&Kp(t,o,n,!0),i&&i.forEach(s=>Kp(t,s,n,!0));for(const s in e)if(r&&s==="expose")se('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const a=O$[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const O$={data:I2,props:O2,emits:O2,methods:qc,computed:qc,beforeCreate:or,created:or,beforeMount:or,mounted:or,beforeUpdate:or,updated:or,beforeDestroy:or,beforeUnmount:or,destroyed:or,unmounted:or,activated:or,deactivated:or,errorCaptured:or,serverPrefetch:or,components:qc,directives:qc,watch:M$,provide:I2,inject:R$};function I2(t,e){return e?t?function(){return Xt(Ge(t)?t.call(this,this):t,Ge(e)?e.call(this,this):e)}:e:t}function R$(t,e){return qc(cy(t),cy(e))}function cy(t){if(He(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function or(t,e){return t?[...new Set([].concat(t,e))]:e}function qc(t,e){return t?Xt(Object.create(null),t,e):e}function O2(t,e){return t?He(t)&&He(e)?[...new Set([...t,...e])]:Xt(Object.create(null),Hf(t),Hf(e??{})):e}function M$(t,e){if(!t)return e;if(!e)return t;const n=Xt(Object.create(null),t);for(const r in e)n[r]=or(t[r],e[r]);return n}function vO(){return{app:null,config:{isNativeTag:$I,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let D$=0;function B$(t,e){return function(r,i=null){Ge(r)||(r=Xt({},r)),i!=null&&!Tt(i)&&(se("root props passed to app.mount() must be an object."),i=null);const o=vO();Object.defineProperty(o.config,"unwrapInjectedRef",{get(){return!0},set(){se("app.config.unwrapInjectedRef has been deprecated. 3.3 now alawys unwraps injected refs in Options API.")}});const s=new Set;let a=!1;const l=o.app={_uid:D$++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:_y,get config(){return o.config},set config(u){se("app.config cannot be replaced. Modify individual options instead.")},use(u,...c){return s.has(u)?se("Plugin has already been applied to target app."):u&&Ge(u.install)?(s.add(u),u.install(l,...c)):Ge(u)?(s.add(u),u(l,...c)):se('A plugin must either be a function or an object with an "install" function.'),l},mixin(u){return o.mixins.includes(u)?se("Mixin has already been applied to target app"+(u.name?`: ${u.name}`:"")):o.mixins.push(u),l},component(u,c){return my(u,o.config),c?(o.components[u]&&se(`Component "${u}" has already been registered in target app.`),o.components[u]=c,l):o.components[u]},directive(u,c){return rO(u),c?(o.directives[u]&&se(`Directive "${u}" has already been registered in target app.`),o.directives[u]=c,l):o.directives[u]},mount(u,c,f){if(a)se("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{u.__vue_app__&&se("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const d=O(r,i);return d.appContext=o,o.reload=()=>{t(vi(d),u,f)},c&&e?e(d,u):t(d,u,f),a=!0,l._container=u,u.__vue_app__=l,l._instance=d.component,T9(l,_y),ug(d.component)||d.component.proxy}},unmount(){a?(t(null,l._container),l._instance=null,P9(l),delete l._container.__vue_app__):se("Cannot unmount an app that is not mounted.")},provide(u,c){return u in o.provides&&se(`App already provides property with key "${String(u)}". It will be overwritten with the new value.`),o.provides[u]=c,l},runWithContext(u){Vf=l;try{return u()}finally{Vf=null}}};return l}}let Vf=null;function hi(t,e){if(!an)se("provide() can only be used inside setup().");else{let n=an.provides;const r=an.parent&&an.parent.provides;r===n&&(n=an.provides=Object.create(r)),n[t]=e}}function dn(t,e,n=!1){const r=an||ln;if(r||Vf){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Vf._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ge(e)?e.call(r&&r.proxy):e;se(`injection "${String(t)}" not found.`)}else se("inject() can only be used inside setup() or functional components.")}function yO(){return!!(an||ln||Vf)}function k$(t,e,n,r=!1){const i={},o={};ry(o,ag,1),t.propsDefaults=Object.create(null),_O(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);xO(e||{},i,t),n?t.props=r?i:kI(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function N$(t){for(;t;){if(t.type.__hmrId)return!0;t=t.parent}}function F$(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=Le(i),[l]=t.propsOptions;let u=!1;if(!N$(t)&&(r||s>0)&&!(s&16)){if(s&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(eg(t.emitsOptions,d))continue;const h=e[d];if(l)if(lt(o,d))h!==o[d]&&(o[d]=h,u=!0);else{const p=Ni(d);i[p]=fy(l,a,p,h,t,!1)}else h!==o[d]&&(o[d]=h,u=!0)}}}else{_O(t,e,i,o)&&(u=!0);let c;for(const f in a)(!e||!lt(e,f)&&((c=Ou(f))===f||!lt(e,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(i[f]=fy(l,a,f,void 0,t,!0)):delete i[f]);if(o!==a)for(const f in o)(!e||!lt(e,f))&&(delete o[f],u=!0)}u&&uo(t,"set","$attrs"),xO(e||{},i,t)}function _O(t,e,n,r){const[i,o]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(af(l))continue;const u=e[l];let c;i&&lt(i,c=Ni(l))?!o||!o.includes(c)?n[c]=u:(a||(a={}))[c]=u:eg(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,s=!0)}if(o){const l=Le(n),u=a||St;for(let c=0;c<o.length;c++){const f=o[c];n[f]=fy(i,l,f,u[f],t,!lt(u,f))}}return s}function fy(t,e,n,r,i,o){const s=t[n];if(s!=null){const a=lt(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Ge(l)){const{propsDefaults:u}=i;n in u?r=u[n]:(Zs(i),r=u[n]=l.call(null,e),Vs())}else r=l}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===Ou(n))&&(r=!0))}return r}function bO(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},a=[];let l=!1;if(!Ge(t)){const c=f=>{l=!0;const[d,h]=bO(f,e,!0);Xt(s,d),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!o&&!l)return Tt(t)&&r.set(t,bu),bu;if(He(o))for(let c=0;c<o.length;c++){nn(o[c])||se("props must be strings when using array syntax.",o[c]);const f=Ni(o[c]);R2(f)&&(s[f]=St)}else if(o){Tt(o)||se("invalid props options",o);for(const c in o){const f=Ni(c);if(R2(f)){const d=o[c],h=s[f]=He(d)||Ge(d)?{type:d}:Xt({},d);if(h){const p=D2(Boolean,h.type),y=D2(String,h.type);h[0]=p>-1,h[1]=y<0||p<y,(p>-1||lt(h,"default"))&&a.push(f)}}}}const u=[s,a];return Tt(t)&&r.set(t,u),u}function R2(t){return t[0]!=="$"?!0:(se(`Invalid prop name: "${t}" is a reserved property.`),!1)}function dy(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function M2(t,e){return dy(t)===dy(e)}function D2(t,e){return He(e)?e.findIndex(n=>M2(n,t)):Ge(e)&&M2(e,t)?0:-1}function xO(t,e,n){const r=Le(e),i=n.propsOptions[0];for(const o in i){let s=i[o];s!=null&&L$(o,r[o],s,!lt(t,o)&&!lt(t,Ou(o)))}}function L$(t,e,n,r){const{type:i,required:o,validator:s,skipCheck:a}=n;if(o&&r){se('Missing required prop: "'+t+'"');return}if(!(e==null&&!o)){if(i!=null&&i!==!0&&!a){let l=!1;const u=He(i)?i:[i],c=[];for(let f=0;f<u.length&&!l;f++){const{valid:d,expectedType:h}=U$(e,u[f]);c.push(h||""),l=d}if(!l){se(G$(t,e,c));return}}s&&!s(e)&&se('Invalid prop: custom validator check failed for prop "'+t+'".')}}const $$=Ed("String,Number,Boolean,Function,Symbol,BigInt");function U$(t,e){let n;const r=dy(e);if($$(r)){const i=typeof t;n=i===r.toLowerCase(),!n&&i==="object"&&(n=t instanceof e)}else r==="Object"?n=Tt(t):r==="Array"?n=He(t):r==="null"?n=t===null:n=t instanceof e;return{valid:n,expectedType:r}}function G$(t,e,n){let r=`Invalid prop: type check failed for prop "${t}". Expected ${n.map(Ru).join(" | ")}`;const i=n[0],o=e9(e),s=B2(e,i),a=B2(e,o);return n.length===1&&k2(i)&&!H$(i,o)&&(r+=` with value ${s}`),r+=`, got ${o} `,k2(o)&&(r+=`with value ${a}.`),r}function B2(t,e){return e==="String"?`"${t}"`:e==="Number"?`${Number(t)}`:`${t}`}function k2(t){return["string","number","boolean"].some(n=>t.toLowerCase()===n)}function H$(...t){return t.some(e=>e.toLowerCase()==="boolean")}const wO=t=>t[0]==="_"||t==="$stable",rx=t=>He(t)?t.map(wr):[wr(t)],V$=(t,e,n)=>{if(e._n)return e;const r=Xb((...i)=>(an&&se(`Slot "${t}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),rx(e(...i))),n);return r._c=!1,r},EO=(t,e,n)=>{const r=t._ctx;for(const i in t){if(wO(i))continue;const o=t[i];if(Ge(o))e[i]=V$(i,o,r);else if(o!=null){se(`Non-function value encountered for slot "${i}". Prefer function slots for better performance.`);const s=rx(o);e[i]=()=>s}}},SO=(t,e)=>{ac(t.vnode)||se("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=rx(e);t.slots.default=()=>n},z$=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Le(e),ry(e,"_",n)):EO(e,t.slots={})}else t.slots={},e&&SO(t,e);ry(t.slots,ag,1)},j$=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=St;if(r.shapeFlag&32){const a=e._;a?Gs?(Xt(i,e),uo(t,"set","$slots")):n&&a===1?o=!1:(Xt(i,e),!n&&a===1&&delete i._):(o=!e.$stable,EO(e,i)),s=e}else e&&(SO(t,e),s={default:1});if(o)for(const a in i)!wO(a)&&!(a in s)&&delete i[a]};function qp(t,e,n,r,i=!1){if(He(t)){t.forEach((d,h)=>qp(d,e&&(He(e)?e[h]:e),n,r,i));return}if(qa(r)&&!i)return;const o=r.shapeFlag&4?ug(r.component)||r.component.proxy:r.el,s=i?null:o,{i:a,r:l}=t;if(!a){se("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const u=e&&e.r,c=a.refs===St?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==l&&(nn(u)?(c[u]=null,lt(f,u)&&(f[u]=null)):pt(u)&&(u.value=null)),Ge(l))oo(l,a,12,[s,c]);else{const d=nn(l),h=pt(l);if(d||h){const p=()=>{if(t.f){const y=d?lt(f,l)?f[l]:c[l]:l.value;i?He(y)&&Gb(y,o):He(y)?y.includes(o)||y.push(o):d?(c[l]=[o],lt(f,l)&&(f[l]=c[l])):(l.value=[o],t.k&&(c[t.k]=l.value))}else d?(c[l]=s,lt(f,l)&&(f[l]=s)):h?(l.value=s,t.k&&(c[t.k]=s)):se("Invalid template ref type:",l,`(${typeof l})`)};s?(p.id=-1,Ln(p,n)):p()}else se("Invalid template ref type:",l,`(${typeof l})`)}}let ps=!1;const gh=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",xc=t=>t.nodeType===8;function W$(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:o,parentNode:s,remove:a,insert:l,createComment:u}}=t,c=(g,m)=>{if(!m.hasChildNodes()){se("Attempting to hydrate existing markup but container is empty. Performing full mount instead."),n(null,g,m),Wp(),m._vnode=g;return}ps=!1,f(m.firstChild,g,null,null,null),Wp(),m._vnode=g,ps&&console.error("Hydration completed but contains mismatches.")},f=(g,m,_,b,x,w=!1)=>{const E=xc(g)&&g.data==="[",S=()=>y(g,m,_,b,x,E),{type:P,ref:C,shapeFlag:A,patchFlag:T}=m;let R=g.nodeType;m.el=g,T===-2&&(w=!1,m.dynamicChildren=null);let N=null;switch(P){case co:R!==3?m.children===""?(l(m.el=i(""),s(g),g),N=g):N=S():(g.data!==m.children&&(ps=!0,se(`Hydration text mismatch:
- Client: ${JSON.stringify(g.data)}
- Server: ${JSON.stringify(m.children)}`),g.data=m.children),N=o(g));break;case en:R!==8||E?N=S():N=o(g);break;case Hs:if(E&&(g=o(g),R=g.nodeType),R===1||R===3){N=g;const G=!m.children.length;for(let k=0;k<m.staticCount;k++)G&&(m.children+=N.nodeType===1?N.outerHTML:N.data),k===m.staticCount-1&&(m.anchor=N),N=o(N);return E?o(N):N}else S();break;case Ft:E?N=p(g,m,_,b,x,w):N=S();break;default:if(A&1)R!==1||m.type.toLowerCase()!==g.tagName.toLowerCase()?N=S():N=d(g,m,_,b,x,w);else if(A&6){m.slotScopeIds=x;const G=s(g);if(e(m,G,null,_,b,gh(G),w),N=E?v(g):o(g),N&&xc(N)&&N.data==="teleport end"&&(N=o(N)),qa(m)){let k;E?(k=O(Ft),k.anchor=N?N.previousSibling:G.lastChild):k=g.nodeType===3?lg(""):O("div"),k.el=g,m.component.subTree=k}}else A&64?R!==8?N=S():N=m.type.hydrate(g,m,_,b,x,w,t,h):A&128?N=m.type.hydrate(g,m,_,b,gh(s(g)),x,w,t,f):se("Invalid HostVNode type:",P,`(${typeof P})`)}return C!=null&&qp(C,null,b,m),N},d=(g,m,_,b,x,w)=>{w=w||!!m.dynamicChildren;const{type:E,props:S,patchFlag:P,shapeFlag:C,dirs:A}=m,T=E==="input"&&A||E==="option";{if(A&&Zi(m,null,_,"created"),S)if(T||!w||P&48)for(const N in S)(T&&N.endsWith("value")||Sd(N)&&!af(N))&&r(g,N,null,S[N],!1,void 0,_);else S.onClick&&r(g,"onClick",null,S.onClick,!1,void 0,_);let R;if((R=S&&S.onVnodeBeforeMount)&&_r(R,_,m),A&&Zi(m,null,_,"beforeMount"),((R=S&&S.onVnodeMounted)||A)&&eO(()=>{R&&_r(R,_,m),A&&Zi(m,null,_,"mounted")},b),C&16&&!(S&&(S.innerHTML||S.textContent))){let N=h(g.firstChild,m,g,_,b,x,w),G=!1;for(;N;){ps=!0,G||(se(`Hydration children mismatch in <${m.type}>: server rendered element contains more child nodes than client vdom.`),G=!0);const k=N;N=N.nextSibling,a(k)}}else C&8&&g.textContent!==m.children&&(ps=!0,se(`Hydration text content mismatch in <${m.type}>:
- Client: ${g.textContent}
- Server: ${m.children}`),g.textContent=m.children)}return g.nextSibling},h=(g,m,_,b,x,w,E)=>{E=E||!!m.dynamicChildren;const S=m.children,P=S.length;let C=!1;for(let A=0;A<P;A++){const T=E?S[A]:S[A]=wr(S[A]);if(g)g=f(g,T,b,x,w,E);else{if(T.type===co&&!T.children)continue;ps=!0,C||(se(`Hydration children mismatch in <${_.tagName.toLowerCase()}>: server rendered element contains fewer child nodes than client vdom.`),C=!0),n(null,T,_,null,b,x,gh(_),w)}}return g},p=(g,m,_,b,x,w)=>{const{slotScopeIds:E}=m;E&&(x=x?x.concat(E):E);const S=s(g),P=h(o(g),m,S,_,b,x,w);return P&&xc(P)&&P.data==="]"?o(m.anchor=P):(ps=!0,l(m.anchor=u("]"),S,P),P)},y=(g,m,_,b,x,w)=>{if(ps=!0,se(`Hydration node mismatch:
- Client vnode:`,m.type,`
- Server rendered DOM:`,g,g.nodeType===3?"(text)":xc(g)&&g.data==="["?"(start of fragment)":""),m.el=null,w){const P=v(g);for(;;){const C=o(g);if(C&&C!==P)a(C);else break}}const E=o(g),S=s(g);return a(g),n(null,m,S,E,_,b,gh(S),x),E},v=g=>{let m=0;for(;g;)if(g=o(g),g&&xc(g)&&(g.data==="["&&m++,g.data==="]")){if(m===0)return o(g);m--}return g};return[c,f]}let wc,Ps;function Ro(t,e){t.appContext.config.performance&&Zp()&&Ps.mark(`vue-${e}-${t.uid}`),R9(t,e,Zp()?Ps.now():Date.now())}function Mo(t,e){if(t.appContext.config.performance&&Zp()){const n=`vue-${e}-${t.uid}`,r=n+":end";Ps.mark(r),Ps.measure(`<${cg(t,t.type)}> ${e}`,n,r),Ps.clearMarks(n),Ps.clearMarks(r)}M9(t,e,Zp()?Ps.now():Date.now())}function Zp(){return wc!==void 0||(typeof window<"u"&&window.performance?(wc=!0,Ps=window.performance):wc=!1),wc}function Y$(){const t=[];if(t.length){const e=t.length>1;console.warn(`Feature flag${e?"s":""} ${t.join(", ")} ${e?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const Ln=eO;function CO(t){return TO(t)}function AO(t){return TO(t,W$)}function TO(t,e){Y$();const n=jp();n.__VUE__=!0,Wb(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=Cr,insertStaticContent:p}=t,y=(I,$,j,ae=null,ue=null,M=null,B=!1,H=null,Q=Gs?!1:!!$.dynamicChildren)=>{if(I===$)return;I&&!Ai(I,$)&&(ae=ee(I),ie(I,ue,M,!0),I=null),$.patchFlag===-2&&(Q=!1,$.dynamicChildren=null);const{type:le,ref:ye,shapeFlag:he}=$;switch(le){case co:v(I,$,j,ae);break;case en:g(I,$,j,ae);break;case Hs:I==null?m($,j,ae,B):_(I,$,j,B);break;case Ft:R(I,$,j,ae,ue,M,B,H,Q);break;default:he&1?w(I,$,j,ae,ue,M,B,H,Q):he&6?N(I,$,j,ae,ue,M,B,H,Q):he&64||he&128?le.process(I,$,j,ae,ue,M,B,H,Q,de):se("Invalid VNode type:",le,`(${typeof le})`)}ye!=null&&ue&&qp(ye,I&&I.ref,M,$||I,!$)},v=(I,$,j,ae)=>{if(I==null)r($.el=a($.children),j,ae);else{const ue=$.el=I.el;$.children!==I.children&&u(ue,$.children)}},g=(I,$,j,ae)=>{I==null?r($.el=l($.children||""),j,ae):$.el=I.el},m=(I,$,j,ae)=>{[I.el,I.anchor]=p(I.children,$,j,ae,I.el,I.anchor)},_=(I,$,j,ae)=>{if($.children!==I.children){const ue=d(I.anchor);x(I),[$.el,$.anchor]=p($.children,j,ue,ae)}else $.el=I.el,$.anchor=I.anchor},b=({el:I,anchor:$},j,ae)=>{let ue;for(;I&&I!==$;)ue=d(I),r(I,j,ae),I=ue;r($,j,ae)},x=({el:I,anchor:$})=>{let j;for(;I&&I!==$;)j=d(I),i(I),I=j;i($)},w=(I,$,j,ae,ue,M,B,H,Q)=>{B=B||$.type==="svg",I==null?E($,j,ae,ue,M,B,H,Q):C(I,$,ue,M,B,H,Q)},E=(I,$,j,ae,ue,M,B,H)=>{let Q,le;const{type:ye,props:he,shapeFlag:z,transition:ne,dirs:Ce}=I;if(Q=I.el=s(I.type,M,he&&he.is,he),z&8?c(Q,I.children):z&16&&P(I.children,Q,null,ae,ue,M&&ye!=="foreignObject",B,H),Ce&&Zi(I,null,ae,"created"),S(Q,I,I.scopeId,B,ae),he){for(const et in he)et!=="value"&&!af(et)&&o(Q,et,null,he[et],M,I.children,ae,ue,L);"value"in he&&o(Q,"value",null,he.value),(le=he.onVnodeBeforeMount)&&_r(le,ae,I)}Object.defineProperty(Q,"__vnode",{value:I,enumerable:!1}),Object.defineProperty(Q,"__vueParentComponent",{value:ae,enumerable:!1}),Ce&&Zi(I,null,ae,"beforeMount");const Ue=(!ue||ue&&!ue.pendingBranch)&&ne&&!ne.persisted;Ue&&ne.beforeEnter(Q),r(Q,$,j),((le=he&&he.onVnodeMounted)||Ue||Ce)&&Ln(()=>{le&&_r(le,ae,I),Ue&&ne.enter(Q),Ce&&Zi(I,null,ae,"mounted")},ue)},S=(I,$,j,ae,ue)=>{if(j&&h(I,j),ae)for(let M=0;M<ae.length;M++)h(I,ae[M]);if(ue){let M=ue.subTree;if(M.patchFlag>0&&M.patchFlag&2048&&(M=Kb(M.children)||M),$===M){const B=ue.vnode;S(I,B,B.scopeId,B.slotScopeIds,ue.parent)}}},P=(I,$,j,ae,ue,M,B,H,Q=0)=>{for(let le=Q;le<I.length;le++){const ye=I[le]=H?Cs(I[le]):wr(I[le]);y(null,ye,$,j,ae,ue,M,B,H)}},C=(I,$,j,ae,ue,M,B)=>{const H=$.el=I.el;let{patchFlag:Q,dynamicChildren:le,dirs:ye}=$;Q|=I.patchFlag&16;const he=I.props||St,z=$.props||St;let ne;j&&ma(j,!1),(ne=z.onVnodeBeforeUpdate)&&_r(ne,j,$,I),ye&&Zi($,I,j,"beforeUpdate"),j&&ma(j,!0),Gs&&(Q=0,B=!1,le=null);const Ce=ue&&$.type!=="foreignObject";if(le?(A(I.dynamicChildren,le,H,j,ae,Ce,M),Jp(I,$)):B||K(I,$,H,null,j,ae,Ce,M,!1),Q>0){if(Q&16)T(H,$,he,z,j,ae,ue);else if(Q&2&&he.class!==z.class&&o(H,"class",null,z.class,ue),Q&4&&o(H,"style",he.style,z.style,ue),Q&8){const Ue=$.dynamicProps;for(let et=0;et<Ue.length;et++){const Dt=Ue[et],An=he[Dt],vr=z[Dt];(vr!==An||Dt==="value")&&o(H,Dt,An,vr,ue,I.children,j,ae,L)}}Q&1&&I.children!==$.children&&c(H,$.children)}else!B&&le==null&&T(H,$,he,z,j,ae,ue);((ne=z.onVnodeUpdated)||ye)&&Ln(()=>{ne&&_r(ne,j,$,I),ye&&Zi($,I,j,"updated")},ae)},A=(I,$,j,ae,ue,M,B)=>{for(let H=0;H<$.length;H++){const Q=I[H],le=$[H],ye=Q.el&&(Q.type===Ft||!Ai(Q,le)||Q.shapeFlag&70)?f(Q.el):j;y(Q,le,ye,null,ae,ue,M,B,!0)}},T=(I,$,j,ae,ue,M,B)=>{if(j!==ae){if(j!==St)for(const H in j)!af(H)&&!(H in ae)&&o(I,H,j[H],null,B,$.children,ue,M,L);for(const H in ae){if(af(H))continue;const Q=ae[H],le=j[H];Q!==le&&H!=="value"&&o(I,H,le,Q,B,$.children,ue,M,L)}"value"in ae&&o(I,"value",j.value,ae.value)}},R=(I,$,j,ae,ue,M,B,H,Q)=>{const le=$.el=I?I.el:a(""),ye=$.anchor=I?I.anchor:a("");let{patchFlag:he,dynamicChildren:z,slotScopeIds:ne}=$;(Gs||he&2048)&&(he=0,Q=!1,z=null),ne&&(H=H?H.concat(ne):ne),I==null?(r(le,j,ae),r(ye,j,ae),P($.children,j,ye,ue,M,B,H,Q)):he>0&&he&64&&z&&I.dynamicChildren?(A(I.dynamicChildren,z,j,ue,M,B,H),Jp(I,$)):K(I,$,j,ye,ue,M,B,H,Q)},N=(I,$,j,ae,ue,M,B,H,Q)=>{$.slotScopeIds=H,I==null?$.shapeFlag&512?ue.ctx.activate($,j,ae,B,Q):G($,j,ae,ue,M,B,Q):k(I,$,Q)},G=(I,$,j,ae,ue,M,B)=>{const H=I.component=BO(I,ae,ue);if(H.type.__hmrId&&E9(H),lf(I),Ro(H,"mount"),ac(I)&&(H.ctx.renderer=de),Ro(H,"init"),NO(H),Mo(H,"init"),H.asyncDep){if(ue&&ue.registerDep(H,U),!I.el){const Q=H.subTree=O(en);g(null,Q,$,j)}return}U(H,I,$,j,ue,M,B),uf(),Mo(H,"mount")},k=(I,$,j)=>{const ae=$.component=I.component;if(G9(I,$,j))if(ae.asyncDep&&!ae.asyncResolved){lf($),W(ae,$,j),uf();return}else ae.next=$,x9(ae.update),ae.update();else $.el=I.el,ae.vnode=$},U=(I,$,j,ae,ue,M,B)=>{const H=()=>{if(I.isMounted){let{next:ye,bu:he,u:z,parent:ne,vnode:Ce}=I,Ue=ye,et;lf(ye||I.vnode),ma(I,!1),ye?(ye.el=Ce.el,W(I,ye,B)):ye=Ce,he&&Da(he),(et=ye.props&&ye.props.onVnodeBeforeUpdate)&&_r(et,ne,ye,Ce),ma(I,!0),Ro(I,"render");const Dt=gp(I);Mo(I,"render");const An=I.subTree;I.subTree=Dt,Ro(I,"patch"),y(An,Dt,f(An.el),ee(An),I,ue,M),Mo(I,"patch"),ye.el=Dt.el,Ue===null&&qb(I,Dt.el),z&&Ln(z,ue),(et=ye.props&&ye.props.onVnodeUpdated)&&Ln(()=>_r(et,ne,ye,Ce),ue),qI(I),uf()}else{let ye;const{el:he,props:z}=$,{bm:ne,m:Ce,parent:Ue}=I,et=qa($);if(ma(I,!1),ne&&Da(ne),!et&&(ye=z&&z.onVnodeBeforeMount)&&_r(ye,Ue,$),ma(I,!0),he&&be){const Dt=()=>{Ro(I,"render"),I.subTree=gp(I),Mo(I,"render"),Ro(I,"hydrate"),be(he,I.subTree,I,ue,null),Mo(I,"hydrate")};et?$.type.__asyncLoader().then(()=>!I.isUnmounted&&Dt()):Dt()}else{Ro(I,"render");const Dt=I.subTree=gp(I);Mo(I,"render"),Ro(I,"patch"),y(null,Dt,j,ae,I,ue,M),Mo(I,"patch"),$.el=Dt.el}if(Ce&&Ln(Ce,ue),!et&&(ye=z&&z.onVnodeMounted)){const Dt=$;Ln(()=>_r(ye,Ue,Dt),ue)}($.shapeFlag&256||Ue&&qa(Ue.vnode)&&Ue.vnode.shapeFlag&256)&&I.a&&Ln(I.a,ue),I.isMounted=!0,sy(I),$=j=ae=null}},Q=I.effect=new wd(H,()=>Pd(le),I.scope),le=I.update=()=>Q.run();le.id=I.uid,ma(I,!0),Q.onTrack=I.rtc?ye=>Da(I.rtc,ye):void 0,Q.onTrigger=I.rtg?ye=>Da(I.rtg,ye):void 0,le.ownerInstance=I,le()},W=(I,$,j)=>{$.component=I;const ae=I.vnode.props;I.vnode=$,I.next=null,F$(I,$.props,ae,j),j$(I,$.children,j),Cl(),b2(),Al()},K=(I,$,j,ae,ue,M,B,H,Q=!1)=>{const le=I&&I.children,ye=I?I.shapeFlag:0,he=$.children,{patchFlag:z,shapeFlag:ne}=$;if(z>0){if(z&128){ce(le,he,j,ae,ue,M,B,H,Q);return}else if(z&256){fe(le,he,j,ae,ue,M,B,H,Q);return}}ne&8?(ye&16&&L(le,ue,M),he!==le&&c(j,he)):ye&16?ne&16?ce(le,he,j,ae,ue,M,B,H,Q):L(le,ue,M,!0):(ye&8&&c(j,""),ne&16&&P(he,j,ae,ue,M,B,H,Q))},fe=(I,$,j,ae,ue,M,B,H,Q)=>{I=I||bu,$=$||bu;const le=I.length,ye=$.length,he=Math.min(le,ye);let z;for(z=0;z<he;z++){const ne=$[z]=Q?Cs($[z]):wr($[z]);y(I[z],ne,j,null,ue,M,B,H,Q)}le>ye?L(I,ue,M,!0,!1,he):P($,j,ae,ue,M,B,H,Q,he)},ce=(I,$,j,ae,ue,M,B,H,Q)=>{let le=0;const ye=$.length;let he=I.length-1,z=ye-1;for(;le<=he&&le<=z;){const ne=I[le],Ce=$[le]=Q?Cs($[le]):wr($[le]);if(Ai(ne,Ce))y(ne,Ce,j,null,ue,M,B,H,Q);else break;le++}for(;le<=he&&le<=z;){const ne=I[he],Ce=$[z]=Q?Cs($[z]):wr($[z]);if(Ai(ne,Ce))y(ne,Ce,j,null,ue,M,B,H,Q);else break;he--,z--}if(le>he){if(le<=z){const ne=z+1,Ce=ne<ye?$[ne].el:ae;for(;le<=z;)y(null,$[le]=Q?Cs($[le]):wr($[le]),j,Ce,ue,M,B,H,Q),le++}}else if(le>z)for(;le<=he;)ie(I[le],ue,M,!0),le++;else{const ne=le,Ce=le,Ue=new Map;for(le=Ce;le<=z;le++){const nr=$[le]=Q?Cs($[le]):wr($[le]);nr.key!=null&&(Ue.has(nr.key)&&se("Duplicate keys found during update:",JSON.stringify(nr.key),"Make sure keys are unique."),Ue.set(nr.key,le))}let et,Dt=0;const An=z-Ce+1;let vr=!1,lh=0;const ds=new Array(An);for(le=0;le<An;le++)ds[le]=0;for(le=ne;le<=he;le++){const nr=I[le];if(Dt>=An){ie(nr,ue,M,!0);continue}let Hi;if(nr.key!=null)Hi=Ue.get(nr.key);else for(et=Ce;et<=z;et++)if(ds[et-Ce]===0&&Ai(nr,$[et])){Hi=et;break}Hi===void 0?ie(nr,ue,M,!0):(ds[Hi-Ce]=le+1,Hi>=lh?lh=Hi:vr=!0,y(nr,$[Hi],j,null,ue,M,B,H,Q),Dt++)}const u2=vr?X$(ds):bu;for(et=u2.length-1,le=An-1;le>=0;le--){const nr=Ce+le,Hi=$[nr],c2=nr+1<ye?$[nr+1].el:ae;ds[le]===0?y(null,Hi,j,c2,ue,M,B,H,Q):vr&&(et<0||le!==u2[et]?X(Hi,j,c2,2):et--)}}},X=(I,$,j,ae,ue=null)=>{const{el:M,type:B,transition:H,children:Q,shapeFlag:le}=I;if(le&6){X(I.component.subTree,$,j,ae);return}if(le&128){I.suspense.move($,j,ae);return}if(le&64){B.move(I,$,j,de);return}if(B===Ft){r(M,$,j);for(let he=0;he<Q.length;he++)X(Q[he],$,j,ae);r(I.anchor,$,j);return}if(B===Hs){b(I,$,j);return}if(ae!==2&&le&1&&H)if(ae===0)H.beforeEnter(M),r(M,$,j),Ln(()=>H.enter(M),ue);else{const{leave:he,delayLeave:z,afterLeave:ne}=H,Ce=()=>r(M,$,j),Ue=()=>{he(M,()=>{Ce(),ne&&ne()})};z?z(M,Ce,Ue):Ue()}else r(M,$,j)},ie=(I,$,j,ae=!1,ue=!1)=>{const{type:M,props:B,ref:H,children:Q,dynamicChildren:le,shapeFlag:ye,patchFlag:he,dirs:z}=I;if(H!=null&&qp(H,null,j,I,!0),ye&256){$.ctx.deactivate(I);return}const ne=ye&1&&z,Ce=!qa(I);let Ue;if(Ce&&(Ue=B&&B.onVnodeBeforeUnmount)&&_r(Ue,$,I),ye&6)q(I.component,j,ae);else{if(ye&128){I.suspense.unmount(j,ae);return}ne&&Zi(I,null,$,"beforeUnmount"),ye&64?I.type.remove(I,$,j,ue,de,ae):le&&(M!==Ft||he>0&&he&64)?L(le,$,j,!1,!0):(M===Ft&&he&384||!ue&&ye&16)&&L(Q,$,j),ae&&ge(I)}(Ce&&(Ue=B&&B.onVnodeUnmounted)||ne)&&Ln(()=>{Ue&&_r(Ue,$,I),ne&&Zi(I,null,$,"unmounted")},j)},ge=I=>{const{type:$,el:j,anchor:ae,transition:ue}=I;if($===Ft){I.patchFlag>0&&I.patchFlag&2048&&ue&&!ue.persisted?I.children.forEach(B=>{B.type===en?i(B.el):ge(B)}):F(j,ae);return}if($===Hs){x(I);return}const M=()=>{i(j),ue&&!ue.persisted&&ue.afterLeave&&ue.afterLeave()};if(I.shapeFlag&1&&ue&&!ue.persisted){const{leave:B,delayLeave:H}=ue,Q=()=>B(j,M);H?H(I.el,M,Q):Q()}else M()},F=(I,$)=>{let j;for(;I!==$;)j=d(I),i(I),I=j;i($)},q=(I,$,j)=>{I.type.__hmrId&&S9(I);const{bum:ae,scope:ue,update:M,subTree:B,um:H}=I;ae&&Da(ae),ue.stop(),M&&(M.active=!1,ie(B,I,$,j)),H&&Ln(H,$),Ln(()=>{I.isUnmounted=!0},$),$&&$.pendingBranch&&!$.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===$.pendingId&&($.deps--,$.deps===0&&$.resolve()),O9(I)},L=(I,$,j,ae=!1,ue=!1,M=0)=>{for(let B=M;B<I.length;B++)ie(I[B],$,j,ae,ue)},ee=I=>I.shapeFlag&6?ee(I.component.subTree):I.shapeFlag&128?I.suspense.next():d(I.anchor||I.el),J=(I,$,j)=>{I==null?$._vnode&&ie($._vnode,null,null,!0):y($._vnode||null,I,$,null,null,null,j),b2(),Wp(),$._vnode=I},de={p:y,um:ie,m:X,r:ge,mt:G,mc:P,pc:K,pbc:A,n:ee,o:t};let pe,be;return e&&([pe,be]=e(de)),{render:J,hydrate:pe,createApp:B$(J,pe)}}function ma({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Jp(t,e,n=!1){const r=t.children,i=e.children;if(He(r)&&He(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Cs(i[o]),a.el=s.el),n||Jp(s,a)),a.type===co&&(a.el=s.el),a.type===en&&!a.el&&(a.el=s.el)}}function X$(t){const e=t.slice(),n=[0];let r,i,o,s,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,t[n[a]]<u?o=a+1:s=a;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}const K$=t=>t.__isTeleport,Eu=t=>t&&(t.disabled||t.disabled===""),N2=t=>typeof SVGElement<"u"&&t instanceof SVGElement,hy=(t,e)=>{const n=t&&t.to;if(nn(n))if(e){const r=e(n);return r||se(`Failed to locate Teleport target with selector "${n}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),r}else return se("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!n&&!Eu(t)&&se(`Invalid Teleport target: ${n}`),n},q$={__isTeleport:!0,process(t,e,n,r,i,o,s,a,l,u){const{mc:c,pc:f,pbc:d,o:{insert:h,querySelector:p,createText:y,createComment:v}}=u,g=Eu(e.props);let{shapeFlag:m,children:_,dynamicChildren:b}=e;if(Gs&&(l=!1,b=null),t==null){const x=e.el=v("teleport start"),w=e.anchor=v("teleport end");h(x,n,r),h(w,n,r);const E=e.target=hy(e.props,p),S=e.targetAnchor=y("");E?(h(S,E),s=s||N2(E)):g||se("Invalid Teleport target on mount:",E,`(${typeof E})`);const P=(C,A)=>{m&16&&c(_,C,A,i,o,s,a,l)};g?P(n,w):E&&P(E,S)}else{e.el=t.el;const x=e.anchor=t.anchor,w=e.target=t.target,E=e.targetAnchor=t.targetAnchor,S=Eu(t.props),P=S?n:w,C=S?x:E;if(s=s||N2(w),b?(d(t.dynamicChildren,b,P,i,o,s,a),Jp(t,e,!0)):l||f(t,e,P,C,i,o,s,a,!1),g)S||mh(e,n,x,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const A=e.target=hy(e.props,p);A?mh(e,A,null,u,0):se("Invalid Teleport target on update:",w,`(${typeof w})`)}else S&&mh(e,w,E,u,1)}PO(e)},remove(t,e,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:f,props:d}=t;if(f&&o(c),(s||!Eu(d))&&(o(u),a&16))for(let h=0;h<l.length;h++){const p=l[h];i(p,e,n,!0,!!p.dynamicChildren)}},move:mh,hydrate:Z$};function mh(t,e,n,{o:{insert:r},m:i},o=2){o===0&&r(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:u,props:c}=t,f=o===2;if(f&&r(s,e,n),(!f||Eu(c))&&l&16)for(let d=0;d<u.length;d++)i(u[d],e,n,2);f&&r(a,e,n)}function Z$(t,e,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},u){const c=e.target=hy(e.props,l);if(c){const f=c._lpa||c.firstChild;if(e.shapeFlag&16)if(Eu(e.props))e.anchor=u(s(t),e,a(t),n,r,i,o),e.targetAnchor=f;else{e.anchor=s(t);let d=f;for(;d;)if(d=s(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,c._lpa=e.targetAnchor&&s(e.targetAnchor);break}u(f,e,c,n,r,i,o)}PO(e)}return e.anchor&&s(e.anchor)}const og=q$;function PO(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Ft=Symbol.for("v-fgt"),co=Symbol.for("v-txt"),en=Symbol.for("v-cmt"),Hs=Symbol.for("v-stc"),df=[];let Ar=null;function sg(t=!1){df.push(Ar=t?null:[])}function IO(){df.pop(),Ar=df[df.length-1]||null}let al=1;function py(t){al+=t}function OO(t){return t.dynamicChildren=al>0?Ar||bu:null,IO(),al>0&&Ar&&Ar.push(t),t}function J$(t,e,n,r,i,o){return OO(ox(t,e,n,r,i,o,!0))}function ix(t,e,n,r,i){return OO(O(t,e,n,r,i,!0))}function fo(t){return t?t.__v_isVNode===!0:!1}function Ai(t,e){return e.shapeFlag&6&&au.has(e.type)?(t.shapeFlag&=-257,e.shapeFlag&=-513,!1):t.type===e.type&&t.key===e.key}let gy;function Q$(t){gy=t}const e7=(...t)=>t7(...gy?gy(t,ln):t),ag="__vInternal",RO=({key:t})=>t??null,mp=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?nn(t)||pt(t)||Ge(t)?{i:ln,r:t,k:e,f:!!n}:t:null);function ox(t,e=null,n=null,r=0,i=null,o=t===Ft?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&RO(e),ref:e&&mp(e),scopeId:tg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ln};return a?(sx(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=nn(n)?8:16),l.key!==l.key&&se("VNode created with invalid key (NaN). VNode type:",l.type),al>0&&!s&&Ar&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Ar.push(l),l}const O=e7;function t7(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===dO)&&(t||se(`Invalid vnode type when creating vnode: ${t}.`),t=en),fo(t)){const a=vi(t,e,!0);return n&&sx(a,n),al>0&&!o&&Ar&&(a.shapeFlag&6?Ar[Ar.indexOf(t)]=a:Ar.push(a)),a.patchFlag|=-2,a}if($O(t)&&(t=t.__vccOpts),e){e=MO(e);let{class:a,style:l}=e;a&&!nn(a)&&(e.class=Td(a)),Tt(l)&&(Nf(l)&&!He(l)&&(l=Xt({},l)),e.style=Ad(l))}const s=nn(t)?1:QI(t)?128:K$(t)?64:Tt(t)?4:Ge(t)?2:0;return s&4&&Nf(t)&&(t=Le(t),se("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,t)),ox(t,e,n,r,i,s,o,!0)}function MO(t){return t?Nf(t)||ag in t?Xt({},t):t:null}function vi(t,e,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=t,a=e?st(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&RO(a),ref:e&&e.ref?n&&i?He(i)?i.concat(mp(e)):[i,mp(e)]:mp(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o===-1&&He(s)?s.map(DO):s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ft?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&vi(t.ssContent),ssFallback:t.ssFallback&&vi(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function DO(t){const e=vi(t);return He(t.children)&&(e.children=t.children.map(DO)),e}function lg(t=" ",e=0){return O(co,null,t,e)}function n7(t,e){const n=O(Hs,null,t);return n.staticCount=e,n}function r7(t="",e=!1){return e?(sg(),ix(en,null,t)):O(en,null,t)}function wr(t){return t==null||typeof t=="boolean"?O(en):He(t)?O(Ft,null,t.slice()):typeof t=="object"?Cs(t):O(co,null,String(t))}function Cs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:vi(t)}function sx(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(He(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),sx(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(ag in e)?e._ctx=ln:i===3&&ln&&(ln.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ge(e)?(e={default:e,_ctx:ln},n=32):(e=String(e),r&64?(n=16,e=[lg(e)]):n=8);t.children=e,t.shapeFlag|=n}function st(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Td([e.class,r.class]));else if(i==="style")e.style=Ad([e.style,r.style]);else if(Sd(i)){const o=e[i],s=r[i];s&&o!==s&&!(He(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=r[i])}return e}function _r(t,e,n,r=null){Hr(t,e,7,[n,r])}const i7=vO();let o7=0;function BO(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||i7,o={uid:o7++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Bb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bO(r,i),emitsOptions:JI(r,i),emit:null,emitted:null,propsDefaults:St,inheritAttrs:r.inheritAttrs,ctx:St,data:St,props:St,attrs:St,slots:St,refs:St,setupState:St,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx=c$(o),o.root=e?e.root:o,o.emit=B9.bind(null,o),t.ce&&t.ce(o),o}let an=null;const yt=()=>an||ln;let ax,$l,F2="__VUE_INSTANCE_SETTERS__";($l=jp()[F2])||($l=jp()[F2]=[]),$l.push(t=>an=t),ax=t=>{$l.length>1?$l.forEach(e=>e(t)):$l[0](t)};const Zs=t=>{ax(t),t.scope.on()},Vs=()=>{an&&an.scope.off(),ax(null)},s7=Ed("slot,component");function my(t,e){const n=e.isNativeTag||$I;(s7(t)||n(t))&&se("Do not use built-in or reserved HTML elements as component id: "+t)}function kO(t){return t.vnode.shapeFlag&4}let Du=!1;function NO(t,e=!1){Du=e;const{props:n,children:r}=t.vnode,i=kO(t);k$(t,n,i,e),z$(t,r);const o=i?a7(t,e):void 0;return Du=!1,o}function a7(t,e){var n;const r=t.type;{if(r.name&&my(r.name,t.appContext.config),r.components){const o=Object.keys(r.components);for(let s=0;s<o.length;s++)my(o[s],t.appContext.config)}if(r.directives){const o=Object.keys(r.directives);for(let s=0;s<o.length;s++)rO(o[s])}r.compilerOptions&&lx()&&se('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}t.accessCache=Object.create(null),t.proxy=no(new Proxy(t.ctx,ff)),f$(t);const{setup:i}=r;if(i){const o=t.setupContext=i.length>1?LO(t):null;Zs(t),Cl();const s=oo(i,t,0,[fu(t.props),o]);if(Al(),Vs(),Z0(s)){if(s.then(Vs,Vs),e)return s.then(a=>{vy(t,a,e)}).catch(a=>{Pl(a,t,0)});if(t.asyncDep=s,!t.suspense){const a=(n=r.name)!=null?n:"Anonymous";se(`Component <${a}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else vy(t,s,e)}else FO(t,e)}function vy(t,e,n){Ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Tt(e)?(fo(e)&&se("setup() should not return VNodes directly - return a render function instead."),t.devtoolsRawSetupState=e,t.setupState=Ub(e),d$(t)):e!==void 0&&se(`setup() should return an object. Received: ${e===null?"null":typeof e}`),FO(t,n)}let hf,yy;function l7(t){hf=t,yy=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,u$))}}const lx=()=>!hf;function FO(t,e,n){const r=t.type;if(!t.render){if(!e&&hf&&!r.render){const i=r.template||nx(t).template;if(i){Ro(t,"compile");const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Xt(Xt({isCustomElement:o,delimiters:a},s),l);r.render=hf(i,u),Mo(t,"compile")}}t.render=r.render||Cr,yy&&yy(t)}Zs(t),Cl(),P$(t),Al(),Vs(),!r.render&&t.render===Cr&&!e&&(!hf&&r.template?se('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):se("Component is missing template or render function."))}function u7(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Yp(),er(t,"get","$attrs"),e[n]},set(){return se("setupContext.attrs is readonly."),!1},deleteProperty(){return se("setupContext.attrs is readonly."),!1}}))}function c7(t){return t.slotsProxy||(t.slotsProxy=new Proxy(t.slots,{get(e,n){return er(t,"get","$slots"),e[n]}}))}function LO(t){return Object.freeze({get attrs(){return u7(t)},get slots(){return c7(t)},get emit(){return(n,...r)=>t.emit(n,...r)},expose:n=>{if(t.exposed&&se("expose() should be called only once per setup()."),n!=null){let r=typeof n;r==="object"&&(He(n)?r="array":pt(n)&&(r="ref")),r!=="object"&&se(`expose() should be passed a plain object, received ${r}.`)}t.exposed=n||{}}})}function ug(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Ub(no(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Za)return Za[n](t)},has(e,n){return n in e||n in Za}}))}const f7=/(?:^|[-_])(\w)/g,d7=t=>t.replace(f7,e=>e.toUpperCase()).replace(/[-_]/g,"");function zf(t,e=!0){return Ge(t)?t.displayName||t.name:t.name||e&&t.__name}function cg(t,e,n=!1){let r=zf(e);if(!r&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&t&&t.parent){const i=o=>{for(const s in o)if(o[s]===e)return s};r=i(t.components||t.parent.type.components)||i(t.appContext.components)}return r?d7(r):n?"App":"Anonymous"}function $O(t){return Ge(t)&&"__vccOpts"in t}const re=(t,e)=>q5(t,e,Du);function Mn(t,e,n){const r=arguments.length;return r===2?Tt(e)&&!He(e)?fo(e)?O(t,null,[e]):O(t,e):O(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&fo(n)&&(n=[n]),O(t,e,n))}const UO=Symbol.for("v-scx"),GO=()=>{{const t=dn(UO);return t||se("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function Sm(t){return!!(t&&t.__v_isShallow)}function HO(){if(typeof window>"u")return;const t={style:"color:#3ba776"},e={style:"color:#0b1bc9"},n={style:"color:#b62e24"},r={style:"color:#9d288c"},i={header(f){return Tt(f)?f.__isVue?["div",t,"VueInstance"]:pt(f)?["div",{},["span",t,c(f)],"<",a(f.value),">"]:Di(f)?["div",{},["span",t,Sm(f)?"ShallowReactive":"Reactive"],"<",a(f),`>${es(f)?" (readonly)":""}`]:es(f)?["div",{},["span",t,Sm(f)?"ShallowReadonly":"Readonly"],"<",a(f),">"]:null:null},hasBody(f){return f&&f.__isVue},body(f){if(f&&f.__isVue)return["div",{},...o(f.$)]}};function o(f){const d=[];f.type.props&&f.props&&d.push(s("props",Le(f.props))),f.setupState!==St&&d.push(s("setup",f.setupState)),f.data!==St&&d.push(s("data",Le(f.data)));const h=l(f,"computed");h&&d.push(s("computed",h));const p=l(f,"inject");return p&&d.push(s("injected",p)),d.push(["div",{},["span",{style:r.style+";opacity:0.66"},"$ (internal): "],["object",{object:f}]]),d}function s(f,d){return d=Xt({},d),Object.keys(d).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},f],["div",{style:"padding-left:1.25em"},...Object.keys(d).map(h=>["div",{},["span",r,h+": "],a(d[h],!1)])]]:["span",{}]}function a(f,d=!0){return typeof f=="number"?["span",e,f]:typeof f=="string"?["span",n,JSON.stringify(f)]:typeof f=="boolean"?["span",r,f]:Tt(f)?["object",{object:d?Le(f):f}]:["span",n,String(f)]}function l(f,d){const h=f.type;if(Ge(h))return;const p={};for(const y in f.ctx)u(h,y,d)&&(p[y]=f.ctx[y]);return p}function u(f,d,h){const p=f[h];if(He(p)&&p.includes(d)||Tt(p)&&d in p||f.extends&&u(f.extends,d,h)||f.mixins&&f.mixins.some(y=>u(y,d,h)))return!0}function c(f){return Sm(f)?"ShallowRef":f.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(i):window.devtoolsFormatters=[i]}function h7(t,e,n,r){const i=n[r];if(i&&VO(i,t))return i;const o=e();return o.memo=t.slice(),n[r]=o}function VO(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(ny(n[r],e[r]))return!1;return al>0&&Ar&&Ar.push(t),!0}const _y="3.3.4",p7={createComponentInstance:BO,setupComponent:NO,renderComponentRoot:gp,setCurrentRenderingInstance:Uf,isVNode:fo,normalizeVNode:wr},g7=p7,m7=null,v7=null;function ux(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Cm=Object.freeze({}),y7=/^on[^a-z]/,_7=t=>y7.test(t),b7=t=>t.startsWith("onUpdate:"),Rd=Object.assign,Rr=Array.isArray,Md=t=>jO(t)==="[object Set]",L2=t=>jO(t)==="[object Date]",zO=t=>typeof t=="function",jf=t=>typeof t=="string",$2=t=>typeof t=="symbol",by=t=>t!==null&&typeof t=="object",x7=Object.prototype.toString,jO=t=>x7.call(t),cx=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},w7=/-(\w)/g,Am=cx(t=>t.replace(w7,(e,n)=>n?n.toUpperCase():"")),E7=/\B([A-Z])/g,Is=cx(t=>t.replace(E7,"-$1").toLowerCase()),S7=cx(t=>t.charAt(0).toUpperCase()+t.slice(1)),C7=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},xy=t=>{const e=parseFloat(t);return isNaN(e)?t:e},wy=t=>{const e=jf(t)?Number(t):NaN;return isNaN(e)?t:e},A7="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",T7="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",P7=ux(A7),I7=ux(T7),O7="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",R7=ux(O7);function WO(t){return!!t||t===""}function M7(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Js(t[r],e[r]);return n}function Js(t,e){if(t===e)return!0;let n=L2(t),r=L2(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=$2(t),r=$2(e),n||r)return t===e;if(n=Rr(t),r=Rr(e),n||r)return n&&r?M7(t,e):!1;if(n=by(t),r=by(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const s in t){const a=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(a&&!l||!a&&l||!Js(t[s],e[s]))return!1}}return String(t)===String(e)}function fg(t,e){return t.findIndex(n=>Js(n,e))}const D7="http://www.w3.org/2000/svg",Ba=typeof document<"u"?document:null,U2=Ba&&Ba.createElement("template"),B7={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Ba.createElementNS(D7,t):Ba.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Ba.createTextNode(t),createComment:t=>Ba.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ba.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{U2.innerHTML=r?`<svg>${t}</svg>`:t;const a=U2.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function k7(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function N7(t,e,n){const r=t.style,i=jf(n);if(n&&!i){if(e&&!jf(e))for(const o in e)n[o]==null&&Ey(r,o,"");for(const o in n)Ey(r,o,n[o])}else{const o=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=o)}}const F7=/[^\\];\s*$/,G2=/\s*!important$/;function Ey(t,e,n){if(Rr(n))n.forEach(r=>Ey(t,e,r));else if(n==null&&(n=""),F7.test(n)&&se(`Unexpected semicolon at the end of '${e}' style value: '${n}'`),e.startsWith("--"))t.setProperty(e,n);else{const r=L7(t,e);G2.test(n)?t.setProperty(Is(r),n.replace(G2,""),"important"):t[r]=n}}const H2=["Webkit","Moz","ms"],Tm={};function L7(t,e){const n=Tm[e];if(n)return n;let r=Ni(e);if(r!=="filter"&&r in t)return Tm[e]=r;r=S7(r);for(let i=0;i<H2.length;i++){const o=H2[i]+r;if(o in t)return Tm[e]=o}return e}const V2="http://www.w3.org/1999/xlink";function $7(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(V2,e.slice(6,e.length)):t.setAttributeNS(V2,e,n);else{const o=R7(e);n==null||o&&!WO(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function U7(t,e,n,r,i,o,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,i,o),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const u=a==="OPTION"?t.getAttribute("value"):t.value,c=n??"";u!==c&&(t.value=c),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=WO(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch(u){l||se(`Failed setting prop "${e}" on <${a.toLowerCase()}>: value ${n} is invalid.`,u)}l&&t.removeAttribute(e)}function Uo(t,e,n,r){t.addEventListener(e,n,r)}function G7(t,e,n,r){t.removeEventListener(e,n,r)}function H7(t,e,n,r,i=null){const o=t._vei||(t._vei={}),s=o[e];if(r&&s)s.value=r;else{const[a,l]=V7(e);if(r){const u=o[e]=W7(r,i);Uo(t,a,u,l)}else s&&(G7(t,a,s,l),o[e]=void 0)}}const z2=/(?:Once|Passive|Capture)$/;function V7(t){let e;if(z2.test(t)){e={};let r;for(;r=t.match(z2);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Is(t.slice(2)),e]}let Pm=0;const z7=Promise.resolve(),j7=()=>Pm||(z7.then(()=>Pm=0),Pm=Date.now());function W7(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Hr(Y7(r,n.value),e,5,[r])};return n.value=t,n.attached=j7(),n}function Y7(t,e){if(Rr(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const j2=/^on[a-z]/,X7=(t,e,n,r,i=!1,o,s,a,l)=>{e==="class"?k7(t,r,i):e==="style"?N7(t,n,r):_7(e)?b7(e)||H7(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):K7(t,e,r,i))?U7(t,e,r,o,s,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),$7(t,e,r,i))};function K7(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&j2.test(e)&&zO(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||j2.test(e)&&jf(n)?!1:e in t}function YO(t,e){const n=we(t);class r extends dg{constructor(o){super(n,o,e)}}return r.def=n,r}const q7=t=>YO(t,u4),Z7=typeof HTMLElement<"u"?HTMLElement:class{};class dg extends Z7{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.shadowRoot&&se("Custom element has pre-rendered declarative shadow root but is not defined as hydratable. Use `defineSSRCustomElement`."),this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Xe(()=>{this._connected||(Ay(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const e=(r,i=!1)=>{const{props:o,styles:s}=r;let a;if(o&&!Rr(o))for(const l in o){const u=o[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=wy(this._props[l])),(a||(a=Object.create(null)))[Am(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this._applyStyles(s),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=Rr(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(Am))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(o){this._setProp(i,o)}})}_setAttr(e){let n=this.getAttribute(e);const r=Am(e);this._numberProps&&this._numberProps[r]&&(n=wy(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(Is(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Is(e),n+""):n||this.removeAttribute(Is(e))))}_update(){Ay(this._createVNode(),this.shadowRoot)}_createVNode(){const e=O(this._def,Rd({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0,n.ceReload=o=>{this._styles&&(this._styles.forEach(s=>this.shadowRoot.removeChild(s)),this._styles.length=0),this._applyStyles(o),this._instance=null,this._update()};const r=(o,s)=>{this.dispatchEvent(new CustomEvent(o,{detail:s}))};n.emit=(o,...s)=>{r(o,s),Is(o)!==o&&r(Is(o),s)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof dg){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r),(this._styles||(this._styles=[])).push(r)})}}function J7(t="$style"){{const e=yt();if(!e)return se("useCssModule must be called inside setup()"),Cm;const n=e.type.__cssModules;if(!n)return se("Current instance does not have CSS modules injected."),Cm;const r=n[t];return r||(se(`Current instance does not have CSS module named "${t}".`),Cm)}}function Q7(t){const e=yt();if(!e){se("useCssVars is called without current active component instance.");return}const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(o=>Cy(o,i))},r=()=>{const i=t(e.proxy);Sy(e.subTree,i),n(i)};tO(r),Ht(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),cs(()=>i.disconnect())})}function Sy(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Sy(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Cy(t.el,e);else if(t.type===Ft)t.children.forEach(n=>Sy(n,e));else if(t.type===Hs){let{el:n,anchor:r}=t;for(;n&&(Cy(n,e),n!==r);)n=n.nextSibling}}function Cy(t,e){if(t.nodeType===1){const n=t.style;for(const r in e)n.setProperty(`--${r}`,e[r])}}const gs="transition",Ec="animation",Dd=(t,{slots:e})=>Mn(iO,KO(t),e);Dd.displayName="Transition";const XO={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},eU=Dd.props=Rd({},Qb,XO),va=(t,e=[])=>{Rr(t)?t.forEach(n=>n(...e)):t&&t(...e)},W2=t=>t?Rr(t)?t.some(e=>e.length>1):t.length>1:!1;function KO(t){const e={};for(const T in t)T in XO||(e[T]=t[T]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:u=s,appearToClass:c=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=tU(i),y=p&&p[0],v=p&&p[1],{onBeforeEnter:g,onEnter:m,onEnterCancelled:_,onLeave:b,onLeaveCancelled:x,onBeforeAppear:w=g,onAppear:E=m,onAppearCancelled:S=_}=e,P=(T,R,N)=>{Es(T,R?c:a),Es(T,R?u:s),N&&N()},C=(T,R)=>{T._isLeaving=!1,Es(T,f),Es(T,h),Es(T,d),R&&R()},A=T=>(R,N)=>{const G=T?E:m,k=()=>P(R,T,N);va(G,[R,k]),Y2(()=>{Es(R,T?l:o),Do(R,T?c:a),W2(G)||X2(R,r,y,k)})};return Rd(e,{onBeforeEnter(T){va(g,[T]),Do(T,o),Do(T,s)},onBeforeAppear(T){va(w,[T]),Do(T,l),Do(T,u)},onEnter:A(!1),onAppear:A(!0),onLeave(T,R){T._isLeaving=!0;const N=()=>C(T,R);Do(T,f),ZO(),Do(T,d),Y2(()=>{T._isLeaving&&(Es(T,f),Do(T,h),W2(b)||X2(T,r,v,N))}),va(b,[T,N])},onEnterCancelled(T){P(T,!1),va(_,[T])},onAppearCancelled(T){P(T,!0),va(S,[T])},onLeaveCancelled(T){C(T),va(x,[T])}})}function tU(t){if(t==null)return null;if(by(t))return[Im(t.enter),Im(t.leave)];{const e=Im(t);return[e,e]}}function Im(t){const e=wy(t);return Hb(e,"<transition> explicit duration"),e}function Do(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Es(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Y2(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let nU=0;function X2(t,e,n,r){const i=t._endId=++nU,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=qO(t,e);if(!s)return r();const u=s+"end";let c=0;const f=()=>{t.removeEventListener(u,d),o()},d=h=>{h.target===t&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},a+1),t.addEventListener(u,d)}function qO(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${gs}Delay`),o=r(`${gs}Duration`),s=K2(i,o),a=r(`${Ec}Delay`),l=r(`${Ec}Duration`),u=K2(a,l);let c=null,f=0,d=0;e===gs?s>0&&(c=gs,f=s,d=o.length):e===Ec?u>0&&(c=Ec,f=u,d=l.length):(f=Math.max(s,u),c=f>0?s>u?gs:Ec:null,d=c?c===gs?o.length:l.length:0);const h=c===gs&&/\b(transform|all)(,|$)/.test(r(`${gs}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:h}}function K2(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>q2(n)+q2(t[r])))}function q2(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function ZO(){return document.body.offsetHeight}const JO=new WeakMap,QO=new WeakMap,e4={name:"TransitionGroup",props:Rd({},eU,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=yt(),r=Jb();let i,o;return Il(()=>{if(!i.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!lU(i[0].el,n.vnode.el,s))return;i.forEach(oU),i.forEach(sU);const a=i.filter(aU);ZO(),a.forEach(l=>{const u=l.el,c=u.style;Do(u,s),c.transform=c.webkitTransform=c.transitionDuration="";const f=u._moveCb=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",f),u._moveCb=null,Es(u,s))};u.addEventListener("transitionend",f)})}),()=>{const s=Le(t),a=KO(s);let l=s.tag||Ft;i=o,o=e.default?ng(e.default()):[];for(let u=0;u<o.length;u++){const c=o[u];c.key!=null?sl(c,Mu(c,a,r,n)):se("<TransitionGroup> children must be keyed.")}if(i)for(let u=0;u<i.length;u++){const c=i[u];sl(c,Mu(c,a,r,n)),JO.set(c,c.el.getBoundingClientRect())}return O(l,null,o)}}},rU=t=>delete t.mode;e4.props;const iU=e4;function oU(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function sU(t){QO.set(t,t.el.getBoundingClientRect())}function aU(t){const e=JO.get(t),n=QO.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",t}}function lU(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach(s=>{s.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:o}=qO(r);return i.removeChild(r),o}const Qs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Rr(e)?n=>C7(e,n):e};function uU(t){t.target.composing=!0}function Z2(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Qp={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=Qs(i);const o=r||i.props&&i.props.type==="number";Uo(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=xy(a)),t._assign(a)}),n&&Uo(t,"change",()=>{t.value=t.value.trim()}),e||(Uo(t,"compositionstart",uU),Uo(t,"compositionend",Z2),Uo(t,"change",Z2))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},o){if(t._assign=Qs(o),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&xy(t.value)===e))return;const s=e??"";t.value!==s&&(t.value=s)}},fx={deep:!0,created(t,e,n){t._assign=Qs(n),Uo(t,"change",()=>{const r=t._modelValue,i=Bu(t),o=t.checked,s=t._assign;if(Rr(r)){const a=fg(r,i),l=a!==-1;if(o&&!l)s(r.concat(i));else if(!o&&l){const u=[...r];u.splice(a,1),s(u)}}else if(Md(r)){const a=new Set(r);o?a.add(i):a.delete(i),s(a)}else s(n4(t,o))})},mounted:J2,beforeUpdate(t,e,n){t._assign=Qs(n),J2(t,e,n)}};function J2(t,{value:e,oldValue:n},r){t._modelValue=e,Rr(e)?t.checked=fg(e,r.props.value)>-1:Md(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=Js(e,n4(t,!0)))}const dx={created(t,{value:e},n){t.checked=Js(e,n.props.value),t._assign=Qs(n),Uo(t,"change",()=>{t._assign(Bu(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t._assign=Qs(r),e!==n&&(t.checked=Js(e,r.props.value))}},t4={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Md(e);Uo(t,"change",()=>{const o=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>n?xy(Bu(s)):Bu(s));t._assign(t.multiple?i?new Set(o):o:o[0])}),t._assign=Qs(r)},mounted(t,{value:e}){Q2(t,e)},beforeUpdate(t,e,n){t._assign=Qs(n)},updated(t,{value:e}){Q2(t,e)}};function Q2(t,e){const n=t.multiple;if(n&&!Rr(e)&&!Md(e)){se(`<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(e).slice(8,-1)}.`);return}for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],s=Bu(o);if(n)Rr(e)?o.selected=fg(e,s)>-1:o.selected=e.has(s);else if(Js(Bu(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}function Bu(t){return"_value"in t?t._value:t.value}function n4(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const r4={created(t,e,n){vh(t,e,n,null,"created")},mounted(t,e,n){vh(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){vh(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){vh(t,e,n,r,"updated")}};function i4(t,e){switch(t){case"SELECT":return t4;case"TEXTAREA":return Qp;default:switch(e){case"checkbox":return fx;case"radio":return dx;default:return Qp}}}function vh(t,e,n,r,i){const s=i4(t.tagName,n.props&&n.props.type)[i];s&&s(t,e,n,r)}function cU(){Qp.getSSRProps=({value:t})=>({value:t}),dx.getSSRProps=({value:t},e)=>{if(e.props&&Js(e.props.value,t))return{checked:!0}},fx.getSSRProps=({value:t},e)=>{if(Rr(t)){if(e.props&&fg(t,e.props.value)>-1)return{checked:!0}}else if(Md(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},r4.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=i4(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const fU=["ctrl","shift","alt","meta"],dU={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>fU.some(n=>t[`${n}Key`]&&!e.includes(n))},hU=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const o=dU[e[i]];if(o&&o(n,e))return}return t(n,...r)},pU={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},o4=(t,e)=>n=>{if(!("key"in n))return;const r=Is(n.key);if(e.some(i=>i===r||pU[i]===r))return t(n)},pi={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Sc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Sc(t,!0),r.enter(t)):r.leave(t,()=>{Sc(t,!1)}):Sc(t,e))},beforeUnmount(t,{value:e}){Sc(t,e)}};function Sc(t,e){t.style.display=e?t._vod:"none"}function gU(){pi.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const s4=Rd({patchProp:X7},B7);let pf,eS=!1;function a4(){return pf||(pf=CO(s4))}function l4(){return pf=eS?pf:AO(s4),eS=!0,pf}const Ay=(...t)=>{a4().render(...t)},u4=(...t)=>{l4().hydrate(...t)},c4=(...t)=>{const e=a4().createApp(...t);f4(e),d4(e);const{mount:n}=e;return e.mount=r=>{const i=h4(r);if(!i)return;const o=e._component;!zO(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e},mU=(...t)=>{const e=l4().createApp(...t);f4(e),d4(e);const{mount:n}=e;return e.mount=r=>{const i=h4(r);if(i)return n(i,!0,i instanceof SVGElement)},e};function f4(t){Object.defineProperty(t.config,"isNativeTag",{value:e=>P7(e)||I7(e),writable:!1})}function d4(t){if(lx()){const e=t.config.isCustomElement;Object.defineProperty(t.config,"isCustomElement",{get(){return e},set(){se("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=t.config.compilerOptions,r='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(t.config,"compilerOptions",{get(){return se(r),n},set(){se(r)}})}}function h4(t){if(jf(t)){const e=document.querySelector(t);return e||se(`Failed to mount app: mount target selector "${t}" returned null.`),e}return window.ShadowRoot&&t instanceof window.ShadowRoot&&t.mode==="closed"&&se('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),t}let tS=!1;const vU=()=>{tS||(tS=!0,cU(),gU())};function yU(){HO()}yU();const _U=()=>{se('Runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".')},bU=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:iO,BaseTransitionPropsValidators:Qb,Comment:en,EffectScope:Bb,Fragment:Ft,KeepAlive:e$,ReactiveEffect:wd,Static:Hs,Suspense:V9,Teleport:og,Text:co,Transition:Dd,TransitionGroup:iU,VueElement:dg,assertNumber:Hb,callWithAsyncErrorHandling:Hr,callWithErrorHandling:oo,camelize:Ni,capitalize:Ru,cloneVNode:vi,compatUtils:v7,compile:_U,computed:re,createApp:c4,createBlock:ix,createCommentVNode:r7,createElementBlock:J$,createElementVNode:ox,createHydrationRenderer:AO,createPropsRestProxy:C$,createRenderer:CO,createSSRApp:mU,createSlots:s$,createStaticVNode:n7,createTextVNode:lg,createVNode:O,customRef:FI,defineAsyncComponent:J9,defineComponent:we,defineCustomElement:YO,defineEmits:p$,defineExpose:g$,defineModel:y$,defineOptions:m$,defineProps:h$,defineSSRCustomElement:q7,defineSlots:v$,get devtools(){return Ci},effect:p5,effectScope:bd,getCurrentInstance:yt,getCurrentScope:xd,getTransitionRawChildren:ng,guardReactiveProps:MO,h:Mn,handleError:Pl,hasInjectionContext:yO,hydrate:u4,initCustomFormatter:HO,initDirectivesForSSR:vU,inject:dn,isMemoSame:VO,isProxy:Nf,isReactive:Di,isReadonly:es,isRef:pt,isRuntimeOnly:lx,isShallow:kf,isVNode:fo,markRaw:no,mergeDefaults:E$,mergeModels:S$,mergeProps:st,nextTick:Xe,normalizeClass:Td,normalizeProps:d9,normalizeStyle:Ad,onActivated:ls,onBeforeMount:aO,onBeforeUnmount:qr,onBeforeUpdate:ig,onDeactivated:bo,onErrorCaptured:fO,onMounted:Ht,onRenderTracked:cO,onRenderTriggered:uO,onScopeDispose:kb,onServerPrefetch:lO,onUnmounted:cs,onUpdated:Il,openBlock:sg,popScopeId:N9,provide:hi,proxyRefs:Ub,pushScopeId:k9,queuePostFlushCb:Q0,reactive:Mt,readonly:Tl,ref:Z,registerRuntimeCompiler:l7,render:Ay,renderList:o$,renderSlot:a$,resolveComponent:r$,resolveDirective:hO,resolveDynamicComponent:i$,resolveFilter:m7,resolveTransitionHooks:Mu,setBlockTracking:py,setDevtoolsHook:Wb,setTransitionHooks:sl,shallowReactive:kI,shallowReadonly:fu,shallowRef:q0,ssrContextKey:UO,ssrUtils:g7,stop:g5,toDisplayString:h9,toHandlerKey:Fo,toHandlers:l$,toRaw:Le,toRef:sf,toRefs:ey,toValue:z5,transformVNodeArgs:Q$,triggerRef:V5,unref:dr,useAttrs:x$,useCssModule:J7,useCssVars:Q7,useModel:w$,useSSRContext:GO,useSlots:b$,useTransitionState:Jb,vModelCheckbox:fx,vModelDynamic:r4,vModelRadio:dx,vModelSelect:t4,vModelText:Qp,vShow:pi,version:_y,warn:se,watch:ve,watchEffect:sc,watchPostEffect:tO,watchSyncEffect:K9,withAsyncContext:A$,withCtx:Xb,withDefaults:_$,withDirectives:di,withKeys:o4,withMemo:h7,withModifiers:hU,withScopeId:F9},Symbol.toStringTag,{value:"Module"}));var xU=!1;function yh(t,e,n){return Array.isArray(t)?(t.length=Math.max(t.length,e),t.splice(e,1,n),n):(t[e]=n,n)}function Om(t,e){if(Array.isArray(t)){t.splice(e,1);return}delete t[e]}function wU(){return p4().__VUE_DEVTOOLS_GLOBAL_HOOK__}function p4(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const EU=typeof Proxy=="function",SU="devtools-plugin:setup",CU="plugin:settings:set";let Ul,Ty;function AU(){var t;return Ul!==void 0||(typeof window<"u"&&window.performance?(Ul=!0,Ty=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(Ul=!0,Ty=globalThis.perf_hooks.performance):Ul=!1),Ul}function TU(){return AU()?Ty.now():Date.now()}class PU{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const s in e.settings){const a=e.settings[s];r[s]=a.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},r);try{const s=localStorage.getItem(i),a=JSON.parse(s);Object.assign(o,a)}catch{}this.fallbacks={getSettings(){return o},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}o=s},now(){return TU()}},n&&n.on(CU,(s,a)=>{s===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(s,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(s,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:a,args:l,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function hg(t,e){const n=t,r=p4(),i=wU(),o=EU&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))i.emit(SU,t,e);else{const s=o?new PU(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:s}),s&&e(s.proxiedTarget)}}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Py;const Wf=t=>Py=t,g4=Symbol("pinia");function ll(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var so;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(so||(so={}));const Ja=typeof window<"u",nS=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function IU(t,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}function hx(t,e,n){const r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){y4(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function m4(t){const e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function vp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}const yp=typeof navigator=="object"?navigator:{userAgent:""},v4=(()=>/Macintosh/.test(yp.userAgent)&&/AppleWebKit/.test(yp.userAgent)&&!/Safari/.test(yp.userAgent))(),y4=Ja?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!v4?OU:"msSaveOrOpenBlob"in yp?RU:MU:()=>{};function OU(t,e="download",n){const r=document.createElement("a");r.download=e,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?m4(r.href)?hx(t,e,n):(r.target="_blank",vp(r)):vp(r)):(r.href=URL.createObjectURL(t),setTimeout(function(){URL.revokeObjectURL(r.href)},4e4),setTimeout(function(){vp(r)},0))}function RU(t,e="download",n){if(typeof t=="string")if(m4(t))hx(t,e,n);else{const r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){vp(r)})}else navigator.msSaveOrOpenBlob(IU(t,n),e)}function MU(t,e,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return hx(t,e,n);const i=t.type==="application/octet-stream",o=/constructor/i.test(String(nS.HTMLElement))||"safari"in nS,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o||v4)&&typeof FileReader<"u"){const a=new FileReader;a.onloadend=function(){let l=a.result;if(typeof l!="string")throw r=null,new Error("Wrong reader.result type");l=s?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=l:location.assign(l),r=null},a.readAsDataURL(t)}else{const a=URL.createObjectURL(t);r?r.location.assign(a):location.href=a,r=null,setTimeout(function(){URL.revokeObjectURL(a)},4e4)}}function Rn(t,e){const n="🍍 "+t;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(n,e):e==="error"?console.error(n):e==="warn"?console.warn(n):console.log(n)}function px(t){return"_a"in t&&"install"in t}function _4(){if(!("clipboard"in navigator))return Rn("Your browser doesn't support the Clipboard API","error"),!0}function b4(t){return t instanceof Error&&t.message.toLowerCase().includes("document is not focused")?(Rn('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function DU(t){if(!_4())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),Rn("Global state copied to clipboard.")}catch(e){if(b4(e))return;Rn("Failed to serialize the state. Check the console for more details.","error"),console.error(e)}}async function BU(t){if(!_4())try{x4(t,JSON.parse(await navigator.clipboard.readText())),Rn("Global state pasted from clipboard.")}catch(e){if(b4(e))return;Rn("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(e)}}async function kU(t){try{y4(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){Rn("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}let Co;function NU(){Co||(Co=document.createElement("input"),Co.type="file",Co.accept=".json");function t(){return new Promise((e,n)=>{Co.onchange=async()=>{const r=Co.files;if(!r)return e(null);const i=r.item(0);return e(i?{text:await i.text(),file:i}:null)},Co.oncancel=()=>e(null),Co.onerror=n,Co.click()})}return t}async function FU(t){try{const n=await NU()();if(!n)return;const{text:r,file:i}=n;x4(t,JSON.parse(r)),Rn(`Global state imported from "${i.name}".`)}catch(e){Rn("Failed to import the state from JSON. Check the console for more details.","error"),console.error(e)}}function x4(t,e){for(const n in e){const r=t.state.value[n];r?Object.assign(r,e[n]):t.state.value[n]=e[n]}}function Si(t){return{_custom:{display:t}}}const w4="🍍 Pinia (root)",_p="_root";function LU(t){return px(t)?{id:_p,label:w4}:{id:t.$id,label:t.$id}}function $U(t){if(px(t)){const n=Array.from(t._s.keys()),r=t._s;return{state:n.map(o=>({editable:!0,key:o,value:t.state.value[o]})),getters:n.filter(o=>r.get(o)._getters).map(o=>{const s=r.get(o);return{editable:!1,key:o,value:s._getters.reduce((a,l)=>(a[l]=s[l],a),{})}})}}const e={state:Object.keys(t.$state).map(n=>({editable:!0,key:n,value:t.$state[n]}))};return t._getters&&t._getters.length&&(e.getters=t._getters.map(n=>({editable:!1,key:n,value:t[n]}))),t._customProperties.size&&(e.customProperties=Array.from(t._customProperties).map(n=>({editable:!0,key:n,value:t[n]}))),e}function UU(t){return t?Array.isArray(t)?t.reduce((e,n)=>(e.keys.push(n.key),e.operations.push(n.type),e.oldValue[n.key]=n.oldValue,e.newValue[n.key]=n.newValue,e),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:Si(t.type),key:Si(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function GU(t){switch(t){case so.direct:return"mutation";case so.patchFunction:return"$patch";case so.patchObject:return"$patch";default:return"unknown"}}let du=!0;const bp=[],Aa="pinia:mutations",Yn="pinia",{assign:HU}=Object,e0=t=>"🍍 "+t;function VU(t,e){hg({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:bp,app:t},n=>{typeof n.now!="function"&&Rn("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:Aa,label:"Pinia 🍍",color:15064968}),n.addInspector({id:Yn,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{DU(e)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await BU(e),n.sendInspectorTree(Yn),n.sendInspectorState(Yn)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{kU(e)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await FU(e),n.sendInspectorTree(Yn),n.sendInspectorState(Yn)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:r=>{const i=e._s.get(r);i?typeof i.$reset!="function"?Rn(`Cannot reset "${r}" store because it doesn't have a "$reset" method implemented.`,"warn"):(i.$reset(),Rn(`Store "${r}" reset.`)):Rn(`Cannot reset "${r}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent((r,i)=>{const o=r.componentInstance&&r.componentInstance.proxy;if(o&&o._pStores){const s=r.componentInstance.proxy._pStores;Object.values(s).forEach(a=>{r.instanceData.state.push({type:e0(a.$id),key:"state",editable:!0,value:a._isOptionsAPI?{_custom:{value:Le(a.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>a.$reset()}]}}:Object.keys(a.$state).reduce((l,u)=>(l[u]=a.$state[u],l),{})}),a._getters&&a._getters.length&&r.instanceData.state.push({type:e0(a.$id),key:"getters",editable:!1,value:a._getters.reduce((l,u)=>{try{l[u]=a[u]}catch(c){l[u]=c}return l},{})})})}}),n.on.getInspectorTree(r=>{if(r.app===t&&r.inspectorId===Yn){let i=[e];i=i.concat(Array.from(e._s.values())),r.rootNodes=(r.filter?i.filter(o=>"$id"in o?o.$id.toLowerCase().includes(r.filter.toLowerCase()):w4.toLowerCase().includes(r.filter.toLowerCase())):i).map(LU)}}),globalThis.$pinia=e,n.on.getInspectorState(r=>{if(r.app===t&&r.inspectorId===Yn){const i=r.nodeId===_p?e:e._s.get(r.nodeId);if(!i)return;i&&(r.nodeId!==_p&&(globalThis.$store=Le(i)),r.state=$U(i))}}),n.on.editInspectorState((r,i)=>{if(r.app===t&&r.inspectorId===Yn){const o=r.nodeId===_p?e:e._s.get(r.nodeId);if(!o)return Rn(`store "${r.nodeId}" not found`,"error");const{path:s}=r;px(o)?s.unshift("state"):(s.length!==1||!o._customProperties.has(s[0])||s[0]in o.$state)&&s.unshift("$state"),du=!1,r.set(o,s,r.state.value),du=!0}}),n.on.editComponentState(r=>{if(r.type.startsWith("🍍")){const i=r.type.replace(/^🍍\s*/,""),o=e._s.get(i);if(!o)return Rn(`store "${i}" not found`,"error");const{path:s}=r;if(s[0]!=="state")return Rn(`Invalid path for store "${i}":
${s}
Only state can be modified.`);s[0]="$state",du=!1,r.set(o,s,r.state.value),du=!0}})})}function zU(t,e){bp.includes(e0(e.$id))||bp.push(e0(e.$id)),hg({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:bp,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},n=>{const r=typeof n.now=="function"?n.now.bind(n):Date.now;e.$onAction(({after:s,onError:a,name:l,args:u})=>{const c=E4++;n.addTimelineEvent({layerId:Aa,event:{time:r(),title:"🛫 "+l,subtitle:"start",data:{store:Si(e.$id),action:Si(l),args:u},groupId:c}}),s(f=>{Ms=void 0,n.addTimelineEvent({layerId:Aa,event:{time:r(),title:"🛬 "+l,subtitle:"end",data:{store:Si(e.$id),action:Si(l),args:u,result:f},groupId:c}})}),a(f=>{Ms=void 0,n.addTimelineEvent({layerId:Aa,event:{time:r(),logType:"error",title:"💥 "+l,subtitle:"end",data:{store:Si(e.$id),action:Si(l),args:u,error:f},groupId:c}})})},!0),e._customProperties.forEach(s=>{ve(()=>dr(e[s]),(a,l)=>{n.notifyComponentUpdate(),n.sendInspectorState(Yn),du&&n.addTimelineEvent({layerId:Aa,event:{time:r(),title:"Change",subtitle:s,data:{newValue:a,oldValue:l},groupId:Ms}})},{deep:!0})}),e.$subscribe(({events:s,type:a},l)=>{if(n.notifyComponentUpdate(),n.sendInspectorState(Yn),!du)return;const u={time:r(),title:GU(a),data:HU({store:Si(e.$id)},UU(s)),groupId:Ms};a===so.patchFunction?u.subtitle="⤵️":a===so.patchObject?u.subtitle="🧩":s&&!Array.isArray(s)&&(u.subtitle=s.type),s&&(u.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:s}}),n.addTimelineEvent({layerId:Aa,event:u})},{detached:!0,flush:"sync"});const i=e._hotUpdate;e._hotUpdate=no(s=>{i(s),n.addTimelineEvent({layerId:Aa,event:{time:r(),title:"🔥 "+e.$id,subtitle:"HMR update",data:{store:Si(e.$id),info:Si("HMR update")}}}),n.notifyComponentUpdate(),n.sendInspectorTree(Yn),n.sendInspectorState(Yn)});const{$dispose:o}=e;e.$dispose=()=>{o(),n.notifyComponentUpdate(),n.sendInspectorTree(Yn),n.sendInspectorState(Yn),n.getSettings().logStoreChanges&&Rn(`Disposed "${e.$id}" store 🗑`)},n.notifyComponentUpdate(),n.sendInspectorTree(Yn),n.sendInspectorState(Yn),n.getSettings().logStoreChanges&&Rn(`"${e.$id}" store installed 🆕`)})}let E4=0,Ms;function rS(t,e,n){const r=e.reduce((i,o)=>(i[o]=Le(t)[o],i),{});for(const i in r)t[i]=function(){const o=E4,s=n?new Proxy(t,{get(...l){return Ms=o,Reflect.get(...l)},set(...l){return Ms=o,Reflect.set(...l)}}):t;Ms=o;const a=r[i].apply(s,arguments);return Ms=void 0,a}}function jU({app:t,store:e,options:n}){if(!e.$id.startsWith("__hot:")){if(e._isOptionsAPI=!!n.state,!e._p._testing){rS(e,Object.keys(n.actions),e._isOptionsAPI);const r=e._hotUpdate;Le(e)._hotUpdate=function(i){r.apply(this,arguments),rS(e,Object.keys(i._hmrPayload.actions),!!e._isOptionsAPI)}}zU(t,e)}}function XAe(){const t=bd(!0),e=t.run(()=>Z({}));let n=[],r=[];const i=no({install(o){Wf(i),i._a=o,o.provide(g4,i),o.config.globalProperties.$pinia=i,Ja&&VU(o,i),r.forEach(s=>n.push(s)),r=[]},use(o){return!this._a&&!xU?r.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return Ja&&typeof Proxy<"u"&&i.use(jU),i}function S4(t,e){for(const n in e){const r=e[n];if(!(n in t))continue;const i=t[n];ll(i)&&ll(r)&&!pt(r)&&!Di(r)?t[n]=S4(i,r):t[n]=r}return t}const WU=()=>{};function iS(t,e,n,r=WU){t.push(e);const i=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),r())};return!n&&xd()&&kb(i),i}function Gl(t,...e){t.slice().forEach(n=>{n(...e)})}const YU=t=>t(),oS=Symbol(),Rm=Symbol();function Iy(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];ll(i)&&ll(r)&&t.hasOwnProperty(n)&&!pt(r)&&!Di(r)?t[n]=Iy(i,r):t[n]=r}return t}const XU=Symbol("pinia:skipHydration");function KU(t){return!ll(t)||!t.hasOwnProperty(XU)}const{assign:ii}=Object;function sS(t){return!!(pt(t)&&t.effect)}function aS(t,e,n,r){const{state:i,actions:o,getters:s}=e,a=n.state.value[t];let l;function u(){!a&&!r&&(n.state.value[t]=i?i():{});const c=ey(r?Z(i?i():{}).value:n.state.value[t]);return ii(c,o,Object.keys(s||{}).reduce((f,d)=>(d in c&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${d}" in store "${t}".`),f[d]=no(re(()=>{Wf(n);const h=n._s.get(t);return s[d].call(h,h)})),f),{}))}return l=Oy(t,u,e,n,r,!0),l}function Oy(t,e,n={},r,i,o){let s;const a=ii({actions:{}},n);if(!r._e.active)throw new Error("Pinia destroyed");const l={deep:!0};l.onTrigger=C=>{u?h=C:u==!1&&!E._hotUpdating&&(Array.isArray(h)?h.push(C):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))};let u,c,f=[],d=[],h;const p=r.state.value[t];!o&&!p&&!i&&(r.state.value[t]={});const y=Z({});let v;function g(C){let A;u=c=!1,h=[],typeof C=="function"?(C(r.state.value[t]),A={type:so.patchFunction,storeId:t,events:h}):(Iy(r.state.value[t],C),A={type:so.patchObject,payload:C,storeId:t,events:h});const T=v=Symbol();Xe().then(()=>{v===T&&(u=!0)}),c=!0,Gl(f,A,r.state.value[t])}const m=o?function(){const{state:A}=n,T=A?A():{};this.$patch(R=>{ii(R,T)})}:()=>{throw new Error(`🍍: Store "${t}" is built using the setup syntax and does not implement $reset().`)};function _(){s.stop(),f=[],d=[],r._s.delete(t)}const b=(C,A="")=>{if(oS in C)return C[Rm]=A,C;const T=function(){Wf(r);const R=Array.from(arguments),N=[],G=[];function k(K){N.push(K)}function U(K){G.push(K)}Gl(d,{args:R,name:T[Rm],store:E,after:k,onError:U});let W;try{W=C.apply(this&&this.$id===t?this:E,R)}catch(K){throw Gl(G,K),K}return W instanceof Promise?W.then(K=>(Gl(N,K),K)).catch(K=>(Gl(G,K),Promise.reject(K))):(Gl(N,W),W)};return T[oS]=!0,T[Rm]=A,T},x=no({actions:{},getters:{},state:[],hotState:y}),w={_p:r,$id:t,$onAction:iS.bind(null,d),$patch:g,$reset:m,$subscribe(C,A={}){const T=iS(f,C,A.detached,()=>R()),R=s.run(()=>ve(()=>r.state.value[t],N=>{(A.flush==="sync"?c:u)&&C({storeId:t,type:so.direct,events:h},N)},ii({},l,A)));return T},$dispose:_},E=Mt(ii({_hmrPayload:x,_customProperties:no(new Set)},w));r._s.set(t,E);const P=(r._a&&r._a.runWithContext||YU)(()=>r._e.run(()=>(s=bd()).run(()=>e({action:b}))));for(const C in P){const A=P[C];if(pt(A)&&!sS(A)||Di(A))i?yh(y.value,C,sf(P,C)):o||(p&&KU(A)&&(pt(A)?A.value=p[C]:Iy(A,p[C])),r.state.value[t][C]=A),x.state.push(C);else if(typeof A=="function"){const T=i?A:b(A,C);P[C]=T,x.actions[C]=A,a.actions[C]=A}else sS(A)&&(x.getters[C]=o?n.getters[C]:A,Ja&&(P._getters||(P._getters=no([]))).push(C))}if(ii(E,P),ii(Le(E),P),Object.defineProperty(E,"$state",{get:()=>i?y.value:r.state.value[t],set:C=>{if(i)throw new Error("cannot set hotState");g(A=>{ii(A,C)})}}),E._hotUpdate=no(C=>{E._hotUpdating=!0,C._hmrPayload.state.forEach(A=>{if(A in E.$state){const T=C.$state[A],R=E.$state[A];typeof T=="object"&&ll(T)&&ll(R)?S4(T,R):C.$state[A]=R}yh(E,A,sf(C.$state,A))}),Object.keys(E.$state).forEach(A=>{A in C.$state||Om(E,A)}),u=!1,c=!1,r.state.value[t]=sf(C._hmrPayload,"hotState"),c=!0,Xe().then(()=>{u=!0});for(const A in C._hmrPayload.actions){const T=C[A];yh(E,A,b(T,A))}for(const A in C._hmrPayload.getters){const T=C._hmrPayload.getters[A],R=o?re(()=>(Wf(r),T.call(E,E))):T;yh(E,A,R)}Object.keys(E._hmrPayload.getters).forEach(A=>{A in C._hmrPayload.getters||Om(E,A)}),Object.keys(E._hmrPayload.actions).forEach(A=>{A in C._hmrPayload.actions||Om(E,A)}),E._hmrPayload=C._hmrPayload,E._getters=C._getters,E._hotUpdating=!1}),Ja){const C={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(A=>{Object.defineProperty(E,A,ii({value:E[A]},C))})}return r._p.forEach(C=>{if(Ja){const A=s.run(()=>C({store:E,app:r._a,pinia:r,options:a}));Object.keys(A||{}).forEach(T=>E._customProperties.add(T)),ii(E,A)}else ii(E,s.run(()=>C({store:E,app:r._a,pinia:r,options:a})))}),E.$state&&typeof E.$state=="object"&&typeof E.$state.constructor=="function"&&!E.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${E.$id}".`),p&&o&&n.hydrate&&n.hydrate(E.$state,p),u=!0,c=!0,E}/*! #__NO_SIDE_EFFECTS__ */function KAe(t,e,n){let r,i;const o=typeof e=="function";if(typeof t=="string")r=t,i=o?n:e;else if(i=t,r=t.id,typeof r!="string")throw new Error('[🍍]: "defineStore()" must be passed a store id as its first argument.');function s(a,l){const u=yO();if(a=a||(u?dn(g4,null):null),a&&Wf(a),!Py)throw new Error(`[🍍]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?
See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.
This will fail in production.`);a=Py,a._s.has(r)||(o?Oy(r,e,i,a):aS(r,i,a),s._pinia=a);const c=a._s.get(r);if(l){const f="__hot:"+r,d=o?Oy(f,e,i,a,!0):aS(f,ii({},i),a,!0);l._hotUpdate(d),delete a.state.value[f],a._s.delete(f)}if(Ja){const f=yt();if(f&&f.proxy&&!l){const d=f.proxy,h="_pStores"in d?d._pStores:d._pStores={};h[r]=c}}return c}return s.$id=r,s}(function(t,e){var n=t.document,r=n.documentElement,i=n.querySelector('meta[name="viewport"]'),o=n.querySelector('meta[name="flexible"]'),s=0,a=0,l,u=e.flexible||(e.flexible={});if(i){console.warn("");var c=i.getAttribute("content").match(/initial\-scale=([\d\.]+)/);c&&(a=parseFloat(c[1]),s=parseInt(1/a))}else if(o){var f=o.getAttribute("content");if(f){var d=f.match(/initial\-dpr=([\d\.]+)/),h=f.match(/maximum\-dpr=([\d\.]+)/);d&&(s=parseFloat(d[1]),a=parseFloat((1/s).toFixed(2))),h&&(s=parseFloat(h[1]),a=parseFloat((1/s).toFixed(2)))}}if(!s&&!a){t.navigator.appVersion.match(/android/gi);var p=t.navigator.appVersion.match(/iphone/gi),y=t.devicePixelRatio;p?y>=3&&(!s||s>=3)?s=3:y>=2&&(!s||s>=2)?s=2:s=1:s=1,a=1/s}if(r.setAttribute("data-dpr",s),!i)if(i=n.createElement("meta"),i.setAttribute("name","viewport"),i.setAttribute("content","initial-scale="+a+", maximum-scale="+a+", minimum-scale="+a+", user-scalable=no"),r.firstElementChild)r.firstElementChild.appendChild(i);else{var v=n.createElement("div");v.appendChild(i),n.write(v.innerHTML)}function g(){var m=r.getBoundingClientRect().width;m/s>540&&(m=540*s);var _=m/10;r.style.fontSize=_+"px",u.rem=t.rem=_}t.addEventListener("resize",function(){clearTimeout(l),l=setTimeout(g,300)},!1),t.addEventListener("pageshow",function(m){m.persisted&&(clearTimeout(l),l=setTimeout(g,300))},!1),n.readyState==="complete"?n.body.style.fontSize=12*s+"px":n.addEventListener("DOMContentLoaded",function(m){n.body.style.fontSize=12*s+"px"},!1),g(),u.dpr=t.dpr=s,u.refreshRem=g,u.rem2px=function(m){var _=parseFloat(m)*this.rem;return typeof m=="string"&&m.match(/rem$/)&&(_+="px"),_},u.px2rem=function(m){var _=parseFloat(m)/this.rem;return typeof m=="string"&&m.match(/px$/)&&(_+="rem"),_}})(window,window.lib||(window.lib={}));function qU(t){return typeof t=="object"&&t!==null}function lS(t,e){return t=qU(t)?t:Object.create(null),new Proxy(t,{get(n,r,i){return r==="key"?Reflect.get(n,r,i):Reflect.get(n,r,i)||Reflect.get(e,r,i)}})}function ZU(t,e){return e.reduce((n,r)=>n==null?void 0:n[r],t)}function JU(t,e,n){return e.slice(0,-1).reduce((r,i)=>/^(__proto__)$/.test(i)?{}:r[i]=r[i]||{},t)[e[e.length-1]]=n,t}function QU(t,e){return e.reduce((n,r)=>{const i=r.split(".");return JU(n,i,ZU(t,i))},{})}function eG(t,e){return n=>{var r;try{const{storage:i=localStorage,beforeRestore:o=void 0,afterRestore:s=void 0,serializer:a={serialize:JSON.stringify,deserialize:JSON.parse},key:l=e.$id,paths:u=null,debug:c=!1}=n;return{storage:i,beforeRestore:o,afterRestore:s,serializer:a,key:((r=t.key)!=null?r:f=>f)(typeof l=="string"?l:l(e.$id)),paths:u,debug:c}}catch(i){return n.debug&&console.error("[pinia-plugin-persistedstate]",i),null}}}function uS(t,{storage:e,serializer:n,key:r,debug:i}){try{const o=e==null?void 0:e.getItem(r);o&&t.$patch(n==null?void 0:n.deserialize(o))}catch(o){i&&console.error("[pinia-plugin-persistedstate]",o)}}function cS(t,{storage:e,serializer:n,key:r,paths:i,debug:o}){try{const s=Array.isArray(i)?QU(t,i):t;e.setItem(r,n.serialize(s))}catch(s){o&&console.error("[pinia-plugin-persistedstate]",s)}}function tG(t={}){return e=>{const{auto:n=!1}=t,{options:{persist:r=n},store:i,pinia:o}=e;if(!r)return;if(!(i.$id in o.state.value)){const a=o._s.get(i.$id.replace("__hot:",""));a&&Promise.resolve().then(()=>a.$persist());return}const s=(Array.isArray(r)?r.map(a=>lS(a,t)):[lS(r,t)]).map(eG(t,i)).filter(Boolean);i.$persist=()=>{s.forEach(a=>{cS(i.$state,a)})},i.$hydrate=({runHooks:a=!0}={})=>{s.forEach(l=>{const{beforeRestore:u,afterRestore:c}=l;a&&(u==null||u(e)),uS(i,l),a&&(c==null||c(e))})},s.forEach(a=>{const{beforeRestore:l,afterRestore:u}=a;l==null||l(e),uS(i,a),u==null||u(e),i.$subscribe((c,f)=>{cS(f,a)},{detached:!0})})}}var qAe=tG(),ul=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}const zn=gx(bU);var C4={exports:{}},mx=Object.defineProperty,nG=Object.getOwnPropertyDescriptor,rG=Object.getOwnPropertyNames,iG=Object.prototype.hasOwnProperty,oG=(t,e)=>{for(var n in e)mx(t,n,{get:e[n],enumerable:!0})},sG=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of rG(e))!iG.call(t,i)&&i!==n&&mx(t,i,{get:()=>e[i],enumerable:!(r=nG(e,i))||r.enumerable});return t},aG=t=>sG(mx({},"__esModule",{value:!0}),t),A4={};oG(A4,{extend:()=>uG,flat:()=>bG,get:()=>mG,inBrowser:()=>T4,isDate:()=>dG,isDef:()=>cG,isFunction:()=>Ry,isIOS:()=>gG,isMobile:()=>hG,isNumeric:()=>pG,isObject:()=>vx,isPromise:()=>fG,isSameValue:()=>yG,noop:()=>lG,pick:()=>vG,toArray:()=>_G});var sa=aG(A4);function lG(){}const uG=Object.assign,T4=typeof window<"u",vx=t=>t!==null&&typeof t=="object",cG=t=>t!=null,Ry=t=>typeof t=="function",fG=t=>vx(t)&&Ry(t.then)&&Ry(t.catch),dG=t=>Object.prototype.toString.call(t)==="[object Date]"&&!Number.isNaN(t.getTime());function hG(t){return t=t.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(t)||/^0[0-9-]{10,13}$/.test(t)}const pG=t=>typeof t=="number"||/^\d+(\.\d+)?$/.test(t),gG=()=>T4?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function mG(t,e){const n=e.split(".");let r=t;return n.forEach(i=>{var o;r=vx(r)&&(o=r[i])!=null?o:""}),r}function vG(t,e,n){return e.reduce((r,i)=>((!n||t[i]!==void 0)&&(r[i]=t[i]),r),{})}const yG=(t,e)=>JSON.stringify(t)===JSON.stringify(e),_G=t=>Array.isArray(t)?t:[t],bG=t=>t.reduce((e,n)=>e.concat(n),[]);var yx=Object.defineProperty,xG=Object.getOwnPropertyDescriptor,wG=Object.getOwnPropertyNames,EG=Object.prototype.hasOwnProperty,SG=(t,e)=>{for(var n in e)yx(t,n,{get:e[n],enumerable:!0})},CG=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of wG(e))!EG.call(t,i)&&i!==n&&yx(t,i,{get:()=>e[i],enumerable:!(r=xG(e,i))||r.enumerable});return t},AG=t=>CG(yx({},"__esModule",{value:!0}),t),P4={};SG(P4,{makeArrayProp:()=>RG,makeNumberProp:()=>MG,makeNumericProp:()=>DG,makeRequiredProp:()=>OG,makeStringProp:()=>BG,numericProp:()=>I4,truthProp:()=>IG,unknownProp:()=>PG});var TG=AG(P4);const PG=null,I4=[Number,String],IG={type:Boolean,default:!0},OG=t=>({type:t,required:!0}),RG=()=>({type:Array,default:()=>[]}),MG=t=>({type:Number,default:t}),DG=t=>({type:I4,default:t}),BG=t=>({type:String,default:t});var xo=typeof window<"u",kG=!0;function hr(t){return xo?requestAnimationFrame(t):-1}function Bd(t){xo&&cancelAnimationFrame(t)}function La(t){hr(()=>hr(t))}var NG=t=>t===window,fS=(t,e)=>({top:0,left:0,right:t,bottom:e,width:t,height:e}),wn=t=>{const e=dr(t);if(NG(e)){const n=e.innerWidth,r=e.innerHeight;return fS(n,r)}return e!=null&&e.getBoundingClientRect?e.getBoundingClientRect():fS(0,0)};function O4(t=!1){const e=Z(t);return[e,(r=!e.value)=>{e.value=r}]}function Zr(t){const e=dn(t,null);if(e){const n=yt(),{link:r,unlink:i,internalChildren:o}=e;r(n),cs(()=>i(n));const s=re(()=>o.indexOf(n));return{parent:e,index:s}}return{parent:null,index:Z(-1)}}function R4(t){const e=[],n=r=>{Array.isArray(r)&&r.forEach(i=>{var o;fo(i)&&(e.push(i),(o=i.component)!=null&&o.subTree&&(e.push(i.component.subTree),n(i.component.subTree.children)),i.children&&n(i.children))})};return n(t),e}var dS=(t,e)=>{const n=t.indexOf(e);return n===-1?t.findIndex(r=>e.key!==void 0&&e.key!==null&&r.type===e.type&&r.key===e.key):n};function M4(t,e,n){const r=R4(t.subTree.children);n.sort((o,s)=>dS(r,o.vnode)-dS(r,s.vnode));const i=n.map(o=>o.proxy);e.sort((o,s)=>{const a=i.indexOf(o),l=i.indexOf(s);return a-l})}function $i(t){const e=Mt([]),n=Mt([]),r=yt();return{children:e,linkChildren:o=>{hi(t,Object.assign({link:l=>{l.proxy&&(n.push(l),e.push(l.proxy),M4(r,e,n))},unlink:l=>{const u=n.indexOf(l);e.splice(u,1),n.splice(u,1)},children:e,internalChildren:n},o))}}}var My=1e3,Dy=60*My,By=60*Dy,hS=24*By;function FG(t){const e=Math.floor(t/hS),n=Math.floor(t%hS/By),r=Math.floor(t%By/Dy),i=Math.floor(t%Dy/My),o=Math.floor(t%My);return{total:t,days:e,hours:n,minutes:r,seconds:i,milliseconds:o}}function LG(t,e){return Math.floor(t/1e3)===Math.floor(e/1e3)}function D4(t){let e,n,r,i;const o=Z(t.time),s=re(()=>FG(o.value)),a=()=>{r=!1,Bd(e)},l=()=>Math.max(n-Date.now(),0),u=y=>{var v,g;o.value=y,(v=t.onChange)==null||v.call(t,s.value),y===0&&(a(),(g=t.onFinish)==null||g.call(t))},c=()=>{e=hr(()=>{r&&(u(l()),o.value>0&&c())})},f=()=>{e=hr(()=>{if(r){const y=l();(!LG(y,o.value)||y===0)&&u(y),o.value>0&&f()}})},d=()=>{xo&&(t.millisecond?c():f())},h=()=>{r||(n=Date.now()+o.value,r=!0,d())},p=(y=t.time)=>{a(),o.value=y};return qr(a),ls(()=>{i&&(r=!0,i=!1,d())}),bo(()=>{r&&(a(),i=!0)}),{start:h,pause:a,reset:p,current:s}}function uc(t){let e;Ht(()=>{t(),Xe(()=>{e=!0})}),ls(()=>{e&&t()})}function mr(t,e,n={}){if(!xo)return;const{target:r=window,passive:i=!1,capture:o=!1}=n;let s=!1,a;const l=f=>{if(s)return;const d=dr(f);d&&!a&&(d.addEventListener(t,e,{capture:o,passive:i}),a=!0)},u=f=>{if(s)return;const d=dr(f);d&&a&&(d.removeEventListener(t,e,o),a=!1)};cs(()=>u(r)),bo(()=>u(r)),uc(()=>l(r));let c;return pt(r)&&(c=ve(r,(f,d)=>{u(d),l(f)})),()=>{c==null||c(),u(r),s=!0}}function B4(t,e,n={}){if(!xo)return;const{eventName:r="click"}=n;mr(r,o=>{(Array.isArray(t)?t:[t]).every(l=>{const u=dr(l);return u&&!u.contains(o.target)})&&e(o)},{target:document})}var _h,Mm;function k4(){if(!_h&&(_h=Z(0),Mm=Z(0),xo)){const t=()=>{_h.value=window.innerWidth,Mm.value=window.innerHeight};t(),window.addEventListener("resize",t,{passive:!0}),window.addEventListener("orientationchange",t,{passive:!0})}return{width:_h,height:Mm}}var $G=/scroll|auto|overlay/i,N4=xo?window:void 0;function UG(t){return t.tagName!=="HTML"&&t.tagName!=="BODY"&&t.nodeType===1}function _x(t,e=N4){let n=t;for(;n&&n!==e&&UG(n);){const{overflowY:r}=window.getComputedStyle(n);if($G.test(r))return n;n=n.parentNode}return e}function kd(t,e=N4){const n=Z();return Ht(()=>{t.value&&(n.value=_x(t.value,e))}),n}var bh;function F4(){if(!bh&&(bh=Z("visible"),xo)){const t=()=>{bh.value=document.hidden?"hidden":"visible"};t(),window.addEventListener("visibilitychange",t)}return bh}var bx=Symbol("van-field");function Rl(t){const e=dn(bx,null);e&&!e.customValue.value&&(e.customValue.value=t,ve(t,()=>{e.resetValidation(),e.validateWithTrigger("onChange")}))}function GG(t,e){if(xo){const{interval:n=0,isLoop:r=!1}=e||{};let i,o=!1,s;const a=()=>{o=!0,cancelAnimationFrame(s)},l=u=>{if(!o){if(i===void 0)i=u;else if(u-i>n&&(t(u),i=u,!r)){a();return}s=requestAnimationFrame(l)}};return s=requestAnimationFrame(l),a}return()=>{}}const HG=Object.freeze(Object.defineProperty({__proto__:null,CUSTOM_FIELD_INJECTION_KEY:bx,cancelRaf:Bd,doubleRaf:La,flattenVNodes:R4,getScrollParent:_x,inBrowser:xo,onMountedOrActivated:uc,raf:hr,sortChildren:M4,supportsPassive:kG,useChildren:$i,useClickAway:B4,useCountDown:D4,useCustomFieldValue:Rl,useEventListener:mr,usePageVisibility:F4,useParent:Zr,useRaf:GG,useRect:wn,useScrollParent:kd,useToggle:O4,useWindowSize:k4},Symbol.toStringTag,{value:"Module"})),pg=gx(HG);var xx=Object.defineProperty,VG=Object.getOwnPropertyDescriptor,zG=Object.getOwnPropertyNames,jG=Object.prototype.hasOwnProperty,WG=(t,e)=>{for(var n in e)xx(t,n,{get:e[n],enumerable:!0})},YG=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of zG(e))!jG.call(t,i)&&i!==n&&xx(t,i,{get:()=>e[i],enumerable:!(r=VG(e,i))||r.enumerable});return t},XG=t=>YG(xx({},"__esModule",{value:!0}),t),L4={};WG(L4,{getContainingBlock:()=>oH,getElementTop:()=>ZG,getRootScrollTop:()=>wx,getScrollTop:()=>G4,isHidden:()=>tH,preventDefault:()=>eH,resetScroll:()=>QG,setRootScrollTop:()=>H4,setScrollTop:()=>ky,stopPropagation:()=>V4,windowHeight:()=>rH,windowWidth:()=>nH});var $4=XG(L4),U4=pg,KG=zn,qG=sa;function G4(t){const e="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(e,0)}function ky(t,e){"scrollTop"in t?t.scrollTop=e:t.scrollTo(t.scrollX,e)}function wx(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function H4(t){ky(window,t),ky(document.body,t)}function ZG(t,e){if(t===window)return 0;const n=e?G4(e):wx();return(0,U4.useRect)(t).top+n}const JG=(0,qG.isIOS)();function QG(){JG&&H4(wx())}const V4=t=>t.stopPropagation();function eH(t,e){(typeof t.cancelable!="boolean"||t.cancelable)&&t.preventDefault(),e&&V4(t)}function tH(t){const e=(0,KG.unref)(t);if(!e)return!1;const n=window.getComputedStyle(e),r=n.display==="none",i=e.offsetParent===null&&n.position!=="fixed";return r||i}const{width:nH,height:rH}=(0,U4.useWindowSize)();function iH(t){const e=window.getComputedStyle(t);return e.transform!=="none"||e.perspective!=="none"||["transform","perspective","filter"].some(n=>(e.willChange||"").includes(n))}function oH(t){let e=t.parentElement;for(;e;){if(e&&e.tagName!=="HTML"&&e.tagName!=="BODY"&&iH(e))return e;e=e.parentElement}return null}var Ex=Object.defineProperty,sH=Object.getOwnPropertyDescriptor,aH=Object.getOwnPropertyNames,lH=Object.prototype.hasOwnProperty,uH=(t,e)=>{for(var n in e)Ex(t,n,{get:e[n],enumerable:!0})},cH=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of aH(e))!lH.call(t,i)&&i!==n&&Ex(t,i,{get:()=>e[i],enumerable:!(r=sH(e,i))||r.enumerable});return t},fH=t=>cH(Ex({},"__esModule",{value:!0}),t),z4={};uH(z4,{addNumber:()=>AH,addUnit:()=>xp,camelize:()=>xH,clamp:()=>SH,formatNumber:()=>CH,getSizeStyle:()=>hH,getZIndexStyle:()=>pH,kebabCase:()=>wH,padZero:()=>EH,unitToPx:()=>_H});var Sx=fH(z4),dH=sa,j4=$4,Ny=sa;function xp(t){if((0,Ny.isDef)(t))return(0,Ny.isNumeric)(t)?`${t}px`:String(t)}function hH(t){if((0,Ny.isDef)(t)){if(Array.isArray(t))return{width:xp(t[0]),height:xp(t[1])};const e=xp(t);return{width:e,height:e}}}function pH(t){const e={};return t!==void 0&&(e.zIndex=+t),e}let Dm;function gH(){if(!Dm){const t=document.documentElement,e=t.style.fontSize||window.getComputedStyle(t).fontSize;Dm=parseFloat(e)}return Dm}function mH(t){return t=t.replace(/rem/g,""),+t*gH()}function vH(t){return t=t.replace(/vw/g,""),+t*j4.windowWidth.value/100}function yH(t){return t=t.replace(/vh/g,""),+t*j4.windowHeight.value/100}function _H(t){if(typeof t=="number")return t;if(dH.inBrowser){if(t.includes("rem"))return mH(t);if(t.includes("vw"))return vH(t);if(t.includes("vh"))return yH(t)}return parseFloat(t)}const bH=/-(\w)/g,xH=t=>t.replace(bH,(e,n)=>n.toUpperCase()),wH=t=>t.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"");function EH(t,e=2){let n=t+"";for(;n.length<e;)n="0"+n;return n}const SH=(t,e,n)=>Math.min(Math.max(t,e),n);function pS(t,e,n){const r=t.indexOf(e);return r===-1?t:e==="-"&&r!==0?t.slice(0,r):t.slice(0,r+1)+t.slice(r).replace(n,"")}function CH(t,e=!0,n=!0){e?t=pS(t,".",/\./g):t=t.split(".")[0],n?t=pS(t,"-",/-/g):t=t.replace(/-/,"");const r=e?/[^-0-9.]/g:/[^-0-9]/g;return t.replace(r,"")}function AH(t,e){return Math.round((t+e)*1e10)/1e10}var Cx=Object.defineProperty,TH=Object.getOwnPropertyDescriptor,PH=Object.getOwnPropertyNames,IH=Object.prototype.hasOwnProperty,OH=(t,e)=>{for(var n in e)Cx(t,n,{get:e[n],enumerable:!0})},RH=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of PH(e))!IH.call(t,i)&&i!==n&&Cx(t,i,{get:()=>e[i],enumerable:!(r=TH(e,i))||r.enumerable});return t},MH=t=>RH(Cx({},"__esModule",{value:!0}),t),W4={};OH(W4,{deepAssign:()=>Y4});var DH=MH(W4),gS=sa;const{hasOwnProperty:BH}=Object.prototype;function kH(t,e,n){const r=e[n];(0,gS.isDef)(r)&&(!BH.call(t,n)||!(0,gS.isObject)(r)?t[n]=r:t[n]=Y4(Object(t[n]),r))}function Y4(t,e){return Object.keys(e).forEach(n=>{kH(t,e,n)}),t}var Ax=Object.defineProperty,NH=Object.getOwnPropertyDescriptor,FH=Object.getOwnPropertyNames,LH=Object.prototype.hasOwnProperty,$H=(t,e)=>{for(var n in e)Ax(t,n,{get:e[n],enumerable:!0})},UH=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of FH(e))!LH.call(t,i)&&i!==n&&Ax(t,i,{get:()=>e[i],enumerable:!(r=NH(e,i))||r.enumerable});return t},GH=t=>UH(Ax({},"__esModule",{value:!0}),t),X4={};$H(X4,{default:()=>VH});var HH=GH(X4),VH={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(t,e)=>`${t}年${e}月`,rangePrompt:t=>`最多选择 ${t} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:t=>`${t}折`,condition:t=>`满${t}元可用`},vanCouponCell:{title:"优惠券",count:t=>`${t}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}},zH=Object.create,gg=Object.defineProperty,jH=Object.getOwnPropertyDescriptor,WH=Object.getOwnPropertyNames,YH=Object.getPrototypeOf,XH=Object.prototype.hasOwnProperty,KH=(t,e)=>{for(var n in e)gg(t,n,{get:e[n],enumerable:!0})},K4=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of WH(e))!XH.call(t,i)&&i!==n&&gg(t,i,{get:()=>e[i],enumerable:!(r=jH(e,i))||r.enumerable});return t},qH=(t,e,n)=>(n=t!=null?zH(YH(t)):{},K4(e||!t||!t.__esModule?gg(n,"default",{value:t,enumerable:!0}):n,t)),ZH=t=>K4(gg({},"__esModule",{value:!0}),t),q4={};KH(q4,{Locale:()=>J4,default:()=>nV,useCurrentLang:()=>tV});var JH=ZH(q4),Z4=zn,QH=DH,eV=qH(HH);const Fy=(0,Z4.ref)("zh-CN"),mS=(0,Z4.reactive)({"zh-CN":eV.default}),J4={messages(){return mS[Fy.value]},use(t,e){Fy.value=t,this.add({[t]:e})},add(t={}){(0,QH.deepAssign)(mS,t)}},tV=()=>Fy;var nV=J4,rV=Object.create,mg=Object.defineProperty,iV=Object.getOwnPropertyDescriptor,oV=Object.getOwnPropertyNames,sV=Object.getPrototypeOf,aV=Object.prototype.hasOwnProperty,lV=(t,e)=>{for(var n in e)mg(t,n,{get:e[n],enumerable:!0})},Q4=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of oV(e))!aV.call(t,i)&&i!==n&&mg(t,i,{get:()=>e[i],enumerable:!(r=iV(e,i))||r.enumerable});return t},uV=(t,e,n)=>(n=t!=null?rV(sV(t)):{},Q4(e||!t||!t.__esModule?mg(n,"default",{value:t,enumerable:!0}):n,t)),cV=t=>Q4(mg({},"__esModule",{value:!0}),t),eR={};lV(eR,{createBEM:()=>nR,createNamespace:()=>pV,createTranslate:()=>tR});var fV=cV(eR),Bm=sa,dV=Sx,hV=uV(JH);function tR(t){const e=(0,dV.camelize)(t)+".";return(n,...r)=>{const i=hV.default.messages(),o=(0,Bm.get)(i,e+n)||(0,Bm.get)(i,n);return(0,Bm.isFunction)(o)?o(...r):o}}function Ly(t,e){return e?typeof e=="string"?` ${t}--${e}`:Array.isArray(e)?e.reduce((n,r)=>n+Ly(t,r),""):Object.keys(e).reduce((n,r)=>n+(e[r]?Ly(t,r):""),""):""}function nR(t){return(e,n)=>(e&&typeof e!="string"&&(n=e,e=""),e=e?`${t}__${e}`:t,`${e}${Ly(e,n)}`)}function pV(t){const e=`van-${t}`;return[e,nR(e),tR(e)]}var Tx=Object.defineProperty,gV=Object.getOwnPropertyDescriptor,mV=Object.getOwnPropertyNames,vV=Object.prototype.hasOwnProperty,yV=(t,e)=>{for(var n in e)Tx(t,n,{get:e[n],enumerable:!0})},_V=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of mV(e))!vV.call(t,i)&&i!==n&&Tx(t,i,{get:()=>e[i],enumerable:!(r=gV(e,i))||r.enumerable});return t},bV=t=>_V(Tx({},"__esModule",{value:!0}),t),rR={};yV(rR,{BORDER:()=>aa,BORDER_BOTTOM:()=>CV,BORDER_LEFT:()=>EV,BORDER_RIGHT:()=>SV,BORDER_SURROUND:()=>AV,BORDER_TOP:()=>wV,BORDER_TOP_BOTTOM:()=>TV,BORDER_UNSET_TOP_BOTTOM:()=>PV,FORM_KEY:()=>OV,HAPTICS_FEEDBACK:()=>IV,LONG_PRESS_START_TIME:()=>RV,TAP_OFFSET:()=>MV});var xV=bV(rR);const aa="van-hairline",wV=`${aa}--top`,EV=`${aa}--left`,SV=`${aa}--right`,CV=`${aa}--bottom`,AV=`${aa}--surround`,TV=`${aa}--top-bottom`,PV=`${aa}-unset--top-bottom`,IV="van-haptics-feedback",OV=Symbol("van-form"),RV=500,MV=5;var Px=Object.defineProperty,DV=Object.getOwnPropertyDescriptor,BV=Object.getOwnPropertyNames,kV=Object.prototype.hasOwnProperty,NV=(t,e)=>{for(var n in e)Px(t,n,{get:e[n],enumerable:!0})},FV=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of BV(e))!kV.call(t,i)&&i!==n&&Px(t,i,{get:()=>e[i],enumerable:!(r=DV(e,i))||r.enumerable});return t},LV=t=>FV(Px({},"__esModule",{value:!0}),t),iR={};NV(iR,{callInterceptor:()=>UV});var $V=LV(iR),vS=sa;function UV(t,{args:e=[],done:n,canceled:r,error:i}){if(t){const o=t.apply(null,e);(0,vS.isPromise)(o)?o.then(s=>{s?n():r&&r()}).catch(i||vS.noop):o?n():r&&r()}else n()}var Ix=Object.defineProperty,GV=Object.getOwnPropertyDescriptor,HV=Object.getOwnPropertyNames,VV=Object.prototype.hasOwnProperty,zV=(t,e)=>{for(var n in e)Ix(t,n,{get:e[n],enumerable:!0})},jV=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of HV(e))!VV.call(t,i)&&i!==n&&Ix(t,i,{get:()=>e[i],enumerable:!(r=GV(e,i))||r.enumerable});return t},WV=t=>jV(Ix({},"__esModule",{value:!0}),t),oR={};zV(oR,{withInstall:()=>KV});var YV=WV(oR),XV=Sx;function KV(t){return t.install=e=>{const{name:n}=t;n&&(e.component(n,t),e.component((0,XV.camelize)(`-${n}`),t))},t}var Ox=Object.defineProperty,qV=Object.getOwnPropertyDescriptor,ZV=Object.getOwnPropertyNames,JV=Object.prototype.hasOwnProperty,QV=(t,e)=>{for(var n in e)Ox(t,n,{get:e[n],enumerable:!0})},ez=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ZV(e))!JV.call(t,i)&&i!==n&&Ox(t,i,{get:()=>e[i],enumerable:!(r=qV(e,i))||r.enumerable});return t},tz=t=>ez(Ox({},"__esModule",{value:!0}),t),sR={};QV(sR,{closest:()=>rz});var nz=tz(sR);function rz(t,e){return t.reduce((n,r)=>Math.abs(n-e)<Math.abs(r-e)?n:r)}(function(t){var e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,o=(u,c,f,d)=>{if(c&&typeof c=="object"||typeof c=="function")for(let h of r(c))!i.call(u,h)&&h!==f&&e(u,h,{get:()=>c[h],enumerable:!(d=n(c,h))||d.enumerable});return u},s=(u,c,f)=>(o(u,c,"default"),f&&o(f,c,"default")),a=u=>o(e({},"__esModule",{value:!0}),u),l={};t.exports=a(l),s(l,sa,t.exports),s(l,TG,t.exports),s(l,$4,t.exports),s(l,fV,t.exports),s(l,Sx,t.exports),s(l,xV,t.exports),s(l,$V,t.exports),s(l,YV,t.exports),s(l,nz,t.exports)})(C4);var jn=C4.exports,Rx=Object.defineProperty,iz=Object.getOwnPropertyDescriptor,oz=Object.getOwnPropertyNames,sz=Object.prototype.hasOwnProperty,az=(t,e)=>{for(var n in e)Rx(t,n,{get:e[n],enumerable:!0})},lz=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of oz(e))!sz.call(t,i)&&i!==n&&Rx(t,i,{get:()=>e[i],enumerable:!(r=iz(e,i))||r.enumerable});return t},uz=t=>lz(Rx({},"__esModule",{value:!0}),t),aR={};az(aR,{useExpose:()=>dz});var lR=uz(aR),cz=zn,fz=jn;function dz(t){const e=(0,cz.getCurrentInstance)();e&&(0,fz.extend)(e.proxy,t)}var Mx=Object.defineProperty,hz=Object.getOwnPropertyDescriptor,pz=Object.getOwnPropertyNames,gz=Object.prototype.hasOwnProperty,mz=(t,e)=>{for(var n in e)Mx(t,n,{get:e[n],enumerable:!0})},vz=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of pz(e))!gz.call(t,i)&&i!==n&&Mx(t,i,{get:()=>e[i],enumerable:!(r=hz(e,i))||r.enumerable});return t},yz=t=>vz(Mx({},"__esModule",{value:!0}),t),uR={};mz(uR,{mountComponent:()=>Ez,usePopupState:()=>wz});var _z=yz(uR),cR=zn,bz=sa,xz=lR;function wz(){const t=(0,cR.reactive)({show:!1}),e=i=>{t.show=i},n=i=>{(0,bz.extend)(t,i,{transitionAppear:!0}),e(!0)},r=()=>e(!1);return(0,xz.useExpose)({open:n,close:r,toggle:e}),{open:n,close:r,state:t,toggle:e}}function Ez(t){const e=(0,cR.createApp)(t),n=document.createElement("div");return document.body.appendChild(n),{instance:e.mount(n),unmount(){e.unmount(),document.body.removeChild(n)}}}var Dx=Object.defineProperty,Sz=Object.getOwnPropertyDescriptor,Cz=Object.getOwnPropertyNames,Az=Object.prototype.hasOwnProperty,Tz=(t,e)=>{for(var n in e)Dx(t,n,{get:e[n],enumerable:!0})},Pz=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Cz(e))!Az.call(t,i)&&i!==n&&Dx(t,i,{get:()=>e[i],enumerable:!(r=Sz(e,i))||r.enumerable});return t},Iz=t=>Pz(Dx({},"__esModule",{value:!0}),t),fR={};Tz(fR,{lockClick:()=>Rz});var Oz=Iz(fR);let Cc=0;function Rz(t){t?(Cc||document.body.classList.add("van-toast--unclickable"),Cc++):Cc&&(Cc--,Cc||document.body.classList.remove("van-toast--unclickable"))}var Bx=Object.defineProperty,Mz=Object.getOwnPropertyDescriptor,Dz=Object.getOwnPropertyNames,Bz=Object.prototype.hasOwnProperty,kz=(t,e)=>{for(var n in e)Bx(t,n,{get:e[n],enumerable:!0})},Nz=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Dz(e))!Bz.call(t,i)&&i!==n&&Bx(t,i,{get:()=>e[i],enumerable:!(r=Mz(e,i))||r.enumerable});return t},Fz=t=>Nz(Bx({},"__esModule",{value:!0}),t),dR={};kz(dR,{badgeProps:()=>pR,default:()=>$z});var hR=Fz(dR),xh=zn,lr=jn;const[Lz,yS]=(0,lr.createNamespace)("badge"),pR={dot:Boolean,max:lr.numericProp,tag:(0,lr.makeStringProp)("div"),color:String,offset:Array,content:lr.numericProp,showZero:lr.truthProp,position:(0,lr.makeStringProp)("top-right")};var $z=(0,xh.defineComponent)({name:Lz,props:pR,setup(t,{slots:e}){const n=()=>{if(e.content)return!0;const{content:a,showZero:l}=t;return(0,lr.isDef)(a)&&a!==""&&(l||a!==0&&a!=="0")},r=()=>{const{dot:a,max:l,content:u}=t;if(!a&&n())return e.content?e.content():(0,lr.isDef)(l)&&(0,lr.isNumeric)(u)&&+u>+l?`${l}+`:u},i=a=>a.startsWith("-")?a.replace("-",""):`-${a}`,o=(0,xh.computed)(()=>{const a={background:t.color};if(t.offset){const[l,u]=t.offset,{position:c}=t,[f,d]=c.split("-");e.default?(typeof u=="number"?a[f]=(0,lr.addUnit)(f==="top"?u:-u):a[f]=f==="top"?(0,lr.addUnit)(u):i(u),typeof l=="number"?a[d]=(0,lr.addUnit)(d==="left"?l:-l):a[d]=d==="left"?(0,lr.addUnit)(l):i(l)):(a.marginTop=(0,lr.addUnit)(u),a.marginLeft=(0,lr.addUnit)(l))}return a}),s=()=>{if(n()||t.dot)return(0,xh.createVNode)("div",{class:yS([t.position,{dot:t.dot,fixed:!!e.default}]),style:o.value},[r()])};return()=>{if(e.default){const{tag:a}=t;return(0,xh.createVNode)(a,{class:yS("wrapper")},{default:()=>[e.default(),s()]})}return s()}}}),Uz=Object.create,vg=Object.defineProperty,Gz=Object.getOwnPropertyDescriptor,Hz=Object.getOwnPropertyNames,Vz=Object.getPrototypeOf,zz=Object.prototype.hasOwnProperty,jz=(t,e)=>{for(var n in e)vg(t,n,{get:e[n],enumerable:!0})},gR=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Hz(e))!zz.call(t,i)&&i!==n&&vg(t,i,{get:()=>e[i],enumerable:!(r=Gz(e,i))||r.enumerable});return t},Wz=(t,e,n)=>(n=t!=null?Uz(Vz(t)):{},gR(e||!t||!t.__esModule?vg(n,"default",{value:t,enumerable:!0}):n,t)),Yz=t=>gR(vg({},"__esModule",{value:!0}),t),mR={};jz(mR,{Badge:()=>vR,badgeProps:()=>Zz.badgeProps,default:()=>Jz});var Xz=Yz(mR),Kz=jn,qz=Wz(hR),Zz=hR;const vR=(0,Kz.withInstall)(qz.default);var Jz=vR,kx=Object.defineProperty,Qz=Object.getOwnPropertyDescriptor,ej=Object.getOwnPropertyNames,tj=Object.prototype.hasOwnProperty,nj=(t,e)=>{for(var n in e)kx(t,n,{get:e[n],enumerable:!0})},rj=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ej(e))!tj.call(t,i)&&i!==n&&kx(t,i,{get:()=>e[i],enumerable:!(r=Qz(e,i))||r.enumerable});return t},ij=t=>rj(kx({},"__esModule",{value:!0}),t),yR={};nj(yR,{setGlobalZIndex:()=>sj,useGlobalZIndex:()=>oj});var _R=ij(yR);let bR=2e3;const oj=()=>++bR,sj=t=>{bR=t};var Nx=Object.defineProperty,aj=Object.getOwnPropertyDescriptor,lj=Object.getOwnPropertyNames,uj=Object.prototype.hasOwnProperty,cj=(t,e)=>{for(var n in e)Nx(t,n,{get:e[n],enumerable:!0})},fj=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of lj(e))!uj.call(t,i)&&i!==n&&Nx(t,i,{get:()=>e[i],enumerable:!(r=aj(e,i))||r.enumerable});return t},dj=t=>fj(Nx({},"__esModule",{value:!0}),t),xR={};cj(xR,{CONFIG_PROVIDER_KEY:()=>ER,configProviderProps:()=>SR,default:()=>yj});var hj=dj(xR),_i=zn,Qa=jn,pj=_R;const[wR,gj]=(0,Qa.createNamespace)("config-provider"),ER=Symbol(wR),SR={tag:(0,Qa.makeStringProp)("div"),theme:(0,Qa.makeStringProp)("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:(0,Qa.makeStringProp)("local"),iconPrefix:String};function mj(t){return t.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function vj(t){const e={};return Object.keys(t).forEach(n=>{const r=mj((0,Qa.kebabCase)(n));e[`--van-${r}`]=t[n]}),e}function wh(t={},e={}){Object.keys(t).forEach(n=>{t[n]!==e[n]&&document.documentElement.style.setProperty(n,t[n])}),Object.keys(e).forEach(n=>{t[n]||document.documentElement.style.removeProperty(n)})}var yj=(0,_i.defineComponent)({name:wR,props:SR,setup(t,{slots:e}){const n=(0,_i.computed)(()=>vj((0,Qa.extend)({},t.themeVars,t.theme==="dark"?t.themeVarsDark:t.themeVarsLight)));if(Qa.inBrowser){const r=()=>{document.documentElement.classList.add(`van-theme-${t.theme}`)},i=(o=t.theme)=>{document.documentElement.classList.remove(`van-theme-${o}`)};(0,_i.watch)(()=>t.theme,(o,s)=>{s&&i(s),r()},{immediate:!0}),(0,_i.onActivated)(r),(0,_i.onDeactivated)(i),(0,_i.onBeforeUnmount)(i),(0,_i.watch)(n,(o,s)=>{t.themeVarsScope==="global"&&wh(o,s)}),(0,_i.watch)(()=>t.themeVarsScope,(o,s)=>{s==="global"&&wh({},n.value),o==="global"&&wh(n.value,{})}),t.themeVarsScope==="global"&&wh(n.value,{})}return(0,_i.provide)(ER,t),(0,_i.watchEffect)(()=>{t.zIndex!==void 0&&(0,pj.setGlobalZIndex)(t.zIndex)}),()=>(0,_i.createVNode)(t.tag,{class:gj(),style:t.themeVarsScope==="local"?n.value:void 0},{default:()=>{var r;return[(r=e.default)==null?void 0:r.call(e)]}})}}),Fx=Object.defineProperty,_j=Object.getOwnPropertyDescriptor,bj=Object.getOwnPropertyNames,xj=Object.prototype.hasOwnProperty,wj=(t,e)=>{for(var n in e)Fx(t,n,{get:e[n],enumerable:!0})},Ej=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of bj(e))!xj.call(t,i)&&i!==n&&Fx(t,i,{get:()=>e[i],enumerable:!(r=_j(e,i))||r.enumerable});return t},Sj=t=>Ej(Fx({},"__esModule",{value:!0}),t),CR={};wj(CR,{default:()=>Ij,iconProps:()=>TR});var AR=Sj(CR),Hl=zn,gf=jn,Cj=Xz,Aj=hj;const[Tj,_S]=(0,gf.createNamespace)("icon"),Pj=t=>t==null?void 0:t.includes("/"),TR={dot:Boolean,tag:(0,gf.makeStringProp)("i"),name:String,size:gf.numericProp,badge:gf.numericProp,color:String,badgeProps:Object,classPrefix:String};var Ij=(0,Hl.defineComponent)({name:Tj,props:TR,setup(t,{slots:e}){const n=(0,Hl.inject)(Aj.CONFIG_PROVIDER_KEY,null),r=(0,Hl.computed)(()=>t.classPrefix||(n==null?void 0:n.iconPrefix)||_S());return()=>{const{tag:i,dot:o,name:s,size:a,badge:l,color:u}=t,c=Pj(s);return(0,Hl.createVNode)(Cj.Badge,(0,Hl.mergeProps)({dot:o,tag:i,class:[r.value,c?"":`${r.value}-${s}`],style:{color:u,fontSize:(0,gf.addUnit)(a)},content:l},t.badgeProps),{default:()=>{var f;return[(f=e.default)==null?void 0:f.call(e),c&&(0,Hl.createVNode)("img",{class:_S("image"),src:s},null)]}})}}}),Oj=Object.create,yg=Object.defineProperty,Rj=Object.getOwnPropertyDescriptor,Mj=Object.getOwnPropertyNames,Dj=Object.getPrototypeOf,Bj=Object.prototype.hasOwnProperty,kj=(t,e)=>{for(var n in e)yg(t,n,{get:e[n],enumerable:!0})},PR=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Mj(e))!Bj.call(t,i)&&i!==n&&yg(t,i,{get:()=>e[i],enumerable:!(r=Rj(e,i))||r.enumerable});return t},Nj=(t,e,n)=>(n=t!=null?Oj(Dj(t)):{},PR(e||!t||!t.__esModule?yg(n,"default",{value:t,enumerable:!0}):n,t)),Fj=t=>PR(yg({},"__esModule",{value:!0}),t),IR={};kj(IR,{Icon:()=>RR,default:()=>Gj,iconProps:()=>Uj.iconProps});var OR=Fj(IR),Lj=jn,$j=Nj(AR),Uj=AR;const RR=(0,Lj.withInstall)($j.default);var Gj=RR,Lx=Object.defineProperty,Hj=Object.getOwnPropertyDescriptor,Vj=Object.getOwnPropertyNames,zj=Object.prototype.hasOwnProperty,jj=(t,e)=>{for(var n in e)Lx(t,n,{get:e[n],enumerable:!0})},Wj=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Vj(e))!zj.call(t,i)&&i!==n&&Lx(t,i,{get:()=>e[i],enumerable:!(r=Hj(e,i))||r.enumerable});return t},Yj=t=>Wj(Lx({},"__esModule",{value:!0}),t),MR={};jj(MR,{popupSharedPropKeys:()=>Kj,popupSharedProps:()=>DR});var Xj=Yj(MR),ya=jn;const DR={show:Boolean,zIndex:ya.numericProp,overlay:ya.truthProp,duration:ya.numericProp,teleport:[String,Object],lockScroll:ya.truthProp,lazyRender:ya.truthProp,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:ya.unknownProp,transitionAppear:Boolean,closeOnClickOverlay:ya.truthProp},Kj=Object.keys(DR);var $x=Object.defineProperty,qj=Object.getOwnPropertyDescriptor,Zj=Object.getOwnPropertyNames,Jj=Object.prototype.hasOwnProperty,Qj=(t,e)=>{for(var n in e)$x(t,n,{get:e[n],enumerable:!0})},eW=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Zj(e))!Jj.call(t,i)&&i!==n&&$x(t,i,{get:()=>e[i],enumerable:!(r=qj(e,i))||r.enumerable});return t},tW=t=>eW($x({},"__esModule",{value:!0}),t),BR={};Qj(BR,{useTouch:()=>iW});var nW=tW(BR),ms=zn,bS=jn;function rW(t,e){return t>e?"horizontal":e>t?"vertical":""}function iW(){const t=(0,ms.ref)(0),e=(0,ms.ref)(0),n=(0,ms.ref)(0),r=(0,ms.ref)(0),i=(0,ms.ref)(0),o=(0,ms.ref)(0),s=(0,ms.ref)(""),a=(0,ms.ref)(!0),l=()=>s.value==="vertical",u=()=>s.value==="horizontal",c=()=>{n.value=0,r.value=0,i.value=0,o.value=0,s.value="",a.value=!0};return{move:h=>{const p=h.touches[0];n.value=(p.clientX<0?0:p.clientX)-t.value,r.value=p.clientY-e.value,i.value=Math.abs(n.value),o.value=Math.abs(r.value);const y=10;(!s.value||i.value<y&&o.value<y)&&(s.value=rW(i.value,o.value)),a.value&&(i.value>bS.TAP_OFFSET||o.value>bS.TAP_OFFSET)&&(a.value=!1)},start:h=>{c(),t.value=h.touches[0].clientX,e.value=h.touches[0].clientY},reset:c,startX:t,startY:e,deltaX:n,deltaY:r,offsetX:i,offsetY:o,direction:s,isVertical:l,isHorizontal:u,isTap:a}}var Ux=Object.defineProperty,oW=Object.getOwnPropertyDescriptor,sW=Object.getOwnPropertyNames,aW=Object.prototype.hasOwnProperty,lW=(t,e)=>{for(var n in e)Ux(t,n,{get:e[n],enumerable:!0})},uW=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of sW(e))!aW.call(t,i)&&i!==n&&Ux(t,i,{get:()=>e[i],enumerable:!(r=oW(e,i))||r.enumerable});return t},cW=t=>uW(Ux({},"__esModule",{value:!0}),t),kR={};lW(kR,{useLockScroll:()=>pW});var fW=cW(kR),km=zn,xS=pg,dW=nW,hW=jn;let Ac=0;const wS="van-overflow-hidden";function pW(t,e){const n=(0,dW.useTouch)(),r="01",i="10",o=c=>{n.move(c);const f=n.deltaY.value>0?i:r,d=(0,xS.getScrollParent)(c.target,t.value),{scrollHeight:h,offsetHeight:p,scrollTop:y}=d;let v="11";y===0?v=p>=h?"00":"01":y+p>=h&&(v="10"),v!=="11"&&n.isVertical()&&!(parseInt(v,2)&parseInt(f,2))&&(0,hW.preventDefault)(c,!0)},s=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",o,{passive:!1}),Ac||document.body.classList.add(wS),Ac++},a=()=>{Ac&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",o),Ac--,Ac||document.body.classList.remove(wS))},l=()=>e()&&s(),u=()=>e()&&a();(0,xS.onMountedOrActivated)(l),(0,km.onDeactivated)(u),(0,km.onBeforeUnmount)(u),(0,km.watch)(e,c=>{c?s():a()})}var Gx=Object.defineProperty,gW=Object.getOwnPropertyDescriptor,mW=Object.getOwnPropertyNames,vW=Object.prototype.hasOwnProperty,yW=(t,e)=>{for(var n in e)Gx(t,n,{get:e[n],enumerable:!0})},_W=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of mW(e))!vW.call(t,i)&&i!==n&&Gx(t,i,{get:()=>e[i],enumerable:!(r=gW(e,i))||r.enumerable});return t},bW=t=>_W(Gx({},"__esModule",{value:!0}),t),NR={};yW(NR,{useLazyRender:()=>xW});var FR=bW(NR),ES=zn;function xW(t){const e=(0,ES.ref)(!1);return(0,ES.watch)(t,n=>{n&&(e.value=n)},{immediate:!0}),n=>()=>e.value?n():null}var Hx=Object.defineProperty,wW=Object.getOwnPropertyDescriptor,EW=Object.getOwnPropertyNames,SW=Object.prototype.hasOwnProperty,CW=(t,e)=>{for(var n in e)Hx(t,n,{get:e[n],enumerable:!0})},AW=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of EW(e))!SW.call(t,i)&&i!==n&&Hx(t,i,{get:()=>e[i],enumerable:!(r=wW(e,i))||r.enumerable});return t},TW=t=>AW(Hx({},"__esModule",{value:!0}),t),LR={};CW(LR,{POPUP_TOGGLE_KEY:()=>$R,onPopupReopen:()=>IW});var PW=TW(LR),SS=zn;const $R=Symbol();function IW(t){const e=(0,SS.inject)($R,null);e&&(0,SS.watch)(e,n=>{n&&t()})}var Vx=Object.defineProperty,OW=Object.getOwnPropertyDescriptor,RW=Object.getOwnPropertyNames,MW=Object.prototype.hasOwnProperty,DW=(t,e)=>{for(var n in e)Vx(t,n,{get:e[n],enumerable:!0})},BW=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of RW(e))!MW.call(t,i)&&i!==n&&Vx(t,i,{get:()=>e[i],enumerable:!(r=OW(e,i))||r.enumerable});return t},kW=t=>BW(Vx({},"__esModule",{value:!0}),t),UR={};DW(UR,{useScopeId:()=>LW});var NW=kW(UR),FW=zn;const LW=()=>{var t;const{scopeId:e}=((t=(0,FW.getCurrentInstance)())==null?void 0:t.vnode)||{};return e?{[e]:""}:null};var zx=Object.defineProperty,$W=Object.getOwnPropertyDescriptor,UW=Object.getOwnPropertyNames,GW=Object.prototype.hasOwnProperty,HW=(t,e)=>{for(var n in e)zx(t,n,{get:e[n],enumerable:!0})},VW=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of UW(e))!GW.call(t,i)&&i!==n&&zx(t,i,{get:()=>e[i],enumerable:!(r=$W(e,i))||r.enumerable});return t},zW=t=>VW(zx({},"__esModule",{value:!0}),t),GR={};HW(GR,{default:()=>KW,overlayProps:()=>VR});var HR=zW(GR),Vi=zn,to=jn,jW=pg,WW=FR;const[YW,XW]=(0,to.createNamespace)("overlay"),VR={show:Boolean,zIndex:to.numericProp,duration:to.numericProp,className:to.unknownProp,lockScroll:to.truthProp,lazyRender:to.truthProp,customStyle:Object,teleport:[String,Object]};var KW=(0,Vi.defineComponent)({name:YW,inheritAttrs:!1,props:VR,setup(t,{attrs:e,slots:n}){const r=(0,Vi.ref)(),i=(0,WW.useLazyRender)(()=>t.show||!t.lazyRender),o=a=>{t.lockScroll&&(0,to.preventDefault)(a,!0)},s=i(()=>{var a;const l=(0,to.extend)((0,to.getZIndexStyle)(t.zIndex),t.customStyle);return(0,to.isDef)(t.duration)&&(l.animationDuration=`${t.duration}s`),(0,Vi.withDirectives)((0,Vi.createVNode)("div",(0,Vi.mergeProps)({ref:r,style:l,class:[XW(),t.className]},e),[(a=n.default)==null?void 0:a.call(n)]),[[Vi.vShow,t.show]])});return(0,jW.useEventListener)("touchmove",o,{target:r}),()=>{const a=(0,Vi.createVNode)(Vi.Transition,{name:"van-fade",appear:!0},{default:s});return t.teleport?(0,Vi.createVNode)(Vi.Teleport,{to:t.teleport},{default:()=>[a]}):a}}}),qW=Object.create,_g=Object.defineProperty,ZW=Object.getOwnPropertyDescriptor,JW=Object.getOwnPropertyNames,QW=Object.getPrototypeOf,eY=Object.prototype.hasOwnProperty,tY=(t,e)=>{for(var n in e)_g(t,n,{get:e[n],enumerable:!0})},zR=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of JW(e))!eY.call(t,i)&&i!==n&&_g(t,i,{get:()=>e[i],enumerable:!(r=ZW(e,i))||r.enumerable});return t},nY=(t,e,n)=>(n=t!=null?qW(QW(t)):{},zR(e||!t||!t.__esModule?_g(n,"default",{value:t,enumerable:!0}):n,t)),rY=t=>zR(_g({},"__esModule",{value:!0}),t),jR={};tY(jR,{Overlay:()=>WR,default:()=>lY,overlayProps:()=>aY.overlayProps});var iY=rY(jR),oY=jn,sY=nY(HR),aY=HR;const WR=(0,oY.withInstall)(sY.default);var lY=WR,jx=Object.defineProperty,uY=Object.getOwnPropertyDescriptor,cY=Object.getOwnPropertyNames,fY=Object.prototype.hasOwnProperty,dY=(t,e)=>{for(var n in e)jx(t,n,{get:e[n],enumerable:!0})},hY=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of cY(e))!fY.call(t,i)&&i!==n&&jx(t,i,{get:()=>e[i],enumerable:!(r=uY(e,i))||r.enumerable});return t},pY=t=>hY(jx({},"__esModule",{value:!0}),t),YR={};dY(YR,{default:()=>CY,popupProps:()=>KR});var XR=pY(YR),Vt=zn,gY=Xj,Ho=jn,mY=pg,vY=lR,yY=fW,_Y=FR,bY=PW,xY=_R,CS=NW,wY=OR,EY=iY;const KR=(0,Ho.extend)({},gY.popupSharedProps,{round:Boolean,position:(0,Ho.makeStringProp)("center"),closeIcon:(0,Ho.makeStringProp)("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:(0,Ho.makeStringProp)("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[SY,AS]=(0,Ho.createNamespace)("popup");var CY=(0,Vt.defineComponent)({name:SY,inheritAttrs:!1,props:KR,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(t,{emit:e,attrs:n,slots:r}){let i,o;const s=(0,Vt.ref)(),a=(0,Vt.ref)(),l=(0,_Y.useLazyRender)(()=>t.show||!t.lazyRender),u=(0,Vt.computed)(()=>{const w={zIndex:s.value};if((0,Ho.isDef)(t.duration)){const E=t.position==="center"?"animationDuration":"transitionDuration";w[E]=`${t.duration}s`}return w}),c=()=>{i||(i=!0,s.value=t.zIndex!==void 0?+t.zIndex:(0,xY.useGlobalZIndex)(),e("open"))},f=()=>{i&&(0,Ho.callInterceptor)(t.beforeClose,{done(){i=!1,e("close"),e("update:show",!1)}})},d=w=>{e("clickOverlay",w),t.closeOnClickOverlay&&f()},h=()=>{if(t.overlay){const w=(0,Ho.extend)({show:t.show,class:t.overlayClass,zIndex:s.value,duration:t.duration,customStyle:t.overlayStyle,role:t.closeOnClickOverlay?"button":void 0,tabindex:t.closeOnClickOverlay?0:void 0},t.overlayProps);return(0,Vt.createVNode)(EY.Overlay,(0,Vt.mergeProps)(w,(0,CS.useScopeId)(),{onClick:d}),{default:r["overlay-content"]})}},p=w=>{e("clickCloseIcon",w),f()},y=()=>{if(t.closeable)return(0,Vt.createVNode)(wY.Icon,{role:"button",tabindex:0,name:t.closeIcon,class:[AS("close-icon",t.closeIconPosition),Ho.HAPTICS_FEEDBACK],classPrefix:t.iconPrefix,onClick:p},null)};let v;const g=()=>{v&&clearTimeout(v),v=setTimeout(()=>{e("opened")})},m=()=>e("closed"),_=w=>e("keydown",w),b=l(()=>{var w;const{destroyOnClose:E,round:S,position:P,safeAreaInsetTop:C,safeAreaInsetBottom:A,show:T}=t;if(!(!T&&E))return(0,Vt.withDirectives)((0,Vt.createVNode)("div",(0,Vt.mergeProps)({ref:a,style:u.value,role:"dialog",tabindex:0,class:[AS({round:S,[P]:P}),{"van-safe-area-top":C,"van-safe-area-bottom":A}],onKeydown:_},n,(0,CS.useScopeId)()),[(w=r.default)==null?void 0:w.call(r),y()]),[[Vt.vShow,T]])}),x=()=>{const{position:w,transition:E,transitionAppear:S}=t,P=w==="center"?"van-fade":`van-popup-slide-${w}`;return(0,Vt.createVNode)(Vt.Transition,{name:E||P,appear:S,onAfterEnter:g,onAfterLeave:m},{default:b})};return(0,Vt.watch)(()=>t.show,w=>{w&&!i&&(c(),n.tabindex===0&&(0,Vt.nextTick)(()=>{var E;(E=a.value)==null||E.focus()})),!w&&i&&(i=!1,e("close"))}),(0,vY.useExpose)({popupRef:a}),(0,yY.useLockScroll)(a,()=>t.show&&t.lockScroll),(0,mY.useEventListener)("popstate",()=>{t.closeOnPopstate&&(f(),o=!1)}),(0,Vt.onMounted)(()=>{t.show&&c()}),(0,Vt.onActivated)(()=>{o&&(e("update:show",!0),o=!1)}),(0,Vt.onDeactivated)(()=>{t.show&&t.teleport&&(f(),o=!0)}),(0,Vt.provide)(bY.POPUP_TOGGLE_KEY,()=>t.show),()=>t.teleport?(0,Vt.createVNode)(Vt.Teleport,{to:t.teleport},{default:()=>[h(),x()]}):(0,Vt.createVNode)(Vt.Fragment,null,[h(),x()])}}),AY=Object.create,bg=Object.defineProperty,TY=Object.getOwnPropertyDescriptor,PY=Object.getOwnPropertyNames,IY=Object.getPrototypeOf,OY=Object.prototype.hasOwnProperty,RY=(t,e)=>{for(var n in e)bg(t,n,{get:e[n],enumerable:!0})},qR=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of PY(e))!OY.call(t,i)&&i!==n&&bg(t,i,{get:()=>e[i],enumerable:!(r=TY(e,i))||r.enumerable});return t},MY=(t,e,n)=>(n=t!=null?AY(IY(t)):{},qR(e||!t||!t.__esModule?bg(n,"default",{value:t,enumerable:!0}):n,t)),DY=t=>qR(bg({},"__esModule",{value:!0}),t),ZR={};RY(ZR,{Popup:()=>JR,default:()=>LY,popupProps:()=>FY.popupProps});var BY=DY(ZR),kY=jn,NY=MY(XR),FY=XR;const JR=(0,kY.withInstall)(NY.default);var LY=JR,Wx=Object.defineProperty,$Y=Object.getOwnPropertyDescriptor,UY=Object.getOwnPropertyNames,GY=Object.prototype.hasOwnProperty,HY=(t,e)=>{for(var n in e)Wx(t,n,{get:e[n],enumerable:!0})},VY=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of UY(e))!GY.call(t,i)&&i!==n&&Wx(t,i,{get:()=>e[i],enumerable:!(r=$Y(e,i))||r.enumerable});return t},zY=t=>VY(Wx({},"__esModule",{value:!0}),t),QR={};HY(QR,{default:()=>XY,loadingProps:()=>tM});var eM=zY(QR),Os=zn,el=jn;const[jY,mf]=(0,el.createNamespace)("loading"),WY=Array(12).fill(null).map((t,e)=>(0,Os.createVNode)("i",{class:mf("line",String(e+1))},null)),YY=(0,Os.createVNode)("svg",{class:mf("circular"),viewBox:"25 25 50 50"},[(0,Os.createVNode)("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),tM={size:el.numericProp,type:(0,el.makeStringProp)("circular"),color:String,vertical:Boolean,textSize:el.numericProp,textColor:String};var XY=(0,Os.defineComponent)({name:jY,props:tM,setup(t,{slots:e}){const n=(0,Os.computed)(()=>(0,el.extend)({color:t.color},(0,el.getSizeStyle)(t.size))),r=()=>{const o=t.type==="spinner"?WY:YY;return(0,Os.createVNode)("span",{class:mf("spinner",t.type),style:n.value},[e.icon?e.icon():o])},i=()=>{var o;if(e.default)return(0,Os.createVNode)("span",{class:mf("text"),style:{fontSize:(0,el.addUnit)(t.textSize),color:(o=t.textColor)!=null?o:t.color}},[e.default()])};return()=>{const{type:o,vertical:s}=t;return(0,Os.createVNode)("div",{class:mf([o,{vertical:s}]),"aria-live":"polite","aria-busy":!0},[r(),i()])}}}),KY=Object.create,xg=Object.defineProperty,qY=Object.getOwnPropertyDescriptor,ZY=Object.getOwnPropertyNames,JY=Object.getPrototypeOf,QY=Object.prototype.hasOwnProperty,eX=(t,e)=>{for(var n in e)xg(t,n,{get:e[n],enumerable:!0})},nM=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ZY(e))!QY.call(t,i)&&i!==n&&xg(t,i,{get:()=>e[i],enumerable:!(r=qY(e,i))||r.enumerable});return t},tX=(t,e,n)=>(n=t!=null?KY(JY(t)):{},nM(e||!t||!t.__esModule?xg(n,"default",{value:t,enumerable:!0}):n,t)),nX=t=>nM(xg({},"__esModule",{value:!0}),t),rM={};eX(rM,{Loading:()=>iM,default:()=>aX,loadingProps:()=>sX.loadingProps});var rX=nX(rM),iX=jn,oX=tX(eM),sX=eM;const iM=(0,iX.withInstall)(oX.default);var aX=iM,Yx=Object.defineProperty,lX=Object.getOwnPropertyDescriptor,uX=Object.getOwnPropertyNames,cX=Object.prototype.hasOwnProperty,fX=(t,e)=>{for(var n in e)Yx(t,n,{get:e[n],enumerable:!0})},dX=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of uX(e))!cX.call(t,i)&&i!==n&&Yx(t,i,{get:()=>e[i],enumerable:!(r=lX(e,i))||r.enumerable});return t},hX=t=>dX(Yx({},"__esModule",{value:!0}),t),oM={};fX(oM,{default:()=>xX,toastProps:()=>sM});var pX=hX(oM),ti=zn,si=jn,gX=Oz,mX=OR,vX=BY,yX=rX;const[_X,Vl]=(0,si.createNamespace)("toast"),bX=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],sM={icon:String,show:Boolean,type:(0,si.makeStringProp)("text"),overlay:Boolean,message:si.numericProp,iconSize:si.numericProp,duration:(0,si.makeNumberProp)(2e3),position:(0,si.makeStringProp)("middle"),teleport:[String,Object],wordBreak:String,className:si.unknownProp,iconPrefix:String,transition:(0,si.makeStringProp)("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:si.unknownProp,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:si.numericProp};var xX=(0,ti.defineComponent)({name:_X,props:sM,emits:["update:show"],setup(t,{emit:e,slots:n}){let r,i=!1;const o=()=>{const f=t.show&&t.forbidClick;i!==f&&(i=f,(0,gX.lockClick)(i))},s=f=>e("update:show",f),a=()=>{t.closeOnClick&&s(!1)},l=()=>clearTimeout(r),u=()=>{const{icon:f,type:d,iconSize:h,iconPrefix:p,loadingType:y}=t;if(f||d==="success"||d==="fail")return(0,ti.createVNode)(mX.Icon,{name:f||d,size:h,class:Vl("icon"),classPrefix:p},null);if(d==="loading")return(0,ti.createVNode)(yX.Loading,{class:Vl("loading"),size:h,type:y},null)},c=()=>{const{type:f,message:d}=t;if(n.message)return(0,ti.createVNode)("div",{class:Vl("text")},[n.message()]);if((0,si.isDef)(d)&&d!=="")return f==="html"?(0,ti.createVNode)("div",{key:0,class:Vl("text"),innerHTML:String(d)},null):(0,ti.createVNode)("div",{class:Vl("text")},[d])};return(0,ti.watch)(()=>[t.show,t.forbidClick],o),(0,ti.watch)(()=>[t.show,t.type,t.message,t.duration],()=>{l(),t.show&&t.duration>0&&(r=setTimeout(()=>{s(!1)},t.duration))}),(0,ti.onMounted)(o),(0,ti.onUnmounted)(o),()=>(0,ti.createVNode)(vX.Popup,(0,ti.mergeProps)({class:[Vl([t.position,t.wordBreak==="normal"?"break-normal":t.wordBreak,{[t.type]:!t.icon}]),t.className],lockScroll:!1,onClick:a,onClosed:l,"onUpdate:show":s},(0,si.pick)(t,bX)),{default:()=>[u(),c()]})}}),wX=Object.create,wg=Object.defineProperty,EX=Object.getOwnPropertyDescriptor,SX=Object.getOwnPropertyNames,CX=Object.getPrototypeOf,AX=Object.prototype.hasOwnProperty,TX=(t,e)=>{for(var n in e)wg(t,n,{get:e[n],enumerable:!0})},aM=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of SX(e))!AX.call(t,i)&&i!==n&&wg(t,i,{get:()=>e[i],enumerable:!(r=EX(e,i))||r.enumerable});return t},PX=(t,e,n)=>(n=t!=null?wX(CX(t)):{},aM(e||!t||!t.__esModule?wg(n,"default",{value:t,enumerable:!0}):n,t)),IX=t=>aM(wg({},"__esModule",{value:!0}),t),lM={};TX(lM,{allowMultipleToast:()=>$X,closeToast:()=>NX,resetToastDefaultOptions:()=>LX,setToastDefaultOptions:()=>FX,showFailToast:()=>kX,showLoadingToast:()=>DX,showSuccessToast:()=>BX,showToast:()=>fM});var ZAe=IX(lM),Tc=zn,cl=jn,TS=_z,OX=PX(pX);const uM={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Ti=[],Eg=!1,t0=(0,cl.extend)({},uM);const n0=new Map;function cM(t){return(0,cl.isObject)(t)?t:{message:t}}function RX(){const{instance:t,unmount:e}=(0,TS.mountComponent)({setup(){const n=(0,Tc.ref)(""),{open:r,state:i,close:o,toggle:s}=(0,TS.usePopupState)(),a=()=>{Eg&&(Ti=Ti.filter(u=>u!==t),e())},l=()=>{const u={onClosed:a,"onUpdate:show":s};return(0,Tc.createVNode)(OX.default,(0,Tc.mergeProps)(i,u),null)};return(0,Tc.watch)(n,u=>{i.message=u}),(0,Tc.getCurrentInstance)().render=l,{open:r,close:o,message:n}}});return t}function MX(){if(!Ti.length||Eg){const t=RX();Ti.push(t)}return Ti[Ti.length-1]}function fM(t={}){if(!cl.inBrowser)return{};const e=MX(),n=cM(t);return e.open((0,cl.extend)({},t0,n0.get(n.type||t0.type),n)),e}const Xx=t=>e=>fM((0,cl.extend)({type:t},cM(e))),DX=Xx("loading"),BX=Xx("success"),kX=Xx("fail"),NX=t=>{var e;Ti.length&&(t?(Ti.forEach(n=>{n.close()}),Ti=[]):Eg?(e=Ti.shift())==null||e.close():Ti[0].close())};function FX(t,e){typeof t=="string"?n0.set(t,e):(0,cl.extend)(t0,t)}const LX=t=>{typeof t=="string"?n0.delete(t):(t0=(0,cl.extend)({},uM),n0.clear())},$X=(t=!0)=>{Eg=t};var dM={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(n){var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(g,m){var _=g[0],b=g[1],x=g[2],w=g[3];_+=(b&x|~b&w)+m[0]-680876936|0,_=(_<<7|_>>>25)+b|0,w+=(_&b|~_&x)+m[1]-389564586|0,w=(w<<12|w>>>20)+_|0,x+=(w&_|~w&b)+m[2]+606105819|0,x=(x<<17|x>>>15)+w|0,b+=(x&w|~x&_)+m[3]-1044525330|0,b=(b<<22|b>>>10)+x|0,_+=(b&x|~b&w)+m[4]-176418897|0,_=(_<<7|_>>>25)+b|0,w+=(_&b|~_&x)+m[5]+1200080426|0,w=(w<<12|w>>>20)+_|0,x+=(w&_|~w&b)+m[6]-1473231341|0,x=(x<<17|x>>>15)+w|0,b+=(x&w|~x&_)+m[7]-45705983|0,b=(b<<22|b>>>10)+x|0,_+=(b&x|~b&w)+m[8]+1770035416|0,_=(_<<7|_>>>25)+b|0,w+=(_&b|~_&x)+m[9]-1958414417|0,w=(w<<12|w>>>20)+_|0,x+=(w&_|~w&b)+m[10]-42063|0,x=(x<<17|x>>>15)+w|0,b+=(x&w|~x&_)+m[11]-1990404162|0,b=(b<<22|b>>>10)+x|0,_+=(b&x|~b&w)+m[12]+1804603682|0,_=(_<<7|_>>>25)+b|0,w+=(_&b|~_&x)+m[13]-40341101|0,w=(w<<12|w>>>20)+_|0,x+=(w&_|~w&b)+m[14]-1502002290|0,x=(x<<17|x>>>15)+w|0,b+=(x&w|~x&_)+m[15]+1236535329|0,b=(b<<22|b>>>10)+x|0,_+=(b&w|x&~w)+m[1]-165796510|0,_=(_<<5|_>>>27)+b|0,w+=(_&x|b&~x)+m[6]-1069501632|0,w=(w<<9|w>>>23)+_|0,x+=(w&b|_&~b)+m[11]+643717713|0,x=(x<<14|x>>>18)+w|0,b+=(x&_|w&~_)+m[0]-373897302|0,b=(b<<20|b>>>12)+x|0,_+=(b&w|x&~w)+m[5]-701558691|0,_=(_<<5|_>>>27)+b|0,w+=(_&x|b&~x)+m[10]+38016083|0,w=(w<<9|w>>>23)+_|0,x+=(w&b|_&~b)+m[15]-660478335|0,x=(x<<14|x>>>18)+w|0,b+=(x&_|w&~_)+m[4]-405537848|0,b=(b<<20|b>>>12)+x|0,_+=(b&w|x&~w)+m[9]+568446438|0,_=(_<<5|_>>>27)+b|0,w+=(_&x|b&~x)+m[14]-1019803690|0,w=(w<<9|w>>>23)+_|0,x+=(w&b|_&~b)+m[3]-187363961|0,x=(x<<14|x>>>18)+w|0,b+=(x&_|w&~_)+m[8]+1163531501|0,b=(b<<20|b>>>12)+x|0,_+=(b&w|x&~w)+m[13]-1444681467|0,_=(_<<5|_>>>27)+b|0,w+=(_&x|b&~x)+m[2]-51403784|0,w=(w<<9|w>>>23)+_|0,x+=(w&b|_&~b)+m[7]+1735328473|0,x=(x<<14|x>>>18)+w|0,b+=(x&_|w&~_)+m[12]-1926607734|0,b=(b<<20|b>>>12)+x|0,_+=(b^x^w)+m[5]-378558|0,_=(_<<4|_>>>28)+b|0,w+=(_^b^x)+m[8]-2022574463|0,w=(w<<11|w>>>21)+_|0,x+=(w^_^b)+m[11]+1839030562|0,x=(x<<16|x>>>16)+w|0,b+=(x^w^_)+m[14]-35309556|0,b=(b<<23|b>>>9)+x|0,_+=(b^x^w)+m[1]-1530992060|0,_=(_<<4|_>>>28)+b|0,w+=(_^b^x)+m[4]+1272893353|0,w=(w<<11|w>>>21)+_|0,x+=(w^_^b)+m[7]-155497632|0,x=(x<<16|x>>>16)+w|0,b+=(x^w^_)+m[10]-1094730640|0,b=(b<<23|b>>>9)+x|0,_+=(b^x^w)+m[13]+681279174|0,_=(_<<4|_>>>28)+b|0,w+=(_^b^x)+m[0]-358537222|0,w=(w<<11|w>>>21)+_|0,x+=(w^_^b)+m[3]-722521979|0,x=(x<<16|x>>>16)+w|0,b+=(x^w^_)+m[6]+76029189|0,b=(b<<23|b>>>9)+x|0,_+=(b^x^w)+m[9]-640364487|0,_=(_<<4|_>>>28)+b|0,w+=(_^b^x)+m[12]-421815835|0,w=(w<<11|w>>>21)+_|0,x+=(w^_^b)+m[15]+530742520|0,x=(x<<16|x>>>16)+w|0,b+=(x^w^_)+m[2]-995338651|0,b=(b<<23|b>>>9)+x|0,_+=(x^(b|~w))+m[0]-198630844|0,_=(_<<6|_>>>26)+b|0,w+=(b^(_|~x))+m[7]+1126891415|0,w=(w<<10|w>>>22)+_|0,x+=(_^(w|~b))+m[14]-1416354905|0,x=(x<<15|x>>>17)+w|0,b+=(w^(x|~_))+m[5]-57434055|0,b=(b<<21|b>>>11)+x|0,_+=(x^(b|~w))+m[12]+1700485571|0,_=(_<<6|_>>>26)+b|0,w+=(b^(_|~x))+m[3]-1894986606|0,w=(w<<10|w>>>22)+_|0,x+=(_^(w|~b))+m[10]-1051523|0,x=(x<<15|x>>>17)+w|0,b+=(w^(x|~_))+m[1]-2054922799|0,b=(b<<21|b>>>11)+x|0,_+=(x^(b|~w))+m[8]+1873313359|0,_=(_<<6|_>>>26)+b|0,w+=(b^(_|~x))+m[15]-30611744|0,w=(w<<10|w>>>22)+_|0,x+=(_^(w|~b))+m[6]-1560198380|0,x=(x<<15|x>>>17)+w|0,b+=(w^(x|~_))+m[13]+1309151649|0,b=(b<<21|b>>>11)+x|0,_+=(x^(b|~w))+m[4]-145523070|0,_=(_<<6|_>>>26)+b|0,w+=(b^(_|~x))+m[11]-1120210379|0,w=(w<<10|w>>>22)+_|0,x+=(_^(w|~b))+m[2]+718787259|0,x=(x<<15|x>>>17)+w|0,b+=(w^(x|~_))+m[9]-343485551|0,b=(b<<21|b>>>11)+x|0,g[0]=_+g[0]|0,g[1]=b+g[1]|0,g[2]=x+g[2]|0,g[3]=w+g[3]|0}function o(g){var m=[],_;for(_=0;_<64;_+=4)m[_>>2]=g.charCodeAt(_)+(g.charCodeAt(_+1)<<8)+(g.charCodeAt(_+2)<<16)+(g.charCodeAt(_+3)<<24);return m}function s(g){var m=[],_;for(_=0;_<64;_+=4)m[_>>2]=g[_]+(g[_+1]<<8)+(g[_+2]<<16)+(g[_+3]<<24);return m}function a(g){var m=g.length,_=[1732584193,-271733879,-1732584194,271733878],b,x,w,E,S,P;for(b=64;b<=m;b+=64)i(_,o(g.substring(b-64,b)));for(g=g.substring(b-64),x=g.length,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b=0;b<x;b+=1)w[b>>2]|=g.charCodeAt(b)<<(b%4<<3);if(w[b>>2]|=128<<(b%4<<3),b>55)for(i(_,w),b=0;b<16;b+=1)w[b]=0;return E=m*8,E=E.toString(16).match(/(.*?)(.{0,8})$/),S=parseInt(E[2],16),P=parseInt(E[1],16)||0,w[14]=S,w[15]=P,i(_,w),_}function l(g){var m=g.length,_=[1732584193,-271733879,-1732584194,271733878],b,x,w,E,S,P;for(b=64;b<=m;b+=64)i(_,s(g.subarray(b-64,b)));for(g=b-64<m?g.subarray(b-64):new Uint8Array(0),x=g.length,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b=0;b<x;b+=1)w[b>>2]|=g[b]<<(b%4<<3);if(w[b>>2]|=128<<(b%4<<3),b>55)for(i(_,w),b=0;b<16;b+=1)w[b]=0;return E=m*8,E=E.toString(16).match(/(.*?)(.{0,8})$/),S=parseInt(E[2],16),P=parseInt(E[1],16)||0,w[14]=S,w[15]=P,i(_,w),_}function u(g){var m="",_;for(_=0;_<4;_+=1)m+=r[g>>_*8+4&15]+r[g>>_*8&15];return m}function c(g){var m;for(m=0;m<g.length;m+=1)g[m]=u(g[m]);return g.join("")}c(a("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function g(m,_){return m=m|0||0,m<0?Math.max(m+_,0):Math.min(m,_)}ArrayBuffer.prototype.slice=function(m,_){var b=this.byteLength,x=g(m,b),w=b,E,S,P,C;return _!==n&&(w=g(_,b)),x>w?new ArrayBuffer(0):(E=w-x,S=new ArrayBuffer(E),P=new Uint8Array(S),C=new Uint8Array(this,x,E),P.set(C),S)}}();function f(g){return/[\u0080-\uFFFF]/.test(g)&&(g=unescape(encodeURIComponent(g))),g}function d(g,m){var _=g.length,b=new ArrayBuffer(_),x=new Uint8Array(b),w;for(w=0;w<_;w+=1)x[w]=g.charCodeAt(w);return m?x:b}function h(g){return String.fromCharCode.apply(null,new Uint8Array(g))}function p(g,m,_){var b=new Uint8Array(g.byteLength+m.byteLength);return b.set(new Uint8Array(g)),b.set(new Uint8Array(m),g.byteLength),_?b:b.buffer}function y(g){var m=[],_=g.length,b;for(b=0;b<_-1;b+=2)m.push(parseInt(g.substr(b,2),16));return String.fromCharCode.apply(String,m)}function v(){this.reset()}return v.prototype.append=function(g){return this.appendBinary(f(g)),this},v.prototype.appendBinary=function(g){this._buff+=g,this._length+=g.length;var m=this._buff.length,_;for(_=64;_<=m;_+=64)i(this._hash,o(this._buff.substring(_-64,_)));return this._buff=this._buff.substring(_-64),this},v.prototype.end=function(g){var m=this._buff,_=m.length,b,x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w;for(b=0;b<_;b+=1)x[b>>2]|=m.charCodeAt(b)<<(b%4<<3);return this._finish(x,_),w=c(this._hash),g&&(w=y(w)),this.reset(),w},v.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},v.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},v.prototype.setState=function(g){return this._buff=g.buff,this._length=g.length,this._hash=g.hash,this},v.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},v.prototype._finish=function(g,m){var _=m,b,x,w;if(g[_>>2]|=128<<(_%4<<3),_>55)for(i(this._hash,g),_=0;_<16;_+=1)g[_]=0;b=this._length*8,b=b.toString(16).match(/(.*?)(.{0,8})$/),x=parseInt(b[2],16),w=parseInt(b[1],16)||0,g[14]=x,g[15]=w,i(this._hash,g)},v.hash=function(g,m){return v.hashBinary(f(g),m)},v.hashBinary=function(g,m){var _=a(g),b=c(_);return m?y(b):b},v.ArrayBuffer=function(){this.reset()},v.ArrayBuffer.prototype.append=function(g){var m=p(this._buff.buffer,g,!0),_=m.length,b;for(this._length+=g.byteLength,b=64;b<=_;b+=64)i(this._hash,s(m.subarray(b-64,b)));return this._buff=b-64<_?new Uint8Array(m.buffer.slice(b-64)):new Uint8Array(0),this},v.ArrayBuffer.prototype.end=function(g){var m=this._buff,_=m.length,b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x,w;for(x=0;x<_;x+=1)b[x>>2]|=m[x]<<(x%4<<3);return this._finish(b,_),w=c(this._hash),g&&(w=y(w)),this.reset(),w},v.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},v.ArrayBuffer.prototype.getState=function(){var g=v.prototype.getState.call(this);return g.buff=h(g.buff),g},v.ArrayBuffer.prototype.setState=function(g){return g.buff=d(g.buff,!0),v.prototype.setState.call(this,g)},v.ArrayBuffer.prototype.destroy=v.prototype.destroy,v.ArrayBuffer.prototype._finish=v.prototype._finish,v.ArrayBuffer.hash=function(g,m){var _=l(new Uint8Array(g)),b=c(_);return m?y(b):b},v})})(dM);var UX=dM.exports;const JAe=lc(UX);var Nm={exports:{}},PS;function Kx(){return PS||(PS=1,function(t,e){(function(n,r){t.exports=r()})(ul,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",a="minute",l="hour",u="day",c="week",f="month",d="quarter",h="year",p="date",y="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(N){var G=["th","st","nd","rd"],k=N%100;return"["+N+(G[(k-20)%10]||G[k]||G[0])+"]"}},_=function(N,G,k){var U=String(N);return!U||U.length>=G?N:""+Array(G+1-U.length).join(k)+N},b={s:_,z:function(N){var G=-N.utcOffset(),k=Math.abs(G),U=Math.floor(k/60),W=k%60;return(G<=0?"+":"-")+_(U,2,"0")+":"+_(W,2,"0")},m:function N(G,k){if(G.date()<k.date())return-N(k,G);var U=12*(k.year()-G.year())+(k.month()-G.month()),W=G.clone().add(U,f),K=k-W<0,fe=G.clone().add(U+(K?-1:1),f);return+(-(U+(k-W)/(K?W-fe:fe-W))||0)},a:function(N){return N<0?Math.ceil(N)||0:Math.floor(N)},p:function(N){return{M:f,y:h,w:c,d:u,D:p,h:l,m:a,s,ms:o,Q:d}[N]||String(N||"").toLowerCase().replace(/s$/,"")},u:function(N){return N===void 0}},x="en",w={};w[x]=m;var E="$isDayjsObject",S=function(N){return N instanceof T||!(!N||!N[E])},P=function N(G,k,U){var W;if(!G)return x;if(typeof G=="string"){var K=G.toLowerCase();w[K]&&(W=K),k&&(w[K]=k,W=K);var fe=G.split("-");if(!W&&fe.length>1)return N(fe[0])}else{var ce=G.name;w[ce]=G,W=ce}return!U&&W&&(x=W),W||!U&&x},C=function(N,G){if(S(N))return N.clone();var k=typeof G=="object"?G:{};return k.date=N,k.args=arguments,new T(k)},A=b;A.l=P,A.i=S,A.w=function(N,G){return C(N,{locale:G.$L,utc:G.$u,x:G.$x,$offset:G.$offset})};var T=function(){function N(k){this.$L=P(k.locale,null,!0),this.parse(k),this.$x=this.$x||k.x||{},this[E]=!0}var G=N.prototype;return G.parse=function(k){this.$d=function(U){var W=U.date,K=U.utc;if(W===null)return new Date(NaN);if(A.u(W))return new Date;if(W instanceof Date)return new Date(W);if(typeof W=="string"&&!/Z$/i.test(W)){var fe=W.match(v);if(fe){var ce=fe[2]-1||0,X=(fe[7]||"0").substring(0,3);return K?new Date(Date.UTC(fe[1],ce,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,X)):new Date(fe[1],ce,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,X)}}return new Date(W)}(k),this.init()},G.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},G.$utils=function(){return A},G.isValid=function(){return this.$d.toString()!==y},G.isSame=function(k,U){var W=C(k);return this.startOf(U)<=W&&W<=this.endOf(U)},G.isAfter=function(k,U){return C(k)<this.startOf(U)},G.isBefore=function(k,U){return this.endOf(U)<C(k)},G.$g=function(k,U,W){return A.u(k)?this[U]:this.set(W,k)},G.unix=function(){return Math.floor(this.valueOf()/1e3)},G.valueOf=function(){return this.$d.getTime()},G.startOf=function(k,U){var W=this,K=!!A.u(U)||U,fe=A.p(k),ce=function(J,de){var pe=A.w(W.$u?Date.UTC(W.$y,de,J):new Date(W.$y,de,J),W);return K?pe:pe.endOf(u)},X=function(J,de){return A.w(W.toDate()[J].apply(W.toDate("s"),(K?[0,0,0,0]:[23,59,59,999]).slice(de)),W)},ie=this.$W,ge=this.$M,F=this.$D,q="set"+(this.$u?"UTC":"");switch(fe){case h:return K?ce(1,0):ce(31,11);case f:return K?ce(1,ge):ce(0,ge+1);case c:var L=this.$locale().weekStart||0,ee=(ie<L?ie+7:ie)-L;return ce(K?F-ee:F+(6-ee),ge);case u:case p:return X(q+"Hours",0);case l:return X(q+"Minutes",1);case a:return X(q+"Seconds",2);case s:return X(q+"Milliseconds",3);default:return this.clone()}},G.endOf=function(k){return this.startOf(k,!1)},G.$set=function(k,U){var W,K=A.p(k),fe="set"+(this.$u?"UTC":""),ce=(W={},W[u]=fe+"Date",W[p]=fe+"Date",W[f]=fe+"Month",W[h]=fe+"FullYear",W[l]=fe+"Hours",W[a]=fe+"Minutes",W[s]=fe+"Seconds",W[o]=fe+"Milliseconds",W)[K],X=K===u?this.$D+(U-this.$W):U;if(K===f||K===h){var ie=this.clone().set(p,1);ie.$d[ce](X),ie.init(),this.$d=ie.set(p,Math.min(this.$D,ie.daysInMonth())).$d}else ce&&this.$d[ce](X);return this.init(),this},G.set=function(k,U){return this.clone().$set(k,U)},G.get=function(k){return this[A.p(k)]()},G.add=function(k,U){var W,K=this;k=Number(k);var fe=A.p(U),ce=function(ge){var F=C(K);return A.w(F.date(F.date()+Math.round(ge*k)),K)};if(fe===f)return this.set(f,this.$M+k);if(fe===h)return this.set(h,this.$y+k);if(fe===u)return ce(1);if(fe===c)return ce(7);var X=(W={},W[a]=r,W[l]=i,W[s]=n,W)[fe]||1,ie=this.$d.getTime()+k*X;return A.w(ie,this)},G.subtract=function(k,U){return this.add(-1*k,U)},G.format=function(k){var U=this,W=this.$locale();if(!this.isValid())return W.invalidDate||y;var K=k||"YYYY-MM-DDTHH:mm:ssZ",fe=A.z(this),ce=this.$H,X=this.$m,ie=this.$M,ge=W.weekdays,F=W.months,q=W.meridiem,L=function(de,pe,be,I){return de&&(de[pe]||de(U,K))||be[pe].slice(0,I)},ee=function(de){return A.s(ce%12||12,de,"0")},J=q||function(de,pe,be){var I=de<12?"AM":"PM";return be?I.toLowerCase():I};return K.replace(g,function(de,pe){return pe||function(be){switch(be){case"YY":return String(U.$y).slice(-2);case"YYYY":return A.s(U.$y,4,"0");case"M":return ie+1;case"MM":return A.s(ie+1,2,"0");case"MMM":return L(W.monthsShort,ie,F,3);case"MMMM":return L(F,ie);case"D":return U.$D;case"DD":return A.s(U.$D,2,"0");case"d":return String(U.$W);case"dd":return L(W.weekdaysMin,U.$W,ge,2);case"ddd":return L(W.weekdaysShort,U.$W,ge,3);case"dddd":return ge[U.$W];case"H":return String(ce);case"HH":return A.s(ce,2,"0");case"h":return ee(1);case"hh":return ee(2);case"a":return J(ce,X,!0);case"A":return J(ce,X,!1);case"m":return String(X);case"mm":return A.s(X,2,"0");case"s":return String(U.$s);case"ss":return A.s(U.$s,2,"0");case"SSS":return A.s(U.$ms,3,"0");case"Z":return fe}return null}(de)||fe.replace(":","")})},G.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},G.diff=function(k,U,W){var K,fe=this,ce=A.p(U),X=C(k),ie=(X.utcOffset()-this.utcOffset())*r,ge=this-X,F=function(){return A.m(fe,X)};switch(ce){case h:K=F()/12;break;case f:K=F();break;case d:K=F()/3;break;case c:K=(ge-ie)/6048e5;break;case u:K=(ge-ie)/864e5;break;case l:K=ge/i;break;case a:K=ge/r;break;case s:K=ge/n;break;default:K=ge}return W?K:A.a(K)},G.daysInMonth=function(){return this.endOf(f).$D},G.$locale=function(){return w[this.$L]},G.locale=function(k,U){if(!k)return this.$L;var W=this.clone(),K=P(k,U,!0);return K&&(W.$L=K),W},G.clone=function(){return A.w(this.$d,this)},G.toDate=function(){return new Date(this.valueOf())},G.toJSON=function(){return this.isValid()?this.toISOString():null},G.toISOString=function(){return this.$d.toISOString()},G.toString=function(){return this.$d.toUTCString()},N}(),R=T.prototype;return C.prototype=R,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",u],["$M",f],["$y",h],["$D",p]].forEach(function(N){R[N[1]]=function(G){return this.$g(G,N[0],N[1])}}),C.extend=function(N,G){return N.$i||(N(G,T,C),N.$i=!0),C},C.locale=P,C.isDayjs=S,C.unix=function(N){return C(1e3*N)},C.en=w[x],C.Ls=w,C.p={},C})}(Nm)),Nm.exports}var GX=Kx();const QAe=lc(GX);function $y(){}const We=Object.assign,ho=typeof window<"u",po=t=>t!==null&&typeof t=="object",Lt=t=>t!=null,ku=t=>typeof t=="function",qx=t=>po(t)&&ku(t.then)&&ku(t.catch),Yf=t=>Object.prototype.toString.call(t)==="[object Date]"&&!Number.isNaN(t.getTime()),hM=t=>typeof t=="number"||/^\d+(\.\d+)?$/.test(t),HX=()=>ho?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function IS(t,e){const n=e.split(".");let r=t;return n.forEach(i=>{var o;r=po(r)&&(o=r[i])!=null?o:""}),r}function $t(t,e,n){return e.reduce((r,i)=>((!n||t[i]!==void 0)&&(r[i]=t[i]),r),{})}const zs=(t,e)=>JSON.stringify(t)===JSON.stringify(e),r0=t=>Array.isArray(t)?t:[t],hn=null,Se=[Number,String],_e={type:Boolean,default:!0},cr=t=>({type:t,required:!0}),ts=()=>({type:Array,default:()=>[]}),Sg=t=>({type:Number,default:t}),ze=t=>({type:Se,default:t}),Me=t=>({type:String,default:t});function Nd(t){const e="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(e,0)}function i0(t,e){"scrollTop"in t?t.scrollTop=e:t.scrollTo(t.scrollX,e)}function Zx(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function Jx(t){i0(window,t),i0(document.body,t)}function OS(t,e){if(t===window)return 0;const n=e?Nd(e):Zx();return wn(t).top+n}const VX=HX();function pM(){VX&&Jx(Zx())}const gM=t=>t.stopPropagation();function Bn(t,e){(typeof t.cancelable!="boolean"||t.cancelable)&&t.preventDefault(),e&&gM(t)}function Nu(t){const e=dr(t);if(!e)return!1;const n=window.getComputedStyle(e),r=n.display==="none",i=e.offsetParent===null&&n.position!=="fixed";return r||i}const{width:jo,height:js}=k4();function tt(t){if(Lt(t))return hM(t)?`${t}px`:String(t)}function Ml(t){if(Lt(t)){if(Array.isArray(t))return{width:tt(t[0]),height:tt(t[1])};const e=tt(t);return{width:e,height:e}}}function mM(t){const e={};return t!==void 0&&(e.zIndex=+t),e}let Fm;function zX(){if(!Fm){const t=document.documentElement,e=t.style.fontSize||window.getComputedStyle(t).fontSize;Fm=parseFloat(e)}return Fm}function jX(t){return t=t.replace(/rem/g,""),+t*zX()}function WX(t){return t=t.replace(/vw/g,""),+t*jo.value/100}function YX(t){return t=t.replace(/vh/g,""),+t*js.value/100}function Qx(t){if(typeof t=="number")return t;if(ho){if(t.includes("rem"))return jX(t);if(t.includes("vw"))return WX(t);if(t.includes("vh"))return YX(t)}return parseFloat(t)}const XX=/-(\w)/g,vM=t=>t.replace(XX,(e,n)=>n.toUpperCase());function ka(t,e=2){let n=t+"";for(;n.length<e;)n="0"+n;return n}const $n=(t,e,n)=>Math.min(Math.max(t,e),n);function RS(t,e,n){const r=t.indexOf(e);return r===-1?t:e==="-"&&r!==0?t.slice(0,r):t.slice(0,r+1)+t.slice(r).replace(n,"")}function Uy(t,e=!0,n=!0){e?t=RS(t,".",/\./g):t=t.split(".")[0],n?t=RS(t,"-",/-/g):t=t.replace(/-/,"");const r=e?/[^-0-9.]/g:/[^-0-9]/g;return t.replace(r,"")}function yM(t,e){return Math.round((t+e)*1e10)/1e10}const{hasOwnProperty:KX}=Object.prototype;function qX(t,e,n){const r=e[n];Lt(r)&&(!KX.call(t,n)||!po(r)?t[n]=r:t[n]=_M(Object(t[n]),r))}function _M(t,e){return Object.keys(e).forEach(n=>{qX(t,e,n)}),t}var ZX={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(t,e)=>`${t}年${e}月`,rangePrompt:t=>`最多选择 ${t} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:t=>`${t}折`,condition:t=>`满${t}元可用`},vanCouponCell:{title:"优惠券",count:t=>`${t}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const MS=Z("zh-CN"),DS=Mt({"zh-CN":ZX}),JX={messages(){return DS[MS.value]},use(t,e){MS.value=t,this.add({[t]:e})},add(t={}){_M(DS,t)}};var QX=JX;function eK(t){const e=vM(t)+".";return(n,...r)=>{const i=QX.messages(),o=IS(i,e+n)||IS(i,n);return ku(o)?o(...r):o}}function Gy(t,e){return e?typeof e=="string"?` ${t}--${e}`:Array.isArray(e)?e.reduce((n,r)=>n+Gy(t,r),""):Object.keys(e).reduce((n,r)=>n+(e[r]?Gy(t,r):""),""):""}function tK(t){return(e,n)=>(e&&typeof e!="string"&&(n=e,e=""),e=e?`${t}__${e}`:t,`${e}${Gy(e,n)}`)}function Te(t){const e=`van-${t}`;return[e,tK(e),eK(e)]}const la="van-hairline",bM=`${la}--top`,nK=`${la}--left`,rK=`${la}--right`,iK=`${la}--bottom`,wp=`${la}--surround`,xM=`${la}--top-bottom`,oK=`${la}-unset--top-bottom`,ns="van-haptics-feedback",wM=Symbol("van-form"),EM=500,BS=5;function cc(t,{args:e=[],done:n,canceled:r,error:i}){if(t){const o=t.apply(null,e);qx(o)?o.then(s=>{s?n():r&&r()}).catch(i||$y):o?n():r&&r()}else n()}function De(t){return t.install=e=>{const{name:n}=t;n&&(e.component(n,t),e.component(vM(`-${n}`),t))},t}function kS(t,e){return t.reduce((n,r)=>Math.abs(n-e)<Math.abs(r-e)?n:r)}const SM=Symbol();function ew(t){const e=dn(SM,null);e&&ve(e,n=>{n&&t()})}const CM=(t,e)=>{const n=Z(),r=()=>{n.value=wn(t).height};return Ht(()=>{if(Xe(r),e)for(let i=1;i<=3;i++)setTimeout(r,100*i)}),ew(()=>Xe(r)),ve([jo,js],r),n};function sK(t,e){const n=CM(t,!0);return r=>O("div",{class:e("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[r()])}const[AM,NS]=Te("action-bar"),TM=Symbol(AM),aK={placeholder:Boolean,safeAreaInsetBottom:_e};var lK=we({name:AM,props:aK,setup(t,{slots:e}){const n=Z(),r=sK(n,NS),{linkChildren:i}=$i(TM);i();const o=()=>{var s;return O("div",{ref:n,class:[NS(),{"van-safe-area-bottom":t.safeAreaInsetBottom}]},[(s=e.default)==null?void 0:s.call(e)])};return()=>t.placeholder?r(o):o()}});const uK=De(lK);function Kt(t){const e=yt();e&&We(e.proxy,t)}const fc={to:[String,Object],url:String,replace:Boolean};function PM({to:t,url:e,replace:n,$router:r}){t&&r?r[n?"replace":"push"](t):e&&(n?location.replace(e):location.href=e)}function Fd(){const t=yt().proxy;return()=>PM(t)}const[cK,FS]=Te("badge"),fK={dot:Boolean,max:Se,tag:Me("div"),color:String,offset:Array,content:Se,showZero:_e,position:Me("top-right")};var dK=we({name:cK,props:fK,setup(t,{slots:e}){const n=()=>{if(e.content)return!0;const{content:a,showZero:l}=t;return Lt(a)&&a!==""&&(l||a!==0&&a!=="0")},r=()=>{const{dot:a,max:l,content:u}=t;if(!a&&n())return e.content?e.content():Lt(l)&&hM(u)&&+u>+l?`${l}+`:u},i=a=>a.startsWith("-")?a.replace("-",""):`-${a}`,o=re(()=>{const a={background:t.color};if(t.offset){const[l,u]=t.offset,{position:c}=t,[f,d]=c.split("-");e.default?(typeof u=="number"?a[f]=tt(f==="top"?u:-u):a[f]=f==="top"?tt(u):i(u),typeof l=="number"?a[d]=tt(d==="left"?l:-l):a[d]=d==="left"?tt(l):i(l)):(a.marginTop=tt(u),a.marginLeft=tt(l))}return a}),s=()=>{if(n()||t.dot)return O("div",{class:FS([t.position,{dot:t.dot,fixed:!!e.default}]),style:o.value},[r()])};return()=>{if(e.default){const{tag:a}=t;return O(a,{class:FS("wrapper")},{default:()=>[e.default(),s()]})}return s()}}});const Cg=De(dK);let hK=2e3;const pK=()=>++hK,[gK,eTe]=Te("config-provider"),mK=Symbol(gK),[vK,LS]=Te("icon"),yK=t=>t==null?void 0:t.includes("/"),_K={dot:Boolean,tag:Me("i"),name:String,size:Se,badge:Se,color:String,badgeProps:Object,classPrefix:String};var bK=we({name:vK,props:_K,setup(t,{slots:e}){const n=dn(mK,null),r=re(()=>t.classPrefix||(n==null?void 0:n.iconPrefix)||LS());return()=>{const{tag:i,dot:o,name:s,size:a,badge:l,color:u}=t,c=yK(s);return O(Cg,st({dot:o,tag:i,class:[r.value,c?"":`${r.value}-${s}`],style:{color:u,fontSize:tt(a)},content:l},t.badgeProps),{default:()=>{var f;return[(f=e.default)==null?void 0:f.call(e),c&&O("img",{class:LS("image"),src:s},null)]}})}}});const tn=De(bK);var xK=tn;const[wK,vf]=Te("loading"),EK=Array(12).fill(null).map((t,e)=>O("i",{class:vf("line",String(e+1))},null)),SK=O("svg",{class:vf("circular"),viewBox:"25 25 50 50"},[O("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),CK={size:Se,type:Me("circular"),color:String,vertical:Boolean,textSize:Se,textColor:String};var AK=we({name:wK,props:CK,setup(t,{slots:e}){const n=re(()=>We({color:t.color},Ml(t.size))),r=()=>{const o=t.type==="spinner"?EK:SK;return O("span",{class:vf("spinner",t.type),style:n.value},[e.icon?e.icon():o])},i=()=>{var o;if(e.default)return O("span",{class:vf("text"),style:{fontSize:tt(t.textSize),color:(o=t.textColor)!=null?o:t.color}},[e.default()])};return()=>{const{type:o,vertical:s}=t;return O("div",{class:vf([o,{vertical:s}]),"aria-live":"polite","aria-busy":!0},[r(),i()])}}});const fs=De(AK),[TK,zl]=Te("button"),PK=We({},fc,{tag:Me("button"),text:String,icon:String,type:Me("default"),size:Me("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:Me("button"),loadingSize:Se,loadingText:String,loadingType:String,iconPosition:Me("left")});var IK=we({name:TK,props:PK,emits:["click"],setup(t,{emit:e,slots:n}){const r=Fd(),i=()=>n.loading?n.loading():O(fs,{size:t.loadingSize,type:t.loadingType,class:zl("loading")},null),o=()=>{if(t.loading)return i();if(n.icon)return O("div",{class:zl("icon")},[n.icon()]);if(t.icon)return O(tn,{name:t.icon,class:zl("icon"),classPrefix:t.iconPrefix},null)},s=()=>{let u;if(t.loading?u=t.loadingText:u=n.default?n.default():t.text,u)return O("span",{class:zl("text")},[u])},a=()=>{const{color:u,plain:c}=t;if(u){const f={color:c?u:"white"};return c||(f.background=u),u.includes("gradient")?f.border=0:f.borderColor=u,f}},l=u=>{t.loading?Bn(u):t.disabled||(e("click",u),r())};return()=>{const{tag:u,type:c,size:f,block:d,round:h,plain:p,square:y,loading:v,disabled:g,hairline:m,nativeType:_,iconPosition:b}=t,x=[zl([c,f,{plain:p,block:d,round:h,square:y,loading:v,disabled:g,hairline:m}]),{[wp]:m}];return O(u,{type:_,class:x,style:a(),disabled:g,onClick:l},{default:()=>[O("div",{class:zl("content")},[b==="left"&&o(),s(),b==="right"&&o()])]})}}});const o0=De(IK),[OK,RK]=Te("action-bar-button"),MK=We({},fc,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var DK=we({name:OK,props:MK,setup(t,{slots:e}){const n=Fd(),{parent:r,index:i}=Zr(TM),o=re(()=>{if(r){const a=r.children[i.value-1];return!(a&&"isButton"in a)}}),s=re(()=>{if(r){const a=r.children[i.value+1];return!(a&&"isButton"in a)}});return Kt({isButton:!0}),()=>{const{type:a,icon:l,text:u,color:c,loading:f,disabled:d}=t;return O(o0,{class:RK([a,{last:s.value,first:o.value}]),size:"large",type:a,icon:l,color:c,loading:f,disabled:d,onClick:n},{default:()=>[e.default?e.default():u]})}}});const $S=De(DK),Ld={show:Boolean,zIndex:Se,overlay:_e,duration:Se,teleport:[String,Object],lockScroll:_e,lazyRender:_e,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:hn,transitionAppear:Boolean,closeOnClickOverlay:_e},IM=Object.keys(Ld);function BK(t,e){return t>e?"horizontal":e>t?"vertical":""}function Dl(){const t=Z(0),e=Z(0),n=Z(0),r=Z(0),i=Z(0),o=Z(0),s=Z(""),a=Z(!0),l=()=>s.value==="vertical",u=()=>s.value==="horizontal",c=()=>{n.value=0,r.value=0,i.value=0,o.value=0,s.value="",a.value=!0};return{move:h=>{const p=h.touches[0];n.value=(p.clientX<0?0:p.clientX)-t.value,r.value=p.clientY-e.value,i.value=Math.abs(n.value),o.value=Math.abs(r.value);const y=10;(!s.value||i.value<y&&o.value<y)&&(s.value=BK(i.value,o.value)),a.value&&(i.value>BS||o.value>BS)&&(a.value=!1)},start:h=>{c(),t.value=h.touches[0].clientX,e.value=h.touches[0].clientY},reset:c,startX:t,startY:e,deltaX:n,deltaY:r,offsetX:i,offsetY:o,direction:s,isVertical:l,isHorizontal:u,isTap:a}}let Pc=0;const US="van-overflow-hidden";function kK(t,e){const n=Dl(),r="01",i="10",o=c=>{n.move(c);const f=n.deltaY.value>0?i:r,d=_x(c.target,t.value),{scrollHeight:h,offsetHeight:p,scrollTop:y}=d;let v="11";y===0?v=p>=h?"00":"01":y+p>=h&&(v="10"),v!=="11"&&n.isVertical()&&!(parseInt(v,2)&parseInt(f,2))&&Bn(c,!0)},s=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",o,{passive:!1}),Pc||document.body.classList.add(US),Pc++},a=()=>{Pc&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",o),Pc--,Pc||document.body.classList.remove(US))},l=()=>e()&&s(),u=()=>e()&&a();uc(l),bo(u),qr(u),ve(e,c=>{c?s():a()})}function tw(t){const e=Z(!1);return ve(t,n=>{n&&(e.value=n)},{immediate:!0}),n=>()=>e.value?n():null}const Hy=()=>{var t;const{scopeId:e}=((t=yt())==null?void 0:t.vnode)||{};return e?{[e]:""}:null},[NK,FK]=Te("overlay"),LK={show:Boolean,zIndex:Se,duration:Se,className:hn,lockScroll:_e,lazyRender:_e,customStyle:Object,teleport:[String,Object]};var $K=we({name:NK,inheritAttrs:!1,props:LK,setup(t,{attrs:e,slots:n}){const r=Z(),i=tw(()=>t.show||!t.lazyRender),o=a=>{t.lockScroll&&Bn(a,!0)},s=i(()=>{var a;const l=We(mM(t.zIndex),t.customStyle);return Lt(t.duration)&&(l.animationDuration=`${t.duration}s`),di(O("div",st({ref:r,style:l,class:[FK(),t.className]},e),[(a=n.default)==null?void 0:a.call(n)]),[[pi,t.show]])});return mr("touchmove",o,{target:r}),()=>{const a=O(Dd,{name:"van-fade",appear:!0},{default:s});return t.teleport?O(og,{to:t.teleport},{default:()=>[a]}):a}}});const UK=De($K),GK=We({},Ld,{round:Boolean,position:Me("center"),closeIcon:Me("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:Me("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[HK,GS]=Te("popup");var VK=we({name:HK,inheritAttrs:!1,props:GK,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(t,{emit:e,attrs:n,slots:r}){let i,o;const s=Z(),a=Z(),l=tw(()=>t.show||!t.lazyRender),u=re(()=>{const w={zIndex:s.value};if(Lt(t.duration)){const E=t.position==="center"?"animationDuration":"transitionDuration";w[E]=`${t.duration}s`}return w}),c=()=>{i||(i=!0,s.value=t.zIndex!==void 0?+t.zIndex:pK(),e("open"))},f=()=>{i&&cc(t.beforeClose,{done(){i=!1,e("close"),e("update:show",!1)}})},d=w=>{e("clickOverlay",w),t.closeOnClickOverlay&&f()},h=()=>{if(t.overlay){const w=We({show:t.show,class:t.overlayClass,zIndex:s.value,duration:t.duration,customStyle:t.overlayStyle,role:t.closeOnClickOverlay?"button":void 0,tabindex:t.closeOnClickOverlay?0:void 0},t.overlayProps);return O(UK,st(w,Hy(),{onClick:d}),{default:r["overlay-content"]})}},p=w=>{e("clickCloseIcon",w),f()},y=()=>{if(t.closeable)return O(tn,{role:"button",tabindex:0,name:t.closeIcon,class:[GS("close-icon",t.closeIconPosition),ns],classPrefix:t.iconPrefix,onClick:p},null)};let v;const g=()=>{v&&clearTimeout(v),v=setTimeout(()=>{e("opened")})},m=()=>e("closed"),_=w=>e("keydown",w),b=l(()=>{var w;const{destroyOnClose:E,round:S,position:P,safeAreaInsetTop:C,safeAreaInsetBottom:A,show:T}=t;if(!(!T&&E))return di(O("div",st({ref:a,style:u.value,role:"dialog",tabindex:0,class:[GS({round:S,[P]:P}),{"van-safe-area-top":C,"van-safe-area-bottom":A}],onKeydown:_},n,Hy()),[(w=r.default)==null?void 0:w.call(r),y()]),[[pi,T]])}),x=()=>{const{position:w,transition:E,transitionAppear:S}=t,P=w==="center"?"van-fade":`van-popup-slide-${w}`;return O(Dd,{name:E||P,appear:S,onAfterEnter:g,onAfterLeave:m},{default:b})};return ve(()=>t.show,w=>{w&&!i&&(c(),n.tabindex===0&&Xe(()=>{var E;(E=a.value)==null||E.focus()})),!w&&i&&(i=!1,e("close"))}),Kt({popupRef:a}),kK(a,()=>t.show&&t.lockScroll),mr("popstate",()=>{t.closeOnPopstate&&(f(),o=!1)}),Ht(()=>{t.show&&c()}),ls(()=>{o&&(e("update:show",!0),o=!1)}),bo(()=>{t.show&&t.teleport&&(f(),o=!0)}),hi(SM,()=>t.show),()=>t.teleport?O(og,{to:t.teleport},{default:()=>[h(),x()]}):O(Ft,null,[h(),x()])}});const Bl=De(VK),[zK,ni]=Te("action-sheet"),jK=We({},Ld,{title:String,round:_e,actions:ts(),closeIcon:Me("cross"),closeable:_e,cancelText:String,description:String,closeOnPopstate:_e,closeOnClickAction:Boolean,safeAreaInsetBottom:_e}),WK=[...IM,"round","closeOnPopstate","safeAreaInsetBottom"];var YK=we({name:zK,props:jK,emits:["select","cancel","update:show"],setup(t,{slots:e,emit:n}){const r=f=>n("update:show",f),i=()=>{r(!1),n("cancel")},o=()=>{if(t.title)return O("div",{class:ni("header")},[t.title,t.closeable&&O(tn,{name:t.closeIcon,class:[ni("close"),ns],onClick:i},null)])},s=()=>{if(e.cancel||t.cancelText)return[O("div",{class:ni("gap")},null),O("button",{type:"button",class:ni("cancel"),onClick:i},[e.cancel?e.cancel():t.cancelText])]},a=f=>{if(f.icon)return O(tn,{class:ni("item-icon"),name:f.icon},null)},l=(f,d)=>f.loading?O(fs,{class:ni("loading-icon")},null):e.action?e.action({action:f,index:d}):[O("span",{class:ni("name")},[f.name]),f.subname&&O("div",{class:ni("subname")},[f.subname])],u=(f,d)=>{const{color:h,loading:p,callback:y,disabled:v,className:g}=f,m=()=>{v||p||(y&&y(f),t.closeOnClickAction&&r(!1),Xe(()=>n("select",f,d)))};return O("button",{type:"button",style:{color:h},class:[ni("item",{loading:p,disabled:v}),g],onClick:m},[a(f),l(f,d)])},c=()=>{if(t.description||e.description){const f=e.description?e.description():t.description;return O("div",{class:ni("description")},[f])}};return()=>O(Bl,st({class:ni(),position:"bottom","onUpdate:show":r},$t(t,WK)),{default:()=>{var f;return[o(),c(),O("div",{class:ni("content")},[t.actions.map(u),(f=e.default)==null?void 0:f.call(e)]),s()]}})}});const tTe=De(YK),[XK,Go,HS]=Te("picker"),OM=t=>t.find(e=>!e.disabled)||t[0];function KK(t,e){const n=t[0];if(n){if(Array.isArray(n))return"multiple";if(e.children in n)return"cascade"}return"default"}function Ep(t,e){e=$n(e,0,t.length);for(let n=e;n<t.length;n++)if(!t[n].disabled)return n;for(let n=e-1;n>=0;n--)if(!t[n].disabled)return n;return 0}const VS=(t,e,n)=>e!==void 0&&t.some(r=>r[n.value]===e);function Vy(t,e,n){const r=t.findIndex(o=>o[n.value]===e),i=Ep(t,r);return t[i]}function qK(t,e,n){const r=[];let i={[e.children]:t},o=0;for(;i&&i[e.children];){const s=i[e.children],a=n.value[o];if(i=Lt(a)?Vy(s,a,e):void 0,!i&&s.length){const l=OM(s)[e.value];i=Vy(s,l,e)}o++,r.push(s)}return r}function ZK(t){const{transform:e}=window.getComputedStyle(t),n=e.slice(7,e.length-1).split(", ")[5];return Number(n)}function JK(t){return We({text:"text",value:"value",children:"children"},t)}const zS=200,jS=300,QK=15,[RM,Lm]=Te("picker-column"),MM=Symbol(RM);var eq=we({name:RM,props:{value:Se,fields:cr(Object),options:ts(),readonly:Boolean,allowHtml:Boolean,optionHeight:cr(Number),swipeDuration:cr(Se),visibleOptionNum:cr(Se)},emits:["change","clickOption","scrollInto"],setup(t,{emit:e,slots:n}){let r,i,o,s,a;const l=Z(),u=Z(),c=Z(0),f=Z(0),d=Dl(),h=()=>t.options.length,p=()=>t.optionHeight*(+t.visibleOptionNum-1)/2,y=C=>{let A=Ep(t.options,C);const T=-A*t.optionHeight,R=()=>{A>h()-1&&(A=Ep(t.options,C));const N=t.options[A][t.fields.value];N!==t.value&&e("change",N)};r&&T!==c.value?a=R:R(),c.value=T},v=()=>t.readonly||!t.options.length,g=C=>{r||v()||(a=null,f.value=zS,y(C),e("clickOption",t.options[C]))},m=C=>$n(Math.round(-C/t.optionHeight),0,h()-1),_=re(()=>m(c.value)),b=(C,A)=>{const T=Math.abs(C/A);C=c.value+T/.003*(C<0?-1:1);const R=m(C);f.value=+t.swipeDuration,y(R)},x=()=>{r=!1,f.value=0,a&&(a(),a=null)},w=C=>{if(!v()){if(d.start(C),r){const A=ZK(u.value);c.value=Math.min(0,A-p())}f.value=0,i=c.value,o=Date.now(),s=i,a=null}},E=C=>{if(v())return;d.move(C),d.isVertical()&&(r=!0,Bn(C,!0));const A=$n(i+d.deltaY.value,-(h()*t.optionHeight),t.optionHeight),T=m(A);T!==_.value&&e("scrollInto",t.options[T]),c.value=A;const R=Date.now();R-o>jS&&(o=R,s=A)},S=()=>{if(v())return;const C=c.value-s,A=Date.now()-o;if(A<jS&&Math.abs(C)>QK){b(C,A);return}const R=m(c.value);f.value=zS,y(R),setTimeout(()=>{r=!1},0)},P=()=>{const C={height:`${t.optionHeight}px`};return t.options.map((A,T)=>{const R=A[t.fields.text],{disabled:N}=A,G=A[t.fields.value],k={role:"button",style:C,tabindex:N?-1:0,class:[Lm("item",{disabled:N,selected:G===t.value}),A.className],onClick:()=>g(T)},U={class:"van-ellipsis",[t.allowHtml?"innerHTML":"textContent"]:R};return O("li",k,[n.option?n.option(A,T):O("div",U,null)])})};return Zr(MM),Kt({stopMomentum:x}),sc(()=>{const C=r?Math.floor(-c.value/t.optionHeight):t.options.findIndex(R=>R[t.fields.value]===t.value),A=Ep(t.options,C),T=-A*t.optionHeight;r&&A<C&&x(),c.value=T}),mr("touchmove",E,{target:l}),()=>O("div",{ref:l,class:Lm(),onTouchstartPassive:w,onTouchend:S,onTouchcancel:S},[O("ul",{ref:u,style:{transform:`translate3d(0, ${c.value+p()}px, 0)`,transitionDuration:`${f.value}ms`,transitionProperty:f.value?"all":"none"},class:Lm("wrapper"),onTransitionend:x},[P()])])}});const[tq]=Te("picker-toolbar"),Ag={title:String,cancelButtonText:String,confirmButtonText:String},nq=["cancel","confirm","title","toolbar"],rq=Object.keys(Ag);var iq=we({name:tq,props:Ag,emits:["confirm","cancel"],setup(t,{emit:e,slots:n}){const r=()=>{if(n.title)return n.title();if(t.title)return O("div",{class:[Go("title"),"van-ellipsis"]},[t.title])},i=()=>e("cancel"),o=()=>e("confirm"),s=()=>{var l;const u=(l=t.cancelButtonText)!=null?l:HS("cancel");if(!(!n.cancel&&!u))return O("button",{type:"button",class:[Go("cancel"),ns],onClick:i},[n.cancel?n.cancel():u])},a=()=>{var l;const u=(l=t.confirmButtonText)!=null?l:HS("confirm");if(!(!n.confirm&&!u))return O("button",{type:"button",class:[Go("confirm"),ns],onClick:o},[n.confirm?n.confirm():u])};return()=>O("div",{class:Go("toolbar")},[n.toolbar?n.toolbar():[s(),r(),a()]])}});const oq=(t,e)=>{const n=Z(t());return ve(t,r=>{r!==n.value&&(n.value=r)}),ve(n,r=>{r!==t()&&e(r)}),n};/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const DM=Array.isArray,Xf=t=>typeof t=="string",BM=t=>t!==null&&typeof t=="object",sq=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},aq=/\B([A-Z])/g,lq=sq(t=>t.replace(aq,"-$1").toLowerCase());function kM(t){if(DM(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Xf(r)?dq(r):kM(r);if(i)for(const o in i)e[o]=i[o]}return e}else if(Xf(t)||BM(t))return t}const uq=/;(?![^(]*\))/g,cq=/:([^]+)/,fq=/\/\*[^]*?\*\//g;function dq(t){const e={};return t.replace(fq,"").split(uq).forEach(n=>{if(n){const r=n.split(cq);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function hq(t){if(!t)return"";if(Xf(t))return t;let e="";for(const n in t){const r=t[n];if(Xf(r)||typeof r=="number"){const i=n.startsWith("--")?n:lq(n);e+=`${i}:${r};`}}return e}function NM(t){let e="";if(Xf(t))e=t;else if(DM(t))for(let n=0;n<t.length;n++){const r=NM(t[n]);r&&(e+=r+" ")}else if(BM(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function pq(t,e,n){let r,i=0;const o=t.scrollLeft,s=n===0?1:Math.round(n*1e3/16);let a=o;function l(){Bd(r)}function u(){a+=(e-o)/s,t.scrollLeft=a,++i<s&&(r=hr(u))}return u(),l}function gq(t,e,n,r){let i,o=Nd(t);const s=o<e,a=n===0?1:Math.round(n*1e3/16),l=(e-o)/a;function u(){Bd(i)}function c(){o+=l,(s&&o>e||!s&&o<e)&&(o=e),i0(t,o),s&&o<e||!s&&o>e?i=hr(c):r&&(i=hr(r))}return c(),u}let mq=0;function nw(){const t=yt(),{name:e="unknown"}=(t==null?void 0:t.type)||{};return`${e}-${++mq}`}function FM(){const t=Z([]),e=[];return ig(()=>{t.value=[]}),[t,r=>(e[r]||(e[r]=i=>{t.value[r]=i}),e[r])]}function LM(t,e){if(!ho||!window.IntersectionObserver)return;const n=new IntersectionObserver(o=>{e(o[0].intersectionRatio>0)},{root:document.body}),r=()=>{t.value&&n.observe(t.value)},i=()=>{t.value&&n.unobserve(t.value)};bo(i),qr(i),uc(r)}const[vq,yq]=Te("sticky"),_q={zIndex:Se,position:Me("top"),container:Object,offsetTop:ze(0),offsetBottom:ze(0)};var bq=we({name:vq,props:_q,emits:["scroll","change"],setup(t,{emit:e,slots:n}){const r=Z(),i=kd(r),o=Mt({fixed:!1,width:0,height:0,transform:0}),s=Z(!1),a=re(()=>Qx(t.position==="top"?t.offsetTop:t.offsetBottom)),l=re(()=>{if(s.value)return;const{fixed:d,height:h,width:p}=o;if(d)return{width:`${p}px`,height:`${h}px`}}),u=re(()=>{if(!o.fixed||s.value)return;const d=We(mM(t.zIndex),{width:`${o.width}px`,height:`${o.height}px`,[t.position]:`${a.value}px`});return o.transform&&(d.transform=`translate3d(0, ${o.transform}px, 0)`),d}),c=d=>e("scroll",{scrollTop:d,isFixed:o.fixed}),f=()=>{if(!r.value||Nu(r))return;const{container:d,position:h}=t,p=wn(r),y=Nd(window);if(o.width=p.width,o.height=p.height,h==="top")if(d){const v=wn(d),g=v.bottom-a.value-o.height;o.fixed=a.value>p.top&&v.bottom>0,o.transform=g<0?g:0}else o.fixed=a.value>p.top;else{const{clientHeight:v}=document.documentElement;if(d){const g=wn(d),m=v-g.top-a.value-o.height;o.fixed=v-a.value<p.bottom&&v>g.top,o.transform=m<0?-m:0}else o.fixed=v-a.value<p.bottom}c(y)};return ve(()=>o.fixed,d=>e("change",d)),mr("scroll",f,{target:i,passive:!0}),LM(r,f),ve([jo,js],()=>{!r.value||Nu(r)||!o.fixed||(s.value=!0,Xe(()=>{const d=wn(r);o.width=d.width,o.height=d.height,s.value=!1}))}),()=>{var d;return O("div",{ref:r,style:l.value},[O("div",{class:yq({fixed:o.fixed&&!s.value}),style:u.value},[(d=n.default)==null?void 0:d.call(n)])])}}});const xq=De(bq),[$M,Eh]=Te("swipe"),wq={loop:_e,width:Se,height:Se,vertical:Boolean,autoplay:ze(0),duration:ze(500),touchable:_e,lazyRender:Boolean,initialSwipe:ze(0),indicatorColor:String,showIndicators:_e,stopPropagation:_e},UM=Symbol($M);var Eq=we({name:$M,props:wq,emits:["change","dragStart","dragEnd"],setup(t,{emit:e,slots:n}){const r=Z(),i=Z(),o=Mt({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let s=!1;const a=Dl(),{children:l,linkChildren:u}=$i(UM),c=re(()=>l.length),f=re(()=>o[t.vertical?"height":"width"]),d=re(()=>t.vertical?a.deltaY.value:a.deltaX.value),h=re(()=>o.rect?(t.vertical?o.rect.height:o.rect.width)-f.value*c.value:0),p=re(()=>f.value?Math.ceil(Math.abs(h.value)/f.value):c.value),y=re(()=>c.value*f.value),v=re(()=>(o.active+c.value)%c.value),g=re(()=>{const ce=t.vertical?"vertical":"horizontal";return a.direction.value===ce}),m=re(()=>{const ce={transitionDuration:`${o.swiping?0:t.duration}ms`,transform:`translate${t.vertical?"Y":"X"}(${+o.offset.toFixed(2)}px)`};if(f.value){const X=t.vertical?"height":"width",ie=t.vertical?"width":"height";ce[X]=`${y.value}px`,ce[ie]=t[ie]?`${t[ie]}px`:""}return ce}),_=ce=>{const{active:X}=o;return ce?t.loop?$n(X+ce,-1,c.value):$n(X+ce,0,p.value):X},b=(ce,X=0)=>{let ie=ce*f.value;t.loop||(ie=Math.min(ie,-h.value));let ge=X-ie;return t.loop||(ge=$n(ge,h.value,0)),ge},x=({pace:ce=0,offset:X=0,emitChange:ie})=>{if(c.value<=1)return;const{active:ge}=o,F=_(ce),q=b(F,X);if(t.loop){if(l[0]&&q!==h.value){const L=q<h.value;l[0].setOffset(L?y.value:0)}if(l[c.value-1]&&q!==0){const L=q>0;l[c.value-1].setOffset(L?-y.value:0)}}o.active=F,o.offset=q,ie&&F!==ge&&e("change",v.value)},w=()=>{o.swiping=!0,o.active<=-1?x({pace:c.value}):o.active>=c.value&&x({pace:-c.value})},E=()=>{w(),a.reset(),La(()=>{o.swiping=!1,x({pace:-1,emitChange:!0})})},S=()=>{w(),a.reset(),La(()=>{o.swiping=!1,x({pace:1,emitChange:!0})})};let P;const C=()=>clearTimeout(P),A=()=>{C(),+t.autoplay>0&&c.value>1&&(P=setTimeout(()=>{S(),A()},+t.autoplay))},T=(ce=+t.initialSwipe)=>{if(!r.value)return;const X=()=>{var ie,ge;if(!Nu(r)){const F={width:r.value.offsetWidth,height:r.value.offsetHeight};o.rect=F,o.width=+((ie=t.width)!=null?ie:F.width),o.height=+((ge=t.height)!=null?ge:F.height)}c.value&&(ce=Math.min(c.value-1,ce),ce===-1&&(ce=c.value-1)),o.active=ce,o.swiping=!0,o.offset=b(ce),l.forEach(F=>{F.setOffset(0)}),A()};Nu(r)?Xe().then(X):X()},R=()=>T(o.active);let N;const G=ce=>{!t.touchable||ce.touches.length>1||(a.start(ce),s=!1,N=Date.now(),C(),w())},k=ce=>{t.touchable&&o.swiping&&(a.move(ce),g.value&&(!t.loop&&(o.active===0&&d.value>0||o.active===c.value-1&&d.value<0)||(Bn(ce,t.stopPropagation),x({offset:d.value}),s||(e("dragStart",{index:v.value}),s=!0))))},U=()=>{if(!t.touchable||!o.swiping)return;const ce=Date.now()-N,X=d.value/ce;if((Math.abs(X)>.25||Math.abs(d.value)>f.value/2)&&g.value){const ge=t.vertical?a.offsetY.value:a.offsetX.value;let F=0;t.loop?F=ge>0?d.value>0?-1:1:0:F=-Math[d.value>0?"ceil":"floor"](d.value/f.value),x({pace:F,emitChange:!0})}else d.value&&x({pace:0});s=!1,o.swiping=!1,e("dragEnd",{index:v.value}),A()},W=(ce,X={})=>{w(),a.reset(),La(()=>{let ie;t.loop&&ce===c.value?ie=o.active===0?0:ce:ie=ce%c.value,X.immediate?La(()=>{o.swiping=!1}):o.swiping=!1,x({pace:ie-o.active,emitChange:!0})})},K=(ce,X)=>{const ie=X===v.value,ge=ie?{backgroundColor:t.indicatorColor}:void 0;return O("i",{style:ge,class:Eh("indicator",{active:ie})},null)},fe=()=>{if(n.indicator)return n.indicator({active:v.value,total:c.value});if(t.showIndicators&&c.value>1)return O("div",{class:Eh("indicators",{vertical:t.vertical})},[Array(c.value).fill("").map(K)])};return Kt({prev:E,next:S,state:o,resize:R,swipeTo:W}),u({size:f,props:t,count:c,activeIndicator:v}),ve(()=>t.initialSwipe,ce=>T(+ce)),ve(c,()=>T(o.active)),ve(()=>t.autoplay,A),ve([jo,js,()=>t.width,()=>t.height],R),ve(F4(),ce=>{ce==="visible"?A():C()}),Ht(T),ls(()=>T(o.active)),ew(()=>T(o.active)),bo(C),qr(C),mr("touchmove",k,{target:i}),()=>{var ce;return O("div",{ref:r,class:Eh()},[O("div",{ref:i,style:m.value,class:Eh("track",{vertical:t.vertical}),onTouchstartPassive:G,onTouchend:U,onTouchcancel:U},[(ce=n.default)==null?void 0:ce.call(n)]),fe()])}}});const GM=De(Eq),[Sq,WS]=Te("tabs");var Cq=we({name:Sq,props:{count:cr(Number),inited:Boolean,animated:Boolean,duration:cr(Se),swipeable:Boolean,lazyRender:Boolean,currentIndex:cr(Number)},emits:["change"],setup(t,{emit:e,slots:n}){const r=Z(),i=a=>e("change",a),o=()=>{var a;const l=(a=n.default)==null?void 0:a.call(n);return t.animated||t.swipeable?O(GM,{ref:r,loop:!1,class:WS("track"),duration:+t.duration*1e3,touchable:t.swipeable,lazyRender:t.lazyRender,showIndicators:!1,onChange:i},{default:()=>[l]}):l},s=a=>{const l=r.value;l&&l.state.active!==a&&l.swipeTo(a,{immediate:!t.inited})};return ve(()=>t.currentIndex,s),Ht(()=>{s(t.currentIndex)}),Kt({swipeRef:r}),()=>O("div",{class:WS("content",{animated:t.animated||t.swipeable})},[o()])}});const[HM,Sh]=Te("tabs"),Aq={type:Me("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:ze(0),duration:ze(.3),animated:Boolean,ellipsis:_e,swipeable:Boolean,scrollspy:Boolean,offsetTop:ze(0),background:String,lazyRender:_e,showHeader:_e,lineWidth:Se,lineHeight:Se,beforeChange:Function,swipeThreshold:ze(5),titleActiveColor:String,titleInactiveColor:String},VM=Symbol(HM);var Tq=we({name:HM,props:Aq,emits:["change","scroll","rendered","clickTab","update:active"],setup(t,{emit:e,slots:n}){let r,i,o,s,a;const l=Z(),u=Z(),c=Z(),f=Z(),d=nw(),h=kd(l),[p,y]=FM(),{children:v,linkChildren:g}=$i(VM),m=Mt({inited:!1,position:"",lineStyle:{},currentIndex:-1}),_=re(()=>v.length>+t.swipeThreshold||!t.ellipsis||t.shrink),b=re(()=>({borderColor:t.color,background:t.background})),x=(F,q)=>{var L;return(L=F.name)!=null?L:q},w=re(()=>{const F=v[m.currentIndex];if(F)return x(F,m.currentIndex)}),E=re(()=>Qx(t.offsetTop)),S=re(()=>t.sticky?E.value+r:0),P=F=>{const q=u.value,L=p.value;if(!_.value||!q||!L||!L[m.currentIndex])return;const ee=L[m.currentIndex].$el,J=ee.offsetLeft-(q.offsetWidth-ee.offsetWidth)/2;s&&s(),s=pq(q,J,F?0:+t.duration)},C=()=>{const F=m.inited;Xe(()=>{const q=p.value;if(!q||!q[m.currentIndex]||t.type!=="line"||Nu(l.value))return;const L=q[m.currentIndex].$el,{lineWidth:ee,lineHeight:J}=t,de=L.offsetLeft+L.offsetWidth/2,pe={width:tt(ee),backgroundColor:t.color,transform:`translateX(${de}px) translateX(-50%)`};if(F&&(pe.transitionDuration=`${t.duration}s`),Lt(J)){const be=tt(J);pe.height=be,pe.borderRadius=be}m.lineStyle=pe})},A=F=>{const q=F<m.currentIndex?-1:1;for(;F>=0&&F<v.length;){if(!v[F].disabled)return F;F+=q}},T=(F,q)=>{const L=A(F);if(!Lt(L))return;const ee=v[L],J=x(ee,L),de=m.currentIndex!==null;m.currentIndex!==L&&(m.currentIndex=L,q||P(),C()),J!==t.active&&(e("update:active",J),de&&e("change",J,ee.title)),o&&!t.scrollspy&&Jx(Math.ceil(OS(l.value)-E.value))},R=(F,q)=>{const L=v.findIndex((ee,J)=>x(ee,J)===F);T(L===-1?0:L,q)},N=(F=!1)=>{if(t.scrollspy){const q=v[m.currentIndex].$el;if(q&&h.value){const L=OS(q,h.value)-S.value;i=!0,a&&a(),a=gq(h.value,L,F?0:+t.duration,()=>{i=!1})}}},G=(F,q,L)=>{const{title:ee,disabled:J}=v[q],de=x(v[q],q);J||(cc(t.beforeChange,{args:[de],done:()=>{T(q),N()}}),PM(F)),e("clickTab",{name:de,title:ee,event:L,disabled:J})},k=F=>{o=F.isFixed,e("scroll",F)},U=F=>{Xe(()=>{R(F),N(!0)})},W=()=>{for(let F=0;F<v.length;F++){const{top:q}=wn(v[F].$el);if(q>S.value)return F===0?0:F-1}return v.length-1},K=()=>{if(t.scrollspy&&!i){const F=W();T(F)}},fe=()=>{if(t.type==="line"&&v.length)return O("div",{class:Sh("line"),style:m.lineStyle},null)},ce=()=>{var F,q,L;const{type:ee,border:J,sticky:de}=t,pe=[O("div",{ref:de?void 0:c,class:[Sh("wrap"),{[xM]:ee==="line"&&J}]},[O("div",{ref:u,role:"tablist",class:Sh("nav",[ee,{shrink:t.shrink,complete:_.value}]),style:b.value,"aria-orientation":"horizontal"},[(F=n["nav-left"])==null?void 0:F.call(n),v.map(be=>be.renderTitle(G)),fe(),(q=n["nav-right"])==null?void 0:q.call(n)])]),(L=n["nav-bottom"])==null?void 0:L.call(n)];return de?O("div",{ref:c},[pe]):pe},X=()=>{C(),Xe(()=>{var F,q;P(!0),(q=(F=f.value)==null?void 0:F.swipeRef.value)==null||q.resize()})};ve(()=>[t.color,t.duration,t.lineWidth,t.lineHeight],C),ve(jo,X),ve(()=>t.active,F=>{F!==w.value&&R(F)}),ve(()=>v.length,()=>{m.inited&&(R(t.active),C(),Xe(()=>{P(!0)}))});const ie=()=>{R(t.active,!0),Xe(()=>{m.inited=!0,c.value&&(r=wn(c.value).height),P(!0)})},ge=(F,q)=>e("rendered",F,q);return Kt({resize:X,scrollTo:U}),ls(C),ew(C),uc(ie),LM(l,C),mr("scroll",K,{target:h,passive:!0}),g({id:d,props:t,setLine:C,scrollable:_,onRendered:ge,currentName:w,setTitleRefs:y,scrollIntoView:P}),()=>O("div",{ref:l,class:Sh([t.type])},[t.showHeader?t.sticky?O(xq,{container:l.value,offsetTop:E.value,onScroll:k},{default:()=>[ce()]}):ce():null,O(Cq,{ref:f,count:v.length,inited:m.inited,animated:t.animated,duration:t.duration,swipeable:t.swipeable,lazyRender:t.lazyRender,currentIndex:m.currentIndex,onChange:T},{default:()=>{var F;return[(F=n.default)==null?void 0:F.call(n)]}})])}});const Pq=Symbol(),zM=Symbol(),jM=()=>dn(zM,null),Iq=t=>{const e=jM();hi(Pq,t),hi(zM,re(()=>(e==null||e.value)&&t.value))},[Oq,YS]=Te("tab"),Rq=we({name:Oq,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:Se,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:_e},setup(t,{slots:e}){const n=re(()=>{const i={},{type:o,color:s,disabled:a,isActive:l,activeColor:u,inactiveColor:c}=t;s&&o==="card"&&(i.borderColor=s,a||(l?i.backgroundColor=s:i.color=s));const d=l?u:c;return d&&(i.color=d),i}),r=()=>{const i=O("span",{class:YS("text",{ellipsis:!t.scrollable})},[e.title?e.title():t.title]);return t.dot||Lt(t.badge)&&t.badge!==""?O(Cg,{dot:t.dot,content:t.badge,showZero:t.showZeroBadge},{default:()=>[i]}):i};return()=>O("div",{id:t.id,role:"tab",class:[YS([t.type,{grow:t.scrollable&&!t.shrink,shrink:t.shrink,active:t.isActive,disabled:t.disabled}])],style:n.value,tabindex:t.disabled?void 0:t.isActive?0:-1,"aria-selected":t.isActive,"aria-disabled":t.disabled||void 0,"aria-controls":t.controls,"data-allow-mismatch":"attribute"},[r()])}}),[Mq,Dq]=Te("swipe-item");var Bq=we({name:Mq,setup(t,{slots:e}){let n;const r=Mt({offset:0,inited:!1,mounted:!1}),{parent:i,index:o}=Zr(UM);if(!i){console.error("[Vant] <SwipeItem> must be a child component of <Swipe>.");return}const s=re(()=>{const u={},{vertical:c}=i.props;return i.size.value&&(u[c?"height":"width"]=`${i.size.value}px`),r.offset&&(u.transform=`translate${c?"Y":"X"}(${r.offset}px)`),u}),a=re(()=>{const{loop:u,lazyRender:c}=i.props;if(!c||n)return!0;if(!r.mounted)return!1;const f=i.activeIndicator.value,d=i.count.value-1,h=f===0&&u?d:f-1,p=f===d&&u?0:f+1;return n=o.value===f||o.value===h||o.value===p,n}),l=u=>{r.offset=u};return Ht(()=>{Xe(()=>{r.mounted=!0})}),Kt({setOffset:l}),()=>{var u;return O("div",{class:Dq(),style:s.value},[a.value?(u=e.default)==null?void 0:u.call(e):null])}}});const WM=De(Bq),[kq,$m]=Te("tab"),Nq=We({},fc,{dot:Boolean,name:Se,badge:Se,title:String,disabled:Boolean,titleClass:hn,titleStyle:[String,Object],showZeroBadge:_e});var Fq=we({name:kq,props:Nq,setup(t,{slots:e}){const n=nw(),r=Z(!1),i=yt(),{parent:o,index:s}=Zr(VM);if(!o){console.error("[Vant] <Tab> must be a child component of <Tabs>.");return}const a=()=>{var p;return(p=t.name)!=null?p:s.value},l=()=>{r.value=!0,o.props.lazyRender&&Xe(()=>{o.onRendered(a(),t.title)})},u=re(()=>{const p=a()===o.currentName.value;return p&&!r.value&&l(),p}),c=Z(""),f=Z("");sc(()=>{const{titleClass:p,titleStyle:y}=t;c.value=p?NM(p):"",f.value=y&&typeof y!="string"?hq(kM(y)):y});const d=p=>O(Rq,st({key:n,id:`${o.id}-${s.value}`,ref:o.setTitleRefs(s.value),style:f.value,class:c.value,isActive:u.value,controls:n,scrollable:o.scrollable.value,activeColor:o.props.titleActiveColor,inactiveColor:o.props.titleInactiveColor,onClick:y=>p(i.proxy,s.value,y)},$t(o.props,["type","color","shrink"]),$t(t,["dot","badge","title","disabled","showZeroBadge"])),{title:e.title}),h=Z(!u.value);return ve(u,p=>{p?h.value=!1:La(()=>{h.value=!0})}),ve(()=>t.title,()=>{o.setLine(),o.scrollIntoView()}),Iq(u),Kt({id:n,renderTitle:d}),()=>{var p;const y=`${o.id}-${s.value}`,{animated:v,swipeable:g,scrollspy:m,lazyRender:_}=o.props;if(!e.default&&!v)return;const b=m||u.value;if(v||g)return O(WM,{id:n,role:"tabpanel",class:$m("panel-wrapper",{inactive:h.value}),tabindex:u.value?0:-1,"aria-hidden":!u.value,"aria-labelledby":y,"data-allow-mismatch":"attribute"},{default:()=>{var E;return[O("div",{class:$m("panel")},[(E=e.default)==null?void 0:E.call(e)])]}});const w=r.value||m||!_?(p=e.default)==null?void 0:p.call(e):null;return di(O("div",{id:n,role:"tabpanel",class:$m("panel"),tabindex:b?0:-1,"aria-labelledby":y,"data-allow-mismatch":"attribute"},[w]),[[pi,b]])}}});const nTe=De(Fq),rTe=De(Tq),[Lq,iTe]=Te("picker-group"),$q=Symbol(Lq);We({tabs:ts(),activeTab:ze(0),nextStepText:String,showToolbar:_e},Ag);const rw=We({loading:Boolean,readonly:Boolean,allowHtml:Boolean,optionHeight:ze(44),showToolbar:_e,swipeDuration:ze(1e3),visibleOptionNum:ze(6)},Ag),Uq=We({},rw,{columns:ts(),modelValue:ts(),toolbarPosition:Me("top"),columnsFieldNames:Object});var Gq=we({name:XK,props:Uq,emits:["confirm","cancel","change","scrollInto","clickOption","update:modelValue"],setup(t,{emit:e,slots:n}){const r=Z(),i=Z(t.modelValue.slice(0)),{parent:o}=Zr($q),{children:s,linkChildren:a}=$i(MM);a();const l=re(()=>JK(t.columnsFieldNames)),u=re(()=>Qx(t.optionHeight)),c=re(()=>KK(t.columns,l.value)),f=re(()=>{const{columns:T}=t;switch(c.value){case"multiple":return T;case"cascade":return qK(T,l.value,i);default:return[T]}}),d=re(()=>f.value.some(T=>T.length)),h=re(()=>f.value.map((T,R)=>Vy(T,i.value[R],l.value))),p=re(()=>f.value.map((T,R)=>T.findIndex(N=>N[l.value.value]===i.value[R]))),y=(T,R)=>{if(i.value[T]!==R){const N=i.value.slice(0);N[T]=R,i.value=N}},v=()=>({selectedValues:i.value.slice(0),selectedOptions:h.value,selectedIndexes:p.value}),g=(T,R)=>{y(R,T),c.value==="cascade"&&i.value.forEach((N,G)=>{const k=f.value[G];VS(k,N,l.value)||y(G,k.length?k[0][l.value.value]:void 0)}),Xe(()=>{e("change",We({columnIndex:R},v()))})},m=(T,R)=>{const N={columnIndex:R,currentOption:T};e("clickOption",We(v(),N)),e("scrollInto",N)},_=()=>{s.forEach(R=>R.stopMomentum());const T=v();return Xe(()=>{const R=v();e("confirm",R)}),T},b=()=>e("cancel",v()),x=()=>f.value.map((T,R)=>O(eq,{value:i.value[R],fields:l.value,options:T,readonly:t.readonly,allowHtml:t.allowHtml,optionHeight:u.value,swipeDuration:t.swipeDuration,visibleOptionNum:t.visibleOptionNum,onChange:N=>g(N,R),onClickOption:N=>m(N,R),onScrollInto:N=>{e("scrollInto",{currentOption:N,columnIndex:R})}},{option:n.option})),w=T=>{if(d.value){const R={height:`${u.value}px`},N={backgroundSize:`100% ${(T-u.value)/2}px`};return[O("div",{class:Go("mask"),style:N},null),O("div",{class:[oK,Go("frame")],style:R},null)]}},E=()=>{const T=u.value*+t.visibleOptionNum,R={height:`${T}px`};return!t.loading&&!d.value&&n.empty?n.empty():O("div",{ref:r,class:Go("columns"),style:R},[x(),w(T)])},S=()=>{if(t.showToolbar&&!o)return O(iq,st($t(t,rq),{onConfirm:_,onCancel:b}),$t(n,nq))},P=T=>{T.forEach((R,N)=>{R.length&&!VS(R,i.value[N],l.value)&&y(N,OM(R)[l.value.value])})};ve(f,T=>P(T),{immediate:!0});let C;return ve(()=>t.modelValue,T=>{!zs(T,i.value)&&!zs(T,C)&&(i.value=T.slice(0),C=T.slice(0)),t.modelValue.length===0&&P(f.value)},{deep:!0}),ve(i,T=>{zs(T,t.modelValue)||(C=T.slice(0),e("update:modelValue",C))},{immediate:!0}),mr("touchmove",Bn,{target:r}),Kt({confirm:_,getSelectedOptions:()=>h.value}),()=>{var T,R;return O("div",{class:Go()},[t.toolbarPosition==="top"?S():null,t.loading?O(fs,{class:Go("loading")},null):null,(T=n["columns-top"])==null?void 0:T.call(n),E(),(R=n["columns-bottom"])==null?void 0:R.call(n),t.toolbarPosition==="bottom"?S():null])}}});const Hq=De(Gq),[Vq,jl]=Te("cell"),Tg={tag:Me("div"),icon:String,size:String,title:Se,value:Se,label:Se,center:Boolean,isLink:Boolean,border:_e,iconPrefix:String,valueClass:hn,labelClass:hn,titleClass:hn,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},zq=We({},Tg,fc);var jq=we({name:Vq,props:zq,setup(t,{slots:e}){const n=Fd(),r=()=>{if(e.label||Lt(t.label))return O("div",{class:[jl("label"),t.labelClass]},[e.label?e.label():t.label])},i=()=>{var l;if(e.title||Lt(t.title)){const u=(l=e.title)==null?void 0:l.call(e);return Array.isArray(u)&&u.length===0?void 0:O("div",{class:[jl("title"),t.titleClass],style:t.titleStyle},[u||O("span",null,[t.title]),r()])}},o=()=>{const l=e.value||e.default;if(l||Lt(t.value))return O("div",{class:[jl("value"),t.valueClass]},[l?l():O("span",null,[t.value])])},s=()=>{if(e.icon)return e.icon();if(t.icon)return O(tn,{name:t.icon,class:jl("left-icon"),classPrefix:t.iconPrefix},null)},a=()=>{if(e["right-icon"])return e["right-icon"]();if(t.isLink){const l=t.arrowDirection&&t.arrowDirection!=="right"?`arrow-${t.arrowDirection}`:"arrow";return O(tn,{name:l,class:jl("right-icon")},null)}};return()=>{var l;const{tag:u,size:c,center:f,border:d,isLink:h,required:p}=t,y=(l=t.clickable)!=null?l:h,v={center:f,required:!!p,clickable:y,borderless:!d};return c&&(v[c]=!!c),O(u,{class:jl(v),role:y?"button":void 0,tabindex:y?0:void 0,onClick:n},{default:()=>{var g;return[s(),i(),o(),a(),(g=e.extra)==null?void 0:g.call(e)]}})}}});const YM=De(jq),[Wq,Yq]=Te("form"),Xq={colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:Se,labelAlign:String,inputAlign:String,scrollToError:Boolean,scrollToErrorPosition:String,validateFirst:Boolean,submitOnEnter:_e,showErrorMessage:_e,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var Kq=we({name:Wq,props:Xq,emits:["submit","failed"],setup(t,{emit:e,slots:n}){const{children:r,linkChildren:i}=$i(wM),o=v=>v?r.filter(g=>v.includes(g.name)):r,s=v=>new Promise((g,m)=>{const _=[];o(v).reduce((x,w)=>x.then(()=>{if(!_.length)return w.validate().then(E=>{E&&_.push(E)})}),Promise.resolve()).then(()=>{_.length?m(_):g()})}),a=v=>new Promise((g,m)=>{const _=o(v);Promise.all(_.map(b=>b.validate())).then(b=>{b=b.filter(Boolean),b.length?m(b):g()})}),l=v=>{const g=r.find(m=>m.name===v);return g?new Promise((m,_)=>{g.validate().then(b=>{b?_(b):m()})}):Promise.reject()},u=v=>typeof v=="string"?l(v):t.validateFirst?s(v):a(v),c=v=>{typeof v=="string"&&(v=[v]),o(v).forEach(m=>{m.resetValidation()})},f=()=>r.reduce((v,g)=>(v[g.name]=g.getValidationStatus(),v),{}),d=(v,g)=>{r.some(m=>m.name===v?(m.$el.scrollIntoView(g),!0):!1)},h=()=>r.reduce((v,g)=>(g.name!==void 0&&(v[g.name]=g.formValue.value),v),{}),p=()=>{const v=h();u().then(()=>e("submit",v)).catch(g=>{e("failed",{values:v,errors:g});const{scrollToError:m,scrollToErrorPosition:_}=t;m&&g[0].name&&d(g[0].name,_?{block:_}:void 0)})},y=v=>{Bn(v),p()};return i({props:t}),Kt({submit:p,validate:u,getValues:h,scrollToField:d,resetValidation:c,getValidationStatus:f}),()=>{var v;return O("form",{class:Yq(),onSubmit:y},[(v=n.default)==null?void 0:v.call(n)])}}});const oTe=De(Kq);function XM(t){return Array.isArray(t)?!t.length:t===0?!1:!t}function qq(t,e){if(XM(t)){if(e.required)return!1;if(e.validateEmpty===!1)return!0}return!(e.pattern&&!e.pattern.test(String(t)))}function Zq(t,e){return new Promise(n=>{const r=e.validator(t,e);if(qx(r)){r.then(n);return}n(r)})}function XS(t,e){const{message:n}=e;return ku(n)?n(t,e):n||""}function Jq({target:t}){t.composing=!0}function KS({target:t}){t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}function Qq(t,e){const n=Zx();t.style.height="auto";let r=t.scrollHeight;if(po(e)){const{maxHeight:i,minHeight:o}=e;i!==void 0&&(r=Math.min(r,i)),o!==void 0&&(r=Math.max(r,o))}r&&(t.style.height=`${r}px`,Jx(n))}function eZ(t,e){return t==="number"&&(t="text",e??(e="decimal")),t==="digit"&&(t="tel",e??(e="numeric")),{type:t,inputmode:e}}function Ao(t){return[...t].length}function Um(t,e){return[...t].slice(0,e).join("")}const[tZ,ri]=Te("field"),nZ={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:Se,max:Number,min:Number,formatter:Function,clearIcon:Me("clear"),modelValue:ze(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:Me("focus"),formatTrigger:Me("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},rZ=We({},Tg,nZ,{rows:Se,type:Me("text"),rules:Array,autosize:[Boolean,Object],labelWidth:Se,labelClass:hn,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var iZ=we({name:tZ,props:rZ,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(t,{emit:e,slots:n}){const r=nw(),i=Mt({status:"unvalidated",focused:!1,validateMessage:""}),o=Z(),s=Z(),a=Z(),{parent:l}=Zr(wM),u=()=>{var L;return String((L=t.modelValue)!=null?L:"")},c=L=>{if(Lt(t[L]))return t[L];if(l&&Lt(l.props[L]))return l.props[L]},f=re(()=>{const L=c("readonly");if(t.clearable&&!L){const ee=u()!=="",J=t.clearTrigger==="always"||t.clearTrigger==="focus"&&i.focused;return ee&&J}return!1}),d=re(()=>a.value&&n.input?a.value():t.modelValue),h=re(()=>{var L;const ee=c("required");return ee==="auto"?(L=t.rules)==null?void 0:L.some(J=>J.required):ee}),p=L=>L.reduce((ee,J)=>ee.then(()=>{if(i.status==="failed")return;let{value:de}=d;if(J.formatter&&(de=J.formatter(de,J)),!qq(de,J)){i.status="failed",i.validateMessage=XS(de,J);return}if(J.validator)return XM(de)&&J.validateEmpty===!1?void 0:Zq(de,J).then(pe=>{pe&&typeof pe=="string"?(i.status="failed",i.validateMessage=pe):pe===!1&&(i.status="failed",i.validateMessage=XS(de,J))})}),Promise.resolve()),y=()=>{i.status="unvalidated",i.validateMessage=""},v=()=>e("endValidate",{status:i.status,message:i.validateMessage}),g=(L=t.rules)=>new Promise(ee=>{y(),L?(e("startValidate"),p(L).then(()=>{i.status==="failed"?(ee({name:t.name,message:i.validateMessage}),v()):(i.status="passed",ee(),v())})):ee()}),m=L=>{if(l&&t.rules){const{validateTrigger:ee}=l.props,J=r0(ee).includes(L),de=t.rules.filter(pe=>pe.trigger?r0(pe.trigger).includes(L):J);de.length&&g(de)}},_=L=>{var ee;const{maxlength:J}=t;if(Lt(J)&&Ao(L)>+J){const de=u();if(de&&Ao(de)===+J)return de;const pe=(ee=o.value)==null?void 0:ee.selectionEnd;if(i.focused&&pe){const be=[...L],I=be.length-+J;return be.splice(pe-I,I),be.join("")}return Um(L,+J)}return L},b=(L,ee="onChange")=>{var J,de;const pe=L;L=_(L);const be=Ao(pe)-Ao(L);if(t.type==="number"||t.type==="digit"){const $=t.type==="number";if(L=Uy(L,$,$),ee==="onBlur"&&L!==""&&(t.min!==void 0||t.max!==void 0)){const j=$n(+L,(J=t.min)!=null?J:-1/0,(de=t.max)!=null?de:1/0);+L!==j&&(L=j.toString())}}let I=0;if(t.formatter&&ee===t.formatTrigger){const{formatter:$,maxlength:j}=t;if(L=$(L),Lt(j)&&Ao(L)>+j&&(L=Um(L,+j)),o.value&&i.focused){const{selectionEnd:ae}=o.value,ue=Um(pe,ae);I=Ao($(ue))-Ao(ue)}}if(o.value&&o.value.value!==L)if(i.focused){let{selectionStart:$,selectionEnd:j}=o.value;if(o.value.value=L,Lt($)&&Lt(j)){const ae=Ao(L);be?($-=be,j-=be):I&&($+=I,j+=I),o.value.setSelectionRange(Math.min($,ae),Math.min(j,ae))}}else o.value.value=L;L!==t.modelValue&&e("update:modelValue",L)},x=L=>{L.target.composing||b(L.target.value)},w=()=>{var L;return(L=o.value)==null?void 0:L.blur()},E=()=>{var L;return(L=o.value)==null?void 0:L.focus()},S=()=>{const L=o.value;t.type==="textarea"&&t.autosize&&L&&Qq(L,t.autosize)},P=L=>{i.focused=!0,e("focus",L),Xe(S),c("readonly")&&w()},C=L=>{i.focused=!1,b(u(),"onBlur"),e("blur",L),!c("readonly")&&(m("onBlur"),Xe(S),pM())},A=L=>e("clickInput",L),T=L=>e("clickLeftIcon",L),R=L=>e("clickRightIcon",L),N=L=>{Bn(L),e("update:modelValue",""),e("clear",L)},G=re(()=>{if(typeof t.error=="boolean")return t.error;if(l&&l.props.showError&&i.status==="failed")return!0}),k=re(()=>{const L=c("labelWidth"),ee=c("labelAlign");if(L&&ee!=="top")return{width:tt(L)}}),U=L=>{L.keyCode===13&&(!(l&&l.props.submitOnEnter)&&t.type!=="textarea"&&Bn(L),t.type==="search"&&w()),e("keypress",L)},W=()=>t.id||`${r}-input`,K=()=>i.status,fe=()=>{const L=ri("control",[c("inputAlign"),{error:G.value,custom:!!n.input,"min-height":t.type==="textarea"&&!t.autosize}]);if(n.input)return O("div",{class:L,onClick:A},[n.input()]);const ee={id:W(),ref:o,name:t.name,rows:t.rows!==void 0?+t.rows:void 0,class:L,disabled:c("disabled"),readonly:c("readonly"),autofocus:t.autofocus,placeholder:t.placeholder,autocomplete:t.autocomplete,autocapitalize:t.autocapitalize,autocorrect:t.autocorrect,enterkeyhint:t.enterkeyhint,spellcheck:t.spellcheck,"aria-labelledby":t.label?`${r}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:C,onFocus:P,onInput:x,onClick:A,onChange:KS,onKeypress:U,onCompositionend:KS,onCompositionstart:Jq};return t.type==="textarea"?O("textarea",st(ee,{inputmode:t.inputmode}),null):O("input",st(eZ(t.type,t.inputmode),ee),null)},ce=()=>{const L=n["left-icon"];if(t.leftIcon||L)return O("div",{class:ri("left-icon"),onClick:T},[L?L():O(tn,{name:t.leftIcon,classPrefix:t.iconPrefix},null)])},X=()=>{const L=n["right-icon"];if(t.rightIcon||L)return O("div",{class:ri("right-icon"),onClick:R},[L?L():O(tn,{name:t.rightIcon,classPrefix:t.iconPrefix},null)])},ie=()=>{if(t.showWordLimit&&t.maxlength){const L=Ao(u());return O("div",{class:ri("word-limit")},[O("span",{class:ri("word-num")},[L]),lg("/"),t.maxlength])}},ge=()=>{if(l&&l.props.showErrorMessage===!1)return;const L=t.errorMessage||i.validateMessage;if(L){const ee=n["error-message"],J=c("errorMessageAlign");return O("div",{class:ri("error-message",J)},[ee?ee({message:L}):L])}},F=()=>{const L=c("labelWidth"),ee=c("labelAlign"),J=c("colon")?":":"";if(n.label)return[n.label(),J];if(t.label)return O("label",{id:`${r}-label`,for:n.input?void 0:W(),"data-allow-mismatch":"attribute",onClick:de=>{Bn(de),E()},style:ee==="top"&&L?{width:tt(L)}:void 0},[t.label+J])},q=()=>[O("div",{class:ri("body")},[fe(),f.value&&O(tn,{ref:s,name:t.clearIcon,class:ri("clear")},null),X(),n.button&&O("div",{class:ri("button")},[n.button()])]),ie(),ge()];return Kt({blur:w,focus:E,validate:g,formValue:d,resetValidation:y,getValidationStatus:K}),hi(bx,{customValue:a,resetValidation:y,validateWithTrigger:m}),ve(()=>t.modelValue,()=>{b(u()),y(),m("onChange"),Xe(S)}),Ht(()=>{b(u(),t.formatTrigger),Xe(S)}),mr("touchstart",N,{target:re(()=>{var L;return(L=s.value)==null?void 0:L.$el})}),()=>{const L=c("disabled"),ee=c("labelAlign"),J=ce(),de=()=>{const pe=F();return ee==="top"?[J,pe].filter(Boolean):pe||[]};return O(YM,{size:t.size,class:ri({error:G.value,disabled:L,[`label-${ee}`]:ee}),center:t.center,border:t.border,isLink:t.isLink,clickable:t.clickable,titleStyle:k.value,valueClass:ri("value"),titleClass:[ri("label",[ee,{required:h.value}]),t.labelClass],arrowDirection:t.arrowDirection},{icon:J&&ee!=="top"?()=>J:null,title:de,value:q,extra:n.extra})}}});const sTe=De(iZ);let Ic=0;function oZ(t){t?(Ic||document.body.classList.add("van-toast--unclickable"),Ic++):Ic&&(Ic--,Ic||document.body.classList.remove("van-toast--unclickable"))}const[sZ,Wl]=Te("toast"),aZ=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],lZ={icon:String,show:Boolean,type:Me("text"),overlay:Boolean,message:Se,iconSize:Se,duration:Sg(2e3),position:Me("middle"),teleport:[String,Object],wordBreak:String,className:hn,iconPrefix:String,transition:Me("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:hn,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:Se};var KM=we({name:sZ,props:lZ,emits:["update:show"],setup(t,{emit:e,slots:n}){let r,i=!1;const o=()=>{const f=t.show&&t.forbidClick;i!==f&&(i=f,oZ(i))},s=f=>e("update:show",f),a=()=>{t.closeOnClick&&s(!1)},l=()=>clearTimeout(r),u=()=>{const{icon:f,type:d,iconSize:h,iconPrefix:p,loadingType:y}=t;if(f||d==="success"||d==="fail")return O(tn,{name:f||d,size:h,class:Wl("icon"),classPrefix:p},null);if(d==="loading")return O(fs,{class:Wl("loading"),size:h,type:y},null)},c=()=>{const{type:f,message:d}=t;if(n.message)return O("div",{class:Wl("text")},[n.message()]);if(Lt(d)&&d!=="")return f==="html"?O("div",{key:0,class:Wl("text"),innerHTML:String(d)},null):O("div",{class:Wl("text")},[d])};return ve(()=>[t.show,t.forbidClick],o),ve(()=>[t.show,t.type,t.message,t.duration],()=>{l(),t.show&&t.duration>0&&(r=setTimeout(()=>{s(!1)},t.duration))}),Ht(o),cs(o),()=>O(Bl,st({class:[Wl([t.position,t.wordBreak==="normal"?"break-normal":t.wordBreak,{[t.type]:!t.icon}]),t.className],lockScroll:!1,onClick:a,onClosed:l,"onUpdate:show":s},$t(t,aZ)),{default:()=>[u(),c()]})}});function Pg(){const t=Mt({show:!1}),e=i=>{t.show=i},n=i=>{We(t,i,{transitionAppear:!0}),e(!0)},r=()=>e(!1);return Kt({open:n,close:r,toggle:e}),{open:n,close:r,state:t,toggle:e}}function Ig(t){const e=c4(t),n=document.createElement("div");return document.body.appendChild(n),{instance:e.mount(n),unmount(){e.unmount(),document.body.removeChild(n)}}}const uZ={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Ds=[],cZ=!1,zy=We({},uZ);const qM=new Map;function ZM(t){return po(t)?t:{message:t}}function fZ(){const{instance:t,unmount:e}=Ig({setup(){const n=Z(""),{open:r,state:i,close:o,toggle:s}=Pg(),a=()=>{},l=()=>O(KM,st(i,{onClosed:a,"onUpdate:show":s}),null);return ve(n,u=>{i.message=u}),yt().render=l,{open:r,close:o,message:n}}});return t}function dZ(){if(!Ds.length||cZ){const t=fZ();Ds.push(t)}return Ds[Ds.length-1]}function jy(t={}){if(!ho)return{};const e=dZ(),n=ZM(t);return e.open(We({},zy,qM.get(n.type||zy.type),n)),e}const iw=t=>e=>jy(We({type:t},ZM(e))),aTe=iw("loading"),lTe=iw("success"),uTe=iw("fail"),cTe=t=>{Ds.length&&(t?(Ds.forEach(e=>{e.close()}),Ds=[]):Ds[0].close())};function fTe(t,e){typeof t=="string"?qM.set(t,e):We(zy,t)}const dTe=De(KM),[hZ,Gm]=Te("switch"),pZ={size:Se,loading:Boolean,disabled:Boolean,modelValue:hn,activeColor:String,inactiveColor:String,activeValue:{type:hn,default:!0},inactiveValue:{type:hn,default:!1}};var gZ=we({name:hZ,props:pZ,emits:["change","update:modelValue"],setup(t,{emit:e,slots:n}){const r=()=>t.modelValue===t.activeValue,i=()=>{if(!t.disabled&&!t.loading){const s=r()?t.inactiveValue:t.activeValue;e("update:modelValue",s),e("change",s)}},o=()=>{if(t.loading){const s=r()?t.activeColor:t.inactiveColor;return O(fs,{class:Gm("loading"),color:s},null)}if(n.node)return n.node()};return Rl(()=>t.modelValue),()=>{var s;const{size:a,loading:l,disabled:u,activeColor:c,inactiveColor:f}=t,d=r(),h={fontSize:tt(a),backgroundColor:d?c:f};return O("div",{role:"switch",class:Gm({on:d,loading:l,disabled:u}),style:h,tabindex:u?void 0:0,"aria-checked":d,onClick:i},[O("div",{class:Gm("node")},[o()]),(s=n.background)==null?void 0:s.call(n)])}}});const hTe=De(gZ),[JM,mZ]=Te("radio-group"),vZ={shape:String,disabled:Boolean,iconSize:Se,direction:String,modelValue:hn,checkedColor:String},QM=Symbol(JM);var yZ=we({name:JM,props:vZ,emits:["change","update:modelValue"],setup(t,{emit:e,slots:n}){const{linkChildren:r}=$i(QM),i=o=>e("update:modelValue",o);return ve(()=>t.modelValue,o=>e("change",o)),r({props:t,updateValue:i}),Rl(()=>t.modelValue),()=>{var o;return O("div",{class:mZ([t.direction]),role:"radiogroup"},[(o=n.default)==null?void 0:o.call(n)])}}});const pTe=De(yZ),[_Z,gTe]=Te("checkbox-group"),bZ=Symbol(_Z),ow={name:hn,disabled:Boolean,iconSize:Se,modelValue:hn,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var eD=we({props:We({},ow,{bem:cr(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:_e,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(t,{emit:e,slots:n}){const r=Z(),i=d=>{if(t.parent&&t.bindGroup)return t.parent.props[d]},o=re(()=>{if(t.parent&&t.bindGroup){const d=i("disabled")||t.disabled;if(t.role==="checkbox"){const h=i("modelValue").length,p=i("max"),y=p&&h>=+p;return d||y&&!t.checked}return d}return t.disabled}),s=re(()=>i("direction")),a=re(()=>{const d=t.checkedColor||i("checkedColor");if(d&&(t.checked||t.indeterminate)&&!o.value)return{borderColor:d,backgroundColor:d}}),l=re(()=>t.shape||i("shape")||"round"),u=d=>{const{target:h}=d,p=r.value,y=p===h||(p==null?void 0:p.contains(h));!o.value&&(y||!t.labelDisabled)&&e("toggle"),e("click",d)},c=()=>{var d,h;const{bem:p,checked:y,indeterminate:v}=t,g=t.iconSize||i("iconSize");return O("div",{ref:r,class:p("icon",[l.value,{disabled:o.value,checked:y,indeterminate:v}]),style:l.value!=="dot"?{fontSize:tt(g)}:{width:tt(g),height:tt(g),borderColor:(d=a.value)==null?void 0:d.borderColor}},[n.icon?n.icon({checked:y,disabled:o.value}):l.value!=="dot"?O(tn,{name:v?"minus":"success",style:a.value},null):O("div",{class:p("icon--dot__icon"),style:{backgroundColor:(h=a.value)==null?void 0:h.backgroundColor}},null)])},f=()=>{const{checked:d}=t;if(n.default)return O("span",{class:t.bem("label",[t.labelPosition,{disabled:o.value}])},[n.default({checked:d,disabled:o.value})])};return()=>{const d=t.labelPosition==="left"?[f(),c()]:[c(),f()];return O("div",{role:t.role,class:t.bem([{disabled:o.value,"label-disabled":t.labelDisabled},s.value]),tabindex:o.value?void 0:0,"aria-checked":t.checked,onClick:u},[d])}}});const xZ=We({},ow,{shape:String}),[wZ,EZ]=Te("radio");var SZ=we({name:wZ,props:xZ,emits:["update:modelValue"],setup(t,{emit:e,slots:n}){const{parent:r}=Zr(QM),i=()=>(r?r.props.modelValue:t.modelValue)===t.name,o=()=>{r?r.updateValue(t.name):e("update:modelValue",t.name)};return()=>O(eD,st({bem:EZ,role:"radio",parent:r,checked:i(),onToggle:o},t),$t(n,["default","icon"]))}});const mTe=De(SZ),[CZ,AZ]=Te("checkbox"),TZ=We({},ow,{shape:String,bindGroup:_e,indeterminate:{type:Boolean,default:null}});var PZ=we({name:CZ,props:TZ,emits:["change","update:modelValue"],setup(t,{emit:e,slots:n}){const{parent:r}=Zr(bZ),i=a=>{const{name:l}=t,{max:u,modelValue:c}=r.props,f=c.slice();if(a)!(u&&f.length>=+u)&&!f.includes(l)&&(f.push(l),t.bindGroup&&r.updateValue(f));else{const d=f.indexOf(l);d!==-1&&(f.splice(d,1),t.bindGroup&&r.updateValue(f))}},o=re(()=>r&&t.bindGroup?r.props.modelValue.indexOf(t.name)!==-1:!!t.modelValue),s=(a=!o.value)=>{r&&t.bindGroup?i(a):e("update:modelValue",a),t.indeterminate!==null&&e("change",a)};return ve(()=>t.modelValue,a=>{t.indeterminate===null&&e("change",a)}),Kt({toggle:s,props:t,checked:o}),Rl(()=>t.modelValue),()=>O(eD,st({bem:AZ,role:"checkbox",parent:r,checked:o.value,onToggle:s},t),$t(n,["default","icon"]))}});const vTe=De(PZ),[IZ,Qt,Wo]=Te("calendar"),OZ=t=>Wo("monthTitle",t.getFullYear(),t.getMonth()+1);function $a(t,e){const n=t.getFullYear(),r=e.getFullYear();if(n===r){const i=t.getMonth(),o=e.getMonth();return i===o?0:i>o?1:-1}return n>r?1:-1}function br(t,e){const n=$a(t,e);if(n===0){const r=t.getDate(),i=e.getDate();return r===i?0:r>i?1:-1}return n}const Fu=t=>new Date(t),qS=t=>Array.isArray(t)?t.map(Fu):Fu(t);function sw(t,e){const n=Fu(t);return n.setDate(n.getDate()+e),n}function aw(t,e){const n=Fu(t);return n.setMonth(n.getMonth()+e),n.getDate()!==t.getDate()&&n.setDate(0),n}function tD(t,e){const n=Fu(t);return n.setFullYear(n.getFullYear()+e),n.getDate()!==t.getDate()&&n.setDate(0),n}const Wy=t=>sw(t,-1),Yy=t=>sw(t,1),ZS=t=>aw(t,-1),JS=t=>aw(t,1),QS=t=>tD(t,-1),eC=t=>tD(t,1),Ch=()=>{const t=new Date;return t.setHours(0,0,0,0),t};function RZ(t){const e=t[0].getTime();return(t[1].getTime()-e)/(1e3*60*60*24)+1}function MZ(t,e=0){const n=new Date(t.getFullYear(),t.getMonth()+1,0),r=e+t.getDate()-1,i=e+n.getDate()-1;return Math.floor(r/7)===Math.floor(i/7)}const DZ=We({},rw,{modelValue:ts(),filter:Function,formatter:{type:Function,default:(t,e)=>e}}),BZ=Object.keys(rw);function kZ(t,e){if(t<0)return[];const n=Array(t);let r=-1;for(;++r<t;)n[r]=e(r);return n}const nD=(t,e)=>32-new Date(t,e-1,32).getDate(),Hm=(t,e,n,r,i,o)=>{const s=kZ(e-t+1,a=>{const l=ka(t+a);return r(n,{text:l,value:l})});return i?i(n,s,o):s},NZ=(t,e)=>t.map((n,r)=>{const i=e[r];if(i.length){const o=+i[0].value,s=+i[i.length-1].value;return ka($n(+n,o,s))}return n}),[FZ]=Te("calendar-day");var LZ=we({name:FZ,props:{item:cr(Object),color:String,index:Number,offset:Sg(0),rowHeight:String},emits:["click","clickDisabledDate"],setup(t,{emit:e,slots:n}){const r=re(()=>{const{item:u,index:c,color:f,offset:d,rowHeight:h}=t,p={height:h};if(u.type==="placeholder")return p.width="100%",p;if(c===0&&(p.marginLeft=`${100*d/7}%`),f)switch(u.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":p.background=f;break;case"middle":p.color=f;break}return u.date&&MZ(u.date,d)&&(p.marginBottom=0),p}),i=()=>{t.item.type!=="disabled"?e("click",t.item):e("clickDisabledDate",t.item)},o=()=>{const{topInfo:u}=t.item;if(u||n["top-info"])return O("div",{class:Qt("top-info")},[n["top-info"]?n["top-info"](t.item):u])},s=()=>{const{bottomInfo:u}=t.item;if(u||n["bottom-info"])return O("div",{class:Qt("bottom-info")},[n["bottom-info"]?n["bottom-info"](t.item):u])},a=()=>n.text?n.text(t.item):t.item.text,l=()=>{const{item:u,color:c,rowHeight:f}=t,{type:d}=u,h=[o(),a(),s()];return d==="selected"?O("div",{class:Qt("selected-day"),style:{width:f,height:f,background:c}},[h]):h};return()=>{const{type:u,className:c}=t.item;return u==="placeholder"?O("div",{class:Qt("day"),style:r.value},null):O("div",{role:"gridcell",style:r.value,class:[Qt("day",u),c],tabindex:u==="disabled"?void 0:-1,onClick:i},[l()])}}});const[$Z]=Te("calendar-month"),UZ={date:cr(Date),type:String,color:String,minDate:Date,maxDate:Date,showMark:Boolean,rowHeight:Se,formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number};var GZ=we({name:$Z,props:UZ,emits:["click","clickDisabledDate"],setup(t,{emit:e,slots:n}){const[r,i]=O4(),o=Z(),s=Z(),a=CM(s),l=re(()=>OZ(t.date)),u=re(()=>tt(t.rowHeight)),c=re(()=>{const C=t.date.getDate(),T=(t.date.getDay()-C%7+8)%7;return t.firstDayOfWeek?(T+7-t.firstDayOfWeek)%7:T}),f=re(()=>nD(t.date.getFullYear(),t.date.getMonth()+1)),d=re(()=>r.value||!t.lazyRender),h=()=>l.value,p=C=>{const A=T=>t.currentDate.some(R=>br(R,T)===0);if(A(C)){const T=Wy(C),R=Yy(C),N=A(T),G=A(R);return N&&G?"multiple-middle":N?"end":G?"start":"multiple-selected"}return""},y=C=>{const[A,T]=t.currentDate;if(!A)return"";const R=br(C,A);if(!T)return R===0?"start":"";const N=br(C,T);return t.allowSameDay&&R===0&&N===0?"start-end":R===0?"start":N===0?"end":R>0&&N<0?"middle":""},v=C=>{const{type:A,minDate:T,maxDate:R,currentDate:N}=t;if(T&&br(C,T)<0||R&&br(C,R)>0)return"disabled";if(N===null)return"";if(Array.isArray(N)){if(A==="multiple")return p(C);if(A==="range")return y(C)}else if(A==="single")return br(C,N)===0?"selected":"";return""},g=C=>{if(t.type==="range"){if(C==="start"||C==="end")return Wo(C);if(C==="start-end")return`${Wo("start")}/${Wo("end")}`}},m=()=>{if(t.showMonthTitle)return O("div",{class:Qt("month-title")},[n["month-title"]?n["month-title"]({date:t.date,text:l.value}):l.value])},_=()=>{if(t.showMark&&d.value)return O("div",{class:Qt("month-mark")},[t.date.getMonth()+1])},b=re(()=>{const C=Math.ceil((f.value+c.value)/7);return Array(C).fill({type:"placeholder"})}),x=re(()=>{const C=[],A=t.date.getFullYear(),T=t.date.getMonth();for(let R=1;R<=f.value;R++){const N=new Date(A,T,R),G=v(N);let k={date:N,type:G,text:R,bottomInfo:g(G)};t.formatter&&(k=t.formatter(k)),C.push(k)}return C}),w=re(()=>x.value.filter(C=>C.type==="disabled")),E=(C,A)=>{if(o.value){const T=wn(o.value),R=b.value.length,G=(Math.ceil((A.getDate()+c.value)/7)-1)*T.height/R;i0(C,T.top+G+C.scrollTop-wn(C).top)}},S=(C,A)=>O(LZ,{item:C,index:A,color:t.color,offset:c.value,rowHeight:u.value,onClick:T=>e("click",T),onClickDisabledDate:T=>e("clickDisabledDate",T)},$t(n,["top-info","bottom-info","text"])),P=()=>O("div",{ref:o,role:"grid",class:Qt("days")},[_(),(d.value?x:b).value.map(S)]);return Kt({getTitle:h,getHeight:()=>a.value,setVisible:i,scrollToDate:E,disabledDays:w}),()=>O("div",{class:Qt("month"),ref:s},[m(),P()])}});const[HZ]=Te("calendar-header");var VZ=we({name:HZ,props:{date:Date,minDate:Date,maxDate:Date,title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number,switchMode:Me("none")},emits:["clickSubtitle","panelChange"],setup(t,{slots:e,emit:n}){const r=re(()=>t.date&&t.minDate&&$a(ZS(t.date),t.minDate)<0),i=re(()=>t.date&&t.minDate&&$a(QS(t.date),t.minDate)<0),o=re(()=>t.date&&t.maxDate&&$a(JS(t.date),t.maxDate)>0),s=re(()=>t.date&&t.maxDate&&$a(eC(t.date),t.maxDate)>0),a=()=>{if(t.showTitle){const h=t.title||Wo("title"),p=e.title?e.title():h;return O("div",{class:Qt("header-title")},[p])}},l=h=>n("clickSubtitle",h),u=h=>n("panelChange",h),c=h=>{const p=t.switchMode==="year-month",y=e[h?"next-month":"prev-month"],v=e[h?"next-year":"prev-year"],g=h?o.value:r.value,m=h?s.value:i.value,_=h?"arrow":"arrow-left",b=h?"arrow-double-right":"arrow-double-left",x=()=>u((h?JS:ZS)(t.date)),w=()=>u((h?eC:QS)(t.date)),E=O("view",{class:Qt("header-action",{disabled:g}),onClick:g?void 0:x},[y?y({disabled:g}):O(tn,{class:{[ns]:!g},name:_},null)]),S=p&&O("view",{class:Qt("header-action",{disabled:m}),onClick:m?void 0:w},[v?v({disabled:m}):O(tn,{class:{[ns]:!m},name:b},null)]);return h?[E,S]:[S,E]},f=()=>{if(t.showSubtitle){const h=e.subtitle?e.subtitle({date:t.date,text:t.subtitle}):t.subtitle,p=t.switchMode!=="none";return O("div",{class:Qt("header-subtitle",{"with-switch":p}),onClick:l},[p?[c(),O("div",{class:Qt("header-subtitle-text")},[h]),c(!0)]:h])}},d=()=>{const{firstDayOfWeek:h}=t,p=Wo("weekdays"),y=[...p.slice(h,7),...p.slice(0,h)];return O("div",{class:Qt("weekdays")},[y.map(v=>O("span",{class:Qt("weekday")},[v]))])};return()=>O("div",{class:Qt("header")},[a(),f(),d()])}});const zZ={show:Boolean,type:Me("single"),switchMode:Me("none"),title:String,color:String,round:_e,readonly:Boolean,poppable:_e,maxRange:ze(null),position:Me("bottom"),teleport:[String,Object],showMark:_e,showTitle:_e,formatter:Function,rowHeight:Se,confirmText:String,rangePrompt:String,lazyRender:_e,showConfirm:_e,defaultDate:[Date,Array],allowSameDay:Boolean,showSubtitle:_e,closeOnPopstate:_e,showRangePrompt:_e,confirmDisabledText:String,closeOnClickOverlay:_e,safeAreaInsetTop:Boolean,safeAreaInsetBottom:_e,minDate:{type:Date,validator:Yf},maxDate:{type:Date,validator:Yf},firstDayOfWeek:{type:Se,default:0,validator:t=>t>=0&&t<=6}};var jZ=we({name:IZ,props:zZ,emits:["select","confirm","unselect","monthShow","overRange","update:show","clickSubtitle","clickDisabledDate","clickOverlay","panelChange"],setup(t,{emit:e,slots:n}){const r=re(()=>t.switchMode!=="none"),i=re(()=>!t.minDate&&!r.value?Ch():t.minDate),o=re(()=>!t.maxDate&&!r.value?aw(Ch(),6):t.maxDate),s=(X,ie=i.value,ge=o.value)=>ie&&br(X,ie)===-1?ie:ge&&br(X,ge)===1?ge:X,a=(X=t.defaultDate)=>{const{type:ie,allowSameDay:ge}=t;if(X===null)return X;const F=Ch();if(ie==="range"){Array.isArray(X)||(X=[]),X.length===1&&br(X[0],F)===1&&(X=[]);const q=i.value,L=o.value,ee=s(X[0]||F,q,L?ge?L:Wy(L):void 0),J=s(X[1]||(ge?F:Yy(F)),q?ge?q:Yy(q):void 0);return[ee,J]}return ie==="multiple"?Array.isArray(X)?X.map(q=>s(q)):[s(F)]:((!X||Array.isArray(X))&&(X=F),s(X))},l=()=>{const X=Array.isArray(f.value)?f.value[0]:f.value;return X||s(Ch())};let u;const c=Z(),f=Z(a()),d=Z(l()),h=Z(),[p,y]=FM(),v=re(()=>t.firstDayOfWeek?+t.firstDayOfWeek%7:0),g=re(()=>{const X=[];if(!i.value||!o.value)return X;const ie=new Date(i.value);ie.setDate(1);do X.push(new Date(ie)),ie.setMonth(ie.getMonth()+1);while($a(ie,o.value)!==1);return X}),m=re(()=>{if(f.value){if(t.type==="range")return!f.value[0]||!f.value[1];if(t.type==="multiple")return!f.value.length}return!f.value}),_=()=>f.value,b=()=>{const X=Nd(c.value),ie=X+u,ge=g.value.map((J,de)=>p.value[de].getHeight()),F=ge.reduce((J,de)=>J+de,0);if(ie>F&&X>0)return;let q=0,L;const ee=[-1,-1];for(let J=0;J<g.value.length;J++){const de=p.value[J];q<=ie&&q+ge[J]>=X&&(ee[1]=J,L||(L=de,ee[0]=J),p.value[J].showed||(p.value[J].showed=!0,e("monthShow",{date:de.date,title:de.getTitle()}))),q+=ge[J]}g.value.forEach((J,de)=>{const pe=de>=ee[0]-1&&de<=ee[1]+1;p.value[de].setVisible(pe)}),L&&(h.value=L)},x=X=>{r.value?d.value=X:hr(()=>{g.value.some((ie,ge)=>$a(ie,X)===0?(c.value&&p.value[ge].scrollToDate(c.value,X),!0):!1),b()})},w=()=>{if(!(t.poppable&&!t.show))if(f.value){const X=t.type==="single"?f.value:f.value[0];Yf(X)&&x(X)}else r.value||hr(b)},E=()=>{t.poppable&&!t.show||(r.value||hr(()=>{u=Math.floor(wn(c).height)}),w())},S=(X=a())=>{f.value=X,w()},P=X=>{const{maxRange:ie,rangePrompt:ge,showRangePrompt:F}=t;return ie&&RZ(X)>+ie?(F&&jy(ge||Wo("rangePrompt",ie)),e("overRange"),!1):!0},C=X=>{d.value=X,e("panelChange",{date:X})},A=()=>{var X;return e("confirm",(X=f.value)!=null?X:qS(f.value))},T=(X,ie)=>{const ge=F=>{f.value=F,e("select",qS(F))};if(ie&&t.type==="range"&&!P(X)){ge([X[0],sw(X[0],+t.maxRange-1)]);return}ge(X),ie&&!t.showConfirm&&A()},R=(X,ie,ge)=>{var F;return(F=X.find(q=>br(ie,q.date)===-1&&br(q.date,ge)===-1))==null?void 0:F.date},N=re(()=>p.value.reduce((X,ie)=>{var ge,F;return X.push(...(F=(ge=ie.disabledDays)==null?void 0:ge.value)!=null?F:[]),X},[])),G=X=>{if(t.readonly||!X.date)return;const{date:ie}=X,{type:ge}=t;if(ge==="range"){if(!f.value){T([ie]);return}const[F,q]=f.value;if(F&&!q){const L=br(ie,F);if(L===1){const ee=R(N.value,F,ie);if(ee){const J=Wy(ee);br(F,J)===-1?T([F,J]):T([ie])}else T([F,ie],!0)}else L===-1?T([ie]):t.allowSameDay&&T([ie,ie],!0)}else T([ie])}else if(ge==="multiple"){if(!f.value){T([ie]);return}const F=f.value,q=F.findIndex(L=>br(L,ie)===0);if(q!==-1){const[L]=F.splice(q,1);e("unselect",Fu(L))}else t.maxRange&&F.length>=+t.maxRange?jy(t.rangePrompt||Wo("rangePrompt",t.maxRange)):T([...F,ie])}else T(ie,!0)},k=X=>e("clickOverlay",X),U=X=>e("update:show",X),W=(X,ie)=>{const ge=ie!==0||!t.showSubtitle;return O(GZ,st({ref:r.value?h:y(ie),date:X,currentDate:f.value,showMonthTitle:ge,firstDayOfWeek:v.value,lazyRender:r.value?!1:t.lazyRender,maxDate:o.value,minDate:i.value},$t(t,["type","color","showMark","formatter","rowHeight","showSubtitle","allowSameDay"]),{onClick:G,onClickDisabledDate:F=>e("clickDisabledDate",F)}),$t(n,["top-info","bottom-info","month-title","text"]))},K=()=>{if(n.footer)return n.footer();if(t.showConfirm){const X=n["confirm-text"],ie=m.value,ge=ie?t.confirmDisabledText:t.confirmText;return O(o0,{round:!0,block:!0,type:"primary",color:t.color,class:Qt("confirm"),disabled:ie,nativeType:"button",onClick:A},{default:()=>[X?X({disabled:ie}):ge||Wo("confirm")]})}},fe=()=>O("div",{class:[Qt("footer"),{"van-safe-area-bottom":t.safeAreaInsetBottom}]},[K()]),ce=()=>{var X,ie;return O("div",{class:Qt()},[O(VZ,{date:(X=h.value)==null?void 0:X.date,maxDate:o.value,minDate:i.value,title:t.title,subtitle:(ie=h.value)==null?void 0:ie.getTitle(),showTitle:t.showTitle,showSubtitle:t.showSubtitle,switchMode:t.switchMode,firstDayOfWeek:v.value,onClickSubtitle:ge=>e("clickSubtitle",ge),onPanelChange:C},$t(n,["title","subtitle","prev-month","prev-year","next-month","next-year"])),O("div",{ref:c,class:Qt("body"),onScroll:r.value?void 0:b},[r.value?W(d.value,0):g.value.map(W)]),fe()])};return ve(()=>t.show,E),ve(()=>[t.type,t.minDate,t.maxDate,t.switchMode],()=>S(a(f.value))),ve(()=>t.defaultDate,X=>{S(X)}),Kt({reset:S,scrollToDate:x,getSelectedDate:_}),uc(E),()=>t.poppable?O(Bl,{show:t.show,class:Qt("popup"),round:t.round,position:t.position,closeable:t.showTitle||t.showSubtitle,teleport:t.teleport,closeOnPopstate:t.closeOnPopstate,safeAreaInsetTop:t.safeAreaInsetTop,closeOnClickOverlay:t.closeOnClickOverlay,onClickOverlay:k,"onUpdate:show":U},{default:ce}):ce()}});const yTe=De(jZ),[WZ,Yl]=Te("image"),YZ={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:Se,height:Se,radius:Se,lazyLoad:Boolean,iconSize:Se,showError:_e,errorIcon:Me("photo-fail"),iconPrefix:String,showLoading:_e,loadingIcon:Me("photo"),crossorigin:String,referrerpolicy:String,decoding:String};var XZ=we({name:WZ,props:YZ,emits:["load","error"],setup(t,{emit:e,slots:n}){const r=Z(!1),i=Z(!0),o=Z(),{$Lazyload:s}=yt().proxy,a=re(()=>{const v={width:tt(t.width),height:tt(t.height)};return Lt(t.radius)&&(v.overflow="hidden",v.borderRadius=tt(t.radius)),v});ve(()=>t.src,()=>{r.value=!1,i.value=!0});const l=v=>{i.value&&(i.value=!1,e("load",v))},u=()=>{const v=new Event("load");Object.defineProperty(v,"target",{value:o.value,enumerable:!0}),l(v)},c=v=>{r.value=!0,i.value=!1,e("error",v)},f=(v,g,m)=>m?m():O(tn,{name:v,size:t.iconSize,class:g,classPrefix:t.iconPrefix},null),d=()=>{if(i.value&&t.showLoading)return O("div",{class:Yl("loading")},[f(t.loadingIcon,Yl("loading-icon"),n.loading)]);if(r.value&&t.showError)return O("div",{class:Yl("error")},[f(t.errorIcon,Yl("error-icon"),n.error)])},h=()=>{if(r.value||!t.src)return;const v={alt:t.alt,class:Yl("img"),decoding:t.decoding,style:{objectFit:t.fit,objectPosition:t.position},crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy};return t.lazyLoad?di(O("img",st({ref:o},v),null),[[hO("lazy"),t.src]]):O("img",st({ref:o,src:t.src,onLoad:l,onError:c},v),null)},p=({el:v})=>{const g=()=>{v===o.value&&i.value&&u()};o.value?g():Xe(g)},y=({el:v})=>{v===o.value&&!r.value&&c()};return s&&ho&&(s.$on("loaded",p),s.$on("error",y),qr(()=>{s.$off("loaded",p),s.$off("error",y)})),Ht(()=>{Xe(()=>{var v;(v=o.value)!=null&&v.complete&&!t.lazyLoad&&u()})}),()=>{var v;return O("div",{class:Yl({round:t.round,block:t.block}),style:a.value},[h(),d(),(v=n.default)==null?void 0:v.call(n)])}}});const rD=De(XZ),[KZ,Ah]=Te("circle");let qZ=0;const tC=t=>Math.min(Math.max(+t,0),100);function ZZ(t,e){const n=t?1:0;return`M ${e/2} ${e/2} m 0, -500 a 500, 500 0 1, ${n} 0, 1000 a 500, 500 0 1, ${n} 0, -1000`}const JZ={text:String,size:Se,fill:Me("none"),rate:ze(100),speed:ze(0),color:[String,Object],clockwise:_e,layerColor:String,currentRate:Sg(0),strokeWidth:ze(40),strokeLinecap:String,startPosition:Me("top")};var QZ=we({name:KZ,props:JZ,emits:["update:currentRate"],setup(t,{emit:e,slots:n}){const r=`van-circle-${qZ++}`,i=re(()=>+t.strokeWidth+1e3),o=re(()=>ZZ(t.clockwise,i.value)),s=re(()=>{const d={top:0,right:90,bottom:180,left:270}[t.startPosition];if(d)return{transform:`rotate(${d}deg)`}});ve(()=>t.rate,f=>{let d;const h=Date.now(),p=t.currentRate,y=tC(f),v=Math.abs((p-y)*1e3/+t.speed),g=()=>{const m=Date.now(),b=Math.min((m-h)/v,1)*(y-p)+p;e("update:currentRate",tC(parseFloat(b.toFixed(1)))),(y>p?b<y:b>y)&&(d=hr(g))};t.speed?(d&&Bd(d),d=hr(g)):e("update:currentRate",y)},{immediate:!0});const a=()=>{const{strokeWidth:d,currentRate:h,strokeLinecap:p}=t,y=3140*h/100,v=po(t.color)?`url(#${r})`:t.color,g={stroke:v,strokeWidth:`${+d+1}px`,strokeLinecap:p,strokeDasharray:`${y}px 3140px`};return O("path",{d:o.value,style:g,class:Ah("hover"),stroke:v},null)},l=()=>{const f={fill:t.fill,stroke:t.layerColor,strokeWidth:`${t.strokeWidth}px`};return O("path",{class:Ah("layer"),style:f,d:o.value},null)},u=()=>{const{color:f}=t;if(!po(f))return;const d=Object.keys(f).sort((h,p)=>parseFloat(h)-parseFloat(p)).map((h,p)=>O("stop",{key:p,offset:h,"stop-color":f[h]},null));return O("defs",null,[O("linearGradient",{id:r,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[d])])},c=()=>{if(n.default)return n.default();if(t.text)return O("div",{class:Ah("text")},[t.text])};return()=>O("div",{class:Ah(),style:Ml(t.size)},[O("svg",{viewBox:`0 0 ${i.value} ${i.value}`,style:s.value},[u(),l(),a()]),c()])}});const _Te=De(QZ),[iD,eJ]=Te("row"),oD=Symbol(iD),tJ={tag:Me("div"),wrap:_e,align:String,gutter:{type:[String,Number,Array],default:0},justify:String};var nJ=we({name:iD,props:tJ,setup(t,{slots:e}){const{children:n,linkChildren:r}=$i(oD),i=re(()=>{const a=[[]];let l=0;return n.forEach((u,c)=>{l+=Number(u.span),l>24?(a.push([c]),l-=24):a[a.length-1].push(c)}),a}),o=re(()=>{let a=0;Array.isArray(t.gutter)?a=Number(t.gutter[0])||0:a=Number(t.gutter);const l=[];return a&&i.value.forEach(u=>{const c=a*(u.length-1)/u.length;u.forEach((f,d)=>{if(d===0)l.push({right:c});else{const h=a-l[f-1].right,p=c-h;l.push({left:h,right:p})}})}),l}),s=re(()=>{const{gutter:a}=t,l=[];if(Array.isArray(a)&&a.length>1){const u=Number(a[1])||0;if(u<=0)return l;i.value.forEach((c,f)=>{f!==i.value.length-1&&c.forEach(()=>{l.push({bottom:u})})})}return l});return r({spaces:o,verticalSpaces:s}),()=>{const{tag:a,wrap:l,align:u,justify:c}=t;return O(a,{class:eJ({[`align-${u}`]:u,[`justify-${c}`]:c,nowrap:!l})},{default:()=>{var f;return[(f=e.default)==null?void 0:f.call(e)]}})}}});const[rJ,iJ]=Te("col"),oJ={tag:Me("div"),span:ze(0),offset:Se};var sJ=we({name:rJ,props:oJ,setup(t,{slots:e}){const{parent:n,index:r}=Zr(oD),i=re(()=>{if(!n)return;const{spaces:o,verticalSpaces:s}=n;let a={};if(o&&o.value&&o.value[r.value]){const{left:u,right:c}=o.value[r.value];a={paddingLeft:u?`${u}px`:null,paddingRight:c?`${c}px`:null}}const{bottom:l}=s.value[r.value]||{};return We(a,{marginBottom:l?`${l}px`:null})});return()=>{const{tag:o,span:s,offset:a}=t;return O(o,{style:i.value,class:iJ({[s]:s,[`offset-${a}`]:a})},{default:()=>{var l;return[(l=e.default)==null?void 0:l.call(e)]}})}}});const bTe=De(sJ),[sD,aJ]=Te("collapse"),aD=Symbol(sD),lJ={border:_e,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};function uJ(t,e){return e&&Array.isArray(t)?(console.error('[Vant] Collapse: "v-model" should not be Array in accordion mode'),!1):!e&&!Array.isArray(t)?(console.error('[Vant] Collapse: "v-model" should be Array in non-accordion mode'),!1):!0}var cJ=we({name:sD,props:lJ,emits:["change","update:modelValue"],setup(t,{emit:e,slots:n}){const{linkChildren:r,children:i}=$i(aD),o=u=>{e("change",u),e("update:modelValue",u)},s=(u,c)=>{const{accordion:f,modelValue:d}=t;o(f?u===d?"":u:c?d.concat(u):d.filter(h=>h!==u))},a=(u={})=>{if(t.accordion)return;typeof u=="boolean"&&(u={expanded:u});const{expanded:c,skipDisabled:f}=u,h=i.filter(p=>p.disabled&&f?p.expanded.value:c??!p.expanded.value).map(p=>p.itemName.value);o(h)},l=u=>{const{accordion:c,modelValue:f}=t;return uJ(f,c)?c?f===u:f.includes(u):!1};return Kt({toggleAll:a}),r({toggle:s,isExpanded:l}),()=>{var u;return O("div",{class:[aJ(),{[xM]:t.border}]},[(u=n.default)==null?void 0:u.call(n)])}}});const xTe=De(cJ),[fJ,Th]=Te("collapse-item"),dJ=["icon","title","value","label","right-icon"],hJ=We({},Tg,{name:Se,isLink:_e,disabled:Boolean,readonly:Boolean,lazyRender:_e});var pJ=we({name:fJ,props:hJ,setup(t,{slots:e}){const n=Z(),r=Z(),{parent:i,index:o}=Zr(aD);if(!i){console.error("[Vant] <CollapseItem> must be a child component of <Collapse>.");return}const s=re(()=>{var y;return(y=t.name)!=null?y:o.value}),a=re(()=>i.isExpanded(s.value)),l=Z(a.value),u=tw(()=>l.value||!t.lazyRender),c=()=>{a.value?n.value&&(n.value.style.height=""):l.value=!1};ve(a,(y,v)=>{if(v===null)return;y&&(l.value=!0),(y?Xe:hr)(()=>{if(!r.value||!n.value)return;const{offsetHeight:m}=r.value;if(m){const _=`${m}px`;n.value.style.height=y?"0":_,La(()=>{n.value&&(n.value.style.height=y?_:"0")})}else c()})});const f=(y=!a.value)=>{i.toggle(s.value,y)},d=()=>{!t.disabled&&!t.readonly&&f()},h=()=>{const{border:y,disabled:v,readonly:g}=t,m=$t(t,Object.keys(Tg));return g&&(m.isLink=!1),(v||g)&&(m.clickable=!1),O(YM,st({role:"button",class:Th("title",{disabled:v,expanded:a.value,borderless:!y}),"aria-expanded":String(a.value),onClick:d},m),$t(e,dJ))},p=u(()=>{var y;return di(O("div",{ref:n,class:Th("wrapper"),onTransitionend:c},[O("div",{ref:r,class:Th("content")},[(y=e.default)==null?void 0:y.call(e)])]),[[pi,l.value]])});return Kt({toggle:f,expanded:a,itemName:s}),()=>O("div",{class:[Th({border:o.value&&t.border})]},[h(),p()])}});const wTe=De(pJ);function gJ(t,e){const{days:n}=e;let{hours:r,minutes:i,seconds:o,milliseconds:s}=e;if(t.includes("DD")?t=t.replace("DD",ka(n)):r+=n*24,t.includes("HH")?t=t.replace("HH",ka(r)):i+=r*60,t.includes("mm")?t=t.replace("mm",ka(i)):o+=i*60,t.includes("ss")?t=t.replace("ss",ka(o)):s+=o*1e3,t.includes("S")){const a=ka(s,3);t.includes("SSS")?t=t.replace("SSS",a):t.includes("SS")?t=t.replace("SS",a.slice(0,2)):t=t.replace("S",a.charAt(0))}return t}const[mJ,vJ]=Te("count-down"),yJ={time:ze(0),format:Me("HH:mm:ss"),autoStart:_e,millisecond:Boolean};var _J=we({name:mJ,props:yJ,emits:["change","finish"],setup(t,{emit:e,slots:n}){const{start:r,pause:i,reset:o,current:s}=D4({time:+t.time,millisecond:t.millisecond,onChange:u=>e("change",u),onFinish:()=>e("finish")}),a=re(()=>gJ(t.format,s.value)),l=()=>{o(+t.time),t.autoStart&&r()};return ve(()=>t.time,l,{immediate:!0}),Kt({start:r,pause:i,reset:l}),()=>O("div",{role:"timer",class:vJ()},[n.default?n.default(s.value):a.value])}});const ETe=De(_J),nC=new Date().getFullYear(),[bJ]=Te("date-picker"),xJ=We({},DZ,{columnsType:{type:Array,default:()=>["year","month","day"]},minDate:{type:Date,default:()=>new Date(nC-10,0,1),validator:Yf},maxDate:{type:Date,default:()=>new Date(nC+10,11,31),validator:Yf}});var wJ=we({name:bJ,props:xJ,emits:["confirm","cancel","change","update:modelValue"],setup(t,{emit:e,slots:n}){const r=Z(t.modelValue),i=Z(!1),o=Z(),s=re(()=>i.value?t.modelValue:r.value),a=x=>x===t.minDate.getFullYear(),l=x=>x===t.maxDate.getFullYear(),u=x=>x===t.minDate.getMonth()+1,c=x=>x===t.maxDate.getMonth()+1,f=x=>{const{minDate:w,columnsType:E}=t,S=E.indexOf(x),P=s.value[S];if(P)return+P;switch(x){case"year":return w.getFullYear();case"month":return w.getMonth()+1;case"day":return w.getDate()}},d=()=>{const x=t.minDate.getFullYear(),w=t.maxDate.getFullYear();return Hm(x,w,"year",t.formatter,t.filter,s.value)},h=()=>{const x=f("year"),w=a(x)?t.minDate.getMonth()+1:1,E=l(x)?t.maxDate.getMonth()+1:12;return Hm(w,E,"month",t.formatter,t.filter,s.value)},p=()=>{const x=f("year"),w=f("month"),E=a(x)&&u(w)?t.minDate.getDate():1,S=l(x)&&c(w)?t.maxDate.getDate():nD(x,w);return Hm(E,S,"day",t.formatter,t.filter,s.value)},y=()=>{var x;return(x=o.value)==null?void 0:x.confirm()},v=()=>r.value,g=re(()=>t.columnsType.map(x=>{switch(x){case"year":return d();case"month":return h();case"day":return p();default:throw new Error(`[Vant] DatePicker: unsupported columns type: ${x}`)}}));ve(r,x=>{zs(x,t.modelValue)||e("update:modelValue",x)}),ve(()=>t.modelValue,(x,w)=>{i.value=zs(w,r.value),x=NZ(x,g.value),zs(x,r.value)||(r.value=x),i.value=!1},{immediate:!0});const m=(...x)=>e("change",...x),_=(...x)=>e("cancel",...x),b=(...x)=>e("confirm",...x);return Kt({confirm:y,getSelectedDate:v}),()=>O(Hq,st({ref:o,modelValue:r.value,"onUpdate:modelValue":x=>r.value=x,columns:g.value,onChange:m,onCancel:_,onConfirm:b},$t(t,BZ)),n)}});const STe=De(wJ),[EJ,bi,Ph]=Te("dialog"),SJ=We({},Ld,{title:String,theme:String,width:Se,message:[String,Function],callback:Function,allowHtml:Boolean,className:hn,transition:Me("van-dialog-bounce"),messageAlign:String,closeOnPopstate:_e,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:_e,closeOnClickOverlay:Boolean,keyboardEnabled:_e,destroyOnClose:Boolean}),CJ=[...IM,"transition","closeOnPopstate","destroyOnClose"];var lD=we({name:EJ,props:SJ,emits:["confirm","cancel","keydown","update:show"],setup(t,{emit:e,slots:n}){const r=Z(),i=Mt({confirm:!1,cancel:!1}),o=g=>e("update:show",g),s=g=>{var m;o(!1),(m=t.callback)==null||m.call(t,g)},a=g=>()=>{t.show&&(e(g),t.beforeClose?(i[g]=!0,cc(t.beforeClose,{args:[g],done(){s(g),i[g]=!1},canceled(){i[g]=!1}})):s(g))},l=a("cancel"),u=a("confirm"),c=o4(g=>{var m,_;if(!t.keyboardEnabled||g.target!==((_=(m=r.value)==null?void 0:m.popupRef)==null?void 0:_.value))return;({Enter:t.showConfirmButton?u:$y,Escape:t.showCancelButton?l:$y})[g.key](),e("keydown",g)},["enter","esc"]),f=()=>{const g=n.title?n.title():t.title;if(g)return O("div",{class:bi("header",{isolated:!t.message&&!n.default})},[g])},d=g=>{const{message:m,allowHtml:_,messageAlign:b}=t,x=bi("message",{"has-title":g,[b]:b}),w=ku(m)?m():m;return _&&typeof w=="string"?O("div",{class:x,innerHTML:w},null):O("div",{class:x},[w])},h=()=>{if(n.default)return O("div",{class:bi("content")},[n.default()]);const{title:g,message:m,allowHtml:_}=t;if(m){const b=!!(g||n.title);return O("div",{key:_?1:0,class:bi("content",{isolated:!b})},[d(b)])}},p=()=>O("div",{class:[bM,bi("footer")]},[t.showCancelButton&&O(o0,{size:"large",text:t.cancelButtonText||Ph("cancel"),class:bi("cancel"),style:{color:t.cancelButtonColor},loading:i.cancel,disabled:t.cancelButtonDisabled,onClick:l},null),t.showConfirmButton&&O(o0,{size:"large",text:t.confirmButtonText||Ph("confirm"),class:[bi("confirm"),{[nK]:t.showCancelButton}],style:{color:t.confirmButtonColor},loading:i.confirm,disabled:t.confirmButtonDisabled,onClick:u},null)]),y=()=>O(uK,{class:bi("footer")},{default:()=>[t.showCancelButton&&O($S,{type:"warning",text:t.cancelButtonText||Ph("cancel"),class:bi("cancel"),color:t.cancelButtonColor,loading:i.cancel,disabled:t.cancelButtonDisabled,onClick:l},null),t.showConfirmButton&&O($S,{type:"danger",text:t.confirmButtonText||Ph("confirm"),class:bi("confirm"),color:t.confirmButtonColor,loading:i.confirm,disabled:t.confirmButtonDisabled,onClick:u},null)]}),v=()=>n.footer?n.footer():t.theme==="round-button"?y():p();return()=>{const{width:g,title:m,theme:_,message:b,className:x}=t;return O(Bl,st({ref:r,role:"dialog",class:[bi([_]),x],style:{width:tt(g)},tabindex:0,"aria-labelledby":m||b,onKeydown:c,"onUpdate:show":o},$t(t,CJ)),{default:()=>[f(),h(),v()]})}}});let Xy;const AJ={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,destroyOnClose:!1};let TJ=We({},AJ);function PJ(){({instance:Xy}=Ig({setup(){const{state:e,toggle:n}=Pg();return()=>O(lD,st(e,{"onUpdate:show":n}),null)}}))}function IJ(t){return ho?new Promise((e,n)=>{Xy||PJ(),Xy.open(We({},TJ,t,{callback:r=>{(r==="confirm"?e:n)(r)}}))}):Promise.resolve(void 0)}const CTe=t=>IJ(We({showCancelButton:!0},t)),ATe=De(lD),[OJ,RJ]=Te("divider"),MJ={dashed:Boolean,hairline:_e,vertical:Boolean,contentPosition:Me("center")};var DJ=we({name:OJ,props:MJ,setup(t,{slots:e}){return()=>{var n;return O("div",{role:"separator",class:RJ({dashed:t.dashed,hairline:t.hairline,vertical:t.vertical,[`content-${t.contentPosition}`]:!!e.default&&!t.vertical})},[!t.vertical&&((n=e.default)==null?void 0:n.call(e))])}}});const TTe=De(DJ),BJ={gap:{type:[Number,Object],default:24},icon:String,axis:Me("y"),magnetic:String,offset:Object,teleport:{type:[String,Object],default:"body"}},[kJ,rC]=Te("floating-bubble");var NJ=we({name:kJ,inheritAttrs:!1,props:BJ,emits:["click","update:offset","offsetChange"],setup(t,{slots:e,emit:n,attrs:r}){const i=Z(),o=Z({x:0,y:0,width:0,height:0}),s=re(()=>po(t.gap)?t.gap.x:t.gap),a=re(()=>po(t.gap)?t.gap.y:t.gap),l=re(()=>({top:a.value,right:jo.value-o.value.width-s.value,bottom:js.value-o.value.height-a.value,left:s.value})),u=Z(!1);let c=!1;const f=re(()=>{const x={},w=tt(o.value.x),E=tt(o.value.y);return x.transform=`translate3d(${w}, ${E}, 0)`,(u.value||!c)&&(x.transition="none"),x}),d=()=>{if(!b.value)return;const{width:x,height:w}=wn(i.value),{offset:E}=t;o.value={x:E?E.x:jo.value-x-s.value,y:E?E.y:js.value-w-a.value,width:x,height:w}},h=Dl();let p=0,y=0;const v=x=>{h.start(x),u.value=!0,p=o.value.x,y=o.value.y};mr("touchmove",x=>{if(x.preventDefault(),h.move(x),t.axis!=="lock"&&!h.isTap.value){if(t.axis==="x"||t.axis==="xy"){let E=p+h.deltaX.value;E<l.value.left&&(E=l.value.left),E>l.value.right&&(E=l.value.right),o.value.x=E}if(t.axis==="y"||t.axis==="xy"){let E=y+h.deltaY.value;E<l.value.top&&(E=l.value.top),E>l.value.bottom&&(E=l.value.bottom),o.value.y=E}const w=$t(o.value,["x","y"]);n("update:offset",w)}},{target:i});const m=()=>{u.value=!1,Xe(()=>{if(t.magnetic==="x"){const x=kS([l.value.left,l.value.right],o.value.x);o.value.x=x}if(t.magnetic==="y"){const x=kS([l.value.top,l.value.bottom],o.value.y);o.value.y=x}if(!h.isTap.value){const x=$t(o.value,["x","y"]);n("update:offset",x),(p!==x.x||y!==x.y)&&n("offsetChange",x)}})},_=x=>{h.isTap.value?n("click",x):x.stopPropagation()};Ht(()=>{d(),Xe(()=>{c=!0})}),ve([jo,js,s,a,()=>t.offset],d,{deep:!0});const b=Z(!0);return ls(()=>{b.value=!0}),bo(()=>{t.teleport&&(b.value=!1)}),()=>{const x=di(O("div",st({class:rC(),ref:i,onTouchstartPassive:v,onTouchend:m,onTouchcancel:m,onClickCapture:_,style:f.value},r),[e.default?e.default():O(xK,{name:t.icon,class:rC("icon")},null)]),[[pi,b.value]]);return t.teleport?O(og,{to:t.teleport},{default:()=>[x]}):x}}});const PTe=De(NJ),[uD,FJ]=Te("grid"),LJ={square:Boolean,center:_e,border:_e,gutter:Se,reverse:Boolean,iconSize:Se,direction:String,clickable:Boolean,columnNum:ze(4)},cD=Symbol(uD);var $J=we({name:uD,props:LJ,setup(t,{slots:e}){const{linkChildren:n}=$i(cD);return n({props:t}),()=>{var r;return O("div",{style:{paddingLeft:tt(t.gutter)},class:[FJ(),{[bM]:t.border&&!t.gutter}]},[(r=e.default)==null?void 0:r.call(e)])}}});const ITe=De($J),[UJ,Ih]=Te("grid-item"),GJ=We({},fc,{dot:Boolean,text:String,icon:String,badge:Se,iconColor:String,iconPrefix:String,badgeProps:Object});var HJ=we({name:UJ,props:GJ,setup(t,{slots:e}){const{parent:n,index:r}=Zr(cD),i=Fd();if(!n){console.error("[Vant] <GridItem> must be a child component of <Grid>.");return}const o=re(()=>{const{square:c,gutter:f,columnNum:d}=n.props,h=`${100/+d}%`,p={flexBasis:h};if(c)p.paddingTop=h;else if(f){const y=tt(f);p.paddingRight=y,r.value>=+d&&(p.marginTop=y)}return p}),s=re(()=>{const{square:c,gutter:f}=n.props;if(c&&f){const d=tt(f);return{right:d,bottom:d,height:"auto"}}}),a=()=>{if(e.icon)return O(Cg,st({dot:t.dot,content:t.badge},t.badgeProps),{default:e.icon});if(t.icon)return O(tn,{dot:t.dot,name:t.icon,size:n.props.iconSize,badge:t.badge,class:Ih("icon"),color:t.iconColor,badgeProps:t.badgeProps,classPrefix:t.iconPrefix},null)},l=()=>{if(e.text)return e.text();if(t.text)return O("span",{class:Ih("text")},[t.text])},u=()=>e.default?e.default():[a(),l()];return()=>{const{center:c,border:f,square:d,gutter:h,reverse:p,direction:y,clickable:v}=n.props,g=[Ih("content",[y,{center:c,square:d,reverse:p,clickable:v,surround:f&&h}]),{[la]:f}];return O("div",{class:[Ih({square:d})],style:o.value},[O("div",{role:v?"button":void 0,class:g,style:s.value,tabindex:v?0:void 0,onClick:i},[u()])])}}});const OTe=De(HJ),iC=t=>Math.sqrt((t[0].clientX-t[1].clientX)**2+(t[0].clientY-t[1].clientY)**2),VJ=t=>({x:(t[0].clientX+t[1].clientX)/2,y:(t[0].clientY+t[1].clientY)/2}),Vm=Te("image-preview")[1],oC=2.6,zJ={src:String,show:Boolean,active:Number,minZoom:cr(Se),maxZoom:cr(Se),rootWidth:cr(Number),rootHeight:cr(Number),disableZoom:Boolean,doubleScale:Boolean,closeOnClickImage:Boolean,closeOnClickOverlay:Boolean,vertical:Boolean};var jJ=we({props:zJ,emits:["scale","close","longPress"],setup(t,{emit:e,slots:n}){const r=Mt({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,initializing:!1,imageRatio:0}),i=Dl(),o=Z(),s=Z(),a=Z(!1),l=Z(!1);let u=0;const c=re(()=>{const{scale:k,moveX:U,moveY:W,moving:K,zooming:fe,initializing:ce}=r,X={transitionDuration:fe||K||ce?"0s":".3s"};return(k!==1||l.value)&&(X.transform=`matrix(${k}, 0, 0, ${k}, ${U}, ${W})`),X}),f=re(()=>{if(r.imageRatio){const{rootWidth:k,rootHeight:U}=t,W=a.value?U/r.imageRatio:k;return Math.max(0,(r.scale*W-k)/2)}return 0}),d=re(()=>{if(r.imageRatio){const{rootWidth:k,rootHeight:U}=t,W=a.value?U:k*r.imageRatio;return Math.max(0,(r.scale*W-U)/2)}return 0}),h=(k,U)=>{var W;if(k=$n(k,+t.minZoom,+t.maxZoom+1),k!==r.scale){const K=k/r.scale;if(r.scale=k,U){const fe=wn((W=o.value)==null?void 0:W.$el),ce={x:fe.width*.5,y:fe.height*.5},X=r.moveX-(U.x-fe.left-ce.x)*(K-1),ie=r.moveY-(U.y-fe.top-ce.y)*(K-1);r.moveX=$n(X,-f.value,f.value),r.moveY=$n(ie,-d.value,d.value)}else r.moveX=0,r.moveY=l.value?u:0;e("scale",{scale:k,index:t.active})}},p=()=>{h(1)},y=()=>{const k=r.scale>1?1:2;h(k,k===2||l.value?{x:i.startX.value,y:i.startY.value}:void 0)};let v,g,m,_,b,x,w,E,S=!1;const P=k=>{const{touches:U}=k;if(v=U.length,v===2&&t.disableZoom)return;const{offsetX:W}=i;i.start(k),g=r.moveX,m=r.moveY,E=Date.now(),S=!1,r.moving=v===1&&(r.scale!==1||l.value),r.zooming=v===2&&!W.value,r.zooming&&(_=r.scale,b=iC(U))},C=k=>{const{touches:U}=k;if(i.move(k),r.moving){const{deltaX:W,deltaY:K}=i,fe=W.value+g,ce=K.value+m;if((t.vertical?i.isVertical()&&Math.abs(ce)>d.value:i.isHorizontal()&&Math.abs(fe)>f.value)&&!S){r.moving=!1;return}S=!0,Bn(k,!0),r.moveX=$n(fe,-f.value,f.value),r.moveY=$n(ce,-d.value,d.value)}if(r.zooming&&(Bn(k,!0),U.length===2)){const W=iC(U),K=_*W/b;x=VJ(U),h(K,x)}},A=k=>{var U;const W=(U=s.value)==null?void 0:U.$el;if(!W)return;const K=W.firstElementChild,fe=k.target===W,ce=K==null?void 0:K.contains(k.target);!t.closeOnClickImage&&ce||!t.closeOnClickOverlay&&fe||e("close")},T=k=>{if(v>1)return;const U=Date.now()-E,W=250;i.isTap.value&&(U<W?t.doubleScale?w?(clearTimeout(w),w=null,y()):w=setTimeout(()=>{A(k),w=null},W):A(k):U>EM&&e("longPress"))},R=k=>{let U=!1;if((r.moving||r.zooming)&&(U=!0,r.moving&&g===r.moveX&&m===r.moveY&&(U=!1),!k.touches.length)){r.zooming&&(r.moveX=$n(r.moveX,-f.value,f.value),r.moveY=$n(r.moveY,-d.value,d.value),r.zooming=!1),r.moving=!1,g=0,m=0,_=1,r.scale<1&&p();const W=+t.maxZoom;r.scale>W&&h(W,x)}Bn(k,U),T(k),i.reset()},N=()=>{const{rootWidth:k,rootHeight:U}=t,W=U/k,{imageRatio:K}=r;a.value=r.imageRatio>W&&K<oC,l.value=r.imageRatio>W&&K>=oC,l.value&&(u=(K*k-U)/2,r.moveY=u,r.initializing=!0,hr(()=>{r.initializing=!1})),p()},G=k=>{const{naturalWidth:U,naturalHeight:W}=k.target;r.imageRatio=W/U,N()};return ve(()=>t.active,p),ve(()=>t.show,k=>{k||p()}),ve(()=>[t.rootWidth,t.rootHeight],N),mr("touchmove",C,{target:re(()=>{var k;return(k=s.value)==null?void 0:k.$el})}),Kt({resetScale:p}),()=>{const k={loading:()=>O(fs,{type:"spinner"},null)};return O(WM,{ref:s,class:Vm("swipe-item"),onTouchstartPassive:P,onTouchend:R,onTouchcancel:R},{default:()=>[n.image?O("div",{class:Vm("image-wrap")},[n.image({src:t.src,onLoad:G,style:c.value})]):O(rD,{ref:o,src:t.src,fit:"contain",class:Vm("image",{vertical:a.value}),style:c.value,onLoad:G},k)]})}}});const[WJ,Xl]=Te("image-preview"),YJ=["show","teleport","transition","overlayStyle","closeOnPopstate"],XJ={show:Boolean,loop:_e,images:ts(),minZoom:ze(1/3),maxZoom:ze(3),overlay:_e,vertical:Boolean,closeable:Boolean,showIndex:_e,className:hn,closeIcon:Me("clear"),transition:String,beforeClose:Function,doubleScale:_e,overlayClass:hn,overlayStyle:Object,swipeDuration:ze(300),startPosition:ze(0),showIndicators:Boolean,closeOnPopstate:_e,closeOnClickImage:_e,closeOnClickOverlay:_e,closeIconPosition:Me("top-right"),teleport:[String,Object]};var fD=we({name:WJ,props:XJ,emits:["scale","close","closed","change","longPress","update:show"],setup(t,{emit:e,slots:n}){const r=Z(),i=Z(),o=Mt({active:0,rootWidth:0,rootHeight:0,disableZoom:!1}),s=()=>{if(r.value){const _=wn(r.value.$el);o.rootWidth=_.width,o.rootHeight=_.height,r.value.resize()}},a=_=>e("scale",_),l=_=>e("update:show",_),u=()=>{cc(t.beforeClose,{args:[o.active],done:()=>l(!1)})},c=_=>{_!==o.active&&(o.active=_,e("change",_))},f=()=>{if(t.showIndex)return O("div",{class:Xl("index")},[n.index?n.index({index:o.active}):`${o.active+1} / ${t.images.length}`])},d=()=>{if(n.cover)return O("div",{class:Xl("cover")},[n.cover()])},h=()=>{o.disableZoom=!0},p=()=>{o.disableZoom=!1},y=()=>O(GM,{ref:r,lazyRender:!0,loop:t.loop,class:Xl("swipe"),vertical:t.vertical,duration:t.swipeDuration,initialSwipe:t.startPosition,showIndicators:t.showIndicators,indicatorColor:"white",onChange:c,onDragEnd:p,onDragStart:h},{default:()=>[t.images.map((_,b)=>O(jJ,{ref:x=>{b===o.active&&(i.value=x)},src:_,show:t.show,active:o.active,maxZoom:t.maxZoom,minZoom:t.minZoom,rootWidth:o.rootWidth,rootHeight:o.rootHeight,disableZoom:o.disableZoom,doubleScale:t.doubleScale,closeOnClickImage:t.closeOnClickImage,closeOnClickOverlay:t.closeOnClickOverlay,vertical:t.vertical,onScale:a,onClose:u,onLongPress:()=>e("longPress",{index:b})},{image:n.image}))]}),v=()=>{if(t.closeable)return O(tn,{role:"button",name:t.closeIcon,class:[Xl("close-icon",t.closeIconPosition),ns],onClick:u},null)},g=()=>e("closed"),m=(_,b)=>{var x;return(x=r.value)==null?void 0:x.swipeTo(_,b)};return Kt({resetScale:()=>{var _;(_=i.value)==null||_.resetScale()},swipeTo:m}),Ht(s),ve([jo,js],s),ve(()=>t.startPosition,_=>c(+_)),ve(()=>t.show,_=>{const{images:b,startPosition:x}=t;_?(c(+x),Xe(()=>{s(),m(+x,{immediate:!0})})):e("close",{index:o.active,url:b[o.active]})}),()=>O(Bl,st({class:[Xl(),t.className],overlayClass:[Xl("overlay"),t.overlayClass],onClosed:g,"onUpdate:show":l},$t(t,YJ)),{default:()=>[v(),y(),f(),d()]})}});let Sp;const KJ={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,vertical:!1,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,doubleScale:!0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeOnClickOverlay:!0,closeIconPosition:"top-right"};function qJ(){({instance:Sp}=Ig({setup(){const{state:t,toggle:e}=Pg(),n=()=>{t.images=[]};return()=>O(fD,st(t,{onClosed:n,"onUpdate:show":e}),null)}}))}const ZJ=(t,e=0)=>{if(ho)return Sp||qJ(),t=Array.isArray(t)?{images:t,startPosition:e}:t,Sp.open(We({},KJ,t)),Sp};De(fD);const[JJ,Kl,QJ]=Te("list"),eQ={error:Boolean,offset:ze(300),loading:Boolean,disabled:Boolean,finished:Boolean,scroller:Object,errorText:String,direction:Me("down"),loadingText:String,finishedText:String,immediateCheck:_e};var tQ=we({name:JJ,props:eQ,emits:["load","update:error","update:loading"],setup(t,{emit:e,slots:n}){const r=Z(t.loading),i=Z(),o=Z(),s=jM(),a=kd(i),l=re(()=>t.scroller||a.value),u=()=>{Xe(()=>{if(r.value||t.finished||t.disabled||t.error||(s==null?void 0:s.value)===!1)return;const{direction:p}=t,y=+t.offset,v=wn(l);if(!v.height||Nu(i))return;let g=!1;const m=wn(o);p==="up"?g=v.top-m.top<=y:g=m.bottom-v.bottom<=y,g&&(r.value=!0,e("update:loading",!0),e("load"))})},c=()=>{if(t.finished){const p=n.finished?n.finished():t.finishedText;if(p)return O("div",{class:Kl("finished-text")},[p])}},f=()=>{e("update:error",!1),u()},d=()=>{if(t.error){const p=n.error?n.error():t.errorText;if(p)return O("div",{role:"button",class:Kl("error-text"),tabindex:0,onClick:f},[p])}},h=()=>{if(r.value&&!t.finished&&!t.disabled)return O("div",{class:Kl("loading")},[n.loading?n.loading():O(fs,{class:Kl("loading-icon")},{default:()=>[t.loadingText||QJ("loading")]})])};return ve(()=>[t.loading,t.finished,t.error],u),s&&ve(s,p=>{p&&u()}),Il(()=>{r.value=t.loading}),Ht(()=>{t.immediateCheck&&u()}),Kt({check:u}),mr("scroll",u,{target:l,passive:!0}),()=>{var p;const y=(p=n.default)==null?void 0:p.call(n),v=O("div",{ref:o,class:Kl("placeholder")},null);return O("div",{ref:i,role:"feed",class:Kl(),"aria-busy":r.value},[t.direction==="down"?y:v,h(),c(),d(),t.direction==="up"?y:v])}}});const RTe=De(tQ),[nQ,rQ]=Te("notify"),iQ=["lockScroll","position","show","teleport","zIndex"],oQ=We({},Ld,{type:Me("danger"),color:String,message:Se,position:Me("top"),className:hn,background:String,lockScroll:Boolean});var dD=we({name:nQ,props:oQ,emits:["update:show"],setup(t,{emit:e,slots:n}){const r=i=>e("update:show",i);return()=>O(Bl,st({class:[rQ([t.type]),t.className],style:{color:t.color,background:t.background},overlay:!1,duration:.2,"onUpdate:show":r},$t(t,iQ)),{default:()=>[n.default?n.default():t.message]})}});let sC,Su;const sQ=t=>po(t)?t:{message:t};function aQ(){({instance:Su}=Ig({setup(){const{state:t,toggle:e}=Pg();return()=>O(dD,st(t,{"onUpdate:show":e}),null)}}))}const lQ=()=>({type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0});let uQ=lQ();const cQ=()=>{Su&&Su.toggle(!1)};function MTe(t){if(ho)return Su||aQ(),t=We({},uQ,sQ(t)),Su.open(t),clearTimeout(sC),t.duration>0&&(sC=setTimeout(cQ,t.duration)),Su}De(dD);const[fQ,ql,aC]=Te("pagination"),zm=(t,e,n)=>({number:t,text:e,active:n}),dQ={mode:Me("multi"),prevText:String,nextText:String,pageCount:ze(0),modelValue:Sg(0),totalItems:ze(0),showPageSize:ze(5),itemsPerPage:ze(10),forceEllipses:Boolean,showPrevButton:_e,showNextButton:_e};var hQ=we({name:fQ,props:dQ,emits:["change","update:modelValue"],setup(t,{emit:e,slots:n}){const r=re(()=>{const{pageCount:c,totalItems:f,itemsPerPage:d}=t,h=+c||Math.ceil(+f/+d);return Math.max(1,h)}),i=re(()=>{const c=[],f=r.value,d=+t.showPageSize,{modelValue:h,forceEllipses:p}=t;let y=1,v=f;const g=d<f;g&&(y=Math.max(h-Math.floor(d/2),1),v=y+d-1,v>f&&(v=f,y=v-d+1));for(let m=y;m<=v;m++){const _=zm(m,m,m===h);c.push(_)}if(g&&d>0&&p){if(y>1){const m=zm(y-1,"...");c.unshift(m)}if(v<f){const m=zm(v+1,"...");c.push(m)}}return c}),o=(c,f)=>{c=$n(c,1,r.value),t.modelValue!==c&&(e("update:modelValue",c),f&&e("change",c))};sc(()=>o(t.modelValue));const s=()=>O("li",{class:ql("page-desc")},[n.pageDesc?n.pageDesc():`${t.modelValue}/${r.value}`]),a=()=>{const{mode:c,modelValue:f,showPrevButton:d}=t;if(!d)return;const h=n["prev-text"],p=f===1;return O("li",{class:[ql("item",{disabled:p,border:c==="simple",prev:!0}),wp]},[O("button",{type:"button",disabled:p,onClick:()=>o(f-1,!0)},[h?h():t.prevText||aC("prev")])])},l=()=>{const{mode:c,modelValue:f,showNextButton:d}=t;if(!d)return;const h=n["next-text"],p=f===r.value;return O("li",{class:[ql("item",{disabled:p,border:c==="simple",next:!0}),wp]},[O("button",{type:"button",disabled:p,onClick:()=>o(f+1,!0)},[h?h():t.nextText||aC("next")])])},u=()=>i.value.map(c=>O("li",{class:[ql("item",{active:c.active,page:!0}),wp]},[O("button",{type:"button","aria-current":c.active||void 0,onClick:()=>o(c.number,!0)},[n.page?n.page(c):c.text])]));return()=>O("nav",{role:"navigation",class:ql()},[O("ul",{class:ql("items")},[a(),t.mode==="simple"?s():u(),l()])])}});const DTe=De(hQ);function Ui(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function lw(t){var e=Ui(t).Element;return t instanceof e||t instanceof Element}function Bi(t){var e=Ui(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function hD(t){if(typeof ShadowRoot>"u")return!1;var e=Ui(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Lu=Math.round;function Ky(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function pQ(){return!/^((?!chrome|android).)*safari/i.test(Ky())}function s0(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Bi(t)&&(i=t.offsetWidth>0&&Lu(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Lu(r.height)/t.offsetHeight||1);var s=lw(t)?Ui(t):window,a=s.visualViewport,l=!pQ()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/o,f=r.width/i,d=r.height/o;return{width:f,height:d,top:c,right:u+f,bottom:c+d,left:u,x:u,y:c}}function pD(t){var e=Ui(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function gQ(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function mQ(t){return t===Ui(t)||!Bi(t)?pD(t):gQ(t)}function rs(t){return t?(t.nodeName||"").toLowerCase():null}function Og(t){return((lw(t)?t.ownerDocument:t.document)||window.document).documentElement}function vQ(t){return s0(Og(t)).left+pD(t).scrollLeft}function is(t){return Ui(t).getComputedStyle(t)}function uw(t){var e=is(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function yQ(t){var e=t.getBoundingClientRect(),n=Lu(e.width)/t.offsetWidth||1,r=Lu(e.height)/t.offsetHeight||1;return n!==1||r!==1}function _Q(t,e,n){n===void 0&&(n=!1);var r=Bi(e),i=Bi(e)&&yQ(e),o=Og(e),s=s0(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((rs(e)!=="body"||uw(o))&&(a=mQ(e)),Bi(e)?(l=s0(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=vQ(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function bQ(t){var e=s0(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function cw(t){return rs(t)==="html"?t:t.assignedSlot||t.parentNode||(hD(t)?t.host:null)||Og(t)}function gD(t){return["html","body","#document"].indexOf(rs(t))>=0?t.ownerDocument.body:Bi(t)&&uw(t)?t:gD(cw(t))}function Cp(t,e){var n;e===void 0&&(e=[]);var r=gD(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Ui(r),s=i?[o].concat(o.visualViewport||[],uw(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Cp(cw(s)))}function xQ(t){return["table","td","th"].indexOf(rs(t))>=0}function lC(t){return!Bi(t)||is(t).position==="fixed"?null:t.offsetParent}function wQ(t){var e=/firefox/i.test(Ky()),n=/Trident/i.test(Ky());if(n&&Bi(t)){var r=is(t);if(r.position==="fixed")return null}var i=cw(t);for(hD(i)&&(i=i.host);Bi(i)&&["html","body"].indexOf(rs(i))<0;){var o=is(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function mD(t){for(var e=Ui(t),n=lC(t);n&&xQ(n)&&is(n).position==="static";)n=lC(n);return n&&(rs(n)==="html"||rs(n)==="body"&&is(n).position==="static")?e:n||wQ(t)||e}var Cu="top",a0="bottom",Kf="right",tl="left",vD="auto",EQ=[Cu,a0,Kf,tl],yD="start",l0="end",SQ=[].concat(EQ,[vD]).reduce(function(t,e){return t.concat([e,e+"-"+yD,e+"-"+l0])},[]),CQ="beforeRead",AQ="read",TQ="afterRead",PQ="beforeMain",IQ="main",OQ="afterMain",RQ="beforeWrite",MQ="write",DQ="afterWrite",qy=[CQ,AQ,TQ,PQ,IQ,OQ,RQ,MQ,DQ];function BQ(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function kQ(t){var e=BQ(t);return qy.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function NQ(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function vs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return[].concat(n).reduce(function(i,o){return i.replace(/%s/,o)},t)}var _a='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',FQ='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',uC=["name","enabled","phase","fn","effect","requires","options"];function LQ(t){t.forEach(function(e){[].concat(Object.keys(e),uC).filter(function(n,r,i){return i.indexOf(n)===r}).forEach(function(n){switch(n){case"name":typeof e.name!="string"&&console.error(vs(_a,String(e.name),'"name"','"string"','"'+String(e.name)+'"'));break;case"enabled":typeof e.enabled!="boolean"&&console.error(vs(_a,e.name,'"enabled"','"boolean"','"'+String(e.enabled)+'"'));break;case"phase":qy.indexOf(e.phase)<0&&console.error(vs(_a,e.name,'"phase"',"either "+qy.join(", "),'"'+String(e.phase)+'"'));break;case"fn":typeof e.fn!="function"&&console.error(vs(_a,e.name,'"fn"','"function"','"'+String(e.fn)+'"'));break;case"effect":e.effect!=null&&typeof e.effect!="function"&&console.error(vs(_a,e.name,'"effect"','"function"','"'+String(e.fn)+'"'));break;case"requires":e.requires!=null&&!Array.isArray(e.requires)&&console.error(vs(_a,e.name,'"requires"','"array"','"'+String(e.requires)+'"'));break;case"requiresIfExists":Array.isArray(e.requiresIfExists)||console.error(vs(_a,e.name,'"requiresIfExists"','"array"','"'+String(e.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+e.name+'" modifier, valid properties are '+uC.map(function(r){return'"'+r+'"'}).join(", ")+'; but "'+n+'" was provided.')}e.requires&&e.requires.forEach(function(r){t.find(function(i){return i.name===r})==null&&console.error(vs(FQ,String(e.name),r,r))})})})}function $Q(t,e){var n=new Set;return t.filter(function(r){var i=e(r);if(!n.has(i))return n.add(i),!0})}function Rg(t){return t.split("-")[0]}function UQ(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}function _D(t){return t.split("-")[1]}function GQ(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function HQ(t){var e=t.reference,n=t.element,r=t.placement,i=r?Rg(r):null,o=r?_D(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Cu:l={x:s,y:e.y-n.height};break;case a0:l={x:s,y:e.y+e.height};break;case Kf:l={x:e.x+e.width,y:a};break;case tl:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?GQ(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case yD:l[u]=l[u]-(e[c]/2-n[c]/2);break;case l0:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}var cC="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",VQ="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",fC={placement:"bottom",modifiers:[],strategy:"absolute"};function dC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function zQ(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?fC:i;return function(a,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},fC,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],d=!1,h={state:c,setOptions:function(g){var m=typeof g=="function"?g(c.options):g;y(),c.options=Object.assign({},o,c.options,m),c.scrollParents={reference:lw(a)?Cp(a):a.contextElement?Cp(a.contextElement):[],popper:Cp(l)};var _=kQ(UQ([].concat(r,c.options.modifiers)));c.orderedModifiers=_.filter(function(A){return A.enabled});{var b=$Q([].concat(_,c.options.modifiers),function(A){var T=A.name;return T});if(LQ(b),Rg(c.options.placement)===vD){var x=c.orderedModifiers.find(function(A){var T=A.name;return T==="flip"});x||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var w=is(l),E=w.marginTop,S=w.marginRight,P=w.marginBottom,C=w.marginLeft;[E,S,P,C].some(function(A){return parseFloat(A)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return p(),h.update()},forceUpdate:function(){if(!d){var g=c.elements,m=g.reference,_=g.popper;if(!dC(m,_)){console.error(cC);return}c.rects={reference:_Q(m,mD(_),c.options.strategy==="fixed"),popper:bQ(_)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(A){return c.modifiersData[A.name]=Object.assign({},A.data)});for(var b=0,x=0;x<c.orderedModifiers.length;x++){if(b+=1,b>100){console.error(VQ);break}if(c.reset===!0){c.reset=!1,x=-1;continue}var w=c.orderedModifiers[x],E=w.fn,S=w.options,P=S===void 0?{}:S,C=w.name;typeof E=="function"&&(c=E({state:c,options:P,name:C,instance:h})||c)}}},update:NQ(function(){return new Promise(function(v){h.forceUpdate(),v(c)})}),destroy:function(){y(),d=!0}};if(!dC(a,l))return console.error(cC),h;h.setOptions(u).then(function(v){!d&&u.onFirstUpdate&&u.onFirstUpdate(v)});function p(){c.orderedModifiers.forEach(function(v){var g=v.name,m=v.options,_=m===void 0?{}:m,b=v.effect;if(typeof b=="function"){var x=b({state:c,name:g,instance:h,options:_}),w=function(){};f.push(x||w)}})}function y(){f.forEach(function(v){return v()}),f=[]}return h}}var Oh={passive:!0};function jQ(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=Ui(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,Oh)}),a&&l.addEventListener("resize",n.update,Oh),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Oh)}),a&&l.removeEventListener("resize",n.update,Oh)}}var WQ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:jQ,data:{}};function YQ(t){var e=t.state,n=t.name;e.modifiersData[n]=HQ({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var XQ={name:"popperOffsets",enabled:!0,phase:"read",fn:YQ,data:{}},KQ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function qQ(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:Lu(e*i)/i||0,y:Lu(n*i)/i||0}}function hC(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,f=t.isFixed,d=s.x,h=d===void 0?0:d,p=s.y,y=p===void 0?0:p,v=typeof c=="function"?c({x:h,y}):{x:h,y};h=v.x,y=v.y;var g=s.hasOwnProperty("x"),m=s.hasOwnProperty("y"),_=tl,b=Cu,x=window;if(u){var w=mD(n),E="clientHeight",S="clientWidth";if(w===Ui(n)&&(w=Og(n),is(w).position!=="static"&&a==="absolute"&&(E="scrollHeight",S="scrollWidth")),w=w,i===Cu||(i===tl||i===Kf)&&o===l0){b=a0;var P=f&&w===x&&x.visualViewport?x.visualViewport.height:w[E];y-=P-r.height,y*=l?1:-1}if(i===tl||(i===Cu||i===a0)&&o===l0){_=Kf;var C=f&&w===x&&x.visualViewport?x.visualViewport.width:w[S];h-=C-r.width,h*=l?1:-1}}var A=Object.assign({position:a},u&&KQ),T=c===!0?qQ({x:h,y}):{x:h,y};if(h=T.x,y=T.y,l){var R;return Object.assign({},A,(R={},R[b]=m?"0":"",R[_]=g?"0":"",R.transform=(x.devicePixelRatio||1)<=1?"translate("+h+"px, "+y+"px)":"translate3d("+h+"px, "+y+"px, 0)",R))}return Object.assign({},A,(e={},e[b]=m?y+"px":"",e[_]=g?h+"px":"",e.transform="",e))}function ZQ(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a;{var u=is(e.elements.popper).transitionProperty||"";s&&["transform","top","right","bottom","left"].some(function(f){return u.indexOf(f)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var c={placement:Rg(e.placement),variation:_D(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,hC(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,hC(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var JQ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ZQ,data:{}};function QQ(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Bi(o)||!rs(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function eee(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,u){return l[u]="",l},{});!Bi(i)||!rs(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}var tee={name:"applyStyles",enabled:!0,phase:"write",fn:QQ,effect:eee,requires:["computeStyles"]},nee=[WQ,XQ,JQ,tee],ree=zQ({defaultModifiers:nee});function iee(t,e,n){var r=Rg(t),i=[tl,Cu].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[tl,Kf].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function oee(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=SQ.reduce(function(c,f){return c[f]=iee(f,e.rects,o),c},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}var see={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:oee};const[aee,ba]=Te("popover"),lee=["overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],uee={show:Boolean,theme:Me("light"),overlay:Boolean,actions:ts(),actionsDirection:Me("vertical"),trigger:Me("click"),duration:Se,showArrow:_e,placement:Me("bottom"),iconPrefix:String,overlayClass:hn,overlayStyle:Object,closeOnClickAction:_e,closeOnClickOverlay:_e,closeOnClickOutside:_e,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}};var cee=we({name:aee,props:uee,emits:["select","touchstart","update:show"],setup(t,{emit:e,slots:n,attrs:r}){let i;const o=Z(),s=Z(),a=Z(),l=oq(()=>t.show,m=>e("update:show",m)),u=()=>({placement:t.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},We({},see,{options:{offset:t.offset}})]}),c=()=>s.value&&a.value?ree(s.value,a.value.popupRef.value,u()):null,f=()=>{Xe(()=>{l.value&&(i?i.setOptions(u()):(i=c(),ho&&(window.addEventListener("animationend",f),window.addEventListener("transitionend",f))))})},d=m=>{l.value=m},h=()=>{t.trigger==="click"&&(l.value=!l.value)},p=(m,_)=>{m.disabled||(e("select",m,_),t.closeOnClickAction&&(l.value=!1))},y=()=>{l.value&&t.closeOnClickOutside&&(!t.overlay||t.closeOnClickOverlay)&&(l.value=!1)},v=(m,_)=>n.action?n.action({action:m,index:_}):[m.icon&&O(tn,{name:m.icon,classPrefix:t.iconPrefix,class:ba("action-icon")},null),O("div",{class:[ba("action-text"),{[iK]:t.actionsDirection==="vertical"}]},[m.text])],g=(m,_)=>{const{icon:b,color:x,disabled:w,className:E}=m;return O("div",{role:"menuitem",class:[ba("action",{disabled:w,"with-icon":b}),{[rK]:t.actionsDirection==="horizontal"},E],style:{color:x},tabindex:w?void 0:0,"aria-disabled":w||void 0,onClick:()=>p(m,_)},[v(m,_)])};return Ht(()=>{f(),sc(()=>{var m;o.value=(m=a.value)==null?void 0:m.popupRef.value})}),qr(()=>{i&&(ho&&(window.removeEventListener("animationend",f),window.removeEventListener("transitionend",f)),i.destroy(),i=null)}),ve(()=>[l.value,t.offset,t.placement],f),B4([s,o],y,{eventName:"touchstart"}),()=>{var m;return O(Ft,null,[O("span",{ref:s,class:ba("wrapper"),onClick:h},[(m=n.reference)==null?void 0:m.call(n)]),O(Bl,st({ref:a,show:l.value,class:ba([t.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,"onUpdate:show":d},r,Hy(),$t(t,lee)),{default:()=>[t.showArrow&&O("div",{class:ba("arrow")},null),O("div",{role:"menu",class:ba("content",t.actionsDirection)},[n.default?n.default():t.actions.map(g)])]})])}}});const BTe=De(cee),[fee,jm]=Te("progress"),dee={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:_e,pivotColor:String,trackColor:String,strokeWidth:Se,percentage:{type:Se,default:0,validator:t=>+t>=0&&+t<=100}};var hee=we({name:fee,props:dee,setup(t){const e=re(()=>t.inactive?void 0:t.color),n=i=>Math.min(Math.max(+i,0),100),r=()=>{const{textColor:i,pivotText:o,pivotColor:s,percentage:a}=t,l=n(a),u=o??`${a}%`;if(t.showPivot&&u){const c={color:i,left:`${l}%`,transform:`translate(-${l}%,-50%)`,background:s||e.value};return O("span",{style:c,class:jm("pivot",{inactive:t.inactive})},[u])}};return()=>{const{trackColor:i,percentage:o,strokeWidth:s}=t,a=n(o),l={background:i,height:tt(s)},u={width:`${a}%`,background:e.value};return O("div",{class:jm(),style:l},[O("span",{class:jm("portion",{inactive:t.inactive}),style:u},null),r()])}}});const kTe=De(hee),[pee,Oc,gee]=Te("pull-refresh"),bD=50,mee=["pulling","loosing","success"],vee={disabled:Boolean,modelValue:Boolean,headHeight:ze(bD),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:Se,successDuration:ze(500),animationDuration:ze(300)};var yee=we({name:pee,props:vee,emits:["change","refresh","update:modelValue"],setup(t,{emit:e,slots:n}){let r;const i=Z(),o=Z(),s=kd(i),a=Mt({status:"normal",distance:0,duration:0}),l=Dl(),u=()=>{if(t.headHeight!==bD)return{height:`${t.headHeight}px`}},c=()=>a.status!=="loading"&&a.status!=="success"&&!t.disabled,f=b=>{const x=+(t.pullDistance||t.headHeight);return b>x&&(b<x*2?b=x+(b-x)/2:b=x*1.5+(b-x*2)/4),Math.round(b)},d=(b,x)=>{const w=+(t.pullDistance||t.headHeight);a.distance=b,x?a.status="loading":b===0?a.status="normal":b<w?a.status="pulling":a.status="loosing",e("change",{status:a.status,distance:b})},h=()=>{const{status:b}=a;return b==="normal"?"":t[`${b}Text`]||gee(b)},p=()=>{const{status:b,distance:x}=a;if(n[b])return n[b]({distance:x});const w=[];return mee.includes(b)&&w.push(O("div",{class:Oc("text")},[h()])),b==="loading"&&w.push(O(fs,{class:Oc("loading")},{default:h})),w},y=()=>{a.status="success",setTimeout(()=>{d(0)},+t.successDuration)},v=b=>{r=Nd(s.value)===0,r&&(a.duration=0,l.start(b))},g=b=>{c()&&v(b)},m=b=>{if(c()){r||v(b);const{deltaY:x}=l;l.move(b),r&&x.value>=0&&l.isVertical()&&(Bn(b),d(f(x.value)))}},_=()=>{r&&l.deltaY.value&&c()&&(a.duration=+t.animationDuration,a.status==="loosing"?(d(+t.headHeight,!0),e("update:modelValue",!0),Xe(()=>e("refresh"))):d(0))};return ve(()=>t.modelValue,b=>{a.duration=+t.animationDuration,b?d(+t.headHeight,!0):n.success||t.successText?y():d(0,!1)}),mr("touchmove",m,{target:o}),()=>{var b;const x={transitionDuration:`${a.duration}ms`,transform:a.distance?`translate3d(0,${a.distance}px, 0)`:""};return O("div",{ref:i,class:Oc()},[O("div",{ref:o,class:Oc("track"),style:x,onTouchstartPassive:g,onTouchend:_,onTouchcancel:_},[O("div",{class:Oc("head"),style:u()},[p()]),(b=n.default)==null?void 0:b.call(n)])])}}});const NTe=De(yee),FTe=De(nJ),[xD,_ee]=Te("sidebar"),wD=Symbol(xD),bee={modelValue:ze(0)};var xee=we({name:xD,props:bee,emits:["change","update:modelValue"],setup(t,{emit:e,slots:n}){const{linkChildren:r}=$i(wD),i=()=>+t.modelValue;return r({getActive:i,setActive:s=>{s!==i()&&(e("update:modelValue",s),e("change",s))}}),()=>{var s;return O("div",{role:"tablist",class:_ee()},[(s=n.default)==null?void 0:s.call(n)])}}});const LTe=De(xee),[wee,pC]=Te("sidebar-item"),Eee=We({},fc,{dot:Boolean,title:String,badge:Se,disabled:Boolean,badgeProps:Object});var See=we({name:wee,props:Eee,emits:["click"],setup(t,{emit:e,slots:n}){const r=Fd(),{parent:i,index:o}=Zr(wD);if(!i){console.error("[Vant] <SidebarItem> must be a child component of <Sidebar>.");return}const s=()=>{t.disabled||(e("click",o.value),i.setActive(o.value),r())};return()=>{const{dot:a,badge:l,title:u,disabled:c}=t,f=o.value===i.getActive();return O("div",{role:"tab",class:pC({select:f,disabled:c}),tabindex:c?void 0:0,"aria-selected":f,onClick:s},[O(Cg,st({dot:a,class:pC("text"),content:l},t.badgeProps),{default:()=>[n.title?n.title():u]})])}}});const $Te=De(See),[Cee,Aee]=Te("skeleton-title"),Tee={round:Boolean,titleWidth:Se};var Pee=we({name:Cee,props:Tee,setup(t){return()=>O("h3",{class:Aee([{round:t.round}]),style:{width:tt(t.titleWidth)}},null)}});const Iee=De(Pee);var Oee=Iee;const[Ree,Mee]=Te("skeleton-avatar"),Dee={avatarSize:Se,avatarShape:Me("round")};var Bee=we({name:Ree,props:Dee,setup(t){return()=>O("div",{class:Mee([t.avatarShape]),style:Ml(t.avatarSize)},null)}});const kee=De(Bee);var Nee=kee;const fw="100%",Fee={round:Boolean,rowWidth:{type:Se,default:fw}},[Lee,$ee]=Te("skeleton-paragraph");var Uee=we({name:Lee,props:Fee,setup(t){return()=>O("div",{class:$ee([{round:t.round}]),style:{width:t.rowWidth}},null)}});const Gee=De(Uee);var Hee=Gee;const[Vee,gC]=Te("skeleton"),zee="60%",jee={row:ze(0),round:Boolean,title:Boolean,titleWidth:Se,avatar:Boolean,avatarSize:Se,avatarShape:Me("round"),loading:_e,animate:_e,rowWidth:{type:[Number,String,Array],default:fw}};var Wee=we({name:Vee,inheritAttrs:!1,props:jee,setup(t,{slots:e,attrs:n}){const r=()=>{if(t.avatar)return O(Nee,{avatarShape:t.avatarShape,avatarSize:t.avatarSize},null)},i=()=>{if(t.title)return O(Oee,{round:t.round,titleWidth:t.titleWidth},null)},o=l=>{const{rowWidth:u}=t;return u===fw&&l===+t.row-1?zee:Array.isArray(u)?u[l]:u},s=()=>Array(+t.row).fill("").map((l,u)=>O(Hee,{key:u,round:t.round,rowWidth:tt(o(u))},null)),a=()=>e.template?e.template():O(Ft,null,[r(),O("div",{class:gC("content")},[i(),s()])]);return()=>{var l;return t.loading?O("div",st({class:gC({animate:t.animate,round:t.round})},n),[a()]):(l=e.default)==null?void 0:l.call(e)}}});const UTe=De(Wee),[Yee,Rc]=Te("slider"),Xee={min:ze(0),max:ze(100),step:ze(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:Se,buttonSize:Se,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var Kee=we({name:Yee,props:Xee,emits:["change","dragEnd","dragStart","update:modelValue"],setup(t,{emit:e,slots:n}){let r,i,o;const s=Z(),a=[Z(),Z()],l=Z(),u=Dl(),c=re(()=>Number(t.max)-Number(t.min)),f=re(()=>{const A=t.vertical?"width":"height";return{background:t.inactiveColor,[A]:tt(t.barHeight)}}),d=A=>t.range&&Array.isArray(A),h=()=>{const{modelValue:A,min:T}=t;return d(A)?`${(A[1]-A[0])*100/c.value}%`:`${(A-Number(T))*100/c.value}%`},p=()=>{const{modelValue:A,min:T}=t;return d(A)?`${(A[0]-Number(T))*100/c.value}%`:"0%"},y=re(()=>{const T={[t.vertical?"height":"width"]:h(),background:t.activeColor};l.value&&(T.transition="none");const R=()=>t.vertical?t.reverse?"bottom":"top":t.reverse?"right":"left";return T[R()]=p(),T}),v=A=>{const T=+t.min,R=+t.max,N=+t.step;A=$n(A,T,R);const G=Math.round((A-T)/N)*N;return yM(T,G)},g=()=>{const A=t.modelValue;d(A)?o=A.map(v):o=v(A)},m=A=>{var T,R;const N=(T=A[0])!=null?T:Number(t.min),G=(R=A[1])!=null?R:Number(t.max);return N>G?[G,N]:[N,G]},_=(A,T)=>{d(A)?A=m(A).map(v):A=v(A),zs(A,t.modelValue)||e("update:modelValue",A),T&&!zs(A,o)&&e("change",A)},b=A=>{if(A.stopPropagation(),t.disabled||t.readonly)return;g();const{min:T,reverse:R,vertical:N,modelValue:G}=t,k=wn(s),U=()=>N?R?k.bottom-A.clientY:A.clientY-k.top:R?k.right-A.clientX:A.clientX-k.left,W=N?k.height:k.width,K=Number(T)+U()/W*c.value;if(d(G)){const[fe,ce]=G,X=(fe+ce)/2;K<=X?_([K,ce],!0):_([fe,K],!0)}else _(K,!0)},x=A=>{t.disabled||t.readonly||(u.start(A),i=t.modelValue,g(),l.value="start")},w=A=>{if(t.disabled||t.readonly)return;l.value==="start"&&e("dragStart",A),Bn(A,!0),u.move(A),l.value="dragging";const T=wn(s),R=t.vertical?u.deltaY.value:u.deltaX.value,N=t.vertical?T.height:T.width;let G=R/N*c.value;if(t.reverse&&(G=-G),d(o)){const k=t.reverse?1-r:r;i[k]=o[k]+G}else i=o+G;_(i)},E=A=>{t.disabled||t.readonly||(l.value==="dragging"&&(_(i,!0),e("dragEnd",A)),l.value="")},S=A=>typeof A=="number"?Rc("button-wrapper",["left","right"][A]):Rc("button-wrapper",t.reverse?"left":"right"),P=(A,T)=>{const R=l.value==="dragging";if(typeof T=="number"){const N=n[T===0?"left-button":"right-button"];let G;if(R&&Array.isArray(i)&&(G=i[0]>i[1]?r^1:r),N)return N({value:A,dragging:R,dragIndex:G})}return n.button?n.button({value:A,dragging:R}):O("div",{class:Rc("button"),style:Ml(t.buttonSize)},null)},C=A=>{const T=typeof A=="number"?t.modelValue[A]:t.modelValue;return O("div",{ref:a[A??0],role:"slider",class:S(A),tabindex:t.disabled?void 0:0,"aria-valuemin":t.min,"aria-valuenow":T,"aria-valuemax":t.max,"aria-disabled":t.disabled||void 0,"aria-readonly":t.readonly||void 0,"aria-orientation":t.vertical?"vertical":"horizontal",onTouchstartPassive:R=>{typeof A=="number"&&(r=A),x(R)},onTouchend:E,onTouchcancel:E,onClick:gM},[P(T,A)])};return _(t.modelValue),Rl(()=>t.modelValue),a.forEach(A=>{mr("touchmove",w,{target:A})}),()=>O("div",{ref:s,style:f.value,class:Rc({vertical:t.vertical,disabled:t.disabled}),onClick:b},[O("div",{class:Rc("bar"),style:y.value},[t.range?[C(0),C(1)]:C()])])}});const GTe=De(Kee),[mC,qee]=Te("space"),Zee={align:String,direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:8},wrap:Boolean,fill:Boolean};function ED(t=[]){const e=[];return t.forEach(n=>{Array.isArray(n)?e.push(...n):n.type===Ft?e.push(...ED(n.children)):e.push(n)}),e.filter(n=>{var r;return!(n&&(n.type===en||n.type===Ft&&((r=n.children)==null?void 0:r.length)===0||n.type===co&&n.children.trim()===""))})}var Jee=we({name:mC,props:Zee,setup(t,{slots:e}){const n=re(()=>{var o;return(o=t.align)!=null?o:t.direction==="horizontal"?"center":""}),r=o=>typeof o=="number"?o+"px":o,i=o=>{const s={},a=`${r(Array.isArray(t.size)?t.size[0]:t.size)}`,l=`${r(Array.isArray(t.size)?t.size[1]:t.size)}`;return o?t.wrap?{marginBottom:l}:{}:(t.direction==="horizontal"&&(s.marginRight=a),(t.direction==="vertical"||t.wrap)&&(s.marginBottom=l),s)};return()=>{var o;const s=ED((o=e.default)==null?void 0:o.call(e));return O("div",{class:[qee({[t.direction]:t.direction,[`align-${n.value}`]:n.value,wrap:t.wrap,fill:t.fill})]},[s.map((a,l)=>O("div",{key:`item-${l}`,class:`${mC}-item`,style:i(l===s.length-1)},[a]))])}}});const HTe=De(Jee),[Qee,Rh]=Te("stepper"),ete=200,Mh=(t,e)=>String(t)===String(e),tte={min:ze(1),max:ze(1/0),name:ze(""),step:ze(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:_e,showMinus:_e,showInput:_e,longPress:_e,autoFixed:_e,allowEmpty:Boolean,modelValue:Se,inputWidth:Se,buttonSize:Se,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:ze(1),decimalLength:Se};var nte=we({name:Qee,props:tte,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(t,{emit:e}){const n=(S,P=!0)=>{const{min:C,max:A,allowEmpty:T,decimalLength:R}=t;return T&&S===""||(S=Uy(String(S),!t.integer),S=S===""?0:+S,S=Number.isNaN(S)?+C:S,S=P?Math.max(Math.min(+A,S),+C):S,Lt(R)&&(S=S.toFixed(+R))),S},r=()=>{var S;const P=(S=t.modelValue)!=null?S:t.defaultValue,C=n(P);return Mh(C,t.modelValue)||e("update:modelValue",C),C};let i;const o=Z(),s=Z(r()),a=re(()=>t.disabled||t.disableMinus||+s.value<=+t.min),l=re(()=>t.disabled||t.disablePlus||+s.value>=+t.max),u=re(()=>({width:tt(t.inputWidth),height:tt(t.buttonSize)})),c=re(()=>Ml(t.buttonSize)),f=()=>{const S=n(s.value);Mh(S,s.value)||(s.value=S)},d=S=>{t.beforeChange?cc(t.beforeChange,{args:[S],done(){s.value=S}}):s.value=S},h=()=>{if(i==="plus"&&l.value||i==="minus"&&a.value){e("overlimit",i);return}const S=i==="minus"?-t.step:+t.step,P=n(yM(+s.value,S));d(P),e(i)},p=S=>{const P=S.target,{value:C}=P,{decimalLength:A}=t;let T=Uy(String(C),!t.integer);if(Lt(A)&&T.includes(".")){const N=T.split(".");T=`${N[0]}.${N[1].slice(0,+A)}`}t.beforeChange?P.value=String(s.value):Mh(C,T)||(P.value=T);const R=T===String(+T);d(R?+T:T)},y=S=>{var P;t.disableInput?(P=o.value)==null||P.blur():e("focus",S)},v=S=>{const P=S.target,C=n(P.value,t.autoFixed);P.value=String(C),s.value=C,Xe(()=>{e("blur",S),pM()})};let g,m;const _=()=>{m=setTimeout(()=>{h(),_()},ete)},b=()=>{t.longPress&&(g=!1,clearTimeout(m),m=setTimeout(()=>{g=!0,h(),_()},EM))},x=S=>{t.longPress&&(clearTimeout(m),g&&Bn(S))},w=S=>{t.disableInput&&Bn(S)},E=S=>({onClick:P=>{Bn(P),i=S,h()},onTouchstartPassive:()=>{i=S,b()},onTouchend:x,onTouchcancel:x});return ve(()=>[t.max,t.min,t.integer,t.decimalLength],f),ve(()=>t.modelValue,S=>{Mh(S,s.value)||(s.value=n(S))}),ve(s,S=>{e("update:modelValue",S),e("change",S,{name:t.name})}),Rl(()=>t.modelValue),()=>O("div",{role:"group",class:Rh([t.theme])},[di(O("button",st({type:"button",style:c.value,class:[Rh("minus",{disabled:a.value}),{[ns]:!a.value}],"aria-disabled":a.value||void 0},E("minus")),null),[[pi,t.showMinus]]),di(O("input",{ref:o,type:t.integer?"tel":"text",role:"spinbutton",class:Rh("input"),value:s.value,style:u.value,disabled:t.disabled,readonly:t.disableInput,inputmode:t.integer?"numeric":"decimal",placeholder:t.placeholder,autocomplete:"off","aria-valuemax":t.max,"aria-valuemin":t.min,"aria-valuenow":s.value,onBlur:v,onInput:p,onFocus:y,onMousedown:w},null),[[pi,t.showInput]]),di(O("button",st({type:"button",style:c.value,class:[Rh("plus",{disabled:l.value}),{[ns]:!l.value}],"aria-disabled":l.value||void 0},E("plus")),null),[[pi,t.showPlus]])])}});const VTe=De(nte),[rte,yn,ite]=Te("uploader");function vC(t,e){return new Promise(n=>{if(e==="file"){n();return}const r=new FileReader;r.onload=i=>{n(i.target.result)},e==="dataUrl"?r.readAsDataURL(t):e==="text"&&r.readAsText(t)})}function SD(t,e){return r0(t).some(n=>n.file?ku(e)?e(n.file):n.file.size>+e:!1)}function ote(t,e){const n=[],r=[];return t.forEach(i=>{SD(i,e)?r.push(i):n.push(i)}),{valid:n,invalid:r}}const ste=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg|avif)/i,ate=t=>ste.test(t);function CD(t){return t.isImage?!0:t.file&&t.file.type?t.file.type.indexOf("image")===0:t.url?ate(t.url):typeof t.content=="string"?t.content.indexOf("data:image")===0:!1}var lte=we({props:{name:Se,item:cr(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,reupload:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview","reupload"],setup(t,{emit:e,slots:n}){const r=()=>{const{status:c,message:f}=t.item;if(c==="uploading"||c==="failed"){const d=c==="failed"?O(tn,{name:"close",class:yn("mask-icon")},null):O(fs,{class:yn("loading")},null),h=Lt(f)&&f!=="";return O("div",{class:yn("mask")},[d,h&&O("div",{class:yn("mask-message")},[f])])}},i=c=>{const{name:f,item:d,index:h,beforeDelete:p}=t;c.stopPropagation(),cc(p,{args:[d,{name:f,index:h}],done:()=>e("delete")})},o=()=>e("preview"),s=()=>e("reupload"),a=()=>{if(t.deletable&&t.item.status!=="uploading"){const c=n["preview-delete"];return O("div",{role:"button",class:yn("preview-delete",{shadow:!c}),tabindex:0,"aria-label":ite("delete"),onClick:i},[c?c():O(tn,{name:"cross",class:yn("preview-delete-icon")},null)])}},l=()=>{if(n["preview-cover"]){const{index:c,item:f}=t;return O("div",{class:yn("preview-cover")},[n["preview-cover"](We({index:c},f))])}},u=()=>{const{item:c,lazyLoad:f,imageFit:d,previewSize:h,reupload:p}=t;return CD(c)?O(rD,{fit:d,src:c.objectUrl||c.content||c.url,class:yn("preview-image"),width:Array.isArray(h)?h[0]:h,height:Array.isArray(h)?h[1]:h,lazyLoad:f,onClick:p?s:o},{default:l}):O("div",{class:yn("file"),style:Ml(t.previewSize)},[O(tn,{class:yn("file-icon"),name:"description"},null),O("div",{class:[yn("file-name"),"van-ellipsis"]},[c.file?c.file.name:c.url]),l()])};return()=>O("div",{class:yn("preview")},[u(),r(),a()])}});const ute={name:ze(""),accept:Me("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:ze(1/0),imageFit:Me("cover"),resultType:Me("dataUrl"),uploadIcon:Me("photograph"),uploadText:String,deletable:_e,reupload:Boolean,afterRead:Function,showUpload:_e,modelValue:ts(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:_e,previewOptions:Object,previewFullImage:_e,maxSize:{type:[Number,String,Function],default:1/0}};var cte=we({name:rte,props:ute,emits:["delete","oversize","clickUpload","closePreview","clickPreview","clickReupload","update:modelValue"],setup(t,{emit:e,slots:n}){const r=Z(),i=[],o=Z(-1),s=Z(!1),a=(S=t.modelValue.length)=>({name:t.name,index:S}),l=()=>{r.value&&(r.value.value="")},u=S=>{if(l(),SD(S,t.maxSize))if(Array.isArray(S)){const P=ote(S,t.maxSize);if(S=P.valid,e("oversize",P.invalid,a()),!S.length)return}else{e("oversize",S,a());return}if(S=Mt(S),o.value>-1){const P=[...t.modelValue];P.splice(o.value,1,S),e("update:modelValue",P),o.value=-1}else e("update:modelValue",[...t.modelValue,...r0(S)]);t.afterRead&&t.afterRead(S,a())},c=S=>{const{maxCount:P,modelValue:C,resultType:A}=t;if(Array.isArray(S)){const T=+P-C.length;S.length>T&&(S=S.slice(0,T)),Promise.all(S.map(R=>vC(R,A))).then(R=>{const N=S.map((G,k)=>{const U={file:G,status:"",message:"",objectUrl:URL.createObjectURL(G)};return R[k]&&(U.content=R[k]),U});u(N)})}else vC(S,A).then(T=>{const R={file:S,status:"",message:"",objectUrl:URL.createObjectURL(S)};T&&(R.content=T),u(R)})},f=S=>{const{files:P}=S.target;if(t.disabled||!P||!P.length)return;const C=P.length===1?P[0]:[].slice.call(P);if(t.beforeRead){const A=t.beforeRead(C,a());if(!A){l();return}if(qx(A)){A.then(T=>{c(T||C)}).catch(l);return}}c(C)};let d;const h=()=>e("closePreview"),p=S=>{if(t.previewFullImage){const P=t.modelValue.filter(CD),C=P.map(A=>(A.objectUrl&&!A.url&&A.status!=="failed"&&(A.url=A.objectUrl,i.push(A.url)),A.url)).filter(Boolean);d=ZJ(We({images:C,startPosition:P.indexOf(S),onClose:h},t.previewOptions))}},y=()=>{d&&d.close()},v=(S,P)=>{const C=t.modelValue.slice(0);C.splice(P,1),e("update:modelValue",C),e("delete",S,a(P))},g=S=>{s.value=!0,o.value=S,Xe(()=>E())},m=()=>{s.value||(o.value=-1),s.value=!1},_=(S,P)=>{const C=["imageFit","deletable","reupload","previewSize","beforeDelete"],A=We($t(t,C),$t(S,C,!0));return O(lte,st({item:S,index:P,onClick:()=>e(t.reupload?"clickReupload":"clickPreview",S,a(P)),onDelete:()=>v(S,P),onPreview:()=>p(S),onReupload:()=>g(P)},$t(t,["name","lazyLoad"]),A),$t(n,["preview-cover","preview-delete"]))},b=()=>{if(t.previewImage)return t.modelValue.map(_)},x=S=>e("clickUpload",S),w=()=>{const S=t.modelValue.length<+t.maxCount,P=t.readonly?null:O("input",{ref:r,type:"file",class:yn("input"),accept:t.accept,capture:t.capture,multiple:t.multiple&&o.value===-1,disabled:t.disabled,onChange:f,onClick:m},null);return n.default?di(O("div",{class:yn("input-wrapper"),onClick:x},[n.default(),P]),[[pi,S]]):di(O("div",{class:yn("upload",{readonly:t.readonly}),style:Ml(t.previewSize),onClick:x},[O(tn,{name:t.uploadIcon,class:yn("upload-icon")},null),t.uploadText&&O("span",{class:yn("upload-text")},[t.uploadText]),P]),[[pi,t.showUpload&&S]])},E=()=>{r.value&&!t.disabled&&r.value.click()};return qr(()=>{i.forEach(S=>URL.revokeObjectURL(S))}),Kt({chooseFile:E,reuploadFile:g,closeImagePreview:y}),Rl(()=>t.modelValue),()=>O("div",{class:yn()},[O("div",{class:yn("wrapper",{disabled:t.disabled})},[b(),w()])])}});const zTe=De(cte);/*!
  * shared v11.1.11
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function go(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const yC={};function dw(t){yC[t]||(yC[t]=!0,go(t))}const Fi=typeof window<"u";let Gr,fl;{const t=Fi&&window.performance;t&&t.mark&&t.measure&&t.clearMarks&&t.clearMeasures&&(Gr=e=>{t.mark(e)},fl=(e,n,r)=>{t.measure(e,n,r),t.clearMarks(n),t.clearMarks(r)})}const fte=/\{([0-9a-zA-Z]+)\}/g;function Mg(t,...e){return e.length===1&&ot(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(fte,(n,r)=>e.hasOwnProperty(r)?e[r]:"")}const wo=(t,e=!1)=>e?Symbol.for(t):Symbol(t),dte=(t,e,n)=>hte({l:t,k:e,s:n}),hte=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),cn=t=>typeof t=="number"&&isFinite(t),pte=t=>hw(t)==="[object Date]",$u=t=>hw(t)==="[object RegExp]",Dg=t=>Ze(t)&&Object.keys(t).length===0,Sn=Object.assign,gte=Object.create,Ct=(t=null)=>gte(t);let _C;const Ua=()=>_C||(_C=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Ct());function bC(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function xC(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function mte(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(r,i,o)=>`${i}="${xC(o)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(r,i,o)=>`${i}='${xC(o)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(go("Potentially dangerous event handlers detected in translation. Consider removing onclick, onerror, etc. from your translation messages."),t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(r=>{t=t.replace(r,"$1javascript&#58;")}),t}const vte=Object.prototype.hasOwnProperty;function Mi(t,e){return vte.call(t,e)}const Wt=Array.isArray,At=t=>typeof t=="function",Ee=t=>typeof t=="string",ut=t=>typeof t=="boolean",ot=t=>t!==null&&typeof t=="object",yte=t=>ot(t)&&At(t.then)&&At(t.catch),AD=Object.prototype.toString,hw=t=>AD.call(t),Ze=t=>hw(t)==="[object Object]",_te=t=>t==null?"":Wt(t)||Ze(t)&&t.toString===AD?JSON.stringify(t,null,2):String(t);function pw(t,e=""){return t.reduce((n,r,i)=>i===0?n+r:n+e+r,"")}const wC=2;function bte(t,e=0,n=t.length){const r=t.split(/\r?\n/);let i=0;const o=[];for(let s=0;s<r.length;s++)if(i+=r[s].length+1,i>=e){for(let a=s-wC;a<=s+wC||n>i;a++){if(a<0||a>=r.length)continue;const l=a+1;o.push(`${l}${" ".repeat(3-String(l).length)}|  ${r[a]}`);const u=r[a].length;if(a===s){const c=e-(i-u)+1,f=Math.max(1,n>i?u-c:n-e);o.push("   |  "+" ".repeat(c)+"^".repeat(f))}else if(a>s){if(n>i){const c=Math.max(Math.min(n-i,u),1);o.push("   |  "+"^".repeat(c))}i+=u+1}}break}return o.join(`
`)}function gw(){const t=new Map;return{events:t,on(n,r){const i=t.get(n);i&&i.push(r)||t.set(n,[r])},off(n,r){const i=t.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit(n,r){(t.get(n)||[]).slice().map(i=>i(r)),(t.get("*")||[]).slice().map(i=>i(n,r))}}}const Dh=t=>!ot(t)||Wt(t);function Ap(t,e){if(Dh(t)||Dh(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:r,des:i}=n.pop();Object.keys(r).forEach(o=>{o!=="__proto__"&&(ot(r[o])&&!ot(i[o])&&(i[o]=Array.isArray(r[o])?[]:Ct()),Dh(i[o])||Dh(r[o])?i[o]=r[o]:n.push({src:r[o],des:i[o]}))})}}/*!
  * message-compiler v11.1.11
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function xte(t,e,n){return{line:t,column:e,offset:n}}function Zy(t,e,n){const r={start:t,end:e};return n!=null&&(r.source=n),r}const Ve={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16},wte=17,Ete={[Ve.EXPECTED_TOKEN]:"Expected token: '{0}'",[Ve.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Ve.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Ve.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Ve.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Ve.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Ve.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Ve.EMPTY_PLACEHOLDER]:"Empty placeholder",[Ve.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Ve.INVALID_LINKED_FORMAT]:"Invalid linked format",[Ve.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Ve.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Ve.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Ve.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Ve.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Ve.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function dc(t,e,n={}){const{domain:r,messages:i,args:o}=n,s=Mg((i||Ete)[t]||"",...o||[]),a=new SyntaxError(String(s));return a.code=t,e&&(a.location=e),a.domain=r,a}function Ste(t){throw t}const Cte=/<\/?[\w\s="/.':;#-\/]+>/,Ate=t=>Cte.test(t),To=" ",Tte="\r",sr=`
`,Pte=String.fromCharCode(8232),Ite=String.fromCharCode(8233);function Ote(t){const e=t;let n=0,r=1,i=1,o=0;const s=E=>e[E]===Tte&&e[E+1]===sr,a=E=>e[E]===sr,l=E=>e[E]===Ite,u=E=>e[E]===Pte,c=E=>s(E)||a(E)||l(E)||u(E),f=()=>n,d=()=>r,h=()=>i,p=()=>o,y=E=>s(E)||l(E)||u(E)?sr:e[E],v=()=>y(n),g=()=>y(n+o);function m(){return o=0,c(n)&&(r++,i=0),s(n)&&n++,n++,i++,e[n]}function _(){return s(n+o)&&o++,o++,e[n+o]}function b(){n=0,r=1,i=1,o=0}function x(E=0){o=E}function w(){const E=n+o;for(;E!==n;)m();o=0}return{index:f,line:d,column:h,peekOffset:p,charAt:y,currentChar:v,currentPeek:g,next:m,peek:_,reset:b,resetPeek:x,skipToPeek:w}}const ys=void 0,Rte=".",EC="'",Mte="tokenizer";function Dte(t,e={}){const n=e.location!==!1,r=Ote(t),i=()=>r.index(),o=()=>xte(r.line(),r.column(),r.index()),s=o(),a=i(),l={currentType:13,offset:a,startLoc:s,endLoc:s,lastType:13,lastOffset:a,lastStartLoc:s,lastEndLoc:s,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=e;function f(M,B,H,...Q){const le=u();if(B.column+=H,B.offset+=H,c){const ye=n?Zy(le.startLoc,B):null,he=dc(M,ye,{domain:Mte,args:Q});c(he)}}function d(M,B,H){M.endLoc=o(),M.currentType=B;const Q={type:B};return n&&(Q.loc=Zy(M.startLoc,M.endLoc)),H!=null&&(Q.value=H),Q}const h=M=>d(M,13);function p(M,B){return M.currentChar()===B?(M.next(),B):(f(Ve.EXPECTED_TOKEN,o(),0,B),"")}function y(M){let B="";for(;M.currentPeek()===To||M.currentPeek()===sr;)B+=M.currentPeek(),M.peek();return B}function v(M){const B=y(M);return M.skipToPeek(),B}function g(M){if(M===ys)return!1;const B=M.charCodeAt(0);return B>=97&&B<=122||B>=65&&B<=90||B===95}function m(M){if(M===ys)return!1;const B=M.charCodeAt(0);return B>=48&&B<=57}function _(M,B){const{currentType:H}=B;if(H!==2)return!1;y(M);const Q=g(M.currentPeek());return M.resetPeek(),Q}function b(M,B){const{currentType:H}=B;if(H!==2)return!1;y(M);const Q=M.currentPeek()==="-"?M.peek():M.currentPeek(),le=m(Q);return M.resetPeek(),le}function x(M,B){const{currentType:H}=B;if(H!==2)return!1;y(M);const Q=M.currentPeek()===EC;return M.resetPeek(),Q}function w(M,B){const{currentType:H}=B;if(H!==7)return!1;y(M);const Q=M.currentPeek()===".";return M.resetPeek(),Q}function E(M,B){const{currentType:H}=B;if(H!==8)return!1;y(M);const Q=g(M.currentPeek());return M.resetPeek(),Q}function S(M,B){const{currentType:H}=B;if(!(H===7||H===11))return!1;y(M);const Q=M.currentPeek()===":";return M.resetPeek(),Q}function P(M,B){const{currentType:H}=B;if(H!==9)return!1;const Q=()=>{const ye=M.currentPeek();return ye==="{"?g(M.peek()):ye==="@"||ye==="|"||ye===":"||ye==="."||ye===To||!ye?!1:ye===sr?(M.peek(),Q()):A(M,!1)},le=Q();return M.resetPeek(),le}function C(M){y(M);const B=M.currentPeek()==="|";return M.resetPeek(),B}function A(M,B=!0){const H=(le=!1,ye="")=>{const he=M.currentPeek();return he==="{"||he==="@"||!he?le:he==="|"?!(ye===To||ye===sr):he===To?(M.peek(),H(!0,To)):he===sr?(M.peek(),H(!0,sr)):!0},Q=H();return B&&M.resetPeek(),Q}function T(M,B){const H=M.currentChar();return H===ys?ys:B(H)?(M.next(),H):null}function R(M){const B=M.charCodeAt(0);return B>=97&&B<=122||B>=65&&B<=90||B>=48&&B<=57||B===95||B===36}function N(M){return T(M,R)}function G(M){const B=M.charCodeAt(0);return B>=97&&B<=122||B>=65&&B<=90||B>=48&&B<=57||B===95||B===36||B===45}function k(M){return T(M,G)}function U(M){const B=M.charCodeAt(0);return B>=48&&B<=57}function W(M){return T(M,U)}function K(M){const B=M.charCodeAt(0);return B>=48&&B<=57||B>=65&&B<=70||B>=97&&B<=102}function fe(M){return T(M,K)}function ce(M){let B="",H="";for(;B=W(M);)H+=B;return H}function X(M){let B="";for(;;){const H=M.currentChar();if(H==="{"||H==="}"||H==="@"||H==="|"||!H)break;if(H===To||H===sr)if(A(M))B+=H,M.next();else{if(C(M))break;B+=H,M.next()}else B+=H,M.next()}return B}function ie(M){v(M);let B="",H="";for(;B=k(M);)H+=B;return M.currentChar()===ys&&f(Ve.UNTERMINATED_CLOSING_BRACE,o(),0),H}function ge(M){v(M);let B="";return M.currentChar()==="-"?(M.next(),B+=`-${ce(M)}`):B+=ce(M),M.currentChar()===ys&&f(Ve.UNTERMINATED_CLOSING_BRACE,o(),0),B}function F(M){return M!==EC&&M!==sr}function q(M){v(M),p(M,"'");let B="",H="";for(;B=T(M,F);)B==="\\"?H+=L(M):H+=B;const Q=M.currentChar();return Q===sr||Q===ys?(f(Ve.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,o(),0),Q===sr&&(M.next(),p(M,"'")),H):(p(M,"'"),H)}function L(M){const B=M.currentChar();switch(B){case"\\":case"'":return M.next(),`\\${B}`;case"u":return ee(M,B,4);case"U":return ee(M,B,6);default:return f(Ve.UNKNOWN_ESCAPE_SEQUENCE,o(),0,B),""}}function ee(M,B,H){p(M,B);let Q="";for(let le=0;le<H;le++){const ye=fe(M);if(!ye){f(Ve.INVALID_UNICODE_ESCAPE_SEQUENCE,o(),0,`\\${B}${Q}${M.currentChar()}`);break}Q+=ye}return`\\${B}${Q}`}function J(M){return M!=="{"&&M!=="}"&&M!==To&&M!==sr}function de(M){v(M);let B="",H="";for(;B=T(M,J);)H+=B;return H}function pe(M){let B="",H="";for(;B=N(M);)H+=B;return H}function be(M){const B=H=>{const Q=M.currentChar();return Q==="{"||Q==="@"||Q==="|"||Q==="("||Q===")"||!Q||Q===To?H:(H+=Q,M.next(),B(H))};return B("")}function I(M){v(M);const B=p(M,"|");return v(M),B}function $(M,B){let H=null;switch(M.currentChar()){case"{":return B.braceNest>=1&&f(Ve.NOT_ALLOW_NEST_PLACEHOLDER,o(),0),M.next(),H=d(B,2,"{"),v(M),B.braceNest++,H;case"}":return B.braceNest>0&&B.currentType===2&&f(Ve.EMPTY_PLACEHOLDER,o(),0),M.next(),H=d(B,3,"}"),B.braceNest--,B.braceNest>0&&v(M),B.inLinked&&B.braceNest===0&&(B.inLinked=!1),H;case"@":return B.braceNest>0&&f(Ve.UNTERMINATED_CLOSING_BRACE,o(),0),H=j(M,B)||h(B),B.braceNest=0,H;default:{let le=!0,ye=!0,he=!0;if(C(M))return B.braceNest>0&&f(Ve.UNTERMINATED_CLOSING_BRACE,o(),0),H=d(B,1,I(M)),B.braceNest=0,B.inLinked=!1,H;if(B.braceNest>0&&(B.currentType===4||B.currentType===5||B.currentType===6))return f(Ve.UNTERMINATED_CLOSING_BRACE,o(),0),B.braceNest=0,ae(M,B);if(le=_(M,B))return H=d(B,4,ie(M)),v(M),H;if(ye=b(M,B))return H=d(B,5,ge(M)),v(M),H;if(he=x(M,B))return H=d(B,6,q(M)),v(M),H;if(!le&&!ye&&!he)return H=d(B,12,de(M)),f(Ve.INVALID_TOKEN_IN_PLACEHOLDER,o(),0,H.value),v(M),H;break}}return H}function j(M,B){const{currentType:H}=B;let Q=null;const le=M.currentChar();switch((H===7||H===8||H===11||H===9)&&(le===sr||le===To)&&f(Ve.INVALID_LINKED_FORMAT,o(),0),le){case"@":return M.next(),Q=d(B,7,"@"),B.inLinked=!0,Q;case".":return v(M),M.next(),d(B,8,".");case":":return v(M),M.next(),d(B,9,":");default:return C(M)?(Q=d(B,1,I(M)),B.braceNest=0,B.inLinked=!1,Q):w(M,B)||S(M,B)?(v(M),j(M,B)):E(M,B)?(v(M),d(B,11,pe(M))):P(M,B)?(v(M),le==="{"?$(M,B)||Q:d(B,10,be(M))):(H===7&&f(Ve.INVALID_LINKED_FORMAT,o(),0),B.braceNest=0,B.inLinked=!1,ae(M,B))}}function ae(M,B){let H={type:13};if(B.braceNest>0)return $(M,B)||h(B);if(B.inLinked)return j(M,B)||h(B);switch(M.currentChar()){case"{":return $(M,B)||h(B);case"}":return f(Ve.UNBALANCED_CLOSING_BRACE,o(),0),M.next(),d(B,3,"}");case"@":return j(M,B)||h(B);default:{if(C(M))return H=d(B,1,I(M)),B.braceNest=0,B.inLinked=!1,H;if(A(M))return d(B,0,X(M));break}}return H}function ue(){const{currentType:M,offset:B,startLoc:H,endLoc:Q}=l;return l.lastType=M,l.lastOffset=B,l.lastStartLoc=H,l.lastEndLoc=Q,l.offset=i(),l.startLoc=o(),r.currentChar()===ys?d(l,13):ae(r,l)}return{nextToken:ue,currentOffset:i,currentPosition:o,context:u}}const Bte="parser",kte=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Nte(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"�"}}}function Fte(t={}){const e=t.location!==!1,{onError:n}=t;function r(g,m,_,b,...x){const w=g.currentPosition();if(w.offset+=b,w.column+=b,n){const E=e?Zy(_,w):null,S=dc(m,E,{domain:Bte,args:x});n(S)}}function i(g,m,_){const b={type:g};return e&&(b.start=m,b.end=m,b.loc={start:_,end:_}),b}function o(g,m,_,b){e&&(g.end=m,g.loc&&(g.loc.end=_))}function s(g,m){const _=g.context(),b=i(3,_.offset,_.startLoc);return b.value=m,o(b,g.currentOffset(),g.currentPosition()),b}function a(g,m){const _=g.context(),{lastOffset:b,lastStartLoc:x}=_,w=i(5,b,x);return w.index=parseInt(m,10),g.nextToken(),o(w,g.currentOffset(),g.currentPosition()),w}function l(g,m){const _=g.context(),{lastOffset:b,lastStartLoc:x}=_,w=i(4,b,x);return w.key=m,g.nextToken(),o(w,g.currentOffset(),g.currentPosition()),w}function u(g,m){const _=g.context(),{lastOffset:b,lastStartLoc:x}=_,w=i(9,b,x);return w.value=m.replace(kte,Nte),g.nextToken(),o(w,g.currentOffset(),g.currentPosition()),w}function c(g){const m=g.nextToken(),_=g.context(),{lastOffset:b,lastStartLoc:x}=_,w=i(8,b,x);return m.type!==11?(r(g,Ve.UNEXPECTED_EMPTY_LINKED_MODIFIER,_.lastStartLoc,0),w.value="",o(w,b,x),{nextConsumeToken:m,node:w}):(m.value==null&&r(g,Ve.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,zi(m)),w.value=m.value||"",o(w,g.currentOffset(),g.currentPosition()),{node:w})}function f(g,m){const _=g.context(),b=i(7,_.offset,_.startLoc);return b.value=m,o(b,g.currentOffset(),g.currentPosition()),b}function d(g){const m=g.context(),_=i(6,m.offset,m.startLoc);let b=g.nextToken();if(b.type===8){const x=c(g);_.modifier=x.node,b=x.nextConsumeToken||g.nextToken()}switch(b.type!==9&&r(g,Ve.UNEXPECTED_LEXICAL_ANALYSIS,m.lastStartLoc,0,zi(b)),b=g.nextToken(),b.type===2&&(b=g.nextToken()),b.type){case 10:b.value==null&&r(g,Ve.UNEXPECTED_LEXICAL_ANALYSIS,m.lastStartLoc,0,zi(b)),_.key=f(g,b.value||"");break;case 4:b.value==null&&r(g,Ve.UNEXPECTED_LEXICAL_ANALYSIS,m.lastStartLoc,0,zi(b)),_.key=l(g,b.value||"");break;case 5:b.value==null&&r(g,Ve.UNEXPECTED_LEXICAL_ANALYSIS,m.lastStartLoc,0,zi(b)),_.key=a(g,b.value||"");break;case 6:b.value==null&&r(g,Ve.UNEXPECTED_LEXICAL_ANALYSIS,m.lastStartLoc,0,zi(b)),_.key=u(g,b.value||"");break;default:{r(g,Ve.UNEXPECTED_EMPTY_LINKED_KEY,m.lastStartLoc,0);const x=g.context(),w=i(7,x.offset,x.startLoc);return w.value="",o(w,x.offset,x.startLoc),_.key=w,o(_,x.offset,x.startLoc),{nextConsumeToken:b,node:_}}}return o(_,g.currentOffset(),g.currentPosition()),{node:_}}function h(g){const m=g.context(),_=m.currentType===1?g.currentOffset():m.offset,b=m.currentType===1?m.endLoc:m.startLoc,x=i(2,_,b);x.items=[];let w=null;do{const P=w||g.nextToken();switch(w=null,P.type){case 0:P.value==null&&r(g,Ve.UNEXPECTED_LEXICAL_ANALYSIS,m.lastStartLoc,0,zi(P)),x.items.push(s(g,P.value||""));break;case 5:P.value==null&&r(g,Ve.UNEXPECTED_LEXICAL_ANALYSIS,m.lastStartLoc,0,zi(P)),x.items.push(a(g,P.value||""));break;case 4:P.value==null&&r(g,Ve.UNEXPECTED_LEXICAL_ANALYSIS,m.lastStartLoc,0,zi(P)),x.items.push(l(g,P.value||""));break;case 6:P.value==null&&r(g,Ve.UNEXPECTED_LEXICAL_ANALYSIS,m.lastStartLoc,0,zi(P)),x.items.push(u(g,P.value||""));break;case 7:{const C=d(g);x.items.push(C.node),w=C.nextConsumeToken||null;break}}}while(m.currentType!==13&&m.currentType!==1);const E=m.currentType===1?m.lastOffset:g.currentOffset(),S=m.currentType===1?m.lastEndLoc:g.currentPosition();return o(x,E,S),x}function p(g,m,_,b){const x=g.context();let w=b.items.length===0;const E=i(1,m,_);E.cases=[],E.cases.push(b);do{const S=h(g);w||(w=S.items.length===0),E.cases.push(S)}while(x.currentType!==13);return w&&r(g,Ve.MUST_HAVE_MESSAGES_IN_PLURAL,_,0),o(E,g.currentOffset(),g.currentPosition()),E}function y(g){const m=g.context(),{offset:_,startLoc:b}=m,x=h(g);return m.currentType===13?x:p(g,_,b,x)}function v(g){const m=Dte(g,Sn({},t)),_=m.context(),b=i(0,_.offset,_.startLoc);return e&&b.loc&&(b.loc.source=g),b.body=y(m),t.onCacheKey&&(b.cacheKey=t.onCacheKey(g)),_.currentType!==13&&r(m,Ve.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,g[_.offset]||""),o(b,m.currentOffset(),m.currentPosition()),b}return{parse:v}}function zi(t){if(t.type===13)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function Lte(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:o=>(n.helpers.add(o),o)}}function SC(t,e){for(let n=0;n<t.length;n++)mw(t[n],e)}function mw(t,e){switch(t.type){case 1:SC(t.cases,e),e.helper("plural");break;case 2:SC(t.items,e);break;case 6:{mw(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function $te(t,e={}){const n=Lte(t);n.helper("normalize"),t.body&&mw(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function Ute(t){const e=t.body;return e.type===2?CC(e):e.cases.forEach(n=>CC(n)),t}function CC(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=pw(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const Gte="minifier";function lu(t){switch(t.t=t.type,t.type){case 0:{const e=t;lu(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let r=0;r<n.length;r++)lu(n[r]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let r=0;r<n.length;r++)lu(n[r]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;lu(e.key),e.k=e.key,delete e.key,e.modifier&&(lu(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw dc(Ve.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:Gte,args:[t.type]})}delete t.type}const Hte="parser";function Vte(t,e){const{sourceMap:n,filename:r,breakLineCode:i,needIndent:o}=e,s=e.location!==!1,a={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:o,indentLevel:0};s&&t.loc&&(a.source=t.loc.source);const l=()=>a;function u(v,g){a.code+=v}function c(v,g=!0){const m=g?i:"";u(o?m+"  ".repeat(v):m)}function f(v=!0){const g=++a.indentLevel;v&&c(g)}function d(v=!0){const g=--a.indentLevel;v&&c(g)}function h(){c(a.indentLevel)}return{context:l,push:u,indent:f,deindent:d,newline:h,helper:v=>`_${v}`,needIndent:()=>a.needIndent}}function zte(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),Uu(t,e.key),e.modifier?(t.push(", "),Uu(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function jte(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const i=e.items.length;for(let o=0;o<i&&(Uu(t,e.items[o]),o!==i-1);o++)t.push(", ");t.deindent(r()),t.push("])")}function Wte(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const i=e.cases.length;for(let o=0;o<i&&(Uu(t,e.cases[o]),o!==i-1);o++)t.push(", ");t.deindent(r()),t.push("])")}}function Yte(t,e){e.body?Uu(t,e.body):t.push("null")}function Uu(t,e){const{helper:n}=t;switch(e.type){case 0:Yte(t,e);break;case 1:Wte(t,e);break;case 2:jte(t,e);break;case 6:zte(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw dc(Ve.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:Hte,args:[e.type]})}}const Xte=(t,e={})=>{const n=Ee(e.mode)?e.mode:"normal",r=Ee(e.filename)?e.filename:"message.intl",i=!!e.sourceMap,o=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,s=e.needIndent?e.needIndent:n!=="arrow",a=t.helpers||[],l=Vte(t,{mode:n,filename:r,sourceMap:i,breakLineCode:o,needIndent:s});l.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(s),a.length>0&&(l.push(`const { ${pw(a.map(f=>`${f}: _${f}`),", ")} } = ctx`),l.newline()),l.push("return "),Uu(l,t),l.deindent(s),l.push("}"),delete t.helpers;const{code:u,map:c}=l.context();return{ast:t,code:u,map:c?c.toJSON():void 0}};function Kte(t,e={}){const n=Sn({},e),r=!!n.jit,i=!!n.minify,o=n.optimize==null?!0:n.optimize,a=Fte(n).parse(t);return r?(o&&Ute(a),i&&lu(a),{ast:a,code:""}):($te(a,n),Xte(a,n))}/*!
  * core-base v11.1.11
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function qte(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ua().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ua().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function gi(t){return ot(t)&&vw(t)===0&&(Mi(t,"b")||Mi(t,"body"))}const TD=["b","body"];function Zte(t){return ua(t,TD)}const PD=["c","cases"];function Jte(t){return ua(t,PD,[])}const ID=["s","static"];function Qte(t){return ua(t,ID)}const OD=["i","items"];function ene(t){return ua(t,OD,[])}const RD=["t","type"];function vw(t){return ua(t,RD)}const MD=["v","value"];function Bh(t,e){const n=ua(t,MD);if(n!=null)return n;throw qf(e)}const DD=["m","modifier"];function tne(t){return ua(t,DD)}const BD=["k","key"];function nne(t){const e=ua(t,BD);if(e)return e;throw qf(6)}function ua(t,e,n){for(let r=0;r<e.length;r++){const i=e[r];if(Mi(t,i)&&t[i]!=null)return t[i]}return n}const kD=[...TD,...PD,...ID,...OD,...BD,...DD,...MD,...RD];function qf(t){return new Error(`unhandled node type: ${t}`)}function Wm(t){return n=>rne(n,t)}function rne(t,e){const n=Zte(e);if(n==null)throw qf(0);if(vw(n)===1){const o=Jte(n);return t.plural(o.reduce((s,a)=>[...s,AC(t,a)],[]))}else return AC(t,n)}function AC(t,e){const n=Qte(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const r=ene(e).reduce((i,o)=>[...i,Jy(t,o)],[]);return t.normalize(r)}}function Jy(t,e){const n=vw(e);switch(n){case 3:return Bh(e,n);case 9:return Bh(e,n);case 4:{const r=e;if(Mi(r,"k")&&r.k)return t.interpolate(t.named(r.k));if(Mi(r,"key")&&r.key)return t.interpolate(t.named(r.key));throw qf(n)}case 5:{const r=e;if(Mi(r,"i")&&cn(r.i))return t.interpolate(t.list(r.i));if(Mi(r,"index")&&cn(r.index))return t.interpolate(t.list(r.index));throw qf(n)}case 6:{const r=e,i=tne(r),o=nne(r);return t.linked(Jy(t,o),i?Jy(t,i):void 0,t.type)}case 7:return Bh(e,n);case 8:return Bh(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const ine="Detected HTML in '{source}' message. Recommend not using HTML messages to avoid XSS.";function one(t,e){e&&Ate(t)&&go(Mg(ine,{source:t}))}const sne=t=>t;let kh=Ct();function ane(t,e={}){let n=!1;const r=e.onError||Ste;return e.onError=i=>{n=!0,r(i)},{...Kte(t,e),detectError:n}}function lne(t,e){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&Ee(t)){const n=ut(e.warnHtmlMessage)?e.warnHtmlMessage:!0;one(t,n);const i=(e.onCacheKey||sne)(t),o=kh[i];if(o)return o;const{ast:s,detectError:a}=ane(t,{...e,location:!0,jit:!0}),l=Wm(s);return a?l:kh[i]=l}else{if(!gi(t))return go(`the message that is resolve with key '${e.key}' is not supported for jit compilation`),()=>t;const n=t.cacheKey;if(n){const r=kh[n];return r||(kh[n]=Wm(t))}else return Wm(t)}}let Zf=null;function une(t){Zf=t}function cne(t,e,n){Zf&&Zf.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const fne=dne("function:translate");function dne(t){return e=>Zf&&Zf.emit(t,e)}const Xn={INVALID_ARGUMENT:wte,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_NON_STRING_MESSAGE:20,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},hne=24;function Vo(t){return dc(t,null,{messages:pne})}const pne={[Xn.INVALID_ARGUMENT]:"Invalid arguments",[Xn.INVALID_DATE_ARGUMENT]:"The date provided is an invalid Date object.Make sure your Date represents a valid date.",[Xn.INVALID_ISO_DATE_ARGUMENT]:"The argument provided is not a valid ISO date string",[Xn.NOT_SUPPORT_NON_STRING_MESSAGE]:"Not support non-string message",[Xn.NOT_SUPPORT_LOCALE_PROMISE_VALUE]:"cannot support promise value",[Xn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION]:"cannot support async function",[Xn.NOT_SUPPORT_LOCALE_TYPE]:"cannot support locale type"};function yw(t,e){return e.locale!=null?TC(e.locale):TC(t.locale)}let Ym;function TC(t){if(Ee(t))return t;if(At(t)){if(t.resolvedOnce&&Ym!=null)return Ym;if(t.constructor.name==="Function"){const e=t();if(yte(e))throw Vo(Xn.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Ym=e}else throw Vo(Xn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Vo(Xn.NOT_SUPPORT_LOCALE_TYPE)}function gne(t,e,n){return[...new Set([n,...Wt(e)?e:ot(e)?Object.keys(e):Ee(e)?[e]:[n]])]}function ND(t,e,n){const r=Ee(n)?n:Jf,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let o=i.__localeChainCache.get(r);if(!o){o=[];let s=[n];for(;Wt(s);)s=PC(o,s,e);const a=Wt(e)||!Ze(e)?e:e.default?e.default:null;s=Ee(a)?[a]:a,Wt(s)&&PC(o,s,!1),i.__localeChainCache.set(r,o)}return o}function PC(t,e,n){let r=!0;for(let i=0;i<e.length&&ut(r);i++){const o=e[i];Ee(o)&&(r=mne(t,e[i],n))}return r}function mne(t,e,n){let r;const i=e.split("-");do{const o=i.join("-");r=vne(t,o,n),i.splice(-1,1)}while(i.length&&r===!0);return r}function vne(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(Wt(n)||Ze(n))&&n[i]&&(r=n[i])}return r}const ca=[];ca[0]={w:[0],i:[3,0],"[":[4],o:[7]};ca[1]={w:[1],".":[2],"[":[4],o:[7]};ca[2]={w:[2],i:[3,0],0:[3,0]};ca[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};ca[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};ca[5]={"'":[4,0],o:8,l:[5,0]};ca[6]={'"':[4,0],o:8,l:[6,0]};const yne=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function _ne(t){return yne.test(t)}function bne(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function xne(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function wne(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:_ne(e)?bne(e):"*"+e}function Ene(t){const e=[];let n=-1,r=0,i=0,o,s,a,l,u,c,f;const d=[];d[0]=()=>{s===void 0?s=a:s+=a},d[1]=()=>{s!==void 0&&(e.push(s),s=void 0)},d[2]=()=>{d[0](),i++},d[3]=()=>{if(i>0)i--,r=4,d[0]();else{if(i=0,s===void 0||(s=wne(s),s===!1))return!1;d[1]()}};function h(){const p=t[n+1];if(r===5&&p==="'"||r===6&&p==='"')return n++,a="\\"+p,d[0](),!0}for(;r!==null;)if(n++,o=t[n],!(o==="\\"&&h())){if(l=xne(o),f=ca[r],u=f[l]||f.l||8,u===8||(r=u[0],u[1]!==void 0&&(c=d[u[1]],c&&(a=o,c()===!1))))return;if(r===7)return e}}const IC=new Map;function Sne(t,e){return ot(t)?t[e]:null}function Cne(t,e){if(!ot(t))return null;let n=IC.get(e);if(n||(n=Ene(e),n&&IC.set(e,n)),!n)return null;const r=n.length;let i=t,o=0;for(;o<r;){const s=n[o];if(kD.includes(s)&&gi(i))return null;const a=i[s];if(a===void 0||At(i))return null;i=a,o++}return i}const xr={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:7},Ane=8,Tne={[xr.NOT_FOUND_KEY]:"Not found '{key}' key in '{locale}' locale messages.",[xr.FALLBACK_TO_TRANSLATE]:"Fall back to translate '{key}' key with '{target}' locale.",[xr.CANNOT_FORMAT_NUMBER]:"Cannot format a number value due to not supported Intl.NumberFormat.",[xr.FALLBACK_TO_NUMBER_FORMAT]:"Fall back to number format '{key}' key with '{target}' locale.",[xr.CANNOT_FORMAT_DATE]:"Cannot format a date value due to not supported Intl.DateTimeFormat.",[xr.FALLBACK_TO_DATE_FORMAT]:"Fall back to datetime format '{key}' key with '{target}' locale.",[xr.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER]:"This project is using Custom Message Compiler, which is an experimental feature. It may receive breaking changes or be removed in the future."};function dl(t,...e){return Mg(Tne[t],...e)}const Pne="11.1.11",Bg=-1,Jf="en-US",u0="",OC=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function Ine(){return{upper:(t,e)=>e==="text"&&Ee(t)?t.toUpperCase():e==="vnode"&&ot(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Ee(t)?t.toLowerCase():e==="vnode"&&ot(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Ee(t)?OC(t):e==="vnode"&&ot(t)&&"__v_isVNode"in t?OC(t.children):t}}let FD;function One(t){FD=t}let LD;function Rne(t){LD=t}let $D;function Mne(t){$D=t}let UD=null;const Dne=t=>{UD=t},Bne=()=>UD;let GD=null;const RC=t=>{GD=t},kne=()=>GD;let MC=0;function Nne(t={}){const e=At(t.onWarn)?t.onWarn:go,n=Ee(t.version)?t.version:Pne,r=Ee(t.locale)||At(t.locale)?t.locale:Jf,i=At(r)?Jf:r,o=Wt(t.fallbackLocale)||Ze(t.fallbackLocale)||Ee(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,s=Ze(t.messages)?t.messages:Xm(i),a=Ze(t.datetimeFormats)?t.datetimeFormats:Xm(i),l=Ze(t.numberFormats)?t.numberFormats:Xm(i),u=Sn(Ct(),t.modifiers,Ine()),c=t.pluralRules||Ct(),f=At(t.missing)?t.missing:null,d=ut(t.missingWarn)||$u(t.missingWarn)?t.missingWarn:!0,h=ut(t.fallbackWarn)||$u(t.fallbackWarn)?t.fallbackWarn:!0,p=!!t.fallbackFormat,y=!!t.unresolving,v=At(t.postTranslation)?t.postTranslation:null,g=Ze(t.processor)?t.processor:null,m=ut(t.warnHtmlMessage)?t.warnHtmlMessage:!0,_=!!t.escapeParameter,b=At(t.messageCompiler)?t.messageCompiler:FD;At(t.messageCompiler)&&dw(dl(xr.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER));const x=At(t.messageResolver)?t.messageResolver:LD||Sne,w=At(t.localeFallbacker)?t.localeFallbacker:$D||gne,E=ot(t.fallbackContext)?t.fallbackContext:void 0,S=t,P=ot(S.__datetimeFormatters)?S.__datetimeFormatters:new Map,C=ot(S.__numberFormatters)?S.__numberFormatters:new Map,A=ot(S.__meta)?S.__meta:{};MC++;const T={version:n,cid:MC,locale:r,fallbackLocale:o,messages:s,modifiers:u,pluralRules:c,missing:f,missingWarn:d,fallbackWarn:h,fallbackFormat:p,unresolving:y,postTranslation:v,processor:g,warnHtmlMessage:m,escapeParameter:_,messageCompiler:b,messageResolver:x,localeFallbacker:w,fallbackContext:E,onWarn:e,__meta:A};return T.datetimeFormats=a,T.numberFormats=l,T.__datetimeFormatters=P,T.__numberFormatters=C,T.__v_emitter=S.__v_emitter!=null?S.__v_emitter:void 0,cne(T,n,A),T}const Xm=t=>({[t]:Ct()});function kg(t,e){return t instanceof RegExp?t.test(e):t}function HD(t,e){return t instanceof RegExp?t.test(e):t}function _w(t,e,n,r,i){const{missing:o,onWarn:s}=t;{const a=t.__v_emitter;a&&a.emit("missing",{locale:n,key:e,type:i,groupId:`${i}:${e}`})}if(o!==null){const a=o(t,n,e,i);return Ee(a)?a:e}else return HD(r,e)&&s(dl(xr.NOT_FOUND_KEY,{key:e,locale:n})),e}function Mc(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function VD(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function Fne(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let r=n+1;r<e.length;r++)if(VD(t,e[r]))return!0;return!1}const DC=typeof Intl<"u",zD={dateTimeFormat:DC&&typeof Intl.DateTimeFormat<"u",numberFormat:DC&&typeof Intl.NumberFormat<"u"};function BC(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:o,localeFallbacker:s}=t,{__datetimeFormatters:a}=t;if(!zD.dateTimeFormat)return o(dl(xr.CANNOT_FORMAT_DATE)),u0;const[l,u,c,f]=Qy(...e),d=ut(c.missingWarn)?c.missingWarn:t.missingWarn,h=ut(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,p=!!c.part,y=yw(t,c),v=s(t,i,y);if(!Ee(l)||l==="")return new Intl.DateTimeFormat(y,f).format(u);let g={},m,_=null,b=y,x=null;const w="datetime format";for(let P=0;P<v.length;P++){if(m=x=v[P],y!==m&&kg(h,l)&&o(dl(xr.FALLBACK_TO_DATE_FORMAT,{key:l,target:m})),y!==m){const C=t.__v_emitter;C&&C.emit("fallback",{type:w,key:l,from:b,to:x,groupId:`${w}:${l}`})}if(g=n[m]||{},_=g[l],Ze(_))break;_w(t,l,m,d,w),b=x}if(!Ze(_)||!Ee(m))return r?Bg:l;let E=`${m}__${l}`;Dg(f)||(E=`${E}__${JSON.stringify(f)}`);let S=a.get(E);return S||(S=new Intl.DateTimeFormat(m,Sn({},_,f)),a.set(E,S)),p?S.formatToParts(u):S.format(u)}const jD=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Qy(...t){const[e,n,r,i]=t,o=Ct();let s=Ct(),a;if(Ee(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Vo(Xn.INVALID_ISO_DATE_ARGUMENT);const u=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(u);try{a.toISOString()}catch{throw Vo(Xn.INVALID_ISO_DATE_ARGUMENT)}}else if(pte(e)){if(isNaN(e.getTime()))throw Vo(Xn.INVALID_DATE_ARGUMENT);a=e}else if(cn(e))a=e;else throw Vo(Xn.INVALID_ARGUMENT);return Ee(n)?o.key=n:Ze(n)&&Object.keys(n).forEach(l=>{jD.includes(l)?s[l]=n[l]:o[l]=n[l]}),Ee(r)?o.locale=r:Ze(r)&&(s=r),Ze(i)&&(s=i),[o.key||"",a,o,s]}function kC(t,e,n){const r=t;for(const i in n){const o=`${e}__${i}`;r.__datetimeFormatters.has(o)&&r.__datetimeFormatters.delete(o)}}function NC(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:o,localeFallbacker:s}=t,{__numberFormatters:a}=t;if(!zD.numberFormat)return o(dl(xr.CANNOT_FORMAT_NUMBER)),u0;const[l,u,c,f]=e_(...e),d=ut(c.missingWarn)?c.missingWarn:t.missingWarn,h=ut(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,p=!!c.part,y=yw(t,c),v=s(t,i,y);if(!Ee(l)||l==="")return new Intl.NumberFormat(y,f).format(u);let g={},m,_=null,b=y,x=null;const w="number format";for(let P=0;P<v.length;P++){if(m=x=v[P],y!==m&&kg(h,l)&&o(dl(xr.FALLBACK_TO_NUMBER_FORMAT,{key:l,target:m})),y!==m){const C=t.__v_emitter;C&&C.emit("fallback",{type:w,key:l,from:b,to:x,groupId:`${w}:${l}`})}if(g=n[m]||{},_=g[l],Ze(_))break;_w(t,l,m,d,w),b=x}if(!Ze(_)||!Ee(m))return r?Bg:l;let E=`${m}__${l}`;Dg(f)||(E=`${E}__${JSON.stringify(f)}`);let S=a.get(E);return S||(S=new Intl.NumberFormat(m,Sn({},_,f)),a.set(E,S)),p?S.formatToParts(u):S.format(u)}const WD=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function e_(...t){const[e,n,r,i]=t,o=Ct();let s=Ct();if(!cn(e))throw Vo(Xn.INVALID_ARGUMENT);const a=e;return Ee(n)?o.key=n:Ze(n)&&Object.keys(n).forEach(l=>{WD.includes(l)?s[l]=n[l]:o[l]=n[l]}),Ee(r)?o.locale=r:Ze(r)&&(s=r),Ze(i)&&(s=i),[o.key||"",a,o,s]}function FC(t,e,n){const r=t;for(const i in n){const o=`${e}__${i}`;r.__numberFormatters.has(o)&&r.__numberFormatters.delete(o)}}const Lne=t=>t,$ne=t=>"",Une="text",Gne=t=>t.length===0?"":pw(t),Hne=_te;function LC(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function Vne(t){const e=cn(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(cn(t.named.count)||cn(t.named.n))?cn(t.named.count)?t.named.count:cn(t.named.n)?t.named.n:e:e}function zne(t,e){e.count||(e.count=t),e.n||(e.n=t)}function jne(t={}){const e=t.locale,n=Vne(t),r=ot(t.pluralRules)&&Ee(e)&&At(t.pluralRules[e])?t.pluralRules[e]:LC,i=ot(t.pluralRules)&&Ee(e)&&At(t.pluralRules[e])?LC:void 0,o=g=>g[r(n,g.length,i)],s=t.list||[],a=g=>s[g],l=t.named||Ct();cn(t.pluralIndex)&&zne(n,l);const u=g=>l[g];function c(g,m){const _=At(t.messages)?t.messages(g,!!m):ot(t.messages)?t.messages[g]:!1;return _||(t.parent?t.parent.message(g):$ne)}const f=g=>t.modifiers?t.modifiers[g]:Lne,d=Ze(t.processor)&&At(t.processor.normalize)?t.processor.normalize:Gne,h=Ze(t.processor)&&At(t.processor.interpolate)?t.processor.interpolate:Hne,p=Ze(t.processor)&&Ee(t.processor.type)?t.processor.type:Une,v={list:a,named:u,plural:o,linked:(g,...m)=>{const[_,b]=m;let x="text",w="";m.length===1?ot(_)?(w=_.modifier||w,x=_.type||x):Ee(_)&&(w=_||w):m.length===2&&(Ee(_)&&(w=_||w),Ee(b)&&(x=b||x));const E=c(g,!0)(v),S=x==="vnode"&&Wt(E)&&w?E[0]:E;return w?f(w)(S,x):S},message:c,type:p,interpolate:h,normalize:d,values:Sn(Ct(),s,l)};return v}const $C=()=>"",ai=t=>At(t);function UC(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:i,messageCompiler:o,fallbackLocale:s,messages:a}=t,[l,u]=t_(...e),c=ut(u.missingWarn)?u.missingWarn:t.missingWarn,f=ut(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn,d=ut(u.escapeParameter)?u.escapeParameter:t.escapeParameter,h=!!u.resolvedMessage,p=Ee(u.default)||ut(u.default)?ut(u.default)?o?l:()=>l:u.default:n?o?l:()=>l:null,y=n||p!=null&&(Ee(p)||At(p)),v=yw(t,u);d&&Wne(u);let[g,m,_]=h?[l,v,a[v]||Ct()]:YD(t,l,v,s,f,c),b=g,x=l;if(!h&&!(Ee(b)||gi(b)||ai(b))&&y&&(b=p,x=b),!h&&(!(Ee(b)||gi(b)||ai(b))||!Ee(m)))return i?Bg:l;if(Ee(b)&&t.messageCompiler==null)return go(`The message format compilation is not supported in this build. Because message compiler isn't included. You need to pre-compilation all message format. So translate function return '${l}'.`),l;let w=!1;const E=()=>{w=!0},S=ai(b)?b:XD(t,l,m,b,x,E);if(w)return b;const P=qne(t,m,_,u),C=jne(P),A=Yne(t,S,C);let T=r?r(A,l):A;d&&Ee(T)&&(T=mte(T));{const R={timestamp:Date.now(),key:Ee(l)?l:ai(b)?b.key:"",locale:m||(ai(b)?b.locale:""),format:Ee(b)?b:ai(b)?b.source:"",message:T};R.meta=Sn({},t.__meta,Bne()||{}),fne(R)}return T}function Wne(t){Wt(t.list)?t.list=t.list.map(e=>Ee(e)?bC(e):e):ot(t.named)&&Object.keys(t.named).forEach(e=>{Ee(t.named[e])&&(t.named[e]=bC(t.named[e]))})}function YD(t,e,n,r,i,o){const{messages:s,onWarn:a,messageResolver:l,localeFallbacker:u}=t,c=u(t,r,n);let f=Ct(),d,h=null,p=n,y=null;const v="translate";for(let g=0;g<c.length;g++){if(d=y=c[g],n!==d&&!VD(n,d)&&kg(i,e)&&a(dl(xr.FALLBACK_TO_TRANSLATE,{key:e,target:d})),n!==d){const x=t.__v_emitter;x&&x.emit("fallback",{type:v,key:e,from:p,to:y,groupId:`${v}:${e}`})}f=s[d]||Ct();let m=null,_,b;if(Fi&&(m=window.performance.now(),_="intlify-message-resolve-start",b="intlify-message-resolve-end",Gr&&Gr(_)),(h=l(f,e))===null&&(h=f[e]),Fi){const x=window.performance.now(),w=t.__v_emitter;w&&m&&h&&w.emit("message-resolve",{type:"message-resolve",key:e,message:h,time:x-m,groupId:`${v}:${e}`}),_&&b&&Gr&&fl&&(Gr(b),fl("intlify message resolve",_,b))}if(Ee(h)||gi(h)||ai(h))break;if(!Fne(d,c)){const x=_w(t,e,d,o,v);x!==e&&(h=x)}p=y}return[h,d,f]}function XD(t,e,n,r,i,o){const{messageCompiler:s,warnHtmlMessage:a}=t;if(ai(r)){const d=r;return d.locale=d.locale||n,d.key=d.key||e,d}if(s==null){const d=()=>r;return d.locale=n,d.key=e,d}let l=null,u,c;Fi&&(l=window.performance.now(),u="intlify-message-compilation-start",c="intlify-message-compilation-end",Gr&&Gr(u));const f=s(r,Xne(t,n,i,r,a,o));if(Fi){const d=window.performance.now(),h=t.__v_emitter;h&&l&&h.emit("message-compilation",{type:"message-compilation",message:r,time:d-l,groupId:`translate:${e}`}),u&&c&&Gr&&fl&&(Gr(c),fl("intlify message compilation",u,c))}return f.locale=n,f.key=e,f.source=r,f}function Yne(t,e,n){let r=null,i,o;Fi&&(r=window.performance.now(),i="intlify-message-evaluation-start",o="intlify-message-evaluation-end",Gr&&Gr(i));const s=e(n);if(Fi){const a=window.performance.now(),l=t.__v_emitter;l&&r&&l.emit("message-evaluation",{type:"message-evaluation",value:s,time:a-r,groupId:`translate:${e.key}`}),i&&o&&Gr&&fl&&(Gr(o),fl("intlify message evaluation",i,o))}return s}function t_(...t){const[e,n,r]=t,i=Ct();if(!Ee(e)&&!cn(e)&&!ai(e)&&!gi(e))throw Vo(Xn.INVALID_ARGUMENT);const o=cn(e)?String(e):(ai(e),e);return cn(n)?i.plural=n:Ee(n)?i.default=n:Ze(n)&&!Dg(n)?i.named=n:Wt(n)&&(i.list=n),cn(r)?i.plural=r:Ee(r)?i.default=r:Ze(r)&&Sn(i,r),[o,i]}function Xne(t,e,n,r,i,o){return{locale:e,key:n,warnHtmlMessage:i,onError:s=>{o&&o(s);{const a=Kne(r),l=`Message compilation error: ${s.message}`,u=s.location&&a&&bte(a,s.location.start.offset,s.location.end.offset),c=t.__v_emitter;c&&a&&c.emit("compile-error",{message:a,error:s.message,start:s.location&&s.location.start.offset,end:s.location&&s.location.end.offset,groupId:`translate:${n}`}),console.error(u?`${l}
${u}`:l)}},onCacheKey:s=>dte(e,n,s)}}function Kne(t){if(Ee(t))return t;if(t.loc&&t.loc.source)return t.loc.source}function qne(t,e,n,r){const{modifiers:i,pluralRules:o,messageResolver:s,fallbackLocale:a,fallbackWarn:l,missingWarn:u,fallbackContext:c}=t,d={locale:e,modifiers:i,pluralRules:o,messages:(h,p)=>{let y=s(n,h);if(y==null&&(c||p)){const[,,v]=YD(c||t,h,e,a,l,u);y=s(v,h)}if(Ee(y)||gi(y)){let v=!1;const m=XD(t,h,e,y,h,()=>{v=!0});return v?$C:m}else return ai(y)?y:$C}};return t.processor&&(d.processor=t.processor),r.list&&(d.list=r.list),r.named&&(d.named=r.named),cn(r.plural)&&(d.pluralIndex=r.plural),d}qte();/*!
  * vue-i18n v11.1.11
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Zne="11.1.11";function Jne(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Ua().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Ua().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ua().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ua().__INTLIFY_PROD_DEVTOOLS__=!1)}const Pt={UNEXPECTED_RETURN_TYPE:hne,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:30,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32,NOT_COMPATIBLE_LEGACY_VUE_I18N:33,NOT_AVAILABLE_COMPOSITION_IN_LEGACY:34};function Mr(t,...e){return dc(t,null,{messages:Qne,args:e})}const Qne={[Pt.UNEXPECTED_RETURN_TYPE]:"Unexpected return type in composer",[Pt.INVALID_ARGUMENT]:"Invalid argument",[Pt.MUST_BE_CALL_SETUP_TOP]:"Must be called at the top of a `setup` function",[Pt.NOT_INSTALLED]:"Need to install with `app.use` function",[Pt.UNEXPECTED_ERROR]:"Unexpected error",[Pt.REQUIRED_VALUE]:"Required in value: {0}",[Pt.INVALID_VALUE]:"Invalid value",[Pt.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN]:"Cannot setup vue-devtools plugin",[Pt.NOT_INSTALLED_WITH_PROVIDE]:"Need to install with `provide` function",[Pt.NOT_COMPATIBLE_LEGACY_VUE_I18N]:"Not compatible legacy VueI18n.",[Pt.NOT_AVAILABLE_COMPOSITION_IN_LEGACY]:"Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly"},n_=wo("__translateVNode"),r_=wo("__datetimeParts"),i_=wo("__numberParts"),hl=wo("__enableEmitter"),Qf=wo("__disableEmitter"),KD=wo("__setPluralRules"),qD=wo("__injectWithOption"),o_=wo("__dispose"),li={FALLBACK_TO_ROOT:Ane,NOT_FOUND_PARENT_SCOPE:9,IGNORE_OBJ_FLATTEN:10,DEPRECATE_LEGACY_MODE:11,DEPRECATE_TRANSLATE_CUSTOME_DIRECTIVE:12,DUPLICATE_USE_I18N_CALLING:13},ere={[li.FALLBACK_TO_ROOT]:"Fall back to {type} '{key}' with root locale.",[li.NOT_FOUND_PARENT_SCOPE]:"Not found parent scope. use the global scope.",[li.IGNORE_OBJ_FLATTEN]:"Ignore object flatten: '{key}' key has an string value",[li.DEPRECATE_LEGACY_MODE]:`Legacy API mode has been deprecated in v11. Use Composition API mode instead.
About how to use the Composition API mode, see https://vue-i18n.intlify.dev/guide/advanced/composition.html`,[li.DEPRECATE_TRANSLATE_CUSTOME_DIRECTIVE]:"'v-t' has been deprecated in v11. Use translate APIs ('t' or '$t') instead.",[li.DUPLICATE_USE_I18N_CALLING]:"Duplicate `useI18n` calling by local scope. Please don't call it on local scope, due to it does not work properly in component."};function Gu(t,...e){return Mg(ere[t],...e)}function ed(t){if(!ot(t)||gi(t))return t;for(const e in t)if(Mi(t,e))if(!e.includes("."))ot(t[e])&&ed(t[e]);else{const n=e.split("."),r=n.length-1;let i=t,o=!1;for(let s=0;s<r;s++){if(n[s]==="__proto__")throw new Error(`unsafe key: ${n[s]}`);if(n[s]in i||(i[n[s]]=Ct()),!ot(i[n[s]])){go(Gu(li.IGNORE_OBJ_FLATTEN,{key:n[s]})),o=!0;break}i=i[n[s]]}if(o||(gi(i)?kD.includes(n[r])||delete t[e]:(i[n[r]]=t[e],delete t[e])),!gi(i)){const s=i[n[r]];ot(s)&&ed(s)}}return t}function bw(t,e){const{messages:n,__i18n:r,messageResolver:i,flatJson:o}=e,s=Ze(n)?n:Wt(r)?Ct():{[t]:Ct()};if(Wt(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:u}=a;l?(s[l]=s[l]||Ct(),Ap(u,s[l])):Ap(u,s)}else Ee(a)&&Ap(JSON.parse(a),s)}),i==null&&o)for(const a in s)Mi(s,a)&&ed(s[a]);return s}function ZD(t){return t.type}function JD(t,e,n){let r=ot(e.messages)?e.messages:Ct();"__i18nGlobal"in n&&(r=bw(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const i=Object.keys(r);i.length&&i.forEach(o=>{t.mergeLocaleMessage(o,r[o])});{if(ot(e.datetimeFormats)){const o=Object.keys(e.datetimeFormats);o.length&&o.forEach(s=>{t.mergeDateTimeFormat(s,e.datetimeFormats[s])})}if(ot(e.numberFormats)){const o=Object.keys(e.numberFormats);o.length&&o.forEach(s=>{t.mergeNumberFormat(s,e.numberFormats[s])})}}}function GC(t){return O(co,null,t,0)}const HC="__INTLIFY_META__",VC=()=>[],tre=()=>!1;let zC=0;function jC(t){return(e,n,r,i)=>t(n,r,yt()||void 0,i)}const nre=()=>{const t=yt();let e=null;return t&&(e=ZD(t)[HC])?{[HC]:e}:null};function xw(t={}){const{__root:e,__injectWithOption:n}=t,r=e===void 0,i=t.flatJson,o=Fi?Z:q0;let s=ut(t.inheritLocale)?t.inheritLocale:!0;const a=o(e&&s?e.locale.value:Ee(t.locale)?t.locale:Jf),l=o(e&&s?e.fallbackLocale.value:Ee(t.fallbackLocale)||Wt(t.fallbackLocale)||Ze(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:a.value),u=o(bw(a.value,t)),c=o(Ze(t.datetimeFormats)?t.datetimeFormats:{[a.value]:{}}),f=o(Ze(t.numberFormats)?t.numberFormats:{[a.value]:{}});let d=e?e.missingWarn:ut(t.missingWarn)||$u(t.missingWarn)?t.missingWarn:!0,h=e?e.fallbackWarn:ut(t.fallbackWarn)||$u(t.fallbackWarn)?t.fallbackWarn:!0,p=e?e.fallbackRoot:ut(t.fallbackRoot)?t.fallbackRoot:!0,y=!!t.fallbackFormat,v=At(t.missing)?t.missing:null,g=At(t.missing)?jC(t.missing):null,m=At(t.postTranslation)?t.postTranslation:null,_=e?e.warnHtmlMessage:ut(t.warnHtmlMessage)?t.warnHtmlMessage:!0,b=!!t.escapeParameter;const x=e?e.modifiers:Ze(t.modifiers)?t.modifiers:{};let w=t.pluralRules||e&&e.pluralRules,E;E=(()=>{r&&RC(null);const z={version:Zne,locale:a.value,fallbackLocale:l.value,messages:u.value,modifiers:x,pluralRules:w,missing:g===null?void 0:g,missingWarn:d,fallbackWarn:h,fallbackFormat:y,unresolving:!0,postTranslation:m===null?void 0:m,warnHtmlMessage:_,escapeParameter:b,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};z.datetimeFormats=c.value,z.numberFormats=f.value,z.__datetimeFormatters=Ze(E)?E.__datetimeFormatters:void 0,z.__numberFormatters=Ze(E)?E.__numberFormatters:void 0,z.__v_emitter=Ze(E)?E.__v_emitter:void 0;const ne=Nne(z);return r&&RC(ne),ne})(),Mc(E,a.value,l.value);function P(){return[a.value,l.value,u.value,c.value,f.value]}const C=re({get:()=>a.value,set:z=>{E.locale=z,a.value=z}}),A=re({get:()=>l.value,set:z=>{E.fallbackLocale=z,l.value=z,Mc(E,a.value,z)}}),T=re(()=>u.value),R=re(()=>c.value),N=re(()=>f.value);function G(){return At(m)?m:null}function k(z){m=z,E.postTranslation=z}function U(){return v}function W(z){z!==null&&(g=jC(z)),v=z,E.missing=g}function K(z,ne){return z!=="translate"||!ne.resolvedMessage}const fe=(z,ne,Ce,Ue,et,Dt)=>{P();let An;try{r||(E.fallbackContext=e?kne():void 0),An=z(E)}finally{r||(E.fallbackContext=void 0)}if(Ce!=="translate exists"&&cn(An)&&An===Bg||Ce==="translate exists"&&!An){const[vr,lh]=ne();if(e&&Ee(vr)&&K(Ce,lh)){p&&(kg(h,vr)||HD(d,vr))&&go(Gu(li.FALLBACK_TO_ROOT,{key:vr,type:Ce}));{const{__v_emitter:ds}=E;ds&&p&&ds.emit("fallback",{type:Ce,key:vr,to:"global",groupId:`${Ce}:${vr}`})}}return e&&p?Ue(e):et(vr)}else{if(Dt(An))return An;throw Mr(Pt.UNEXPECTED_RETURN_TYPE)}};function ce(...z){return fe(ne=>Reflect.apply(UC,null,[ne,...z]),()=>t_(...z),"translate",ne=>Reflect.apply(ne.t,ne,[...z]),ne=>ne,ne=>Ee(ne))}function X(...z){const[ne,Ce,Ue]=z;if(Ue&&!ot(Ue))throw Mr(Pt.INVALID_ARGUMENT);return ce(ne,Ce,Sn({resolvedMessage:!0},Ue||{}))}function ie(...z){return fe(ne=>Reflect.apply(BC,null,[ne,...z]),()=>Qy(...z),"datetime format",ne=>Reflect.apply(ne.d,ne,[...z]),()=>u0,ne=>Ee(ne)||Wt(ne))}function ge(...z){return fe(ne=>Reflect.apply(NC,null,[ne,...z]),()=>e_(...z),"number format",ne=>Reflect.apply(ne.n,ne,[...z]),()=>u0,ne=>Ee(ne)||Wt(ne))}function F(z){return z.map(ne=>Ee(ne)||cn(ne)||ut(ne)?GC(String(ne)):ne)}const L={normalize:F,interpolate:z=>z,type:"vnode"};function ee(...z){return fe(ne=>{let Ce;const Ue=ne;try{Ue.processor=L,Ce=Reflect.apply(UC,null,[Ue,...z])}finally{Ue.processor=null}return Ce},()=>t_(...z),"translate",ne=>ne[n_](...z),ne=>[GC(ne)],ne=>Wt(ne))}function J(...z){return fe(ne=>Reflect.apply(NC,null,[ne,...z]),()=>e_(...z),"number format",ne=>ne[i_](...z),VC,ne=>Ee(ne)||Wt(ne))}function de(...z){return fe(ne=>Reflect.apply(BC,null,[ne,...z]),()=>Qy(...z),"datetime format",ne=>ne[r_](...z),VC,ne=>Ee(ne)||Wt(ne))}function pe(z){w=z,E.pluralRules=w}function be(z,ne){return fe(()=>{if(!z)return!1;const Ce=Ee(ne)?ne:a.value,Ue=j(Ce),et=E.messageResolver(Ue,z);return gi(et)||ai(et)||Ee(et)},()=>[z],"translate exists",Ce=>Reflect.apply(Ce.te,Ce,[z,ne]),tre,Ce=>ut(Ce))}function I(z){let ne=null;const Ce=ND(E,l.value,a.value);for(let Ue=0;Ue<Ce.length;Ue++){const et=u.value[Ce[Ue]]||{},Dt=E.messageResolver(et,z);if(Dt!=null){ne=Dt;break}}return ne}function $(z){const ne=I(z);return ne??(e?e.tm(z)||{}:{})}function j(z){return u.value[z]||{}}function ae(z,ne){if(i){const Ce={[z]:ne};for(const Ue in Ce)Mi(Ce,Ue)&&ed(Ce[Ue]);ne=Ce[z]}u.value[z]=ne,E.messages=u.value}function ue(z,ne){u.value[z]=u.value[z]||{};const Ce={[z]:ne};if(i)for(const Ue in Ce)Mi(Ce,Ue)&&ed(Ce[Ue]);ne=Ce[z],Ap(ne,u.value[z]),E.messages=u.value}function M(z){return c.value[z]||{}}function B(z,ne){c.value[z]=ne,E.datetimeFormats=c.value,kC(E,z,ne)}function H(z,ne){c.value[z]=Sn(c.value[z]||{},ne),E.datetimeFormats=c.value,kC(E,z,ne)}function Q(z){return f.value[z]||{}}function le(z,ne){f.value[z]=ne,E.numberFormats=f.value,FC(E,z,ne)}function ye(z,ne){f.value[z]=Sn(f.value[z]||{},ne),E.numberFormats=f.value,FC(E,z,ne)}zC++,e&&Fi&&(ve(e.locale,z=>{s&&(a.value=z,E.locale=z,Mc(E,a.value,l.value))}),ve(e.fallbackLocale,z=>{s&&(l.value=z,E.fallbackLocale=z,Mc(E,a.value,l.value))}));const he={id:zC,locale:C,fallbackLocale:A,get inheritLocale(){return s},set inheritLocale(z){s=z,z&&e&&(a.value=e.locale.value,l.value=e.fallbackLocale.value,Mc(E,a.value,l.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:T,get modifiers(){return x},get pluralRules(){return w||{}},get isGlobal(){return r},get missingWarn(){return d},set missingWarn(z){d=z,E.missingWarn=d},get fallbackWarn(){return h},set fallbackWarn(z){h=z,E.fallbackWarn=h},get fallbackRoot(){return p},set fallbackRoot(z){p=z},get fallbackFormat(){return y},set fallbackFormat(z){y=z,E.fallbackFormat=y},get warnHtmlMessage(){return _},set warnHtmlMessage(z){_=z,E.warnHtmlMessage=z},get escapeParameter(){return b},set escapeParameter(z){b=z,E.escapeParameter=z},t:ce,getLocaleMessage:j,setLocaleMessage:ae,mergeLocaleMessage:ue,getPostTranslationHandler:G,setPostTranslationHandler:k,getMissingHandler:U,setMissingHandler:W,[KD]:pe};return he.datetimeFormats=R,he.numberFormats=N,he.rt=X,he.te=be,he.tm=$,he.d=ie,he.n=ge,he.getDateTimeFormat=M,he.setDateTimeFormat=B,he.mergeDateTimeFormat=H,he.getNumberFormat=Q,he.setNumberFormat=le,he.mergeNumberFormat=ye,he[qD]=n,he[n_]=ee,he[r_]=de,he[i_]=J,he[hl]=z=>{E.__v_emitter=z},he[Qf]=()=>{E.__v_emitter=void 0},he}const QD="vue-i18n: composer properties",Km={"vue-devtools-plugin-vue-i18n":"Vue I18n DevTools","vue-i18n-resource-inspector":"Vue I18n DevTools","vue-i18n-timeline":"Vue I18n"},rre={"vue-i18n-resource-inspector":"Search for scopes ..."},ire={"vue-i18n-timeline":16764185};let s_;async function ore(t,e){return new Promise((n,r)=>{try{hg({id:"vue-devtools-plugin-vue-i18n",label:Km["vue-devtools-plugin-vue-i18n"],packageName:"vue-i18n",homepage:"https://vue-i18n.intlify.dev",logo:"https://vue-i18n.intlify.dev/vue-i18n-devtools-logo.png",componentStateTypes:[QD],app:t},i=>{s_=i,i.on.visitComponentTree(({componentInstance:s,treeNode:a})=>{sre(s,a,e)}),i.on.inspectComponent(({componentInstance:s,instanceData:a})=>{s.vnode.el&&s.vnode.el.__VUE_I18N__&&a&&(e.mode==="legacy"?s.vnode.el.__VUE_I18N__!==e.global.__composer&&WC(a,s.vnode.el.__VUE_I18N__):WC(a,s.vnode.el.__VUE_I18N__))}),i.addInspector({id:"vue-i18n-resource-inspector",label:Km["vue-i18n-resource-inspector"],icon:"language",treeFilterPlaceholder:rre["vue-i18n-resource-inspector"]}),i.on.getInspectorTree(s=>{s.app===t&&s.inspectorId==="vue-i18n-resource-inspector"&&fre(s,e)});const o=new Map;i.on.getInspectorState(async s=>{if(s.app===t&&s.inspectorId==="vue-i18n-resource-inspector")if(i.unhighlightElement(),hre(s,e),s.nodeId==="global"){if(!o.has(s.app)){const[a]=await i.getComponentInstances(s.app);o.set(s.app,a)}i.highlightElement(o.get(s.app))}else{const a=dre(s.nodeId,e);a&&i.highlightElement(a)}}),i.on.editInspectorState(s=>{s.app===t&&s.inspectorId==="vue-i18n-resource-inspector"&&gre(s,e)}),i.addTimelineLayer({id:"vue-i18n-timeline",label:Km["vue-i18n-timeline"],color:ire["vue-i18n-timeline"]}),n(!0)})}catch(i){console.error(i),r(!1)}})}function eB(t){return t.type.name||t.type.displayName||t.type.__file||"Anonymous"}function sre(t,e,n){const r=n.mode==="composition"?n.global:n.global.__composer;if(t&&t.vnode.el&&t.vnode.el.__VUE_I18N__&&t.vnode.el.__VUE_I18N__!==r){const i={label:`i18n (${eB(t)} Scope)`,textColor:0,backgroundColor:16764185};e.tags.push(i)}}function WC(t,e){const n=QD;t.state.push({type:n,key:"locale",editable:!0,value:e.locale.value}),t.state.push({type:n,key:"availableLocales",editable:!1,value:e.availableLocales}),t.state.push({type:n,key:"fallbackLocale",editable:!0,value:e.fallbackLocale.value}),t.state.push({type:n,key:"inheritLocale",editable:!0,value:e.inheritLocale}),t.state.push({type:n,key:"messages",editable:!1,value:ww(e.messages.value)}),t.state.push({type:n,key:"datetimeFormats",editable:!1,value:e.datetimeFormats.value}),t.state.push({type:n,key:"numberFormats",editable:!1,value:e.numberFormats.value})}function ww(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];At(r)&&"source"in r?e[n]=cre(r):gi(r)&&r.loc&&r.loc.source?e[n]=r.loc.source:ot(r)?e[n]=ww(r):e[n]=r}),e}const are={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"};function lre(t){return t.replace(/[<>"&]/g,ure)}function ure(t){return are[t]||t}function cre(t){return{_custom:{type:"function",display:`<span>ƒ</span> ${t.source?`("${lre(t.source)}")`:"(?)"}`}}}function fre(t,e){t.rootNodes.push({id:"global",label:"Global Scope"});const n=e.mode==="composition"?e.global:e.global.__composer;for(const[r,i]of e.__instances){const o=e.mode==="composition"?i:i.__composer;n!==o&&t.rootNodes.push({id:o.id.toString(),label:`${eB(r)} Scope`})}}function dre(t,e){let n=null;if(t!=="global"){for(const[r,i]of e.__instances.entries())if(i.id.toString()===t){n=r;break}}return n}function tB(t,e){if(t==="global")return e.mode==="composition"?e.global:e.global.__composer;{const n=Array.from(e.__instances.values()).find(r=>r.id.toString()===t);return n?e.mode==="composition"?n:n.__composer:null}}function hre(t,e){const n=tB(t.nodeId,e);return n&&(t.state=pre(n)),null}function pre(t){const e={},n="Locale related info",r=[{type:n,key:"locale",editable:!0,value:t.locale.value},{type:n,key:"fallbackLocale",editable:!0,value:t.fallbackLocale.value},{type:n,key:"availableLocales",editable:!1,value:t.availableLocales},{type:n,key:"inheritLocale",editable:!0,value:t.inheritLocale}];e[n]=r;const i="Locale messages info",o=[{type:i,key:"messages",editable:!1,value:ww(t.messages.value)}];e[i]=o;{const s="Datetime formats info",a=[{type:s,key:"datetimeFormats",editable:!1,value:t.datetimeFormats.value}];e[s]=a;const l="Datetime formats info",u=[{type:l,key:"numberFormats",editable:!1,value:t.numberFormats.value}];e[l]=u}return e}function td(t,e){if(s_){let n;e&&"groupId"in e&&(n=e.groupId,delete e.groupId),s_.addTimelineEvent({layerId:"vue-i18n-timeline",event:{title:t,groupId:n,time:Date.now(),meta:{},data:e||{},logType:t==="compile-error"?"error":t==="fallback"||t==="missing"?"warning":"default"}})}}function gre(t,e){const n=tB(t.nodeId,e);if(n){const[r]=t.path;r==="locale"&&Ee(t.state.value)?n.locale.value=t.state.value:r==="fallbackLocale"&&(Ee(t.state.value)||Wt(t.state.value)||ot(t.state.value))?n.fallbackLocale.value=t.state.value:r==="inheritLocale"&&ut(t.state.value)&&(n.inheritLocale=t.state.value)}}function mre(t){const e=Ee(t.locale)?t.locale:Jf,n=Ee(t.fallbackLocale)||Wt(t.fallbackLocale)||Ze(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,r=At(t.missing)?t.missing:void 0,i=ut(t.silentTranslationWarn)||$u(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,o=ut(t.silentFallbackWarn)||$u(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,s=ut(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=Ze(t.modifiers)?t.modifiers:{},u=t.pluralizationRules,c=At(t.postTranslation)?t.postTranslation:void 0,f=Ee(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,d=!!t.escapeParameterHtml,h=ut(t.sync)?t.sync:!0;let p=t.messages;if(Ze(t.sharedMessages)){const x=t.sharedMessages;p=Object.keys(x).reduce((E,S)=>{const P=E[S]||(E[S]={});return Sn(P,x[S]),E},p||{})}const{__i18n:y,__root:v,__injectWithOption:g}=t,m=t.datetimeFormats,_=t.numberFormats,b=t.flatJson;return{locale:e,fallbackLocale:n,messages:p,flatJson:b,datetimeFormats:m,numberFormats:_,missing:r,missingWarn:i,fallbackWarn:o,fallbackRoot:s,fallbackFormat:a,modifiers:l,pluralRules:u,postTranslation:c,warnHtmlMessage:f,escapeParameter:d,messageResolver:t.messageResolver,inheritLocale:h,__i18n:y,__root:v,__injectWithOption:g}}function a_(t={}){const e=xw(mre(t)),{__extender:n}=t,r={id:e.id,get locale(){return e.locale.value},set locale(i){e.locale.value=i},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(i){e.fallbackLocale.value=i},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get missing(){return e.getMissingHandler()},set missing(i){e.setMissingHandler(i)},get silentTranslationWarn(){return ut(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(i){e.missingWarn=ut(i)?!i:i},get silentFallbackWarn(){return ut(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(i){e.fallbackWarn=ut(i)?!i:i},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(i){e.fallbackFormat=i},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(i){e.setPostTranslationHandler(i)},get sync(){return e.inheritLocale},set sync(i){e.inheritLocale=i},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){e.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(i){e.escapeParameter=i},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...i){return Reflect.apply(e.t,e,[...i])},rt(...i){return Reflect.apply(e.rt,e,[...i])},te(i,o){return e.te(i,o)},tm(i){return e.tm(i)},getLocaleMessage(i){return e.getLocaleMessage(i)},setLocaleMessage(i,o){e.setLocaleMessage(i,o)},mergeLocaleMessage(i,o){e.mergeLocaleMessage(i,o)},d(...i){return Reflect.apply(e.d,e,[...i])},getDateTimeFormat(i){return e.getDateTimeFormat(i)},setDateTimeFormat(i,o){e.setDateTimeFormat(i,o)},mergeDateTimeFormat(i,o){e.mergeDateTimeFormat(i,o)},n(...i){return Reflect.apply(e.n,e,[...i])},getNumberFormat(i){return e.getNumberFormat(i)},setNumberFormat(i,o){e.setNumberFormat(i,o)},mergeNumberFormat(i,o){e.mergeNumberFormat(i,o)}};return r.__extender=n,r.__enableEmitter=i=>{const o=e;o[hl]&&o[hl](i)},r.__disableEmitter=()=>{const i=e;i[Qf]&&i[Qf]()},r}function vre(t,e,n){return{beforeCreate(){const r=yt();if(!r)throw Mr(Pt.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const o=i.i18n;if(i.__i18n&&(o.__i18n=i.__i18n),o.__root=e,this===this.$root)this.$i18n=YC(t,o);else{o.__injectWithOption=!0,o.__extender=n.__vueI18nExtend,this.$i18n=a_(o);const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=YC(t,i);else{this.$i18n=a_({__i18n:i.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}else this.$i18n=t;i.__i18nGlobal&&JD(e,i,i),this.$t=(...o)=>this.$i18n.t(...o),this.$rt=(...o)=>this.$i18n.rt(...o),this.$te=(o,s)=>this.$i18n.te(o,s),this.$d=(...o)=>this.$i18n.d(...o),this.$n=(...o)=>this.$i18n.n(...o),this.$tm=o=>this.$i18n.tm(o),n.__setInstance(r,this.$i18n)},mounted(){if(this.$el&&this.$i18n){const r=this.$i18n;this.$el.__VUE_I18N__=r.__composer;const i=this.__v_emitter=gw();r.__enableEmitter&&r.__enableEmitter(i),i.on("*",td)}},unmounted(){const r=yt();if(!r)throw Mr(Pt.UNEXPECTED_ERROR);const i=this.$i18n;this.$el&&this.$el.__VUE_I18N__&&(this.__v_emitter&&(this.__v_emitter.off("*",td),delete this.__v_emitter),this.$i18n&&(i.__disableEmitter&&i.__disableEmitter(),delete this.$el.__VUE_I18N__)),delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),n.__deleteInstance(r),delete this.$i18n}}}function YC(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[KD](e.pluralizationRules||t.pluralizationRules);const n=bw(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(r=>t.mergeLocaleMessage(r,n[r])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(r=>t.mergeDateTimeFormat(r,e.datetimeFormats[r])),e.numberFormats&&Object.keys(e.numberFormats).forEach(r=>t.mergeNumberFormat(r,e.numberFormats[r])),t}const Ew={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function yre({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,i)=>[...r,...i.type===Ft?i.children:[i]],[]):e.reduce((n,r)=>{const i=t[r];return i&&(n[r]=i()),n},Ct())}function nB(){return Ft}const _re=we({name:"i18n-t",props:Sn({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>cn(t)||!isNaN(t)}},Ew),setup(t,e){const{slots:n,attrs:r}=e,i=t.i18n||Sw({useScope:t.scope,__useComponent:!0});return()=>{const o=Object.keys(n).filter(f=>f[0]!=="_"),s=Ct();t.locale&&(s.locale=t.locale),t.plural!==void 0&&(s.plural=Ee(t.plural)?+t.plural:t.plural);const a=yre(e,o),l=i[n_](t.keypath,a,s),u=Sn(Ct(),r),c=Ee(t.tag)||ot(t.tag)?t.tag:nB();return Mn(c,u,l)}}}),XC=_re;function bre(t){return Wt(t)&&!Ee(t[0])}function rB(t,e,n,r){const{slots:i,attrs:o}=e;return()=>{const s={part:!0};let a=Ct();t.locale&&(s.locale=t.locale),Ee(t.format)?s.key=t.format:ot(t.format)&&(Ee(t.format.key)&&(s.key=t.format.key),a=Object.keys(t.format).reduce((d,h)=>n.includes(h)?Sn(Ct(),d,{[h]:t.format[h]}):d,Ct()));const l=r(t.value,s,a);let u=[s.key];Wt(l)?u=l.map((d,h)=>{const p=i[d.type],y=p?p({[d.type]:d.value,index:h,parts:l}):[d.value];return bre(y)&&(y[0].key=`${d.type}-${h}`),y}):Ee(l)&&(u=[l]);const c=Sn(Ct(),o),f=Ee(t.tag)||ot(t.tag)?t.tag:nB();return Mn(f,c,u)}}const xre=we({name:"i18n-n",props:Sn({value:{type:Number,required:!0},format:{type:[String,Object]}},Ew),setup(t,e){const n=t.i18n||Sw({useScope:t.scope,__useComponent:!0});return rB(t,e,WD,(...r)=>n[i_](...r))}}),KC=xre;function wre(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function Ere(t){const e=s=>{dw(Gu(li.DEPRECATE_TRANSLATE_CUSTOME_DIRECTIVE));const{instance:a,value:l}=s;if(!a||!a.$)throw Mr(Pt.UNEXPECTED_ERROR);const u=wre(t,a.$),c=qC(l);return[Reflect.apply(u.t,u,[...ZC(c)]),u]};return{created:(s,a)=>{const[l,u]=e(a);Fi&&t.global===u&&(s.__i18nWatcher=ve(u.locale,()=>{a.instance&&a.instance.$forceUpdate()})),s.__composer=u,s.textContent=l},unmounted:s=>{Fi&&s.__i18nWatcher&&(s.__i18nWatcher(),s.__i18nWatcher=void 0,delete s.__i18nWatcher),s.__composer&&(s.__composer=void 0,delete s.__composer)},beforeUpdate:(s,{value:a})=>{if(s.__composer){const l=s.__composer,u=qC(a);s.textContent=Reflect.apply(l.t,l,[...ZC(u)])}},getSSRProps:s=>{const[a]=e(s);return{textContent:a}}}}function qC(t){if(Ee(t))return{path:t};if(Ze(t)){if(!("path"in t))throw Mr(Pt.REQUIRED_VALUE,"path");return t}else throw Mr(Pt.INVALID_VALUE)}function ZC(t){const{path:e,locale:n,args:r,choice:i,plural:o}=t,s={},a=r||{};return Ee(n)&&(s.locale=n),cn(i)&&(s.plural=i),cn(o)&&(s.plural=o),[e,a,s]}function Sre(t,e,...n){const r=Ze(n[0])?n[0]:{};(ut(r.globalInstall)?r.globalInstall:!0)&&([XC.name,"I18nT"].forEach(o=>t.component(o,XC)),[KC.name,"I18nN"].forEach(o=>t.component(o,KC)),[QC.name,"I18nD"].forEach(o=>t.component(o,QC))),t.directive("t",Ere(e))}const Cre=wo("global-vue-i18n");function jTe(t={}){const e=__VUE_I18N_LEGACY_API__&&ut(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__;e&&dw(Gu(li.DEPRECATE_LEGACY_MODE));const n=ut(t.globalInjection)?t.globalInjection:!0,r=new Map,[i,o]=Are(t,e),s=wo("vue-i18n");function a(f){return r.get(f)||null}function l(f,d){r.set(f,d)}function u(f){r.delete(f)}const c={get mode(){return __VUE_I18N_LEGACY_API__&&e?"legacy":"composition"},async install(f,...d){if(f.__VUE_I18N__=c,f.__VUE_I18N_SYMBOL__=s,f.provide(f.__VUE_I18N_SYMBOL__,c),Ze(d[0])){const y=d[0];c.__composerExtend=y.__composerExtend,c.__vueI18nExtend=y.__vueI18nExtend}let h=null;!e&&n&&(h=Bre(f,c.global)),__VUE_I18N_FULL_INSTALL__&&Sre(f,c,...d),__VUE_I18N_LEGACY_API__&&e&&f.mixin(vre(o,o.__composer,c));const p=f.unmount;f.unmount=()=>{h&&h(),c.dispose(),p()};{if(!await ore(f,c))throw Mr(Pt.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN);const v=gw();if(e){const g=o;g.__enableEmitter&&g.__enableEmitter(v)}else{const g=o;g[hl]&&g[hl](v)}v.on("*",td)}},get global(){return o},dispose(){i.stop()},__instances:r,__getInstance:a,__setInstance:l,__deleteInstance:u};return c}function Sw(t={}){const e=yt();if(e==null)throw Mr(Pt.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Mr(Pt.NOT_INSTALLED);const n=Tre(e),r=Ire(n),i=ZD(e),o=Pre(t,i);if(o==="global")return JD(r,t,i),r;if(o==="parent"){let l=Ore(n,e,t.__useComponent);return l==null&&(go(Gu(li.NOT_FOUND_PARENT_SCOPE)),l=r),l}const s=n;let a=s.__getInstance(e);if(a==null){const l=Sn({},t);"__i18n"in i&&(l.__i18n=i.__i18n),r&&(l.__root=r),a=xw(l),s.__composerExtend&&(a[o_]=s.__composerExtend(a)),Mre(s,e,a),s.__setInstance(e,a)}else o==="local"&&go(Gu(li.DUPLICATE_USE_I18N_CALLING));return a}function Are(t,e){const n=bd(),r=__VUE_I18N_LEGACY_API__&&e?n.run(()=>a_(t)):n.run(()=>xw(t));if(r==null)throw Mr(Pt.UNEXPECTED_ERROR);return[n,r]}function Tre(t){const e=dn(t.isCE?Cre:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Mr(t.isCE?Pt.NOT_INSTALLED_WITH_PROVIDE:Pt.UNEXPECTED_ERROR);return e}function Pre(t,e){return Dg(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function Ire(t){return t.mode==="composition"?t.global:t.global.__composer}function Ore(t,e,n=!1){let r=null;const i=e.root;let o=Rre(e,n);for(;o!=null;){const s=t;if(t.mode==="composition")r=s.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const a=s.__getInstance(o);a!=null&&(r=a.__composer,n&&r&&!r[qD]&&(r=null))}if(r!=null||i===o)break;o=o.parent}return r}function Rre(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function Mre(t,e,n){let r=null;Ht(()=>{if(e.vnode.el){e.vnode.el.__VUE_I18N__=n,r=gw();const i=n;i[hl]&&i[hl](r),r.on("*",td)}},e),cs(()=>{const i=n;e.vnode.el&&e.vnode.el.__VUE_I18N__&&(r&&r.off("*",td),i[Qf]&&i[Qf](),delete e.vnode.el.__VUE_I18N__),t.__deleteInstance(e);const o=i[o_];o&&(o(),delete i[o_])},e)}const Dre=["locale","fallbackLocale","availableLocales"],JC=["t","rt","d","n","tm","te"];function Bre(t,e){const n=Object.create(null);return Dre.forEach(i=>{const o=Object.getOwnPropertyDescriptor(e,i);if(!o)throw Mr(Pt.UNEXPECTED_ERROR);const s=pt(o.value)?{get(){return o.value.value},set(a){o.value.value=a}}:{get(){return o.get&&o.get()}};Object.defineProperty(n,i,s)}),t.config.globalProperties.$i18n=n,JC.forEach(i=>{const o=Object.getOwnPropertyDescriptor(e,i);if(!o||!o.value)throw Mr(Pt.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,o)}),()=>{delete t.config.globalProperties.$i18n,JC.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}const kre=we({name:"i18n-d",props:Sn({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Ew),setup(t,e){const n=t.i18n||Sw({useScope:t.scope,__useComponent:!0});return rB(t,e,jD,(...r)=>n[r_](...r))}}),QC=kre;Jne();One(lne);Rne(Cne);Mne(ND);{const t=Ua();t.__INTLIFY__=!0,une(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}var WTe={name:"Name",tel:"Phone",save:"Save",clear:"Clear",cancel:"Cancel",confirm:"Confirm",delete:"Delete",loading:"Loading...",noCoupon:"No coupons",nameEmpty:"Please fill in the name",addContact:"Add contact",telInvalid:"Malformed phone number",vanCalendar:{end:"End",start:"Start",title:"Calendar",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthTitle:(t,e)=>`${t}/${e}`,rangePrompt:t=>`Choose no more than ${t} days`},vanCascader:{select:"Select"},vanPagination:{prev:"Previous",next:"Next"},vanPullRefresh:{pulling:"Pull to refresh...",loosing:"Loose to refresh..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Unlimited",discount:t=>`${t*10}% off`,condition:t=>`At least ${t}`},vanCouponCell:{title:"Coupon",count:t=>`You have ${t} coupons`},vanCouponList:{exchange:"Exchange",close:"Close",enable:"Available",disabled:"Unavailable",placeholder:"Coupon code"},vanAddressEdit:{area:"Area",areaEmpty:"Please select a receiving area",addressEmpty:"Address can not be empty",addressDetail:"Address",defaultAddress:"Set as the default address"},vanAddressList:{add:"Add new address"}},YTe={name:"Имя",tel:"Телефон",save:"Сохранить",clear:"Прозрачный",cancel:"Отмена",confirm:"Подтвердить",delete:"Удалить",loading:"Загрузка...",noCoupon:"Нет купонов",nameEmpty:"Пожалуйста укажите имя",addContact:"Создать контакт",telInvalid:"Некорректный номер телефона",vanCalendar:{end:"Конец",start:"Начало",title:"Календарь",weekdays:["ВС","ПН","ВТ","СР","ЧТ","ПТ","СБ"],monthTitle:(t,e)=>`${t}/${e}`,rangePrompt:t=>`Укажите более ${t} дней`},vanCascader:{select:"Выбрать"},vanPagination:{prev:"Назад",next:"Вперед"},vanPullRefresh:{pulling:"Потяните для обновления...",loosing:"Отпустите для обновления..."},vanSubmitBar:{label:"Всего:"},vanCoupon:{unlimited:"Безлимитный",discount:t=>`${t*10}% скидка`,condition:t=>`Как минимум ${t}`},vanCouponCell:{title:"Купон",count:t=>`У вас есть ${t} купонов`},vanCouponList:{exchange:"Обмен",close:"Закрыть",enable:"Доступно",disabled:"Недоступно",placeholder:"Код купона"},vanAddressEdit:{area:"Область",areaEmpty:"Укажите зону доставки",addressEmpty:"Адрес не может быть пустым",addressDetail:"Адрес",defaultAddress:"Сделать адресом по умолчанию"},vanAddressList:{add:"Новый адрес"}},XTe={name:"tên",tel:"Điện thoại",save:"Cứu",clear:"Thông thoáng",cancel:"Hủy bỏ",confirm:"Xác nhận",delete:"Xóa",loading:"Đang tải ...",noCoupon:"Không có phiếu giảm giá",nameEmpty:"Vui lòng điền vào tên",addContact:"Thêm liên hệ",telInvalid:"Số điện thoại không đúng định dạng",vanCalendar:{end:"Kết thúc",start:"Bắt ​​đầu",title:"Lịch",weekdays:["chủ nhật","thứ hai","thứ ba","Thứ Tư","Thứ năm","Thứ sáu","thứ bảy"],monthTitle:(t,e)=>`${t}/${e}`,rangePrompt:t=>`Chọn không quá ${t} ngày`},vanCascader:{select:"Chọn"},vanPagination:{prev:"Trước đó",next:"Tiếp theo"},vanPullRefresh:{pulling:"Kéo để làm mới ...",loosing:"Loose để làm mới ..."},vanSubmitBar:{label:"Tổng:"},vanCoupon:{unlimited:"Không giới hạn",discount:t=>`Chiết khấu ${t*10}%`,condition:t=>`Ít nhất ${t}`},vanCouponCell:{title:"Phiếu giảm giá",count:t=>`Bạn có ${t} phiếu giảm giá`},vanCouponList:{exchange:"Trao đổi",close:"Đóng",enable:"Có sẵn",disabled:"Không khả dụng",placeholder:"Mã phiếu thưởng"},vanAddressEdit:{area:"Khu vực",areaEmpty:"Vui lòng chọn khu vực nhận hàng",addressEmpty:"Địa chỉ không được để trống",addressDetail:"Địa chỉ",defaultAddress:"Đặt làm địa chỉ mặc định"},vanAddressList:{add:"Thêm địa chỉ mới"}},KTe={name:"Nama",tel:"Telepon",save:"Simpan",clear:"Jernih",cancel:"Batal",confirm:"Konfirmasi",delete:"Hapus",loading:"Memuat...",noCoupon:"Tidak ada kupon",nameEmpty:"Silakan isi nama",addContact:"Tambahkan kontak",telInvalid:"Nomor telepon salah format",vanCalendar:{end:"Akhir",start:"Mulai",title:"Kalender",weekdays:["minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],monthTitle:(t,e)=>`${t}/${e}`,rangePrompt:t=>`Pilih tidak lebih dari ${t} hari`},vanCascader:{select:"Pilih"},vanPagination:{prev:"Sebelumnya",next:"Selanjutnya"},vanPullRefresh:{pulling:"Tarik untuk menyegarkan...",loosing:"Loose untuk menyegarkan..."},vanSubmitBar:{label:"Jumlah:"},vanCoupon:{unlimited:"Tidak terbatas",discount:t=>`${t*10}% off`,condition:t=>`Setidaknya ${t}`},vanCouponCell:{title:"Kupon",count:t=>`Anda memiliki kupon ${t}`},vanCouponList:{exchange:"Pertukaran",close:"Tutup",enable:"Tersedia",disabled:"Tidak tersedia",placeholder:"Kode kupon"},vanAddressEdit:{area:"Daerah",areaEmpty:"Silakan pilih area penerima",addressEmpty:"Alamat tidak boleh kosong",addressDetail:"Alamat",defaultAddress:"Tetapkan sebagai alamat default"},vanAddressList:{add:"Tambahkan alamat baru"}},qTe={name:"नाम",tel:"फ़ोन",save:"सहेजें",clear:"साफ़",cancel:"रद्द करें",confirm:"पुष्टि करना",delete:"हटाएं",loading:"लोड हो रहा है...",noCoupon:"कोई कूपन नहीं",nameEmpty:"कृपया नाम भरें",addContact:"संपर्क जोड़ें",telInvalid:"विकृत फ़ोन नंबर",vanCalendar:{end:"समाप्त",start:"शुरू",title:"पंचांग",weekdays:["रविवार","सोमवार","मंगलवार","बुधवार","गुरूवार","शुक्रवार","शनिवार"],monthTitle:(t,e)=>`${t}/${e}`,rangePrompt:t=>`${t} दिन से अधिक नहीं चुनें`},vanCascader:{select:"चुनते हैं"},vanPagination:{prev:"पहले का",next:"अगला"},vanPullRefresh:{pulling:"रीफ़्रेश करने के लिए खींचें...",loosing:"ताज़ा करने के लिए ढीला..."},vanSubmitBar:{label:"कुल:"},vanCoupon:{unlimited:"असीमित",discount:t=>`${t*10}% छूट`,condition:t=>`कम से कम ${t}`},vanCouponCell:{title:"कूपन",count:t=>`आपके पास ${t} कूपन हैं`},vanCouponList:{exchange:"अदला बदली",close:"बंद करे",enable:"उपलब्ध",disabled:"अनुपलब्ध",placeholder:"कूपन कोड"},vanAddressEdit:{area:"क्षेत्र",areaEmpty:"कृपया एक क्षेत्र चुनें",addressEmpty:"पता खाली नहीं हो सकता",addressDetail:"पता",defaultAddress:"डिफ़ॉल्ट पते के रूप में सेट करें"},vanAddressList:{add:"नया पता जोड़ें"}},ZTe={name:"ชื่อ",tel:"โทรศัพท์",save:"บันทึก",clear:"ชัดเจน",cancel:"ยกเลิก",confirm:"ยืนยัน",delete:"ลบ",loading:"กำลังโหลด...",noCoupon:"ไม่มีคูปอง",nameEmpty:"กรุณากรอกชื่อของคุณ",addContact:"เพิ่มผู้ติดต่อ",telInvalid:"กรุณากรอกหมายเลขโทรศัพท์ที่ถูกต้อง",vanCalendar:{end:"จบ",start:"เริ่ม",title:"การเลือกวันที่",weekdays:["อา","จ","อ","พ","พฤ","ศ","ส"],monthTitle:(t,e)=>`${t}ปี${e}เดือน`,rangePrompt:t=>`จำนวนวันที่เลือกต้องไม่เกิน ${t} วัน`},vanCascader:{select:"โปรดเลือก"},vanPagination:{prev:"หน้าที่แล้ว",next:"หน้าต่อไป"},vanPullRefresh:{pulling:"ดึงลงเพื่อรีเฟรช...",loosing:"ปล่อยเพื่อรีเฟรช..."},vanSubmitBar:{label:"รวม:"},vanCoupon:{unlimited:"ไม่ จำกัด",discount:t=>`ลด${t}`,condition:t=>`มีจำหน่ายในราคา ${t} กว่าหยวน`},vanCouponCell:{title:"คูปอง",count:t=>`มีรูปภาพ ${t} รูป`},vanCouponList:{exchange:"แลกเปลี่ยน",close:"ไม่ได้ใช้",enable:"พร้อมใช้งาน",disabled:"ไม่พร้อมใช้งาน",placeholder:"กรุณากรอกรหัสคูปอง"},vanAddressEdit:{area:"พื้นที่",areaEmpty:"โปรดเลือกภูมิภาค",addressEmpty:"กรุณากรอกที่อยู่โดยละเอียด",addressDetail:"ที่อยู่",defaultAddress:"ตั้งเป็นที่อยู่จัดส่งเริ่มต้น"},vanAddressList:{add:"เพิ่มที่อยู่"}},JTe={name:"Nome",tel:"Fone",save:"Salvar",clear:"Claro",cancel:"Cancelar",confirm:"Confirmar",delete:"Excluir",loading:"Carregando...",noCoupon:"Nenhum cupom",nameEmpty:"Por favor, preencha o nome",addContact:"Adicionar novo contato",telInvalid:"Telefone em formato inválido",vanCalendar:{end:"Fim",start:"Início",title:"Calendário",weekdays:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],monthTitle:(t,e)=>`${e}/${t}`,rangePrompt:t=>`Escolha no máximo ${t} dias`},vanCascader:{select:"Selecione"},vanPagination:{prev:"Anterior",next:"Próximo"},vanPullRefresh:{pulling:"Puxe para atualizar...",loosing:"Solte para atualizar..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Ilimitado",discount:t=>`${t*10}% de desconto`,condition:t=>`Pelo menos ${t}`},vanCouponCell:{title:"Cupom",count:t=>`Você possui ${t} cupom(ns)`},vanCouponList:{exchange:"Usar",close:"Fechar",enable:"Disponível",disabled:"Indisponível",placeholder:"Código do cupom"},vanAddressEdit:{area:"Área",areaEmpty:"Por favor, selecione uma área de recebimento",addressEmpty:"Endereço não pode ser vazio",addressDetail:"Endereço",defaultAddress:"Usar como endereço padrão"},vanAddressList:{add:"Adicionar novo endereço"}},QTe={name:"নাম",tel:"ফোন",save:"সংরক্ষণ করুন",clear:"পরিষ্কার",cancel:"বাতিল",confirm:"নিশ্চিত করুন",delete:"মুছুন",loading:"লোড হচ্ছে...",noCoupon:"কোন কুপন নেই",nameEmpty:"অনুগ্রহ করে নামটি পূরণ করুন",addContact:"যোগাযোগ যোগ করুন",telInvalid:"বিকৃত ফোন নম্বর",vanCalendar:{end:"শেষ",start:"শুরু",title:"ক্যালেন্ডার",weekdays:["রবিবার","সোমবার","মঙ্গলবার","বুধবার","বৃহস্পতিবার","শুক্রবার","শনিবার"],monthTitle:(t,e)=>`${t}/${e}`,rangePrompt:t=>`${t} দিনের বেশি নির্বাচন করবেন না`},vanCascader:{select:"নির্বাচন"},vanPagination:{prev:"পূর্ববর্তী",next:"পরবর্তী"},vanPullRefresh:{pulling:"রিফ্রেশ করতে টানুন...",loosing:"রিফ্রেশ করতে আলগা..."},vanSubmitBar:{label:"মোট:"},vanCoupon:{unlimited:"আনলিমিটেড",discount:t=>`${t*10}% ছাড়`,condition:t=>`অন্তত ${t}`},vanCouponCell:{title:"কুপন",count:t=>`আপনার ${t} কুপন আছে`},vanCouponList:{exchange:"বিনিময়",close:"বন্ধ",enable:"উপলভ্য",disabled:"অনুপলব্ধ",placeholder:"কুপন কোড"},vanAddressEdit:{area:"এরিয়া",areaEmpty:"অনুগ্রহ করে একটি রিসিভিং এলাকা নির্বাচন করুন",addressEmpty:"ঠিকানা খালি হতে পারে না",addressDetail:"ঠিকানা",defaultAddress:"ডিফল্ট ঠিকানা হিসাবে সেট করুন"},vanAddressList:{add:"নতুন ঠিকানা যোগ করুন"}},ePe={name:"الاسم",tel:"الهاتف",save:"حفظ",clear:"مسح",cancel:"إلغاء",confirm:"تأكيد",delete:"حذف",loading:"جار التحميل...",noCoupon:"لا يوجد كوبونات",nameEmpty:"يرجى ملء الاسم",addContact:"إضافة جهة اتصال",telInvalid:"رقم الهاتف غير صحيح",vanCalendar:{end:"نهاية",start:"بداية",title:"التقويم",weekdays:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],monthTitle:(t,e)=>`${t}/${e}`,rangePrompt:t=>`اختر لا يزيد عن ${t} أيام`},vanCascader:{select:"اختر"},vanPagination:{prev:"السابق",next:"التالي"},vanPullRefresh:{pulling:"اسحب للتحديث...",loosing:"أفلت للتحديث..."},vanSubmitBar:{label:"المجموع:"},vanCoupon:{unlimited:"غير محدود",discount:t=>`${t*10}% خصم`,condition:t=>`على الأقل ${t}`},vanCouponCell:{title:"كوبون",count:t=>`لديك ${t} كوبونات`},vanCouponList:{exchange:"استبدال",close:"إغلاق",enable:"متاح",disabled:"غير متاح",placeholder:"كود الكوبون"},vanAddressEdit:{area:"المنطقة",areaEmpty:"يرجى اختيار منطقة استقبال",addressEmpty:"العنوان لا يمكن أن يكون فارغًا",addressDetail:"العنوان",defaultAddress:"تعيين كعنوان افتراضي"},vanAddressList:{add:"إضافة عنوان جديد"}};function ea(t){return xd()?(kb(t),!0):!1}function tPe(t){let e=!1,n;const r=bd(!0);return(...i)=>(e||(n=r.run(()=>t(...i)),e=!0),n)}function pr(t){return typeof t=="function"?t():dr(t)}const ta=typeof window<"u"&&typeof document<"u",nPe=typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope,Nre=t=>typeof t<"u",Fre=t=>t!=null,Lre=Object.prototype.toString,$re=t=>Lre.call(t)==="[object Object]",Vr=()=>{},l_=Ure();function Ure(){var t,e;return ta&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function Cw(t,e){function n(...r){return new Promise((i,o)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(o)})}return n}const iB=t=>t();function oB(t,e={}){let n,r,i=Vr;const o=a=>{clearTimeout(a),i(),i=Vr};return a=>{const l=pr(t),u=pr(e.maxWait);return n&&o(n),l<=0||u!==void 0&&u<=0?(r&&(o(r),r=null),Promise.resolve(a())):new Promise((c,f)=>{i=e.rejectOnCancel?f:c,u&&!r&&(r=setTimeout(()=>{n&&o(n),r=null,c(a())},u)),n=setTimeout(()=>{r&&o(r),r=null,c(a())},l)})}}function Gre(...t){let e=0,n,r=!0,i=Vr,o,s,a,l,u;!pt(t[0])&&typeof t[0]=="object"?{delay:s,trailing:a=!0,leading:l=!0,rejectOnCancel:u=!1}=t[0]:[s,a=!0,l=!0,u=!1]=t;const c=()=>{n&&(clearTimeout(n),n=void 0,i(),i=Vr)};return d=>{const h=pr(s),p=Date.now()-e,y=()=>o=d();return c(),h<=0?(e=Date.now(),y()):(p>h&&(l||!r)?(e=Date.now(),y()):a&&(o=new Promise((v,g)=>{i=u?g:v,n=setTimeout(()=>{e=Date.now(),r=!0,v(y()),c()},Math.max(0,h-p))})),!l&&!n&&(n=setTimeout(()=>r=!0,h)),r=!1,o)}}function Hre(t=iB){const e=Z(!0);function n(){e.value=!1}function r(){e.value=!0}const i=(...o)=>{e.value&&t(...o)};return{isActive:Tl(e),pause:n,resume:r,eventFilter:i}}function Vre(t){let e;function n(){return e||(e=t()),e}return n.reset=async()=>{const r=e;e=void 0,r&&await r},n}function zre(t){return t||yt()}function sB(...t){if(t.length!==1)return sf(...t);const e=t[0];return typeof e=="function"?Tl(FI(()=>({get:e,set:Vr}))):Z(e)}function rPe(t,e=200,n={}){return Cw(oB(e,n),t)}function iPe(t,e=200,n=!1,r=!0,i=!1){return Cw(Gre(e,n,r,i),t)}function aB(t,e,n={}){const{eventFilter:r=iB,...i}=n;return ve(t,Cw(r,e),i)}function lB(t,e,n={}){const{eventFilter:r,...i}=n,{eventFilter:o,pause:s,resume:a,isActive:l}=Hre(r);return{stop:aB(t,e,{...i,eventFilter:o}),pause:s,resume:a,isActive:l}}function Aw(t,e=!0,n){zre()?Ht(t,n):e?t():Xe(t)}function oPe(t,e){return re(()=>pr(t).map(n=>pr(n)).filter(e))}function sPe(t,e=1e3,n={}){const{immediate:r=!0,immediateCallback:i=!1}=n;let o=null;const s=Z(!1);function a(){o&&(clearInterval(o),o=null)}function l(){s.value=!1,a()}function u(){const c=pr(e);c<=0||(s.value=!0,i&&t(),a(),o=setInterval(t,c))}if(r&&ta&&u(),pt(e)||typeof e=="function"){const c=ve(e,()=>{s.value&&ta&&u()});ea(c)}return ea(l),{isActive:s,pause:l,resume:u}}function jre(t,e,n={}){const{immediate:r=!0}=n,i=Z(!1);let o=null;function s(){o&&(clearTimeout(o),o=null)}function a(){i.value=!1,s()}function l(...u){s(),i.value=!0,o=setTimeout(()=>{i.value=!1,o=null,t(...u)},pr(e))}return r&&(i.value=!0,ta&&l()),ea(a),{isPending:Tl(i),start:l,stop:a}}function aPe(t,e,n={}){const{debounce:r=0,maxWait:i=void 0,...o}=n;return aB(t,e,{...o,eventFilter:oB(r,{maxWait:i})})}function ro(t){var e;const n=pr(t);return(e=n==null?void 0:n.$el)!=null?e:n}const mo=ta?window:void 0,uB=ta?window.document:void 0,cB=ta?window.navigator:void 0;function Zn(...t){let e,n,r,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,i]=t,e=mo):[e,n,r,i]=t,!e)return Vr;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],s=()=>{o.forEach(c=>c()),o.length=0},a=(c,f,d,h)=>(c.addEventListener(f,d,h),()=>c.removeEventListener(f,d,h)),l=ve(()=>[ro(e),pr(i)],([c,f])=>{if(s(),!c)return;const d=$re(f)?{...f}:f;o.push(...n.flatMap(h=>r.map(p=>a(c,h,p,d))))},{immediate:!0,flush:"post"}),u=()=>{l(),s()};return ea(u),u}let eA=!1;function lPe(t,e,n={}){const{window:r=mo,ignore:i=[],capture:o=!0,detectIframe:s=!1}=n;if(!r)return Vr;l_&&!eA&&(eA=!0,Array.from(r.document.body.children).forEach(d=>d.addEventListener("click",Vr)),r.document.documentElement.addEventListener("click",Vr));let a=!0;const l=d=>i.some(h=>{if(typeof h=="string")return Array.from(r.document.querySelectorAll(h)).some(p=>p===d.target||d.composedPath().includes(p));{const p=ro(h);return p&&(d.target===p||d.composedPath().includes(p))}}),c=[Zn(r,"click",d=>{const h=ro(t);if(!(!h||h===d.target||d.composedPath().includes(h))){if(d.detail===0&&(a=!l(d)),!a){a=!0;return}e(d)}},{passive:!0,capture:o}),Zn(r,"pointerdown",d=>{const h=ro(t);a=!l(d)&&!!(h&&!d.composedPath().includes(h))},{passive:!0}),s&&Zn(r,"blur",d=>{setTimeout(()=>{var h;const p=ro(t);((h=r.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(p!=null&&p.contains(r.document.activeElement))&&e(d)},0)})].filter(Boolean);return()=>c.forEach(d=>d())}function Wre(){const t=Z(!1),e=yt();return e&&Ht(()=>{t.value=!0},e),t}function Ng(t){const e=Wre();return re(()=>(e.value,!!t()))}function Yre(t,e,n={}){const{window:r=mo,...i}=n;let o;const s=Ng(()=>r&&"MutationObserver"in r),a=()=>{o&&(o.disconnect(),o=void 0)},l=re(()=>{const d=pr(t),h=(Array.isArray(d)?d:[d]).map(ro).filter(Fre);return new Set(h)}),u=ve(()=>l.value,d=>{a(),s.value&&d.size&&(o=new MutationObserver(e),d.forEach(h=>o.observe(h,i)))},{immediate:!0,flush:"post"}),c=()=>o==null?void 0:o.takeRecords(),f=()=>{a(),u()};return ea(f),{isSupported:s,stop:f,takeRecords:c}}function uPe(t,e){const{interrupt:n=!0,onError:r=Vr,onFinished:i=Vr,signal:o}=e||{},s={aborted:"aborted",fulfilled:"fulfilled",pending:"pending",rejected:"rejected"},a=Array.from(Array.from({length:t.length}),()=>({state:s.pending,data:null})),l=Mt(a),u=Z(-1);if(!t||t.length===0)return i(),{activeIndex:u,result:l};function c(f,d){u.value++,l[u.value].data=d,l[u.value].state=f}return t.reduce((f,d)=>f.then(h=>{var p;if(o!=null&&o.aborted){c(s.aborted,new Error("aborted"));return}if(((p=l[u.value])==null?void 0:p.state)===s.rejected&&n){i();return}const y=d(h).then(v=>(c(s.fulfilled,v),u.value===t.length-1&&i(),v));return o?Promise.race([y,Xre(o)]):y}).catch(h=>o!=null&&o.aborted?(c(s.aborted,h),h):(c(s.rejected,h),r(),h)),Promise.resolve()),{activeIndex:u,result:l}}function Xre(t){return new Promise((e,n)=>{const r=new Error("aborted");t.aborted?n(r):t.addEventListener("abort",()=>n(r),{once:!0})})}function tA(t,e={}){const{controls:n=!1,navigator:r=cB}=e,i=Ng(()=>r&&"permissions"in r);let o;const s=typeof t=="string"?{name:t}:t,a=Z(),l=()=>{o&&(a.value=o.state)},u=Vre(async()=>{if(i.value){if(!o)try{o=await r.permissions.query(s),Zn(o,"change",l),l()}catch{a.value="prompt"}return o}});return u(),n?{state:a,isSupported:i,query:u}:a}function cPe(t={}){const{navigator:e=cB,read:n=!1,source:r,copiedDuring:i=1500,legacy:o=!1}=t,s=Ng(()=>e&&"clipboard"in e),a=tA("clipboard-read"),l=tA("clipboard-write"),u=re(()=>s.value||o),c=Z(""),f=Z(!1),d=jre(()=>f.value=!1,i);function h(){s.value&&g(a.value)?e.clipboard.readText().then(m=>{c.value=m}):c.value=v()}u.value&&n&&Zn(["copy","cut"],h);async function p(m=pr(r)){u.value&&m!=null&&(s.value&&g(l.value)?await e.clipboard.writeText(m):y(m),c.value=m,f.value=!0,d.start())}function y(m){const _=document.createElement("textarea");_.value=m??"",_.style.position="absolute",_.style.opacity="0",document.body.appendChild(_),_.select(),document.execCommand("copy"),_.remove()}function v(){var m,_,b;return(b=(_=(m=document==null?void 0:document.getSelection)==null?void 0:m.call(document))==null?void 0:_.toString())!=null?b:""}function g(m){return m==="granted"||m==="prompt"}return{isSupported:u,text:c,copied:f,copy:p}}function Kre(t){return JSON.parse(JSON.stringify(t))}const Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fh="__vueuse_ssr_handlers__",qre=Zre();function Zre(){return Fh in Nh||(Nh[Fh]=Nh[Fh]||{}),Nh[Fh]}function Jre(t,e){return qre[t]||e}function Qre(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const eie={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},nA="vueuse-storage";function fB(t,e,n,r={}){var i;const{flush:o="pre",deep:s=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:u=!1,shallow:c,window:f=mo,eventFilter:d,onError:h=C=>{console.error(C)},initOnMounted:p}=r,y=(c?q0:Z)(typeof e=="function"?e():e);if(!n)try{n=Jre("getDefaultStorage",()=>{var C;return(C=mo)==null?void 0:C.localStorage})()}catch(C){h(C)}if(!n)return y;const v=pr(e),g=Qre(v),m=(i=r.serializer)!=null?i:eie[g],{pause:_,resume:b}=lB(y,()=>w(y.value),{flush:o,deep:s,eventFilter:d});f&&a&&Aw(()=>{Zn(f,"storage",S),Zn(f,nA,P),p&&S()}),p||S();function x(C,A){f&&f.dispatchEvent(new CustomEvent(nA,{detail:{key:t,oldValue:C,newValue:A,storageArea:n}}))}function w(C){try{const A=n.getItem(t);if(C==null)x(A,null),n.removeItem(t);else{const T=m.write(C);A!==T&&(n.setItem(t,T),x(A,T))}}catch(A){h(A)}}function E(C){const A=C?C.newValue:n.getItem(t);if(A==null)return l&&v!=null&&n.setItem(t,m.write(v)),v;if(!C&&u){const T=m.read(A);return typeof u=="function"?u(T,v):g==="object"&&!Array.isArray(T)?{...v,...T}:T}else return typeof A!="string"?A:m.read(A)}function S(C){if(!(C&&C.storageArea!==n)){if(C&&C.key==null){y.value=v;return}if(!(C&&C.key!==t)){_();try{(C==null?void 0:C.newValue)!==m.write(y.value)&&(y.value=E(C))}catch(A){h(A)}finally{C?Xe(b):b()}}}}function P(C){S(C.detail)}return y}function fPe(t={}){const{document:e=uB}=t;if(!e)return Z("visible");const n=Z(e.visibilityState);return Zn(e,"visibilitychange",()=>{n.value=e.visibilityState}),n}function tie(t,e,n={}){const{window:r=mo,...i}=n;let o;const s=Ng(()=>r&&"ResizeObserver"in r),a=()=>{o&&(o.disconnect(),o=void 0)},l=re(()=>Array.isArray(t)?t.map(f=>ro(f)):[ro(t)]),u=ve(l,f=>{if(a(),s.value&&r){o=new ResizeObserver(e);for(const d of f)d&&o.observe(d,i)}},{immediate:!0,flush:"post"}),c=()=>{a(),u()};return ea(c),{isSupported:s,stop:c}}function dPe(t,e={}){const{reset:n=!0,windowResize:r=!0,windowScroll:i=!0,immediate:o=!0}=e,s=Z(0),a=Z(0),l=Z(0),u=Z(0),c=Z(0),f=Z(0),d=Z(0),h=Z(0);function p(){const y=ro(t);if(!y){n&&(s.value=0,a.value=0,l.value=0,u.value=0,c.value=0,f.value=0,d.value=0,h.value=0);return}const v=y.getBoundingClientRect();s.value=v.height,a.value=v.bottom,l.value=v.left,u.value=v.right,c.value=v.top,f.value=v.width,d.value=v.x,h.value=v.y}return tie(t,p),ve(()=>ro(t),y=>!y&&p()),Yre(t,p,{attributeFilter:["style","class"]}),i&&Zn("scroll",p,{capture:!0,passive:!0}),r&&Zn("resize",p,{passive:!0}),Aw(()=>{o&&p()}),{height:s,bottom:a,left:l,right:u,top:c,width:f,x:d,y:h,update:p}}const Dc=new Map;function hPe(t){const e=xd();function n(a){var l;const u=Dc.get(t)||new Set;u.add(a),Dc.set(t,u);const c=()=>i(a);return(l=e==null?void 0:e.cleanups)==null||l.push(c),c}function r(a){function l(...u){i(l),a(...u)}return n(l)}function i(a){const l=Dc.get(t);l&&(l.delete(a),l.size||o())}function o(){Dc.delete(t)}function s(a,l){var u;(u=Dc.get(t))==null||u.forEach(c=>c(a,l))}return{on:n,once:r,off:i,emit:s,reset:o}}function qm(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}function pPe(t,e,n={}){const{window:r=mo}=n;return fB(t,e,r==null?void 0:r.localStorage,n)}function dB(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const n=t.parentNode;return!n||n.tagName==="BODY"?!1:dB(n)}}function nie(t){const e=t||window.event,n=e.target;return dB(n)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const Zm=new WeakMap;function gPe(t,e=!1){const n=Z(e);let r=null,i="";ve(sB(t),a=>{const l=qm(pr(a));if(l){const u=l;if(Zm.get(u)||Zm.set(u,u.style.overflow),u.style.overflow!=="hidden"&&(i=u.style.overflow),u.style.overflow==="hidden")return n.value=!0;if(n.value)return u.style.overflow="hidden"}},{immediate:!0});const o=()=>{const a=qm(pr(t));!a||n.value||(l_&&(r=Zn(a,"touchmove",l=>{nie(l)},{passive:!1})),a.style.overflow="hidden",n.value=!0)},s=()=>{const a=qm(pr(t));!a||!n.value||(l_&&(r==null||r()),a.style.overflow=i,Zm.delete(a),n.value=!1)};return ea(s),re({get(){return n.value},set(a){a?o():s()}})}function mPe(t,e,n={}){const{window:r=mo}=n;return fB(t,e,r==null?void 0:r.sessionStorage,n)}let rie=0;function vPe(t,e={}){const n=Z(!1),{document:r=uB,immediate:i=!0,manual:o=!1,id:s=`vueuse_styletag_${++rie}`}=e,a=Z(t);let l=()=>{};const u=()=>{if(!r)return;const f=r.getElementById(s)||r.createElement("style");f.isConnected||(f.id=s,e.media&&(f.media=e.media),r.head.appendChild(f)),!n.value&&(l=ve(a,d=>{f.textContent=d},{immediate:!0}),n.value=!0)},c=()=>{!r||!n.value||(l(),r.head.removeChild(r.getElementById(s)),n.value=!1)};return i&&!o&&Aw(u),o||ea(c),{id:s,css:a,unload:c,load:u,isLoaded:Tl(n)}}function yPe(t,e={}){const{threshold:n=50,onSwipe:r,onSwipeEnd:i,onSwipeStart:o,passive:s=!0,window:a=mo}=e,l=Mt({x:0,y:0}),u=Mt({x:0,y:0}),c=re(()=>l.x-u.x),f=re(()=>l.y-u.y),{max:d,abs:h}=Math,p=re(()=>d(h(c.value),h(f.value))>=n),y=Z(!1),v=re(()=>p.value?h(c.value)>h(f.value)?c.value>0?"left":"right":f.value>0?"up":"down":"none"),g=P=>[P.touches[0].clientX,P.touches[0].clientY],m=(P,C)=>{l.x=P,l.y=C},_=(P,C)=>{u.x=P,u.y=C};let b;const x=iie(a==null?void 0:a.document);s?b=x?{passive:!0}:{capture:!1}:b=x?{passive:!1,capture:!0}:{capture:!0};const w=P=>{y.value&&(i==null||i(P,v.value)),y.value=!1},E=[Zn(t,"touchstart",P=>{if(P.touches.length!==1)return;b.capture&&!b.passive&&P.preventDefault();const[C,A]=g(P);m(C,A),_(C,A),o==null||o(P)},b),Zn(t,"touchmove",P=>{if(P.touches.length!==1)return;const[C,A]=g(P);_(C,A),!y.value&&p.value&&(y.value=!0),y.value&&(r==null||r(P))},b),Zn(t,["touchend","touchcancel"],w,b)];return{isPassiveEventSupported:x,isSwiping:y,direction:v,coordsStart:l,coordsEnd:u,lengthX:c,lengthY:f,stop:()=>E.forEach(P=>P())}}function iie(t){if(!t)return!1;let e=!1;const n={get passive(){return e=!0,!1}};return t.addEventListener("x",Vr,n),t.removeEventListener("x",Vr),e}function _Pe(t="history",e={}){const{initialValue:n={},removeNullishValues:r=!0,removeFalsyValues:i=!1,write:o=!0,window:s=mo}=e;if(!s)return Mt(n);const a=Mt({});function l(){if(t==="history")return s.location.search||"";if(t==="hash"){const g=s.location.hash||"",m=g.indexOf("?");return m>0?g.slice(m):""}else return(s.location.hash||"").replace(/^#/,"")}function u(g){const m=g.toString();if(t==="history")return`${m?`?${m}`:""}${s.location.hash||""}`;if(t==="hash-params")return`${s.location.search||""}${m?`#${m}`:""}`;const _=s.location.hash||"#",b=_.indexOf("?");return b>0?`${_.slice(0,b)}${m?`?${m}`:""}`:`${_}${m?`?${m}`:""}`}function c(){return new URLSearchParams(l())}function f(g){const m=new Set(Object.keys(a));for(const _ of g.keys()){const b=g.getAll(_);a[_]=b.length>1?b:g.get(_)||"",m.delete(_)}Array.from(m).forEach(_=>delete a[_])}const{pause:d,resume:h}=lB(a,()=>{const g=new URLSearchParams("");Object.keys(a).forEach(m=>{const _=a[m];Array.isArray(_)?_.forEach(b=>g.append(m,b)):r&&_==null||i&&!_?g.delete(m):g.set(m,_)}),p(g)},{deep:!0});function p(g,m){d(),m&&f(g),s.history.replaceState(s.history.state,s.document.title,s.location.pathname+u(g)),h()}function y(){o&&p(c(),!0)}Zn(s,"popstate",y,!1),t!=="history"&&Zn(s,"hashchange",y,!1);const v=c();return v.keys().next().value?f(v):Object.assign(a,n),a}function oie(t,e,n,r={}){var i,o,s;const{clone:a=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:f,shouldEmit:d}=r,h=yt(),p=n||(h==null?void 0:h.emit)||((i=h==null?void 0:h.$emit)==null?void 0:i.bind(h))||((s=(o=h==null?void 0:h.proxy)==null?void 0:o.$emit)==null?void 0:s.bind(h==null?void 0:h.proxy));let y=u;e||(e="modelValue"),y=y||`update:${e.toString()}`;const v=_=>a?typeof a=="function"?a(_):Kre(_):_,g=()=>Nre(t[e])?v(t[e]):f,m=_=>{d?d(_)&&p(y,_):p(y,_)};if(l){const _=g(),b=Z(_);let x=!1;return ve(()=>t[e],w=>{x||(x=!0,b.value=v(w),Xe(()=>x=!1))}),ve(b,w=>{!x&&(w!==t[e]||c)&&m(w)},{deep:c}),b}else return re({get(){return g()},set(_){m(_)}})}function bPe(t,e,n={}){const r={};for(const i in t)r[i]=oie(t,i,e,n);return r}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Lo=typeof window<"u";function sie(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const mt=Object.assign;function Jm(t,e){const n={};for(const r in e){const i=e[r];n[r]=Yr(i)?i.map(t):t(i)}return n}const yf=()=>{},Yr=Array.isArray;function Qe(t){const e=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+t].concat(e))}const aie=/\/$/,lie=t=>t.replace(aie,"");function Qm(t,e,n="/"){let r,i={},o="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),i=t(o)),a>-1&&(r=r||e.slice(0,a),s=e.slice(a,e.length)),r=fie(r??e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function uie(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function rA(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function iA(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&na(e.matched[r],n.matched[i])&&hB(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function na(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function hB(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!cie(t[n],e[n]))return!1;return!0}function cie(t,e){return Yr(t)?oA(t,e):Yr(e)?oA(e,t):t===e}function oA(t,e){return Yr(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function fie(t,e){if(t.startsWith("/"))return t;if(!e.startsWith("/"))return Qe(`Cannot resolve a relative location without an absolute path. Trying to resolve "${t}" from "${e}". It should look like "/${e}".`),t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i=n.length-1,o,s;for(o=0;o<r.length;o++)if(s=r[o],s!==".")if(s==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var nd;(function(t){t.pop="pop",t.push="push"})(nd||(nd={}));var _f;(function(t){t.back="back",t.forward="forward",t.unknown=""})(_f||(_f={}));function die(t){if(!t)if(Lo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),lie(t)}const hie=/^[^#]+#/;function pie(t,e){return t.replace(hie,"#")+e}function gie(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Fg=()=>({left:window.pageXOffset,top:window.pageYOffset});function mie(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#");if(typeof t.el=="string"&&(!r||!document.getElementById(t.el.slice(1))))try{const o=document.querySelector(t.el);if(r&&o){Qe(`The selector "${t.el}" should be passed as "el: document.querySelector('${t.el}')" because it starts with "#".`);return}}catch{Qe(`The selector "${t.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);return}const i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i){Qe(`Couldn't find element using selector "${t.el}" returned by scrollBehavior.`);return}e=gie(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function sA(t,e){return(history.state?history.state.position-e:-1)+t}const u_=new Map;function vie(t,e){u_.set(t,e)}function yie(t){const e=u_.get(t);return u_.delete(t),e}let _ie=()=>location.protocol+"//"+location.host;function pB(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let a=i.includes(t.slice(o))?t.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),rA(l,"")}return rA(n,t)+r+i}function bie(t,e,n,r){let i=[],o=[],s=null;const a=({state:d})=>{const h=pB(t,location),p=n.value,y=e.value;let v=0;if(d){if(n.value=h,e.value=d,s&&s===p){s=null;return}v=y?d.position-y.position:0}else r(h);i.forEach(g=>{g(n.value,p,{delta:v,type:nd.pop,direction:v?v>0?_f.forward:_f.back:_f.unknown})})};function l(){s=n.value}function u(d){i.push(d);const h=()=>{const p=i.indexOf(d);p>-1&&i.splice(p,1)};return o.push(h),h}function c(){const{history:d}=window;d.state&&d.replaceState(mt({},d.state,{scroll:Fg()}),"")}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:u,destroy:f}}function aA(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Fg():null}}function xie(t){const{history:e,location:n}=window,r={value:pB(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,u,c){const f=t.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:_ie()+t+l;try{e[c?"replaceState":"pushState"](u,"",d),i.value=u}catch(h){Qe("Error with push/replace State",h),n[c?"replace":"assign"](d)}}function s(l,u){const c=mt({},e.state,aA(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});o(l,c,!0),r.value=l}function a(l,u){const c=mt({},i.value,e.state,{forward:l,scroll:Fg()});e.state||Qe(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:

history.replaceState(history.state, '', url)

You can find more information at https://next.router.vuejs.org/guide/migration/#usage-of-history-state.`),o(c.current,c,!0);const f=mt({},aA(r.value,l,null),{position:c.position+1},u);o(l,f,!1),r.value=l}return{location:r,state:i,push:a,replace:s}}function wie(t){t=die(t);const e=xie(t),n=bie(t,e.state,e.location,e.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=mt({location:"",base:t,go:r,createHref:pie.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function xPe(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),!t.endsWith("#/")&&!t.endsWith("#")&&Qe(`A hash base must end with a "#":
"${t}" should be "${t.replace(/#.*$/,"#")}".`),wie(t)}function Eie(t){return typeof t=="string"||t&&typeof t=="object"}function gB(t){return typeof t=="string"||typeof t=="symbol"}const _s={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},mB=Symbol("navigation failure");var lA;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(lA||(lA={}));const Sie={1({location:t,currentLocation:e}){return`No match for
 ${JSON.stringify(t)}${e?`
while being at
`+JSON.stringify(e):""}`},2({from:t,to:e}){return`Redirected from "${t.fullPath}" to "${Aie(e)}" via a navigation guard.`},4({from:t,to:e}){return`Navigation aborted from "${t.fullPath}" to "${e.fullPath}" via a navigation guard.`},8({from:t,to:e}){return`Navigation cancelled from "${t.fullPath}" to "${e.fullPath}" with a new navigation.`},16({from:t,to:e}){return`Avoided redundant navigation to current location: "${t.fullPath}".`}};function Hu(t,e){return mt(new Error(Sie[t](e)),{type:t,[mB]:!0},e)}function Po(t,e){return t instanceof Error&&mB in t&&(e==null||!!(t.type&e))}const Cie=["params","query","hash"];function Aie(t){if(typeof t=="string")return t;if("path"in t)return t.path;const e={};for(const n of Cie)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}const uA="[^/]+?",Tie={sensitive:!1,strict:!1,start:!0,end:!0},Pie=/[.+*?^${}()[\]/\\]/g;function Iie(t,e){const n=mt({},Tie,e),r=[];let i=n.start?"^":"";const o=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const d=u[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(Pie,"\\$&"),h+=40;else if(d.type===1){const{value:p,repeatable:y,optional:v,regexp:g}=d;o.push({name:p,repeatable:y,optional:v});const m=g||uA;if(m!==uA){h+=10;try{new RegExp(`(${m})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${p}" (${m}): `+b.message)}}let _=y?`((?:${m})(?:/(?:${m}))*)`:`(${m})`;f||(_=v&&u.length<2?`(?:/${_})`:"/"+_),v&&(_+="?"),i+=_,h+=20,v&&(h+=-8),y&&(h+=-20),m===".*"&&(h+=-50)}c.push(h)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(s),f={};if(!c)return null;for(let d=1;d<c.length;d++){const h=c[d]||"",p=o[d-1];f[p.name]=h&&p.repeatable?h.split("/"):h}return f}function l(u){let c="",f=!1;for(const d of t){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const h of d)if(h.type===0)c+=h.value;else if(h.type===1){const{value:p,repeatable:y,optional:v}=h,g=p in u?u[p]:"";if(Yr(g)&&!y)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const m=Yr(g)?g.join("/"):g;if(!m)if(v)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);c+=m}}return c||"/"}return{re:s,score:r,keys:o,parse:a,stringify:l}}function Oie(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Rie(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=Oie(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(cA(r))return 1;if(cA(i))return-1}return i.length-r.length}function cA(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Mie={type:0,value:""},Die=/[a-zA-Z0-9_]/;function Bie(t){if(!t)return[[]];if(t==="/")return[[Mie]];if(!t.startsWith("/"))throw new Error(`Route paths should start with a "/": "${t}" should be "/${t}".`);function e(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,l,u="",c="";function f(){u&&(n===0?o.push({type:0,value:u}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),s()):l===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:Die.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),s(),i}function kie(t,e,n){const r=Iie(Bie(t.path),n);{const o=new Set;for(const s of r.keys)o.has(s.name)&&Qe(`Found duplicated params with name "${s.name}" for path "${t.path}". Only the last one will be available on "$route.params".`),o.add(s.name)}const i=mt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Nie(t,e){const n=[],r=new Map;e=hA({strict:!1,end:!0,sensitive:!1},e);function i(c){return r.get(c)}function o(c,f,d){const h=!d,p=Fie(c);Gie(p,f),p.aliasOf=d&&d.record;const y=hA(e,c),v=[p];if("alias"in c){const _=typeof c.alias=="string"?[c.alias]:c.alias;for(const b of _)v.push(mt({},p,{components:d?d.record.components:p.components,path:b,aliasOf:d?d.record:p}))}let g,m;for(const _ of v){const{path:b}=_;if(f&&b[0]!=="/"){const x=f.record.path,w=x[x.length-1]==="/"?"":"/";_.path=f.record.path+(b&&w+b)}if(_.path==="*")throw new Error(`Catch all routes ("*") must now be defined using a param with a custom regexp.
See more at https://next.router.vuejs.org/guide/migration/#removed-star-or-catch-all-routes.`);if(g=kie(_,f,y),f&&b[0]==="/"&&Hie(g,f),d?(d.alias.push(g),Uie(d,g)):(m=m||g,m!==g&&m.alias.push(g),h&&c.name&&!dA(g)&&s(c.name)),p.children){const x=p.children;for(let w=0;w<x.length;w++)o(x[w],g,d&&d.children[w])}d=d||g,(g.record.components&&Object.keys(g.record.components).length||g.record.name||g.record.redirect)&&l(g)}return m?()=>{s(m)}:yf}function s(c){if(gB(c)){const f=r.get(c);f&&(r.delete(c),n.splice(n.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=n.indexOf(c);f>-1&&(n.splice(f,1),c.record.name&&r.delete(c.record.name),c.children.forEach(s),c.alias.forEach(s))}}function a(){return n}function l(c){let f=0;for(;f<n.length&&Rie(c,n[f])>=0&&(c.record.path!==n[f].record.path||!vB(c,n[f]));)f++;n.splice(f,0,c),c.record.name&&!dA(c)&&r.set(c.record.name,c)}function u(c,f){let d,h={},p,y;if("name"in c&&c.name){if(d=r.get(c.name),!d)throw Hu(1,{location:c});{const m=Object.keys(c.params||{}).filter(_=>!d.keys.find(b=>b.name===_));m.length&&Qe(`Discarded invalid param(s) "${m.join('", "')}" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`)}y=d.record.name,h=mt(fA(f.params,d.keys.filter(m=>!m.optional).map(m=>m.name)),c.params&&fA(c.params,d.keys.map(m=>m.name))),p=d.stringify(h)}else if("path"in c)p=c.path,p.startsWith("/")||Qe(`The Matcher cannot resolve relative paths but received "${p}". Unless you directly called \`matcher.resolve("${p}")\`, this is probably a bug in vue-router. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/router.`),d=n.find(m=>m.re.test(p)),d&&(h=d.parse(p),y=d.record.name);else{if(d=f.name?r.get(f.name):n.find(m=>m.re.test(f.path)),!d)throw Hu(1,{location:c,currentLocation:f});y=d.record.name,h=mt({},f.params,c.params),p=d.stringify(h)}const v=[];let g=d;for(;g;)v.unshift(g.record),g=g.parent;return{name:y,path:p,params:h,matched:v,meta:$ie(v)}}return t.forEach(c=>o(c)),{addRoute:o,resolve:u,removeRoute:s,getRoutes:a,getRecordMatcher:i}}function fA(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Fie(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Lie(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Lie(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function dA(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function $ie(t){return t.reduce((e,n)=>mt(e,n.meta),{})}function hA(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function c_(t,e){return t.name===e.name&&t.optional===e.optional&&t.repeatable===e.repeatable}function Uie(t,e){for(const n of t.keys)if(!n.optional&&!e.keys.find(c_.bind(null,n)))return Qe(`Alias "${e.record.path}" and the original record: "${t.record.path}" must have the exact same param named "${n.name}"`);for(const n of e.keys)if(!n.optional&&!t.keys.find(c_.bind(null,n)))return Qe(`Alias "${e.record.path}" and the original record: "${t.record.path}" must have the exact same param named "${n.name}"`)}function Gie(t,e){e&&e.record.name&&!t.name&&!t.path&&Qe(`The route named "${String(e.record.name)}" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`)}function Hie(t,e){for(const n of e.keys)if(!t.keys.find(c_.bind(null,n)))return Qe(`Absolute path "${t.record.path}" must have the exact same param named "${n.name}" as its parent "${e.record.path}".`)}function vB(t,e){return e.children.some(n=>n===t||vB(t,n))}const yB=/#/g,Vie=/&/g,zie=/\//g,jie=/=/g,Wie=/\?/g,_B=/\+/g,Yie=/%5B/g,Xie=/%5D/g,bB=/%5E/g,Kie=/%60/g,xB=/%7B/g,qie=/%7C/g,wB=/%7D/g,Zie=/%20/g;function Tw(t){return encodeURI(""+t).replace(qie,"|").replace(Yie,"[").replace(Xie,"]")}function Jie(t){return Tw(t).replace(xB,"{").replace(wB,"}").replace(bB,"^")}function f_(t){return Tw(t).replace(_B,"%2B").replace(Zie,"+").replace(yB,"%23").replace(Vie,"%26").replace(Kie,"`").replace(xB,"{").replace(wB,"}").replace(bB,"^")}function Qie(t){return f_(t).replace(jie,"%3D")}function eoe(t){return Tw(t).replace(yB,"%23").replace(Wie,"%3F")}function toe(t){return t==null?"":eoe(t).replace(zie,"%2F")}function rd(t){try{return decodeURIComponent(""+t)}catch{Qe(`Error decoding "${t}". Using original value`)}return""+t}function noe(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(_B," "),s=o.indexOf("="),a=rd(s<0?o:o.slice(0,s)),l=s<0?null:rd(o.slice(s+1));if(a in e){let u=e[a];Yr(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function pA(t){let e="";for(let n in t){const r=t[n];if(n=Qie(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Yr(r)?r.map(o=>o&&f_(o)):[r&&f_(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function roe(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Yr(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const EB=Symbol("router view location matched"),gA=Symbol("router view depth"),Lg=Symbol("router"),Pw=Symbol("route location"),d_=Symbol("router view location");function Bc(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function ioe(t,e,n){const r=()=>{t[e].delete(n)};cs(r),bo(r),ls(()=>{t[e].add(n)}),t[e].add(n)}function wPe(t){if(!yt()){Qe("getCurrentInstance() returned null. onBeforeRouteLeave() must be called at the top of a setup function");return}const e=dn(EB,{}).value;if(!e){Qe("No active route record was found when calling `onBeforeRouteLeave()`. Make sure you call this function inside a component child of <router-view>. Maybe you called it inside of App.vue?");return}ioe(e,"leaveGuards",t)}function As(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,a)=>{const l=f=>{f===!1?a(Hu(4,{from:n,to:e})):f instanceof Error?a(f):Eie(f)?a(Hu(2,{from:e,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),s())},u=t.call(r&&r.instances[i],e,n,ooe(l,e,n));let c=Promise.resolve(u);if(t.length<3&&(c=c.then(l)),t.length>2){const f=`The "next" callback was never called inside of ${t.name?'"'+t.name+'"':""}:
${t.toString()}
. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if(typeof u=="object"&&"then"in u)c=c.then(d=>l._called?d:(Qe(f),Promise.reject(new Error("Invalid navigation guard"))));else if(u!==void 0&&!l._called){Qe(f),a(new Error("Invalid navigation guard"));return}}c.catch(f=>a(f))})}function ooe(t,e,n){let r=0;return function(){r++===1&&Qe(`The "next" callback was called more than once in one navigation guard when going from "${n.fullPath}" to "${e.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),t._called=!0,r===1&&t.apply(null,arguments)}}function ev(t,e,n,r){const i=[];for(const o of t){!o.components&&!o.children.length&&Qe(`Record with path "${o.path}" is either missing a "component(s)" or "children" property.`);for(const s in o.components){let a=o.components[s];{if(!a||typeof a!="object"&&typeof a!="function")throw Qe(`Component "${s}" in record with path "${o.path}" is not a valid component. Received "${String(a)}".`),new Error("Invalid route component");if("then"in a){Qe(`Component "${s}" in record with path "${o.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const l=a;a=()=>l}else a.__asyncLoader&&!a.__warnedDefineAsync&&(a.__warnedDefineAsync=!0,Qe(`Component "${s}" in record with path "${o.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`))}if(!(e!=="beforeRouteEnter"&&!o.instances[s]))if(soe(a)){const u=(a.__vccOpts||a)[e];u&&i.push(As(u,n,r,o,s))}else{let l=a();"catch"in l||(Qe(`Component "${s}" in record with path "${o.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),l=Promise.resolve(l)),i.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const c=sie(u)?u.default:u;o.components[s]=c;const d=(c.__vccOpts||c)[e];return d&&As(d,n,r,o,s)()}))}}}return i}function soe(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function mA(t){const e=dn(Lg),n=dn(Pw),r=re(()=>e.resolve(dr(t.to))),i=re(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],f=n.matched;if(!c||!f.length)return-1;const d=f.findIndex(na.bind(null,c));if(d>-1)return d;const h=vA(l[u-2]);return u>1&&vA(c)===h&&f[f.length-1].path!==h?f.findIndex(na.bind(null,l[u-2])):d}),o=re(()=>i.value>-1&&coe(n.params,r.value.params)),s=re(()=>i.value>-1&&i.value===n.matched.length-1&&hB(n.params,r.value.params));function a(l={}){return uoe(l)?e[dr(t.replace)?"replace":"push"](dr(t.to)).catch(yf):Promise.resolve()}if(Lo){const l=yt();if(l){const u={route:r.value,isActive:o.value,isExactActive:s.value};l.__vrl_devtools=l.__vrl_devtools||[],l.__vrl_devtools.push(u),sc(()=>{u.route=r.value,u.isActive=o.value,u.isExactActive=s.value},{flush:"post"})}}return{route:r,href:re(()=>r.value.href),isActive:o,isExactActive:s,navigate:a}}const aoe=we({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:mA,setup(t,{slots:e}){const n=Mt(mA(t)),{options:r}=dn(Lg),i=re(()=>({[yA(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[yA(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:Mn("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),loe=aoe;function uoe(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function coe(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Yr(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function vA(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const yA=(t,e,n)=>t??e??n,foe=we({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){hoe();const r=dn(d_),i=re(()=>t.route||r.value),o=dn(gA,0),s=re(()=>{let u=dr(o);const{matched:c}=i.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),a=re(()=>i.value.matched[s.value]);hi(gA,re(()=>s.value+1)),hi(EB,a),hi(d_,i);const l=Z();return ve(()=>[l.value,a.value,t.name],([u,c,f],[d,h,p])=>{c&&(c.instances[f]=u,h&&h!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!na(c,h)||!d)&&(c.enterCallbacks[f]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,f=a.value,d=f&&f.components[c];if(!d)return _A(n.default,{Component:d,route:u});const h=f.props[c],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,v=Mn(d,mt({},p,e,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(f.instances[c]=null)},ref:l}));if(Lo&&v.ref){const g={depth:s.value,name:f.name,path:f.path,meta:f.meta};(Yr(v.ref)?v.ref.map(_=>_.i):[v.ref.i]).forEach(_=>{_.__vrv_devtools=g})}return _A(n.default,{Component:v,route:u})||v}}});function _A(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const doe=foe;function hoe(){const t=yt(),e=t.parent&&t.parent.type.name;if(e&&(e==="KeepAlive"||e.includes("Transition"))){const n=e==="KeepAlive"?"keep-alive":"transition";Qe(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.
Use slot props instead:

<router-view v-slot="{ Component }">
  <${n}>
    <component :is="Component" />
  </${n}>
</router-view>`)}}function kc(t,e){const n=mt({},t,{matched:t.matched.map(r=>woe(r,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:t.fullPath,tooltip:e,value:n}}}function Lh(t){return{_custom:{display:t}}}let poe=0;function goe(t,e,n){if(e.__hasDevtools)return;e.__hasDevtools=!0;const r=poe++;hg({id:"org.vuejs.router"+(r?"."+r:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:t},i=>{typeof i.now!="function"&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),i.on.inspectComponent((c,f)=>{c.instanceData&&c.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:kc(e.currentRoute.value,"Current Route")})}),i.on.visitComponentTree(({treeNode:c,componentInstance:f})=>{if(f.__vrv_devtools){const d=f.__vrv_devtools;c.tags.push({label:(d.name?`${d.name.toString()}: `:"")+d.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:SB})}Yr(f.__vrl_devtools)&&(f.__devtoolsApi=i,f.__vrl_devtools.forEach(d=>{let h=TB,p="";d.isExactActive?(h=AB,p="This is exactly active"):d.isActive&&(h=CB,p="This link is active"),c.tags.push({label:d.route.path,textColor:0,tooltip:p,backgroundColor:h})}))}),ve(e.currentRoute,()=>{l(),i.notifyComponentUpdate(),i.sendInspectorTree(a),i.sendInspectorState(a)});const o="router:navigations:"+r;i.addTimelineLayer({id:o,label:`Router${r?" "+r:""} Navigations`,color:4237508}),e.onError((c,f)=>{i.addTimelineEvent({layerId:o,event:{title:"Error during Navigation",subtitle:f.fullPath,logType:"error",time:i.now(),data:{error:c},groupId:f.meta.__navigationId}})});let s=0;e.beforeEach((c,f)=>{const d={guard:Lh("beforeEach"),from:kc(f,"Current Location during this navigation"),to:kc(c,"Target location")};Object.defineProperty(c.meta,"__navigationId",{value:s++}),i.addTimelineEvent({layerId:o,event:{time:i.now(),title:"Start of navigation",subtitle:c.fullPath,data:d,groupId:c.meta.__navigationId}})}),e.afterEach((c,f,d)=>{const h={guard:Lh("afterEach")};d?(h.failure={_custom:{type:Error,readOnly:!0,display:d?d.message:"",tooltip:"Navigation Failure",value:d}},h.status=Lh("❌")):h.status=Lh("✅"),h.from=kc(f,"Current Location during this navigation"),h.to=kc(c,"Target location"),i.addTimelineEvent({layerId:o,event:{title:"End of navigation",subtitle:c.fullPath,time:i.now(),data:h,logType:d?"warning":"default",groupId:c.meta.__navigationId}})});const a="router-inspector:"+r;i.addInspector({id:a,label:"Routes"+(r?" "+r:""),icon:"book",treeFilterPlaceholder:"Search routes"});function l(){if(!u)return;const c=u;let f=n.getRoutes().filter(d=>!d.parent);f.forEach(OB),c.filter&&(f=f.filter(d=>h_(d,c.filter.toLowerCase()))),f.forEach(d=>IB(d,e.currentRoute.value)),c.rootNodes=f.map(PB)}let u;i.on.getInspectorTree(c=>{u=c,c.app===t&&c.inspectorId===a&&l()}),i.on.getInspectorState(c=>{if(c.app===t&&c.inspectorId===a){const d=n.getRoutes().find(h=>h.record.__vd_id===c.nodeId);d&&(c.state={options:voe(d)})}}),i.sendInspectorTree(a),i.sendInspectorState(a)})}function moe(t){return t.optional?t.repeatable?"*":"?":t.repeatable?"+":""}function voe(t){const{record:e}=t,n=[{editable:!1,key:"path",value:e.path}];return e.name!=null&&n.push({editable:!1,key:"name",value:e.name}),n.push({editable:!1,key:"regexp",value:t.re}),t.keys.length&&n.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:t.keys.map(r=>`${r.name}${moe(r)}`).join(" "),tooltip:"Param keys",value:t.keys}}}),e.redirect!=null&&n.push({editable:!1,key:"redirect",value:e.redirect}),t.alias.length&&n.push({editable:!1,key:"aliases",value:t.alias.map(r=>r.record.path)}),Object.keys(t.record.meta).length&&n.push({editable:!1,key:"meta",value:t.record.meta}),n.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:t.score.map(r=>r.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:t.score}}}),n}const SB=15485081,CB=2450411,AB=8702998,yoe=2282478,TB=16486972,_oe=6710886;function PB(t){const e=[],{record:n}=t;n.name!=null&&e.push({label:String(n.name),textColor:0,backgroundColor:yoe}),n.aliasOf&&e.push({label:"alias",textColor:0,backgroundColor:TB}),t.__vd_match&&e.push({label:"matches",textColor:0,backgroundColor:SB}),t.__vd_exactActive&&e.push({label:"exact",textColor:0,backgroundColor:AB}),t.__vd_active&&e.push({label:"active",textColor:0,backgroundColor:CB}),n.redirect&&e.push({label:typeof n.redirect=="string"?`redirect: ${n.redirect}`:"redirects",textColor:16777215,backgroundColor:_oe});let r=n.__vd_id;return r==null&&(r=String(boe++),n.__vd_id=r),{id:r,label:n.path,tags:e,children:t.children.map(PB)}}let boe=0;const xoe=/^\/(.*)\/([a-z]*)$/;function IB(t,e){const n=e.matched.length&&na(e.matched[e.matched.length-1],t.record);t.__vd_exactActive=t.__vd_active=n,n||(t.__vd_active=e.matched.some(r=>na(r,t.record))),t.children.forEach(r=>IB(r,e))}function OB(t){t.__vd_match=!1,t.children.forEach(OB)}function h_(t,e){const n=String(t.re).match(xoe);if(t.__vd_match=!1,!n||n.length<3)return!1;if(new RegExp(n[1].replace(/\$$/,""),n[2]).test(e))return t.children.forEach(s=>h_(s,e)),t.record.path!=="/"||e==="/"?(t.__vd_match=t.re.test(e),!0):!1;const i=t.record.path.toLowerCase(),o=rd(i);return!e.startsWith("/")&&(o.includes(e)||i.includes(e))||o.startsWith(e)||i.startsWith(e)||t.record.name&&String(t.record.name).includes(e)?!0:t.children.some(s=>h_(s,e))}function woe(t,e){const n={};for(const r in t)e.includes(r)||(n[r]=t[r]);return n}function EPe(t){const e=Nie(t.routes,t),n=t.parseQuery||noe,r=t.stringifyQuery||pA,i=t.history;if(!i)throw new Error('Provide the "history" option when calling "createRouter()": https://next.router.vuejs.org/api/#history.');const o=Bc(),s=Bc(),a=Bc(),l=q0(_s);let u=_s;Lo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Jm.bind(null,F=>""+F),f=Jm.bind(null,toe),d=Jm.bind(null,rd);function h(F,q){let L,ee;return gB(F)?(L=e.getRecordMatcher(F),ee=q):ee=F,e.addRoute(ee,L)}function p(F){const q=e.getRecordMatcher(F);q?e.removeRoute(q):Qe(`Cannot remove non-existent route "${String(F)}"`)}function y(){return e.getRoutes().map(F=>F.record)}function v(F){return!!e.getRecordMatcher(F)}function g(F,q){if(q=mt({},q||l.value),typeof F=="string"){const be=Qm(n,F,q.path),I=e.resolve({path:be.path},q),$=i.createHref(be.fullPath);return $.startsWith("//")?Qe(`Location "${F}" resolved to "${$}". A resolved location cannot start with multiple slashes.`):I.matched.length||Qe(`No match found for location with path "${F}"`),mt(be,I,{params:d(I.params),hash:rd(be.hash),redirectedFrom:void 0,href:$})}let L;if("path"in F)"params"in F&&!("name"in F)&&Object.keys(F.params).length&&Qe(`Path "${F.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),L=mt({},F,{path:Qm(n,F.path,q.path).path});else{const be=mt({},F.params);for(const I in be)be[I]==null&&delete be[I];L=mt({},F,{params:f(F.params)}),q.params=f(q.params)}const ee=e.resolve(L,q),J=F.hash||"";J&&!J.startsWith("#")&&Qe(`A \`hash\` should always start with the character "#". Replace "${J}" with "#${J}".`),ee.params=c(d(ee.params));const de=uie(r,mt({},F,{hash:Jie(J),path:ee.path})),pe=i.createHref(de);return pe.startsWith("//")?Qe(`Location "${F}" resolved to "${pe}". A resolved location cannot start with multiple slashes.`):ee.matched.length||Qe(`No match found for location with path "${"path"in F?F.path:F}"`),mt({fullPath:de,hash:J,query:r===pA?roe(F.query):F.query||{}},ee,{redirectedFrom:void 0,href:pe})}function m(F){return typeof F=="string"?Qm(n,F,l.value.path):mt({},F)}function _(F,q){if(u!==F)return Hu(8,{from:q,to:F})}function b(F){return E(F)}function x(F){return b(mt(m(F),{replace:!0}))}function w(F){const q=F.matched[F.matched.length-1];if(q&&q.redirect){const{redirect:L}=q;let ee=typeof L=="function"?L(F):L;if(typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=m(ee):{path:ee},ee.params={}),!("path"in ee)&&!("name"in ee))throw Qe(`Invalid redirect found:
${JSON.stringify(ee,null,2)}
 when navigating to "${F.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return mt({query:F.query,hash:F.hash,params:"path"in ee?{}:F.params},ee)}}function E(F,q){const L=u=g(F),ee=l.value,J=F.state,de=F.force,pe=F.replace===!0,be=w(L);if(be)return E(mt(m(be),{state:typeof be=="object"?mt({},J,be.state):J,force:de,replace:pe}),q||L);const I=L;I.redirectedFrom=q;let $;return!de&&iA(r,ee,L)&&($=Hu(16,{to:I,from:ee}),fe(ee,ee,!0,!1)),($?Promise.resolve($):P(I,ee)).catch(j=>Po(j)?Po(j,2)?j:K(j):U(j,I,ee)).then(j=>{if(j){if(Po(j,2))return iA(r,g(j.to),I)&&q&&(q._count=q._count?q._count+1:1)>10?(Qe(`Detected an infinite redirection in a navigation guard when going from "${ee.fullPath}" to "${I.fullPath}". Aborting to avoid a Stack Overflow. This will break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):E(mt({replace:pe},m(j.to),{state:typeof j.to=="object"?mt({},J,j.to.state):J,force:de}),q||I)}else j=A(I,ee,!0,pe,J);return C(I,ee,j),j})}function S(F,q){const L=_(F,q);return L?Promise.reject(L):Promise.resolve()}function P(F,q){let L;const[ee,J,de]=Eoe(F,q);L=ev(ee.reverse(),"beforeRouteLeave",F,q);for(const be of ee)be.leaveGuards.forEach(I=>{L.push(As(I,F,q))});const pe=S.bind(null,F,q);return L.push(pe),Zl(L).then(()=>{L=[];for(const be of o.list())L.push(As(be,F,q));return L.push(pe),Zl(L)}).then(()=>{L=ev(J,"beforeRouteUpdate",F,q);for(const be of J)be.updateGuards.forEach(I=>{L.push(As(I,F,q))});return L.push(pe),Zl(L)}).then(()=>{L=[];for(const be of F.matched)if(be.beforeEnter&&!q.matched.includes(be))if(Yr(be.beforeEnter))for(const I of be.beforeEnter)L.push(As(I,F,q));else L.push(As(be.beforeEnter,F,q));return L.push(pe),Zl(L)}).then(()=>(F.matched.forEach(be=>be.enterCallbacks={}),L=ev(de,"beforeRouteEnter",F,q),L.push(pe),Zl(L))).then(()=>{L=[];for(const be of s.list())L.push(As(be,F,q));return L.push(pe),Zl(L)}).catch(be=>Po(be,8)?be:Promise.reject(be))}function C(F,q,L){for(const ee of a.list())ee(F,q,L)}function A(F,q,L,ee,J){const de=_(F,q);if(de)return de;const pe=q===_s,be=Lo?history.state:{};L&&(ee||pe?i.replace(F.fullPath,mt({scroll:pe&&be&&be.scroll},J)):i.push(F.fullPath,J)),l.value=F,fe(F,q,L,pe),K()}let T;function R(){T||(T=i.listen((F,q,L)=>{if(!ge.listening)return;const ee=g(F),J=w(ee);if(J){E(mt(J,{replace:!0}),ee).catch(yf);return}u=ee;const de=l.value;Lo&&vie(sA(de.fullPath,L.delta),Fg()),P(ee,de).catch(pe=>Po(pe,12)?pe:Po(pe,2)?(E(pe.to,ee).then(be=>{Po(be,20)&&!L.delta&&L.type===nd.pop&&i.go(-1,!1)}).catch(yf),Promise.reject()):(L.delta&&i.go(-L.delta,!1),U(pe,ee,de))).then(pe=>{pe=pe||A(ee,de,!1),pe&&(L.delta&&!Po(pe,8)?i.go(-L.delta,!1):L.type===nd.pop&&Po(pe,20)&&i.go(-1,!1)),C(ee,de,pe)}).catch(yf)}))}let N=Bc(),G=Bc(),k;function U(F,q,L){K(F);const ee=G.list();return ee.length?ee.forEach(J=>J(F,q,L)):(Qe("uncaught error during route navigation:"),console.error(F)),Promise.reject(F)}function W(){return k&&l.value!==_s?Promise.resolve():new Promise((F,q)=>{N.add([F,q])})}function K(F){return k||(k=!F,R(),N.list().forEach(([q,L])=>F?L(F):q()),N.reset()),F}function fe(F,q,L,ee){const{scrollBehavior:J}=t;if(!Lo||!J)return Promise.resolve();const de=!L&&yie(sA(F.fullPath,0))||(ee||!L)&&history.state&&history.state.scroll||null;return Xe().then(()=>J(F,q,de)).then(pe=>pe&&mie(pe)).catch(pe=>U(pe,F,q))}const ce=F=>i.go(F);let X;const ie=new Set,ge={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,hasRoute:v,getRoutes:y,resolve:g,options:t,push:b,replace:x,go:ce,back:()=>ce(-1),forward:()=>ce(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:G.add,isReady:W,install(F){const q=this;F.component("RouterLink",loe),F.component("RouterView",doe),F.config.globalProperties.$router=q,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>dr(l)}),Lo&&!X&&l.value===_s&&(X=!0,b(i.location).catch(J=>{Qe("Unexpected error when starting the router:",J)}));const L={};for(const J in _s)L[J]=re(()=>l.value[J]);F.provide(Lg,q),F.provide(Pw,Mt(L)),F.provide(d_,l);const ee=F.unmount;ie.add(F),F.unmount=function(){ie.delete(F),ie.size<1&&(u=_s,T&&T(),T=null,l.value=_s,X=!1,k=!1),ee()},Lo&&goe(F,q,e)}};return ge}function Zl(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function Eoe(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const a=e.matched[s];a&&(t.matched.find(u=>na(u,a))?r.push(a):n.push(a));const l=t.matched[s];l&&(e.matched.find(u=>na(u,l))||i.push(l))}return[n,r,i]}function SPe(){return dn(Lg)}function CPe(){return dn(Pw)}function RB(t,e){return function(){return t.apply(e,arguments)}}const{toString:Soe}=Object.prototype,{getPrototypeOf:Iw}=Object,{iterator:$g,toStringTag:MB}=Symbol,Ug=(t=>e=>{const n=Soe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Gi=t=>(t=t.toLowerCase(),e=>Ug(e)===t),Gg=t=>e=>typeof e===t,{isArray:hc}=Array,id=Gg("undefined");function $d(t){return t!==null&&!id(t)&&t.constructor!==null&&!id(t.constructor)&&Tr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const DB=Gi("ArrayBuffer");function Coe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&DB(t.buffer),e}const Aoe=Gg("string"),Tr=Gg("function"),BB=Gg("number"),Ud=t=>t!==null&&typeof t=="object",Toe=t=>t===!0||t===!1,Tp=t=>{if(Ug(t)!=="object")return!1;const e=Iw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(MB in t)&&!($g in t)},Poe=t=>{if(!Ud(t)||$d(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Ioe=Gi("Date"),Ooe=Gi("File"),Roe=Gi("Blob"),Moe=Gi("FileList"),Doe=t=>Ud(t)&&Tr(t.pipe),Boe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Tr(t.append)&&((e=Ug(t))==="formdata"||e==="object"&&Tr(t.toString)&&t.toString()==="[object FormData]"))},koe=Gi("URLSearchParams"),[Noe,Foe,Loe,$oe]=["ReadableStream","Request","Response","Headers"].map(Gi),Uoe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),hc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if($d(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function kB(t,e){if($d(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ga=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),NB=t=>!id(t)&&t!==Ga;function p_(){const{caseless:t}=NB(this)&&this||{},e={},n=(r,i)=>{const o=t&&kB(e,i)||i;Tp(e[o])&&Tp(r)?e[o]=p_(e[o],r):Tp(r)?e[o]=p_({},r):hc(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Gd(arguments[r],n);return e}const Goe=(t,e,n,{allOwnKeys:r}={})=>(Gd(e,(i,o)=>{n&&Tr(i)?t[o]=RB(i,n):t[o]=i},{allOwnKeys:r}),t),Hoe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Voe=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},zoe=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&Iw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},joe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Woe=t=>{if(!t)return null;if(hc(t))return t;let e=t.length;if(!BB(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Yoe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Iw(Uint8Array)),Xoe=(t,e)=>{const r=(t&&t[$g]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},Koe=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},qoe=Gi("HTMLFormElement"),Zoe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),bA=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Joe=Gi("RegExp"),FB=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Gd(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},Qoe=t=>{FB(t,(e,n)=>{if(Tr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Tr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ese=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return hc(t)?r(t):r(String(t).split(e)),n},tse=()=>{},nse=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function rse(t){return!!(t&&Tr(t.append)&&t[MB]==="FormData"&&t[$g])}const ise=t=>{const e=new Array(10),n=(r,i)=>{if(Ud(r)){if(e.indexOf(r)>=0)return;if($d(r))return r;if(!("toJSON"in r)){e[i]=r;const o=hc(r)?[]:{};return Gd(r,(s,a)=>{const l=n(s,i+1);!id(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},ose=Gi("AsyncFunction"),sse=t=>t&&(Ud(t)||Tr(t))&&Tr(t.then)&&Tr(t.catch),LB=((t,e)=>t?setImmediate:e?((n,r)=>(Ga.addEventListener("message",({source:i,data:o})=>{i===Ga&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ga.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Tr(Ga.postMessage)),ase=typeof queueMicrotask<"u"?queueMicrotask.bind(Ga):typeof process<"u"&&process.nextTick||LB,lse=t=>t!=null&&Tr(t[$g]),te={isArray:hc,isArrayBuffer:DB,isBuffer:$d,isFormData:Boe,isArrayBufferView:Coe,isString:Aoe,isNumber:BB,isBoolean:Toe,isObject:Ud,isPlainObject:Tp,isEmptyObject:Poe,isReadableStream:Noe,isRequest:Foe,isResponse:Loe,isHeaders:$oe,isUndefined:id,isDate:Ioe,isFile:Ooe,isBlob:Roe,isRegExp:Joe,isFunction:Tr,isStream:Doe,isURLSearchParams:koe,isTypedArray:Yoe,isFileList:Moe,forEach:Gd,merge:p_,extend:Goe,trim:Uoe,stripBOM:Hoe,inherits:Voe,toFlatObject:zoe,kindOf:Ug,kindOfTest:Gi,endsWith:joe,toArray:Woe,forEachEntry:Xoe,matchAll:Koe,isHTMLForm:qoe,hasOwnProperty:bA,hasOwnProp:bA,reduceDescriptors:FB,freezeMethods:Qoe,toObjectSet:ese,toCamelCase:Zoe,noop:tse,toFiniteNumber:nse,findKey:kB,global:Ga,isContextDefined:NB,isSpecCompliantForm:rse,toJSONObject:ise,isAsyncFn:ose,isThenable:sse,setImmediate:LB,asap:ase,isIterable:lse};function Ye(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}te.inherits(Ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const $B=Ye.prototype,UB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{UB[t]={value:t}});Object.defineProperties(Ye,UB);Object.defineProperty($B,"isAxiosError",{value:!0});Ye.from=(t,e,n,r,i,o)=>{const s=Object.create($B);return te.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ye.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const use=null;function g_(t){return te.isPlainObject(t)||te.isArray(t)}function GB(t){return te.endsWith(t,"[]")?t.slice(0,-2):t}function xA(t,e,n){return t?t.concat(e).map(function(i,o){return i=GB(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function cse(t){return te.isArray(t)&&!t.some(g_)}const fse=te.toFlatObject(te,{},null,function(e){return/^is[A-Z]/.test(e)});function Hg(t,e,n){if(!te.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=te.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!te.isUndefined(v[y])});const r=n.metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(e);if(!te.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(te.isDate(p))return p.toISOString();if(te.isBoolean(p))return p.toString();if(!l&&te.isBlob(p))throw new Ye("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(p)||te.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,y,v){let g=p;if(p&&!v&&typeof p=="object"){if(te.endsWith(y,"{}"))y=r?y:y.slice(0,-2),p=JSON.stringify(p);else if(te.isArray(p)&&cse(p)||(te.isFileList(p)||te.endsWith(y,"[]"))&&(g=te.toArray(p)))return y=GB(y),g.forEach(function(_,b){!(te.isUndefined(_)||_===null)&&e.append(s===!0?xA([y],b,o):s===null?y:y+"[]",u(_))}),!1}return g_(p)?!0:(e.append(xA(v,y,o),u(p)),!1)}const f=[],d=Object.assign(fse,{defaultVisitor:c,convertValue:u,isVisitable:g_});function h(p,y){if(!te.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(p),te.forEach(p,function(g,m){(!(te.isUndefined(g)||g===null)&&i.call(e,g,te.isString(m)?m.trim():m,y,d))===!0&&h(g,y?y.concat(m):[m])}),f.pop()}}if(!te.isObject(t))throw new TypeError("data must be an object");return h(t),e}function wA(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ow(t,e){this._pairs=[],t&&Hg(t,this,e)}const HB=Ow.prototype;HB.append=function(e,n){this._pairs.push([e,n])};HB.toString=function(e){const n=e?function(r){return e.call(this,r,wA)}:wA;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function dse(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function VB(t,e,n){if(!e)return t;const r=n&&n.encode||dse;te.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=te.isURLSearchParams(e)?e.toString():new Ow(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class hse{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){te.forEach(this.handlers,function(r){r!==null&&e(r)})}}const EA=hse,zB={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pse=typeof URLSearchParams<"u"?URLSearchParams:Ow,gse=typeof FormData<"u"?FormData:null,mse=typeof Blob<"u"?Blob:null,vse={isBrowser:!0,classes:{URLSearchParams:pse,FormData:gse,Blob:mse},protocols:["http","https","file","blob","url","data"]},Rw=typeof window<"u"&&typeof document<"u",m_=typeof navigator=="object"&&navigator||void 0,yse=Rw&&(!m_||["ReactNative","NativeScript","NS"].indexOf(m_.product)<0),_se=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),bse=Rw&&window.location.href||"http://localhost",xse=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Rw,hasStandardBrowserEnv:yse,hasStandardBrowserWebWorkerEnv:_se,navigator:m_,origin:bse},Symbol.toStringTag,{value:"Module"})),qn={...xse,...vse};function wse(t,e){return Hg(t,new qn.classes.URLSearchParams,{visitor:function(n,r,i,o){return qn.isNode&&te.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function Ese(t){return te.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Sse(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function jB(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&te.isArray(i)?i.length:s,l?(te.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!te.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&te.isArray(i[s])&&(i[s]=Sse(i[s])),!a)}if(te.isFormData(t)&&te.isFunction(t.entries)){const n={};return te.forEachEntry(t,(r,i)=>{e(Ese(r),i,n,0)}),n}return null}function Cse(t,e,n){if(te.isString(t))try{return(e||JSON.parse)(t),te.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Mw={transitional:zB,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=te.isObject(e);if(o&&te.isHTMLForm(e)&&(e=new FormData(e)),te.isFormData(e))return i?JSON.stringify(jB(e)):e;if(te.isArrayBuffer(e)||te.isBuffer(e)||te.isStream(e)||te.isFile(e)||te.isBlob(e)||te.isReadableStream(e))return e;if(te.isArrayBufferView(e))return e.buffer;if(te.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return wse(e,this.formSerializer).toString();if((a=te.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Hg(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),Cse(e)):e}],transformResponse:[function(e){const n=this.transitional||Mw.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(te.isResponse(e)||te.isReadableStream(e))return e;if(e&&te.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?Ye.from(a,Ye.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qn.classes.FormData,Blob:qn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],t=>{Mw.headers[t]={}});const Dw=Mw,Ase=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Tse=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&Ase[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},SA=Symbol("internals");function Nc(t){return t&&String(t).trim().toLowerCase()}function Pp(t){return t===!1||t==null?t:te.isArray(t)?t.map(Pp):String(t)}function Pse(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Ise=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function tv(t,e,n,r,i){if(te.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!te.isString(e)){if(te.isString(r))return e.indexOf(r)!==-1;if(te.isRegExp(r))return r.test(e)}}function Ose(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Rse(t,e){const n=te.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class Vg{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,u){const c=Nc(l);if(!c)throw new Error("header name must be a non-empty string");const f=te.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=Pp(a))}const s=(a,l)=>te.forEach(a,(u,c)=>o(u,c,l));if(te.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(te.isString(e)&&(e=e.trim())&&!Ise(e))s(Tse(e),n);else if(te.isObject(e)&&te.isIterable(e)){let a={},l,u;for(const c of e){if(!te.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?te.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}s(a,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=Nc(e),e){const r=te.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Pse(i);if(te.isFunction(n))return n.call(this,i,r);if(te.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Nc(e),e){const r=te.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||tv(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=Nc(s),s){const a=te.findKey(r,s);a&&(!n||tv(r,r[a],a,n))&&(delete r[a],i=!0)}}return te.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||tv(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return te.forEach(this,(i,o)=>{const s=te.findKey(r,o);if(s){n[s]=Pp(i),delete n[o];return}const a=e?Ose(o):String(o).trim();a!==o&&delete n[o],n[a]=Pp(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return te.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&te.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[SA]=this[SA]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Nc(s);r[a]||(Rse(i,s),r[a]=!0)}return te.isArray(e)?e.forEach(o):o(e),this}}Vg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(Vg.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});te.freezeMethods(Vg);const ki=Vg;function nv(t,e){const n=this||Dw,r=e||n,i=ki.from(r.headers);let o=r.data;return te.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function WB(t){return!!(t&&t.__CANCEL__)}function pc(t,e,n){Ye.call(this,t??"canceled",Ye.ERR_CANCELED,e,n),this.name="CanceledError"}te.inherits(pc,Ye,{__CANCEL__:!0});function YB(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ye("Request failed with status code "+n.status,[Ye.ERR_BAD_REQUEST,Ye.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Mse(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Dse(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[o];s||(s=u),n[i]=l,r[i]=u;let f=o,d=0;for(;f!==i;)d+=n[f++],f=f%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-s<e)return;const h=c&&u-c;return h?Math.round(d*1e3/h):void 0}}function Bse(t,e){let n=0,r=1e3/e,i,o;const s=(u,c=Date.now())=>{n=c,i=null,o&&(clearTimeout(o),o=null),t(...u)};return[(...u)=>{const c=Date.now(),f=c-n;f>=r?s(u,c):(i=u,o||(o=setTimeout(()=>{o=null,s(i)},r-f)))},()=>i&&s(i)]}const c0=(t,e,n=3)=>{let r=0;const i=Dse(50,250);return Bse(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,u=i(l),c=s<=a;r=s;const f={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-s)/u:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},CA=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},AA=t=>(...e)=>te.asap(()=>t(...e)),kse=qn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,qn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(qn.origin),qn.navigator&&/(msie|trident)/i.test(qn.navigator.userAgent)):()=>!0,Nse=qn.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];te.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),te.isString(r)&&s.push("path="+r),te.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Fse(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Lse(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function XB(t,e,n){let r=!Fse(e);return t&&(r||n==!1)?Lse(t,e):e}const TA=t=>t instanceof ki?{...t}:t;function pl(t,e){e=e||{};const n={};function r(u,c,f,d){return te.isPlainObject(u)&&te.isPlainObject(c)?te.merge.call({caseless:d},u,c):te.isPlainObject(c)?te.merge({},c):te.isArray(c)?c.slice():c}function i(u,c,f,d){if(te.isUndefined(c)){if(!te.isUndefined(u))return r(void 0,u,f,d)}else return r(u,c,f,d)}function o(u,c){if(!te.isUndefined(c))return r(void 0,c)}function s(u,c){if(te.isUndefined(c)){if(!te.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,f){if(f in e)return r(u,c);if(f in t)return r(void 0,u)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,c,f)=>i(TA(u),TA(c),f,!0)};return te.forEach(Object.keys({...t,...e}),function(c){const f=l[c]||i,d=f(t[c],e[c],c);te.isUndefined(d)&&f!==a||(n[c]=d)}),n}const KB=t=>{const e=pl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=ki.from(s),e.url=VB(XB(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(te.isFormData(n)){if(qn.hasStandardBrowserEnv||qn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[u,...c]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...c].join("; "))}}if(qn.hasStandardBrowserEnv&&(r&&te.isFunction(r)&&(r=r(e)),r||r!==!1&&kse(e.url))){const u=i&&o&&Nse.read(o);u&&s.set(i,u)}return e},$se=typeof XMLHttpRequest<"u",Use=$se&&function(t){return new Promise(function(n,r){const i=KB(t);let o=i.data;const s=ki.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,c,f,d,h,p;function y(){h&&h(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function g(){if(!v)return;const _=ki.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),x={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:_,config:t,request:v};YB(function(E){n(E),y()},function(E){r(E),y()},x),v=null}"onloadend"in v?v.onloadend=g:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(g)},v.onabort=function(){v&&(r(new Ye("Request aborted",Ye.ECONNABORTED,t,v)),v=null)},v.onerror=function(){r(new Ye("Network Error",Ye.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const x=i.transitional||zB;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),r(new Ye(b,x.clarifyTimeoutError?Ye.ETIMEDOUT:Ye.ECONNABORTED,t,v)),v=null},o===void 0&&s.setContentType(null),"setRequestHeader"in v&&te.forEach(s.toJSON(),function(b,x){v.setRequestHeader(x,b)}),te.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),a&&a!=="json"&&(v.responseType=i.responseType),u&&([d,p]=c0(u,!0),v.addEventListener("progress",d)),l&&v.upload&&([f,h]=c0(l),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(c=_=>{v&&(r(!_||_.type?new pc(null,t,v):_),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const m=Mse(i.url);if(m&&qn.protocols.indexOf(m)===-1){r(new Ye("Unsupported protocol "+m+":",Ye.ERR_BAD_REQUEST,t));return}v.send(o||null)})},Gse=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(u){if(!i){i=!0,a();const c=u instanceof Error?u:this.reason;r.abort(c instanceof Ye?c:new pc(c instanceof Error?c.message:c))}};let s=e&&setTimeout(()=>{s=null,o(new Ye(`timeout ${e} of ms exceeded`,Ye.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),t=null)};t.forEach(u=>u.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>te.asap(a),l}},Hse=Gse,Vse=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},zse=async function*(t,e){for await(const n of jse(t))yield*Vse(n,e)},jse=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},PA=(t,e,n,r)=>{const i=zse(t,e);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){a(),l.close();return}let f=c.byteLength;if(n){let d=o+=f;n(d)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},zg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",qB=zg&&typeof ReadableStream=="function",Wse=zg&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),ZB=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Yse=qB&&ZB(()=>{let t=!1;const e=new Request(qn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),IA=64*1024,v_=qB&&ZB(()=>te.isReadableStream(new Response("").body)),f0={stream:v_&&(t=>t.body)};zg&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!f0[e]&&(f0[e]=te.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ye(`Response type '${e}' is not supported`,Ye.ERR_NOT_SUPPORT,r)})})})(new Response);const Xse=async t=>{if(t==null)return 0;if(te.isBlob(t))return t.size;if(te.isSpecCompliantForm(t))return(await new Request(qn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(te.isArrayBufferView(t)||te.isArrayBuffer(t))return t.byteLength;if(te.isURLSearchParams(t)&&(t=t+""),te.isString(t))return(await Wse(t)).byteLength},Kse=async(t,e)=>{const n=te.toFiniteNumber(t.getContentLength());return n??Xse(e)},qse=zg&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:f="same-origin",fetchOptions:d}=KB(t);u=u?(u+"").toLowerCase():"text";let h=Hse([i,o&&o.toAbortSignal()],s),p;const y=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let v;try{if(l&&Yse&&n!=="get"&&n!=="head"&&(v=await Kse(c,r))!==0){let x=new Request(e,{method:"POST",body:r,duplex:"half"}),w;if(te.isFormData(r)&&(w=x.headers.get("content-type"))&&c.setContentType(w),x.body){const[E,S]=CA(v,c0(AA(l)));r=PA(x.body,IA,E,S)}}te.isString(f)||(f=f?"include":"omit");const g="credentials"in Request.prototype;p=new Request(e,{...d,signal:h,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:g?f:void 0});let m=await fetch(p,d);const _=v_&&(u==="stream"||u==="response");if(v_&&(a||_&&y)){const x={};["status","statusText","headers"].forEach(P=>{x[P]=m[P]});const w=te.toFiniteNumber(m.headers.get("content-length")),[E,S]=a&&CA(w,c0(AA(a),!0))||[];m=new Response(PA(m.body,IA,E,()=>{S&&S(),y&&y()}),x)}u=u||"text";let b=await f0[te.findKey(f0,u)||"text"](m,t);return!_&&y&&y(),await new Promise((x,w)=>{YB(x,w,{data:b,headers:ki.from(m.headers),status:m.status,statusText:m.statusText,config:t,request:p})})}catch(g){throw y&&y(),g&&g.name==="TypeError"&&/Load failed|fetch/i.test(g.message)?Object.assign(new Ye("Network Error",Ye.ERR_NETWORK,t,p),{cause:g.cause||g}):Ye.from(g,g&&g.code,t,p)}}),y_={http:use,xhr:Use,fetch:qse};te.forEach(y_,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const OA=t=>`- ${t}`,Zse=t=>te.isFunction(t)||t===null||t===!1,JB={getAdapter:t=>{t=te.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!Zse(n)&&(r=y_[(s=String(n)).toLowerCase()],r===void 0))throw new Ye(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(OA).join(`
`):" "+OA(o[0]):"as no adapter specified";throw new Ye("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:y_};function rv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new pc(null,t)}function RA(t){return rv(t),t.headers=ki.from(t.headers),t.data=nv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),JB.getAdapter(t.adapter||Dw.adapter)(t).then(function(r){return rv(t),r.data=nv.call(t,t.transformResponse,r),r.headers=ki.from(r.headers),r},function(r){return WB(r)||(rv(t),r&&r.response&&(r.response.data=nv.call(t,t.transformResponse,r.response),r.response.headers=ki.from(r.response.headers))),Promise.reject(r)})}const QB="1.11.0",jg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{jg[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const MA={};jg.transitional=function(e,n,r){function i(o,s){return"[Axios v"+QB+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new Ye(i(s," has been removed"+(n?" in "+n:"")),Ye.ERR_DEPRECATED);return n&&!MA[s]&&(MA[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};jg.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Jse(t,e,n){if(typeof t!="object")throw new Ye("options must be an object",Ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new Ye("option "+o+" must be "+l,Ye.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ye("Unknown option "+o,Ye.ERR_BAD_OPTION)}}const Ip={assertOptions:Jse,validators:jg},ji=Ip.validators;class d0{constructor(e){this.defaults=e||{},this.interceptors={request:new EA,response:new EA}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=pl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Ip.assertOptions(r,{silentJSONParsing:ji.transitional(ji.boolean),forcedJSONParsing:ji.transitional(ji.boolean),clarifyTimeoutError:ji.transitional(ji.boolean)},!1),i!=null&&(te.isFunction(i)?n.paramsSerializer={serialize:i}:Ip.assertOptions(i,{encode:ji.function,serialize:ji.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ip.assertOptions(n,{baseUrl:ji.spelling("baseURL"),withXsrfToken:ji.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&te.merge(o.common,o[n.method]);o&&te.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=ki.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,f=0,d;if(!l){const p=[RA.bind(this),void 0];for(p.unshift(...a),p.push(...u),d=p.length,c=Promise.resolve(n);f<d;)c=c.then(p[f++],p[f++]);return c}d=a.length;let h=n;for(f=0;f<d;){const p=a[f++],y=a[f++];try{h=p(h)}catch(v){y.call(this,v);break}}try{c=RA.call(this,h)}catch(p){return Promise.reject(p)}for(f=0,d=u.length;f<d;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=pl(this.defaults,e);const n=XB(e.baseURL,e.url,e.allowAbsoluteUrls);return VB(n,e.params,e.paramsSerializer)}}te.forEach(["delete","get","head","options"],function(e){d0.prototype[e]=function(n,r){return this.request(pl(r||{},{method:e,url:n,data:(r||{}).data}))}});te.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(pl(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}d0.prototype[e]=n(),d0.prototype[e+"Form"]=n(!0)});const Op=d0;class Bw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new pc(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Bw(function(i){e=i}),cancel:e}}}const Qse=Bw;function eae(t){return function(n){return t.apply(null,n)}}function tae(t){return te.isObject(t)&&t.isAxiosError===!0}const __={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(__).forEach(([t,e])=>{__[e]=t});const nae=__;function e8(t){const e=new Op(t),n=RB(Op.prototype.request,e);return te.extend(n,Op.prototype,e,{allOwnKeys:!0}),te.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return e8(pl(t,i))},n}const pn=e8(Dw);pn.Axios=Op;pn.CanceledError=pc;pn.CancelToken=Qse;pn.isCancel=WB;pn.VERSION=QB;pn.toFormData=Hg;pn.AxiosError=Ye;pn.Cancel=pn.CanceledError;pn.all=function(e){return Promise.all(e)};pn.spread=eae;pn.isAxiosError=tae;pn.mergeConfig=pl;pn.AxiosHeaders=ki;pn.formToJSON=t=>jB(te.isHTMLForm(t)?new FormData(t):t);pn.getAdapter=JB.getAdapter;pn.HttpStatusCode=nae;pn.default=pn;const APe=pn;var V=(t=>(t.Application="application",t.WebGLPipes="webgl-pipes",t.WebGLPipesAdaptor="webgl-pipes-adaptor",t.WebGLSystem="webgl-system",t.WebGPUPipes="webgpu-pipes",t.WebGPUPipesAdaptor="webgpu-pipes-adaptor",t.WebGPUSystem="webgpu-system",t.CanvasSystem="canvas-system",t.CanvasPipesAdaptor="canvas-pipes-adaptor",t.CanvasPipes="canvas-pipes",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t.MaskEffect="mask-effect",t.BlendMode="blend-mode",t.TextureSource="texture-source",t.Environment="environment",t.ShapeBuilder="shape-builder",t.Batcher="batcher",t))(V||{});const b_=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},$h=(t,e)=>b_(t).priority??e,$e={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(b_).forEach(e=>{e.type.forEach(n=>{var r,i;return(i=(r=this._removeHandlers)[n])==null?void 0:i.call(r,e)})}),this},add(...t){return t.map(b_).forEach(e=>{e.type.forEach(n=>{var o,s;const r=this._addHandlers,i=this._queue;r[n]?(s=r[n])==null||s.call(r,e):(i[n]=i[n]||[],(o=i[n])==null||o.push(e))})}),this},handle(t,e,n){var s;const r=this._addHandlers,i=this._removeHandlers;if(r[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);r[t]=e,i[t]=n;const o=this._queue;return o[t]&&((s=o[t])==null||s.forEach(a=>e(a)),delete o[t]),this},handleByMap(t,e){return this.handle(t,n=>{n.name&&(e[n.name]=n.ref)},n=>{n.name&&delete e[n.name]})},handleByNamedList(t,e,n=-1){return this.handle(t,r=>{e.findIndex(o=>o.name===r.name)>=0||(e.push({name:r.name,value:r.ref}),e.sort((o,s)=>$h(s.value,n)-$h(o.value,n)))},r=>{const i=e.findIndex(o=>o.name===r.name);i!==-1&&e.splice(i,1)})},handleByList(t,e,n=-1){return this.handle(t,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,o)=>$h(o,n)-$h(i,n)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})},mixin(t,...e){for(const n of e)Object.defineProperties(t.prototype,Object.getOwnPropertyDescriptors(n))}},rae={extension:{type:V.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Hp(()=>Promise.resolve().then(()=>Uve),void 0)}},iae={extension:{type:V.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Hp(()=>Promise.resolve().then(()=>Gve),void 0)}};class Jt{constructor(e,n,r){this._x=n||0,this._y=r||0,this._observer=e}clone(e){return new Jt(e??this._observer,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var t8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,f||l,d),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,p=new Array(h);d<h;d++)p[d]=f[d].fn;return p},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,d,h,p){var y=n?n+u:u;if(!this._events[y])return!1;var v=this._events[y],g=arguments.length,m,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,f),!0;case 4:return v.fn.call(v.context,c,f,d),!0;case 5:return v.fn.call(v.context,c,f,d,h),!0;case 6:return v.fn.call(v.context,c,f,d,h,p),!0}for(_=1,m=new Array(g-1);_<g;_++)m[_-1]=arguments[_];v.fn.apply(v.context,m)}else{var b=v.length,x;for(_=0;_<b;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),g){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,c);break;case 3:v[_].fn.call(v[_].context,c,f);break;case 4:v[_].fn.call(v[_].context,c,f,d);break;default:if(!m)for(x=1,m=new Array(g-1);x<g;x++)m[x-1]=arguments[x];v[_].fn.apply(v[_].context,m)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,d){var h=n?n+u:u;if(!this._events[h])return this;if(!c)return s(this,h),this;var p=this._events[h];if(p.fn)p.fn===c&&(!d||p.once)&&(!f||p.context===f)&&s(this,h);else{for(var y=0,v=[],g=p.length;y<g;y++)(p[y].fn!==c||d&&!p[y].once||f&&p[y].context!==f)&&v.push(p[y]);v.length?this._events[h]=v.length===1?v[0]:v:s(this,h)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(t8);var oae=t8.exports;const Jr=lc(oae),sae=Math.PI*2,aae=180/Math.PI,lae=Math.PI/180;let Gt=class n8{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new n8(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return iv.x=0,iv.y=0,iv}};const iv=new Gt;class Oe{constructor(e=1,n=0,r=0,i=1,o=0,s=0){this.array=null,this.a=e,this.b=n,this.c=r,this.d=i,this.tx=o,this.ty=s}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,r,i,o,s){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=o,this.ty=s,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,n){n=n||new Gt;const r=e.x,i=e.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n}applyInverse(e,n){n=n||new Gt;const r=this.a,i=this.b,o=this.c,s=this.d,a=this.tx,l=this.ty,u=1/(r*s+o*-i),c=e.x,f=e.y;return n.x=s*u*c+-o*u*f+(l*o-a*s)*u,n.y=r*u*f+-i*u*c+(-l*r+a*i)*u,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.a,o=this.c,s=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=o*n-this.d*r,this.d=o*r+this.d*n,this.tx=s*n-this.ty*r,this.ty=s*r+this.ty*n,this}append(e){const n=this.a,r=this.b,i=this.c,o=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*o,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*o,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*o+this.ty,this}appendFrom(e,n){const r=e.a,i=e.b,o=e.c,s=e.d,a=e.tx,l=e.ty,u=n.a,c=n.b,f=n.c,d=n.d;return this.a=r*u+i*f,this.b=r*c+i*d,this.c=o*u+s*f,this.d=o*c+s*d,this.tx=a*u+l*f+n.tx,this.ty=a*c+l*d+n.ty,this}setTransform(e,n,r,i,o,s,a,l,u){return this.a=Math.cos(a+u)*o,this.b=Math.sin(a+u)*o,this.c=-Math.sin(a-l)*s,this.d=Math.cos(a-l)*s,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,r=this.b,i=this.c,o=this.d,s=e.pivot,a=-Math.atan2(-i,o),l=Math.atan2(r,n),u=Math.abs(a+l);return u<1e-5||Math.abs(sae-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+o*o),e.position.x=this.tx+(s.x*n+s.y*i),e.position.y=this.ty+(s.x*r+s.y*o),e}invert(){const e=this.a,n=this.b,r=this.c,i=this.d,o=this.tx,s=e*i-n*r;return this.a=i/s,this.b=-n/s,this.c=-r/s,this.d=e/s,this.tx=(r*this.ty-i*o)/s,this.ty=-(e*this.ty-n*o)/s,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Oe;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return cae.identity()}static get shared(){return uae.identity()}}const uae=new Oe,cae=new Oe,Ta=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Pa=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ia=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Oa=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],x_=[],r8=[],Uh=Math.sign;function fae(){for(let t=0;t<16;t++){const e=[];x_.push(e);for(let n=0;n<16;n++){const r=Uh(Ta[t]*Ta[n]+Ia[t]*Pa[n]),i=Uh(Pa[t]*Ta[n]+Oa[t]*Pa[n]),o=Uh(Ta[t]*Ia[n]+Ia[t]*Oa[n]),s=Uh(Pa[t]*Ia[n]+Oa[t]*Oa[n]);for(let a=0;a<16;a++)if(Ta[a]===r&&Pa[a]===i&&Ia[a]===o&&Oa[a]===s){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Oe;e.set(Ta[t],Pa[t],Ia[t],Oa[t],0,0),r8.push(e)}}fae();const Et={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Ta[t],uY:t=>Pa[t],vX:t=>Ia[t],vY:t=>Oa[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>x_[t][e],sub:(t,e)=>x_[t][Et.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Et.S:Et.N:Math.abs(e)*2<=Math.abs(t)?t>0?Et.E:Et.W:e>0?t>0?Et.SE:Et.SW:t>0?Et.NE:Et.NW,matrixAppendRotationInv:(t,e,n=0,r=0)=>{const i=r8[Et.inv(e)];i.tx=n,i.ty=r,t.append(i)},transformRectCoords:(t,e,n,r)=>{const{x:i,y:o,width:s,height:a}=t,{x:l,y:u,width:c,height:f}=e;return n===Et.E?(r.set(i+l,o+u,s,a),r):n===Et.S?r.set(c-o-a+l,i+u,a,s):n===Et.W?r.set(c-i-s+l,f-o-a+u,s,a):n===Et.N?r.set(o+l,f-i-s+u,a,s):r.set(i+l,o+u,s,a)}},Gh=[new Gt,new Gt,new Gt,new Gt];class vt{constructor(e=0,n=0,r=0,i=0){this.type="rectangle",this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(i)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new vt(0,0,0,0)}clone(){return new vt(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}strokeContains(e,n,r,i=.5){const{width:o,height:s}=this;if(o<=0||s<=0)return!1;const a=this.x,l=this.y,u=r*(1-i),c=r-u,f=a-u,d=a+o+u,h=l-u,p=l+s+u,y=a+c,v=a+o-c,g=l+c,m=l+s-c;return e>=f&&e<=d&&n>=h&&n<=p&&!(e>y&&e<v&&n>g&&n<m)}intersects(e,n){if(!n){const S=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=S)return!1;const C=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>C}const r=this.left,i=this.right,o=this.top,s=this.bottom;if(i<=r||s<=o)return!1;const a=Gh[0].set(e.left,e.top),l=Gh[1].set(e.left,e.bottom),u=Gh[2].set(e.right,e.top),c=Gh[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const f=Math.sign(n.a*n.d-n.b*n.c);if(f===0||(n.apply(a,a),n.apply(l,l),n.apply(u,u),n.apply(c,c),Math.max(a.x,l.x,u.x,c.x)<=r||Math.min(a.x,l.x,u.x,c.x)>=i||Math.max(a.y,l.y,u.y,c.y)<=o||Math.min(a.y,l.y,u.y,c.y)>=s))return!1;const d=f*(l.y-a.y),h=f*(a.x-l.x),p=d*r+h*o,y=d*i+h*o,v=d*r+h*s,g=d*i+h*s;if(Math.max(p,y,v,g)<=d*a.x+h*a.y||Math.min(p,y,v,g)>=d*c.x+h*c.y)return!1;const m=f*(a.y-u.y),_=f*(u.x-a.x),b=m*r+_*o,x=m*i+_*o,w=m*r+_*s,E=m*i+_*s;return!(Math.max(b,x,w,E)<=m*a.x+_*a.y||Math.min(b,x,w,E)>=m*c.x+_*c.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(o-i,0),this}ceil(e=1,n=.001){const r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this}scale(e,n=e){return this.x*=e,this.y*=n,this.width*=e,this.height*=n,this}enlarge(e){const n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=o-i,this}getBounds(e){return e||(e=new vt),e.copyFrom(this),e}containsRect(e){if(this.width<=0||this.height<=0)return!1;const n=e.x,r=e.y,i=e.x+e.width,o=e.y+e.height;return n>=this.x&&n<this.x+this.width&&r>=this.y&&r<this.y+this.height&&i>=this.x&&i<this.x+this.width&&o>=this.y&&o<this.y+this.height}set(e,n,r,i){return this.x=e,this.y=n,this.width=r,this.height=i,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const ov={default:-1};function Ut(t="default"){return ov[t]===void 0&&(ov[t]=-1),++ov[t]}const DA={},rt="8.0.0",dae="8.3.4";function Fe(t,e,n=3){if(DA[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(r))),DA[e]=!0}const i8=()=>{};function Vu(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function BA(t){return!(t&t-1)&&!!t}function o8(t){const e={};for(const n in t)t[n]!==void 0&&(e[n]=t[n]);return e}const kA=Object.create(null);function hae(t){const e=kA[t];return e===void 0&&(kA[t]=Ut("resource")),e}const s8=class a8 extends Jr{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...a8.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){Fe(rt,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=hae(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};s8.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let vo=s8;const l8=class u8 extends Jr{constructor(e={}){super(),this.options=e,this.uid=Ut("textureSource"),this._resourceType="textureSource",this._resourceId=Ut("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...u8.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new vo(o8(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){var n,r;this.style!==e&&((n=this._style)==null||n.off("change",this._onStyleChange,this),this._style=e,(r=this._style)==null||r.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(e){this._style.maxAnisotropy=e}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Ut("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,n,r){r||(r=this._resolution),e||(e=this.width),n||(n=this.height);const i=Math.round(e*r),o=Math.round(n*r);return this.width=i/r,this.height=o/r,this._resolution=r,this.pixelWidth===i&&this.pixelHeight===o?!1:(this._refreshPOT(),this.pixelWidth=i,this.pixelHeight=o,this.emit("resize",this),this._resourceId=Ut("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=BA(this.pixelWidth)&&BA(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};l8.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Cn=l8;class kw extends Cn{constructor(e){const n=e.resource||new Float32Array(e.width*e.height*4);let r=e.format;r||(n instanceof Float32Array?r="rgba32float":n instanceof Int32Array||n instanceof Uint32Array?r="rgba32uint":n instanceof Int16Array||n instanceof Uint16Array?r="rgba16uint":(n instanceof Int8Array,r="bgra8unorm")),super({...e,resource:n,format:r}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}kw.extension=V.TextureSource;const NA=new Oe;class c8{constructor(e,n){this.mapCoord=new Oe,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof n>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=n,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){var n;this.texture!==e&&((n=this._texture)==null||n.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,n){n===void 0&&(n=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const o=e[i],s=e[i+1];n[i]=o*r.a+s*r.c+r.tx,n[i+1]=o*r.b+s*r.d+r.ty}return n}update(){const e=this._texture;this._updateID++;const n=e.uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const r=e.orig,i=e.trim;i&&(NA.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(NA));const o=e.source,s=this.uClampFrame,a=this.clampMargin/o._resolution,l=this.clampOffset/o._resolution;return s[0]=(e.frame.x+a+l)/o.width,s[1]=(e.frame.y+a+l)/o.height,s[2]=(e.frame.x+e.frame.width-a+l)/o.width,s[3]=(e.frame.y+e.frame.height-a+l)/o.height,this.uClampOffset[0]=this.clampOffset/o.pixelWidth,this.uClampOffset[1]=this.clampOffset/o.pixelHeight,this.isSimple=e.frame.width===o.width&&e.frame.height===o.height&&e.rotate===0,!0}}class Ae extends Jr{constructor({source:e,label:n,frame:r,orig:i,trim:o,defaultAnchor:s,defaultBorders:a,rotate:l,dynamic:u}={}){if(super(),this.uid=Ut("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new vt,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=n,this.source=(e==null?void 0:e.source)??new Cn,this.noFrame=!r,r)this.frame.copyFrom(r);else{const{width:c,height:f}=this._source;this.frame.width=c,this.frame.height=f}this.orig=i||this.frame,this.trim=o,this.rotate=l??0,this.defaultAnchor=s,this.defaultBorders=a,this.destroyed=!1,this.dynamic=u||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new c8(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:n}=this,{width:r,height:i}=this._source,o=n.x/r,s=n.y/i,a=n.width/r,l=n.height/i;let u=this.rotate;if(u){const c=a/2,f=l/2,d=o+c,h=s+f;u=Et.add(u,Et.NW),e.x0=d+c*Et.uX(u),e.y0=h+f*Et.uY(u),u=Et.add(u,2),e.x1=d+c*Et.uX(u),e.y1=h+f*Et.uY(u),u=Et.add(u,2),e.x2=d+c*Et.uX(u),e.y2=h+f*Et.uY(u),u=Et.add(u,2),e.x3=d+c*Et.uX(u),e.y3=h+f*Et.uY(u)}else e.x0=o,e.y0=s,e.x1=o+a,e.y1=s,e.x2=o+a,e.y2=s+l,e.x3=o,e.y3=s+l}destroy(e=!1){this._source&&e&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return Fe(rt,"Texture.baseTexture is now Texture.source"),this._source}}Ae.EMPTY=new Ae({label:"EMPTY",source:new Cn({label:"EMPTY"})});Ae.EMPTY.destroy=i8;Ae.WHITE=new Ae({source:new kw({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Ae.WHITE.destroy=i8;function f8(t,e,n){const{width:r,height:i}=n.orig,o=n.trim;if(o){const s=o.width,a=o.height;t.minX=o.x-e._x*r,t.maxX=t.minX+s,t.minY=o.y-e._y*i,t.maxY=t.minY+a}else t.minX=-e._x*r,t.maxX=t.minX+r,t.minY=-e._y*i,t.maxY=t.minY+i}const FA=new Oe;class Vn{constructor(e=1/0,n=1/0,r=-1/0,i=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=FA,this.minX=e,this.minY=n,this.maxX=r,this.maxY=i}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new vt);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=FA,this}set(e,n,r,i){this.minX=e,this.minY=n,this.maxX=r,this.maxY=i}addFrame(e,n,r,i,o){o||(o=this.matrix);const s=o.a,a=o.b,l=o.c,u=o.d,c=o.tx,f=o.ty;let d=this.minX,h=this.minY,p=this.maxX,y=this.maxY,v=s*e+l*n+c,g=a*e+u*n+f;v<d&&(d=v),g<h&&(h=g),v>p&&(p=v),g>y&&(y=g),v=s*r+l*n+c,g=a*r+u*n+f,v<d&&(d=v),g<h&&(h=g),v>p&&(p=v),g>y&&(y=g),v=s*e+l*i+c,g=a*e+u*i+f,v<d&&(d=v),g<h&&(h=g),v>p&&(p=v),g>y&&(y=g),v=s*r+l*i+c,g=a*r+u*i+f,v<d&&(d=v),g<h&&(h=g),v>p&&(p=v),g>y&&(y=g),this.minX=d,this.minY=h,this.maxX=p,this.maxY=y}addRect(e,n){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,n)}addBounds(e,n){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,n)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const n=this.minX,r=this.minY,i=this.maxX,o=this.maxY,{a:s,b:a,c:l,d:u,tx:c,ty:f}=e;let d=s*n+l*r+c,h=a*n+u*r+f;this.minX=d,this.minY=h,this.maxX=d,this.maxY=h,d=s*i+l*r+c,h=a*i+u*r+f,this.minX=d<this.minX?d:this.minX,this.minY=h<this.minY?h:this.minY,this.maxX=d>this.maxX?d:this.maxX,this.maxY=h>this.maxY?h:this.maxY,d=s*n+l*o+c,h=a*n+u*o+f,this.minX=d<this.minX?d:this.minX,this.minY=h<this.minY?h:this.minY,this.maxX=d>this.maxX?d:this.maxX,this.maxY=h>this.maxY?h:this.maxY,d=s*i+l*o+c,h=a*i+u*o+f,this.minX=d<this.minX?d:this.minX,this.minY=h<this.minY?h:this.minY,this.maxX=d>this.maxX?d:this.maxX,this.maxY=h>this.maxY?h:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,n,r,i){return this.minX<e&&(this.minX=e),this.maxX>n&&(this.maxX=n),this.minY<r&&(this.minY=r),this.maxY>i&&(this.maxY=i),this}pad(e,n=e){return this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Vn(this.minX,this.minY,this.maxX,this.maxY)}scale(e,n=e){return this.minX*=e,this.minY*=n,this.maxX*=e,this.maxY*=n,this}get x(){return this.minX}set x(e){const n=this.maxX-this.minX;this.minX=e,this.maxX=e+n}get y(){return this.minY}set y(e){const n=this.maxY-this.minY;this.minY=e,this.maxY=e+n}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,n,r,i){let o=this.minX,s=this.minY,a=this.maxX,l=this.maxY;i||(i=this.matrix);const u=i.a,c=i.b,f=i.c,d=i.d,h=i.tx,p=i.ty;for(let y=n;y<r;y+=2){const v=e[y],g=e[y+1],m=u*v+f*g+h,_=c*v+d*g+p;o=m<o?m:o,s=_<s?_:s,a=m>a?m:a,l=_>l?_:l}this.minX=o,this.minY=s,this.maxX=a,this.maxY=l}containsPoint(e,n){return this.minX<=e&&this.minY<=n&&this.maxX>=e&&this.maxY>=n}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}var pae={grad:.9,turn:360,rad:360/(2*Math.PI)},Io=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},On=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},ci=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},d8=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},LA=function(t){return{r:ci(t.r,0,255),g:ci(t.g,0,255),b:ci(t.b,0,255),a:ci(t.a)}},sv=function(t){return{r:On(t.r),g:On(t.g),b:On(t.b),a:On(t.a,3)}},gae=/^#([0-9a-f]{3,8})$/i,Hh=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},h8=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,o=Math.max(e,n,r),s=o-Math.min(e,n,r),a=s?o===e?(n-r)/s:o===n?2+(r-e)/s:4+(e-n)/s:0;return{h:60*(a<0?a+6:a),s:o?s/o*100:0,v:o/255*100,a:i}},p8=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var o=Math.floor(e),s=r*(1-n),a=r*(1-(e-o)*n),l=r*(1-(1-e+o)*n),u=o%6;return{r:255*[r,a,s,s,l,r][u],g:255*[l,r,r,a,s,s][u],b:255*[s,s,l,r,r,a][u],a:i}},$A=function(t){return{h:d8(t.h),s:ci(t.s,0,100),l:ci(t.l,0,100),a:ci(t.a)}},UA=function(t){return{h:On(t.h),s:On(t.s),l:On(t.l),a:On(t.a,3)}},GA=function(t){return p8((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},bf=function(t){return{h:(e=h8(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},mae=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,vae=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,yae=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_ae=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,w_={string:[[function(t){var e=gae.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?On(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?On(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=yae.exec(t)||_ae.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:LA({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=mae.exec(t)||vae.exec(t);if(!e)return null;var n,r,i=$A({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(pae[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return GA(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,o=i===void 0?1:i;return Io(e)&&Io(n)&&Io(r)?LA({r:Number(e),g:Number(n),b:Number(r),a:Number(o)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,o=i===void 0?1:i;if(!Io(e)||!Io(n)||!Io(r))return null;var s=$A({h:Number(e),s:Number(n),l:Number(r),a:Number(o)});return GA(s)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,o=i===void 0?1:i;if(!Io(e)||!Io(n)||!Io(r))return null;var s=function(a){return{h:d8(a.h),s:ci(a.s,0,100),v:ci(a.v,0,100),a:ci(a.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(o)});return p8(s)},"hsv"]]},HA=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},bae=function(t){return typeof t=="string"?HA(t.trim(),w_.string):typeof t=="object"&&t!==null?HA(t,w_.object):[null,void 0]},av=function(t,e){var n=bf(t);return{h:n.h,s:ci(n.s+100*e,0,100),l:n.l,a:n.a}},lv=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},VA=function(t,e){var n=bf(t);return{h:n.h,s:n.s,l:ci(n.l+100*e,0,100),a:n.a}},E_=function(){function t(e){this.parsed=bae(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return On(lv(this.rgba),2)},t.prototype.isDark=function(){return lv(this.rgba)<.5},t.prototype.isLight=function(){return lv(this.rgba)>=.5},t.prototype.toHex=function(){return e=sv(this.rgba),n=e.r,r=e.g,i=e.b,s=(o=e.a)<1?Hh(On(255*o)):"","#"+Hh(n)+Hh(r)+Hh(i)+s;var e,n,r,i,o,s},t.prototype.toRgb=function(){return sv(this.rgba)},t.prototype.toRgbString=function(){return e=sv(this.rgba),n=e.r,r=e.g,i=e.b,(o=e.a)<1?"rgba("+n+", "+r+", "+i+", "+o+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,o},t.prototype.toHsl=function(){return UA(bf(this.rgba))},t.prototype.toHslString=function(){return e=UA(bf(this.rgba)),n=e.h,r=e.s,i=e.l,(o=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+o+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,o},t.prototype.toHsv=function(){return e=h8(this.rgba),{h:On(e.h),s:On(e.s),v:On(e.v),a:On(e.a,3)};var e},t.prototype.invert=function(){return Yi({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Yi(av(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Yi(av(this.rgba,-e))},t.prototype.grayscale=function(){return Yi(av(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Yi(VA(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Yi(VA(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Yi({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):On(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=bf(this.rgba);return typeof e=="number"?Yi({h:e,s:n.s,l:n.l,a:n.a}):On(n.h)},t.prototype.isEqual=function(e){return this.toHex()===Yi(e).toHex()},t}(),Yi=function(t){return t instanceof E_?t:new E_(t)},zA=[],xae=function(t){t.forEach(function(e){zA.indexOf(e)<0&&(e(E_,w_),zA.push(e))})};function wae(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var o={};t.prototype.toName=function(s){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=r[this.toHex()];if(u)return u;if(s!=null&&s.closest){var c=this.toRgb(),f=1/0,d="black";if(!o.length)for(var h in n)o[h]=new t(n[h]).toRgb();for(var p in n){var y=(a=c,l=o[p],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));y<f&&(f=y,d=p)}return d}},e.string.push([function(s){var a=s.toLowerCase(),l=a==="transparent"?"#0000":n[a];return l?new t(l).toRgb():null},"name"])}xae([wae]);const zu=class Zc{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Zc)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,n){const r=typeof e;if(r!==typeof n)return!1;if(r==="number"||r==="string"||e instanceof Number)return e===n;if(Array.isArray(e)&&Array.isArray(n)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(n))return e.length!==n.length?!1:e.every((o,s)=>o===n[s]);if(e!==null&&n!==null){const o=Object.keys(e),s=Object.keys(n);return o.length!==s.length?!1:o.every(a=>e[a]===n[a])}return e===n}toRgba(){const[e,n,r,i]=this._components;return{r:e,g:n,b:r,a:i}}toRgb(){const[e,n,r]=this._components;return{r:e,g:n,b:r}}toRgbaString(){const[e,n,r]=this.toUint8RgbArray();return`rgba(${e},${n},${r},${this.alpha})`}toUint8RgbArray(e){const[n,r,i]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(n*255),e[1]=Math.round(r*255),e[2]=Math.round(i*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[n,r,i,o]=this._components;return e[0]=n,e[1]=r,e[2]=i,e[3]=o,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[n,r,i]=this._components;return e[0]=n,e[1]=r,e[2]=i,e}toNumber(){return this._int}toBgrNumber(){const[e,n,r]=this.toUint8RgbArray();return(r<<16)+(n<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[n,r,i,o]=Zc._temp.setValue(e)._components;return this._components[0]*=n,this._components[1]*=r,this._components[2]*=i,this._components[3]*=o,this._refreshInt(),this._value=null,this}premultiply(e,n=!0){return n&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,n=!0){if(e===1)return(255<<24)+this._int;if(e===0)return n?0:this._int;let r=this._int>>16&255,i=this._int>>8&255,o=this._int&255;return n&&(r=r*e+.5|0,i=i*e+.5|0,o=o*e+.5|0),(e*255<<24)+(r<<16)+(i<<8)+o}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const n=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-n.length)+n}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let n,r,i,o;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const s=e;n=(s>>16&255)/255,r=(s>>8&255)/255,i=(s&255)/255,o=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[n,r,i,o=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[n,r,i,o=255]=e,n/=255,r/=255,i/=255,o/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=Zc.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const s=Yi(e);s.isValid()&&({r:n,g:r,b:i,a:o}=s.rgba,n/=255,r/=255,i/=255)}if(n!==void 0)this._components[0]=n,this._components[1]=r,this._components[2]=i,this._components[3]=o,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,n,r]=this._components;this._int=(e*255<<16)+(n*255<<8)+(r*255|0)}_clamp(e,n=0,r=1){return typeof e=="number"?Math.min(Math.max(e,n),r):(e.forEach((i,o)=>{e[o]=Math.min(Math.max(i,n),r)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof Zc||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};zu.shared=new zu;zu._temp=new zu;zu.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Rt=zu;const Eae={cullArea:null,cullable:!1,cullableChildren:!0};let uv=0;const jA=500;function Ne(...t){uv!==jA&&(uv++,uv===jA?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...t))}class Nw{constructor(e,n){this._pool=[],this._count=0,this._index=0,this._classType=e,n&&this.prepopulate(n)}prepopulate(e){for(let n=0;n<e;n++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){var r;let n;return this._index>0?n=this._pool[--this._index]:n=new this._classType,(r=n.init)==null||r.call(n,e),n}return(e){var n;(n=e.reset)==null||n.call(e),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class Sae{constructor(){this._poolsByClass=new Map}prepopulate(e,n){this.getPool(e).prepopulate(n)}get(e,n){return this.getPool(e).get(n)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new Nw(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(n=>{const r=e[n._classType.name]?n._classType.name+n._classType.ID:n._classType.name;e[r]={free:n.totalFree,used:n.totalUsed,size:n.totalSize}}),e}}const Hn=new Sae,Cae={get isCachedAsTexture(){var t;return!!((t=this.renderGroup)!=null&&t.isCachedAsTexture)},cacheAsTexture(t){typeof t=="boolean"&&t===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(t===!0?{}:t))},updateCacheTexture(){var t;(t=this.renderGroup)==null||t.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(t){Fe("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(t)}};function g8(t,e,n){const r=t.length;let i;if(e>=r||n===0)return;n=e+n>r?r-e:n;const o=r-n;for(i=e;i<o;++i)t[i]=t[i+n];t.length=o}const Aae={allowChildren:!0,removeChildren(t=0,e){var o;const n=e??this.children.length,r=n-t,i=[];if(r>0&&r<=n){for(let a=n-1;a>=t;a--){const l=this.children[a];l&&(i.push(l),l.parent=null)}g8(this.children,t,n);const s=this.renderGroup||this.parentRenderGroup;s&&s.removeChildren(i);for(let a=0;a<i.length;++a){const l=i[a];(o=l.parentRenderLayer)==null||o.detach(l),this.emit("childRemoved",l,this,a),i[a].emit("removed",this)}return i.length>0&&this._didViewChangeTick++,i}else if(r===0&&this.children.length===0)return i;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(t){const e=this.getChildAt(t);return this.removeChild(e)},getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]},setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(t),this.addChildAt(t,e)},getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(t,e){this.allowChildren||Fe(rt,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:n}=this;if(e<0||e>n.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${n.length}`);if(t.parent){const i=t.parent.children.indexOf(t);if(t.parent===this&&i===e)return t;i!==-1&&t.parent.children.splice(i,1)}e===n.length?n.push(t):n.splice(e,0,t),t.parent=this,t.didChange=!0,t._updateFlags=15;const r=this.renderGroup||this.parentRenderGroup;return r&&r.addChild(t),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",t,this,e),t.emit("added",this),t},swapChildren(t,e){if(t===e)return;const n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t;const i=this.renderGroup||this.parentRenderGroup;i&&(i.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var t;(t=this.parent)==null||t.removeChild(this)},reparentChild(...t){return t.length===1?this.reparentChildAt(t[0],this.children.length):(t.forEach(e=>this.reparentChildAt(e,this.children.length)),t[0])},reparentChildAt(t,e){if(t.parent===this)return this.setChildIndex(t,e),t;const n=t.worldTransform.clone();t.removeFromParent(),this.addChildAt(t,e);const r=this.worldTransform.clone();return r.invert(),n.prepend(r),t.setFromMatrix(n),t},replaceChild(t,e){t.updateLocalTransform(),this.addChildAt(e,this.getChildIndex(t)),e.setFromMatrix(t.localTransform),e.updateLocalTransform(),this.removeChild(t)}},Tae={collectRenderables(t,e,n){this.parentRenderLayer&&this.parentRenderLayer!==n||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(t,e,n):this.renderGroup?e.renderPipes.renderGroup.addRenderGroup(this.renderGroup,t):this.collectRenderablesWithEffects(t,e,n))},collectRenderablesSimple(t,e,n){const r=this.children,i=r.length;for(let o=0;o<i;o++)r[o].collectRenderables(t,e,n)},collectRenderablesWithEffects(t,e,n){const{renderPipes:r}=e;for(let i=0;i<this.effects.length;i++){const o=this.effects[i];r[o.pipe].push(o,this,t)}this.collectRenderablesSimple(t,e,n);for(let i=this.effects.length-1;i>=0;i--){const o=this.effects[i];r[o.pipe].pop(o,this,t)}}};class h0{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class Pae{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let n=0;n<this._tests.length;n++){const r=this._tests[n];if(r.test(e))return Hn.get(r.maskClass,e)}return e}returnMaskEffect(e){Hn.return(e)}}const S_=new Pae;$e.handleByList(V.MaskEffect,S_._effectClasses);const Iae={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const t=this.renderGroup||this.parentRenderGroup;t&&(t.structureDidChange=!0)},addEffect(t){this.effects.indexOf(t)===-1&&(this.effects.push(t),this.effects.sort((n,r)=>n.priority-r.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(t){const e=this.effects.indexOf(t);e!==-1&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(t){const e=this._maskEffect;(e==null?void 0:e.mask)!==t&&(e&&(this.removeEffect(e),S_.returnMaskEffect(e),this._maskEffect=null),t!=null&&(this._maskEffect=S_.getMaskEffect(t),this.addEffect(this._maskEffect)))},get mask(){var t;return(t=this._maskEffect)==null?void 0:t.mask},setMask(t){this._maskOptions={...this._maskOptions,...t},t.mask&&(this.mask=t.mask),this._markStructureAsChanged()},set filters(t){var o;!Array.isArray(t)&&t&&(t=[t]);const e=this._filterEffect||(this._filterEffect=new h0);t=t;const n=(t==null?void 0:t.length)>0,r=((o=e.filters)==null?void 0:o.length)>0,i=n!==r;t=Array.isArray(t)?t.slice(0):t,e.filters=Object.freeze(t),i&&(n?this.addEffect(e):(this.removeEffect(e),e.filters=t??null))},get filters(){var t;return(t=this._filterEffect)==null?void 0:t.filters},set filterArea(t){this._filterEffect||(this._filterEffect=new h0),this._filterEffect.filterArea=t},get filterArea(){var t;return(t=this._filterEffect)==null?void 0:t.filterArea}},Oae={label:null,get name(){return Fe(rt,"Container.name property has been removed, use Container.label instead"),this.label},set name(t){Fe(rt,"Container.name property has been removed, use Container.label instead"),this.label=t},getChildByName(t,e=!1){return this.getChildByLabel(t,e)},getChildByLabel(t,e=!1){const n=this.children;for(let r=0;r<n.length;r++){const i=n[r];if(i.label===t||t instanceof RegExp&&t.test(i.label))return i}if(e)for(let r=0;r<n.length;r++){const o=n[r].getChildByLabel(t,!0);if(o)return o}return null},getChildrenByLabel(t,e=!1,n=[]){const r=this.children;for(let i=0;i<r.length;i++){const o=r[i];(o.label===t||t instanceof RegExp&&t.test(o.label))&&n.push(o)}if(e)for(let i=0;i<r.length;i++)r[i].getChildrenByLabel(t,!0,n);return n}},fr=new Nw(Oe),Yo=new Nw(Vn),Rae=new Oe,Mae={getFastGlobalBounds(t,e){e||(e=new Vn),e.clear(),this._getGlobalBoundsRecursive(!!t,e,this.parentRenderLayer),e.isValid||e.set(0,0,0,0);const n=this.renderGroup||this.parentRenderGroup;return e.applyMatrix(n.worldTransform),e},_getGlobalBoundsRecursive(t,e,n){let r=e;if(t&&this.parentRenderLayer&&this.parentRenderLayer!==n||this.localDisplayStatus!==7||!this.measurable)return;const i=!!this.effects.length;if((this.renderGroup||i)&&(r=Yo.get().clear()),this.boundsArea)e.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const s=this.bounds;r.addFrame(s.minX,s.minY,s.maxX,s.maxY,this.groupTransform)}const o=this.children;for(let s=0;s<o.length;s++)o[s]._getGlobalBoundsRecursive(t,r,n)}if(i){let o=!1;const s=this.renderGroup||this.parentRenderGroup;for(let a=0;a<this.effects.length;a++)this.effects[a].addBounds&&(o||(o=!0,r.applyMatrix(s.worldTransform)),this.effects[a].addBounds(r,!0));o&&r.applyMatrix(s.worldTransform.copyTo(Rae).invert()),e.addBounds(r),Yo.return(r)}else this.renderGroup&&(e.addBounds(r,this.relativeGroupTransform),Yo.return(r))}};function Fw(t,e,n){n.clear();let r,i;return t.parent?e?r=t.parent.worldTransform:(i=fr.get().identity(),r=Lw(t,i)):r=Oe.IDENTITY,m8(t,n,r,e),i&&fr.return(i),n.isValid||n.set(0,0,0,0),n}function m8(t,e,n,r){var a,l;if(!t.visible||!t.measurable)return;let i;r?i=t.worldTransform:(t.updateLocalTransform(),i=fr.get(),i.appendFrom(t.localTransform,n));const o=e,s=!!t.effects.length;if(s&&(e=Yo.get().clear()),t.boundsArea)e.addRect(t.boundsArea,i);else{t.bounds&&(e.matrix=i,e.addBounds(t.bounds));for(let u=0;u<t.children.length;u++)m8(t.children[u],e,i,r)}if(s){for(let u=0;u<t.effects.length;u++)(l=(a=t.effects[u]).addBounds)==null||l.call(a,e);o.addBounds(e,Oe.IDENTITY),Yo.return(e)}r||fr.return(i)}function Lw(t,e){const n=t.parent;return n&&(Lw(n,e),n.updateLocalTransform(),e.append(n.localTransform)),e}function v8(t,e){if(t===16777215||!e)return e;if(e===16777215||!t)return t;const n=t>>16&255,r=t>>8&255,i=t&255,o=e>>16&255,s=e>>8&255,a=e&255,l=n*o/255|0,u=r*s/255|0,c=i*a/255|0;return(l<<16)+(u<<8)+c}const WA=16777215;function p0(t,e){return t===WA?e:e===WA?t:v8(t,e)}function xf(t){return((t&255)<<16)+(t&65280)+(t>>16&255)}const Dae={getGlobalAlpha(t){if(t)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,n=this.parent;for(;n;)e*=n.alpha,n=n.parent;return e},getGlobalTransform(t=new Oe,e){if(e)return t.copyFrom(this.worldTransform);this.updateLocalTransform();const n=Lw(this,fr.get().identity());return t.appendFrom(this.localTransform,n),fr.return(n),t},getGlobalTint(t){if(t)return this.renderGroup?xf(this.renderGroup.worldColor):this.parentRenderGroup?xf(p0(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,n=this.parent;for(;n;)e=p0(e,n.localColor),n=n.parent;return xf(e)}};function $w(t,e,n){return e.clear(),n||(n=Oe.IDENTITY),y8(t,e,n,t,!0),e.isValid||e.set(0,0,0,0),e}function y8(t,e,n,r,i){var l,u;let o;if(i)o=fr.get(),o=n.copyTo(o);else{if(!t.visible||!t.measurable)return;t.updateLocalTransform();const c=t.localTransform;o=fr.get(),o.appendFrom(c,n)}const s=e,a=!!t.effects.length;if(a&&(e=Yo.get().clear()),t.boundsArea)e.addRect(t.boundsArea,o);else{t.renderPipeId&&(e.matrix=o,e.addBounds(t.bounds));const c=t.children;for(let f=0;f<c.length;f++)y8(c[f],e,o,r,!1)}if(a){for(let c=0;c<t.effects.length;c++)(u=(l=t.effects[c]).addLocalBounds)==null||u.call(l,e,r);s.addBounds(e,Oe.IDENTITY),Yo.return(e)}fr.return(o)}function _8(t,e){const n=t.children;for(let r=0;r<n.length;r++){const i=n[r],o=i.uid,s=(i._didViewChangeTick&65535)<<16|i._didContainerChangeTick&65535,a=e.index;(e.data[a]!==o||e.data[a+1]!==s)&&(e.data[e.index]=o,e.data[e.index+1]=s,e.didChange=!0),e.index=a+2,i.children.length&&_8(i,e)}return e.didChange}const Bae=new Oe,kae={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(t,e){const n=Math.sign(this.scale.x)||1;e!==0?this.scale.x=t/e*n:this.scale.x=n},_setHeight(t,e){const n=Math.sign(this.scale.y)||1;e!==0?this.scale.y=t/e*n:this.scale.y=n},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Vn});const t=this._localBoundsCacheData;return t.index=1,t.didChange=!1,t.data[0]!==this._didViewChangeTick&&(t.didChange=!0,t.data[0]=this._didViewChangeTick),_8(this,t),t.didChange&&$w(this,t.localBounds,Bae),t.localBounds},getBounds(t,e){return Fw(this,t,e||new Vn)}},Nae={_onRender:null,set onRender(t){const e=this.renderGroup||this.parentRenderGroup;if(!t){this._onRender&&(e==null||e.removeOnRender(this)),this._onRender=null;return}this._onRender||e==null||e.addOnRender(this),this._onRender=t},get onRender(){return this._onRender}},Fae={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(Lae))}};function Lae(t,e){return t._zIndex-e._zIndex}const $ae={getGlobalPosition(t=new Gt,e=!1){return this.parent?this.parent.toGlobal(this._position,t,e):(t.x=this._position.x,t.y=this._position.y),t},toGlobal(t,e,n=!1){const r=this.getGlobalTransform(fr.get(),n);return e=r.apply(t,e),fr.return(r),e},toLocal(t,e,n,r){e&&(t=e.toGlobal(t,n,r));const i=this.getGlobalTransform(fr.get(),r);return n=i.applyInverse(t,n),fr.return(i),n}};class b8{constructor(){this.uid=Ut("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let Uae=0;class Gae{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this.textureStyle=new vo(this.textureOptions)}createTexture(e,n,r){const i=new Cn({...this.textureOptions,width:e,height:n,resolution:1,antialias:r,autoGarbageCollect:!1});return new Ae({source:i,label:`texturePool_${Uae++}`})}getOptimalTexture(e,n,r=1,i){let o=Math.ceil(e*r-1e-6),s=Math.ceil(n*r-1e-6);o=Vu(o),s=Vu(s);const a=(o<<17)+(s<<1)+(i?1:0);this._texturePool[a]||(this._texturePool[a]=[]);let l=this._texturePool[a].pop();return l||(l=this.createTexture(o,s,i)),l.source._resolution=r,l.source.width=o/r,l.source.height=s/r,l.source.pixelWidth=o,l.source.pixelHeight=s,l.frame.x=0,l.frame.y=0,l.frame.width=e,l.frame.height=n,l.updateUvs(),this._poolKeyHash[l.uid]=a,l}getSameSizeTexture(e,n=!1){const r=e.source;return this.getOptimalTexture(e.width,e.height,r._resolution,n)}returnTexture(e,n=!1){const r=this._poolKeyHash[e.uid];n&&(e.source.style=this.textureStyle),this._texturePool[r].push(e)}clear(e){if(e=e!==!1,e)for(const n in this._texturePool){const r=this._texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this._texturePool={}}}const un=new Gae;class Hae{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Oe,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new b8,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const n=e.children;for(let r=0;r<n.length;r++){const i=n[r];i._updateFlags=15,this.addChild(i)}}enableCacheAsTexture(e={}){this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(un.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const n=this.childrenToUpdate[e];n.list.fill(null),n.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const n=this.renderGroupChildren.indexOf(e);n>-1&&this.renderGroupChildren.splice(n,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const n=e.children;for(let r=0;r<n.length;r++)this.addChild(n[r])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const n=e.children;for(let r=0;r<n.length;r++)this.removeChild(n[r])}removeChildren(e){for(let n=0;n<e.length;n++)this.removeChild(e[n])}onChildUpdate(e){let n=this.childrenToUpdate[e.relativeRenderGroupDepth];n||(n=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),n.list[n.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(e){for(let n=0;n<this._onRenderContainers.length;n++)this._onRenderContainers[n]._onRender(e)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const n=this.root.children;for(let r=0;r<n.length;r++)this._getChildren(n[r],e);return e}_getChildren(e,n=[]){if(n.push(e),e.renderGroup)return n;const r=e.children;for(let i=0;i<r.length;i++)this._getChildren(r[i],n);return n}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return this._matrixDirty&1?(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Oe),this._inverseWorldTransform.copyFrom(this.worldTransform).invert()):this._inverseWorldTransform}get textureOffsetInverseTransform(){return this._matrixDirty&2?(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Oe),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y)):this._textureOffsetInverseTransform}get inverseParentTextureTransform(){if(!(this._matrixDirty&4))return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Oe),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function C_(t,e,n={}){for(const r in e)!n[r]&&e[r]!==void 0&&(t[r]=e[r])}const cv=new Jt(null),Vh=new Jt(null),fv=new Jt(null,1,1),zh=new Jt(null),g0=1,Uw=2,wf=4;class Xr extends Jr{constructor(e={}){var n,r;super(),this.uid=Ut("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new Oe,this.relativeGroupTransform=new Oe,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Jt(this,0,0),this._scale=fv,this._pivot=Vh,this._origin=zh,this._skew=cv,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],C_(this,e,{children:!0,parent:!0,effects:!0}),(n=e.children)==null||n.forEach(i=>this.addChild(i)),(r=e.parent)==null||r.addChild(this)}static mixin(e){Fe("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),$e.mixin(Xr,e)}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||Fe(rt,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let i=0;i<e.length;i++)this.addChild(e[i]);return e[0]}const n=e[0],r=this.renderGroup||this.parentRenderGroup;return n.parent===this?(this.children.splice(this.children.indexOf(n),1),this.children.push(n),r&&(r.structureDidChange=!0),n):(n.parent&&n.parent.removeChild(n),this.children.push(n),this.sortableChildren&&(this.sortDirty=!0),n.parent=this,n.didChange=!0,n._updateFlags=15,r&&r.addChild(n),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this),this._didViewChangeTick++,n._zIndex!==0&&n.depthOfChildModified(),n)}removeChild(...e){if(e.length>1){for(let i=0;i<e.length;i++)this.removeChild(e[i]);return e[0]}const n=e[0],r=this.children.indexOf(n);return r>-1&&(this._didViewChangeTick++,this.children.splice(r,1),this.renderGroup?this.renderGroup.removeChild(n):this.parentRenderGroup&&this.parentRenderGroup.removeChild(n),n.parentRenderLayer&&n.parentRenderLayer.detach(n),n.parent=null,this.emit("childRemoved",n,this,r),n.emit("removed",this)),n}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),this.renderGroup=Hn.get(Hae,this),this.groupTransform=Oe.IDENTITY,e==null||e.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),Hn.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e==null||e.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Oe),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*aae}set angle(e){this.rotation=e*lae}get pivot(){return this._pivot===Vh&&(this._pivot=new Jt(this,0,0)),this._pivot}set pivot(e){this._pivot===Vh&&(this._pivot=new Jt(this,0,0),this._origin!==zh&&Ne("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===cv&&(this._skew=new Jt(this,0,0)),this._skew}set skew(e){this._skew===cv&&(this._skew=new Jt(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===fv&&(this._scale=new Jt(this,1,1)),this._scale}set scale(e){this._scale===fv&&(this._scale=new Jt(this,0,0)),typeof e=="string"&&(e=parseFloat(e)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get origin(){return this._origin===zh&&(this._origin=new Jt(this,0,0)),this._origin}set origin(e){this._origin===zh&&(this._origin=new Jt(this,0,0),this._pivot!==Vh&&Ne("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._origin.set(e):this._origin.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const n=this.getLocalBounds().width;this._setWidth(e,n)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const n=this.getLocalBounds().height;this._setHeight(e,n)}getSize(e){e||(e={});const n=this.getLocalBounds();return e.width=Math.abs(this.scale.x*n.width),e.height=Math.abs(this.scale.y*n.height),e}setSize(e,n){const r=this.getLocalBounds();typeof e=="object"?(n=e.height??e.width,e=e.width):n??(n=e),e!==void 0&&this._setWidth(e,r.width),n!==void 0&&this._setHeight(n,r.height)}_updateSkew(){const e=this._rotation,n=this._skew;this._cx=Math.cos(e+n._y),this._sx=Math.sin(e+n._y),this._cy=-Math.sin(e-n._x),this._sy=Math.cos(e-n._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this.origin.set(typeof e.originX=="number"?e.originX:this.origin.x,typeof e.originY=="number"?e.originY:this.origin.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const n=this.localTransform,r=this._scale,i=this._pivot,o=this._origin,s=this._position,a=r._x,l=r._y,u=i._x,c=i._y,f=-o._x,d=-o._y;n.a=this._cx*a,n.b=this._sx*a,n.c=this._cy*l,n.d=this._sy*l,n.tx=s._x-(u*n.a+c*n.c)+(f*n.a+d*n.c)-f,n.ty=s._y-(u*n.b+c*n.d)+(f*n.b+d*n.d)-d}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=g0,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const r=Rt.shared.setValue(e??16777215).toBgrNumber();r!==this.localColor&&(this.localColor=r,this._updateFlags|=g0,this._onUpdate())}get tint(){return xf(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Uw,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const n=e?2:0;(this.localDisplayStatus&2)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=wf,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const n=e?0:4;(this.localDisplayStatus&4)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=wf,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const n=e?1:0;(this.localDisplayStatus&1)!==n&&(this._updateFlags|=wf,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){var i;if(this.destroyed)return;this.destroyed=!0;let n;if(this.children.length&&(n=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e==null?void 0:e.children)&&n)for(let o=0;o<n.length;++o)n[o].destroy(e);(i=this.renderGroup)==null||i.destroy(),this.renderGroup=null}}$e.mixin(Xr,Aae,Mae,$ae,Nae,kae,Iae,Oae,Fae,Eae,Cae,Dae,Tae);class Hd extends Xr{constructor(e){super(e),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new Vn(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const n=this.bounds,{x:r,y:i}=e;return r>=n.minX&&r<=n.maxX&&i>=n.minY&&i<=n.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){var n,r;super.destroy(e),this._bounds=null;for(const i in this._gpuData)(r=(n=this._gpuData[i]).destroy)==null||r.call(n);this._gpuData=null}collectRenderablesSimple(e,n,r){const{renderPipes:i}=n;i.blendMode.setBlendMode(this,this.groupBlendMode,e),i[this.renderPipeId].addRenderable(this,e),this.didViewUpdate=!1;const s=this.children,a=s.length;for(let l=0;l<a;l++)s[l].collectRenderables(e,n,r)}}class gl extends Hd{constructor(e=Ae.EMPTY){e instanceof Ae&&(e={texture:e});const{texture:n=Ae.EMPTY,anchor:r,roundPixels:i,width:o,height:s,...a}=e;super({label:"Sprite",...a}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new Jt({_onUpdate:()=>{this.onViewUpdate()}}),r?this.anchor=r:n.defaultAnchor&&(this.anchor=n.defaultAnchor),this.texture=n,this.allowChildren=!1,this.roundPixels=i??!1,o!==void 0&&(this.width=o),s!==void 0&&(this.height=s)}static from(e,n=!1){return e instanceof Ae?new gl(e):new gl(Ae.from(e,n))}set texture(e){e||(e=Ae.EMPTY);const n=this._texture;n!==e&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return f8(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return Fe("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,n=this._texture,r=this._bounds,{width:i,height:o}=n.orig;r.minX=-e._x*i,r.maxX=r.minX+i,r.minY=-e._y*o,r.maxY=r.minY+o}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(r)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,n){typeof e=="object"?(n=e.height??e.width,e=e.width):n??(n=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),n!==void 0&&this._setHeight(n,this._texture.orig.height)}}const Vae=new Vn;function x8(t,e,n){const r=Vae;t.measurable=!0,Fw(t,n,r),e.addBoundsMask(r),t.measurable=!1}function w8(t,e,n){const r=Yo.get();t.measurable=!0;const i=fr.get().identity(),o=E8(t,n,i);$w(t,r,o),t.measurable=!1,e.addBoundsMask(r),fr.return(i),Yo.return(r)}function E8(t,e,n){return t?(t!==e&&(E8(t.parent,e,n),t.updateLocalTransform(),n.append(t.localTransform)),n):(Ne("Mask bounds, renderable is not inside the root container"),n)}class S8{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof gl),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(e,n){this.inverse||x8(this.mask,e,n)}addLocalBounds(e,n){w8(this.mask,e,n)}containsPoint(e,n){const r=this.mask;return n(r,e)}destroy(){this.reset()}static test(e){return e instanceof gl}}S8.extension=V.MaskEffect;class C8{constructor(e){this.priority=0,this.pipe="colorMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}C8.extension=V.MaskEffect;class A8{constructor(e){this.priority=0,this.pipe="stencilMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(e,n){x8(this.mask,e,n)}addLocalBounds(e,n){w8(this.mask,e,n)}containsPoint(e,n){const r=this.mask;return n(r,e)}destroy(){this.reset()}static test(e){return e instanceof Xr}}A8.extension=V.MaskEffect;const zae={createCanvas:(t,e)=>{const n=document.createElement("canvas");return n.width=t,n.height=e,n},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")};let YA=zae;const je={get(){return YA},set(t){YA=t}};class ao extends Cn{constructor(e){e.resource||(e.resource=je.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,n=this.height,r=this._resolution){const i=super.resize(e,n,r);return i&&this.resizeCanvas(),i}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}ao.extension=V.TextureSource;class ml extends Cn{constructor(e){super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}ml.extension=V.TextureSource;var vl=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(vl||{});class dv{constructor(e,n=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=n,this.priority=r,this._once=i}match(e,n=null){return this._fn===e&&this._context===n}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const n=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const T8=class Nr{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new dv(null,null,1/0),this.deltaMS=1/Nr.targetFPMS,this.elapsedMS=1/Nr.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,n,r=vl.NORMAL){return this._addListener(new dv(e,n,r))}addOnce(e,n,r=vl.NORMAL){return this._addListener(new dv(e,n,r,!0))}_addListener(e){let n=this._head.next,r=this._head;if(!n)e.connect(r);else{for(;n;){if(e.priority>n.priority){e.connect(r);break}r=n,n=n.next}e.previous||e.connect(r)}return this._startIfPossible(),this}remove(e,n){let r=this._head.next;for(;r;)r.match(e,n)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,n=this._head;for(;n=n.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let n;if(e>this.lastTime){if(n=this.elapsedMS=e-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){const o=e-this._lastFrame|0;if(o<this._minElapsedMS)return;this._lastFrame=e-o%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*Nr.targetFPMS;const r=this._head;let i=r.next;for(;i;)i=i.emit(this);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const n=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,n)/1e3,Nr.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const n=Math.max(this.minFPS,e);this._minElapsedMS=1/(n/1e3)}}static get shared(){if(!Nr._shared){const e=Nr._shared=new Nr;e.autoStart=!0,e._protected=!0}return Nr._shared}static get system(){if(!Nr._system){const e=Nr._system=new Nr;e.autoStart=!0,e._protected=!0}return Nr._system}};T8.targetFPMS=.06;let Un=T8,hv;async function P8(){return hv??(hv=(async()=>{var s;const e=je.get().createCanvas(1,1).getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const n=await new Promise(a=>{const l=document.createElement("video");l.onloadeddata=()=>a(l),l.onerror=()=>a(null),l.autoplay=!1,l.crossOrigin="anonymous",l.preload="auto",l.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",l.load()});if(!n)return"premultiply-alpha-on-upload";const r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n);const o=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,o),e.deleteFramebuffer(i),e.deleteTexture(r),(s=e.getExtension("WEBGL_lose_context"))==null||s.loseContext(),o[0]<=o[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),hv}const Wg=class I8 extends Cn{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...I8.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=Un.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,n=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(n.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await P8(),this._load=new Promise((r,i)=>{this.isValid?r(this):(this._resolve=r,this._reject=i,n.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${n.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Un.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Un.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Un.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};Wg.extension=V.TextureSource;Wg.defaultOptions={...Cn.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Wg.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let Ef=Wg;const Pi=(t,e,n=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"||n?e(r):r):t);class jae{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||Ne(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const r=Pi(e);let i;for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];if(u.test(n)){i=u.getCacheableAssets(r,n);break}}const o=new Map(Object.entries(i||{}));i||r.forEach(l=>{o.set(l,n)});const s=[...o.keys()],a={cacheKeys:s,keys:r};r.forEach(l=>{this._cacheMap.set(l,a)}),s.forEach(l=>{const u=i?i[l]:n;this._cache.has(l)&&this._cache.get(l)!==u&&Ne("[Cache] already has key:",l),this._cache.set(l,o.get(l))})}remove(e){if(!this._cacheMap.has(e)){Ne(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(i=>{this._cache.delete(i)}),n.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const xt=new jae,A_=[];$e.handleByList(V.TextureSource,A_);function O8(t={}){const e=t&&t.resource,n=e?t.resource:t,r=e?t:{resource:t};for(let i=0;i<A_.length;i++){const o=A_[i];if(o.test(n))return new o(r)}throw new Error(`Could not find a source type for resource: ${r.resource}`)}function Wae(t={},e=!1){const n=t&&t.resource,r=n?t.resource:t,i=n?t:{resource:t};if(!e&&xt.has(r))return xt.get(r);const o=new Ae({source:O8(i)});return o.on("destroy",()=>{xt.has(r)&&xt.remove(r)}),e||xt.set(r,o),o}function Yae(t,e=!1){return typeof t=="string"?xt.get(t):t instanceof Cn?new Ae({source:t}):Wae(t,e)}Ae.from=Yae;Cn.from=O8;$e.add(S8,C8,A8,Ef,ml,ao,kw);var fa=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(fa||{});function xi(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Fc(t){return t.split("?")[0].split("#")[0]}function Xae(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Kae(t,e,n){return t.replace(new RegExp(Xae(e),"g"),n)}function qae(t,e){let n="",r=0,i=-1,o=0,s=-1;for(let a=0;a<=t.length;++a){if(a<t.length)s=t.charCodeAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const l=n.lastIndexOf("/");if(l!==n.length-1){l===-1?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=a,o=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+=`/${t.slice(i+1,a)}`:n=t.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o!==-1?++o:o=-1}return n}const Pr={toPosix(t){return Kae(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){xi(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const n=/^[^/:]+:\/{0,2}/.exec(t);return n?n[0]:""},toAbsolute(t,e,n){if(xi(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const r=Fc(this.toPosix(e??je.get().getBaseUrl())),i=Fc(this.toPosix(n??this.rootname(r)));return t=this.toPosix(t),t.startsWith("/")?Pr.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(r,t)},normalize(t){if(xi(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const n=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const r=t.endsWith("/");return t=qae(t,!1),t.length>0&&r&&(t+="/"),n?`/${t}`:e+t},isAbsolute(t){return xi(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const r=t[n];if(xi(r),r.length>0)if(e===void 0)e=r;else{const i=t[n-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(xi(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const n=e===47;let r=-1,i=!0;const o=this.getProtocol(t),s=t;t=t.slice(o.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){r=a;break}}else i=!1;return r===-1?n?"/":this.isUrl(s)?o+t:o:n&&r===1?"//":o+t.slice(0,r)},rootname(t){xi(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const n=t.indexOf("/",e.length);n!==-1?e=t.slice(0,n):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){xi(t),e&&xi(e),t=Fc(this.toPosix(t));let n=0,r=-1,i=!0,o;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let s=e.length-1,a=-1;for(o=t.length-1;o>=0;--o){const l=t.charCodeAt(o);if(l===47){if(!i){n=o+1;break}}else a===-1&&(i=!1,a=o+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(r=o):(s=-1,r=a))}return n===r?r=a:r===-1&&(r=t.length),t.slice(n,r)}for(o=t.length-1;o>=0;--o)if(t.charCodeAt(o)===47){if(!i){n=o+1;break}}else r===-1&&(i=!1,r=o+1);return r===-1?"":t.slice(n,r)},extname(t){xi(t),t=Fc(this.toPosix(t));let e=-1,n=0,r=-1,i=!0,o=0;for(let s=t.length-1;s>=0;--s){const a=t.charCodeAt(s);if(a===47){if(!i){n=s+1;break}continue}r===-1&&(i=!1,r=s+1),a===46?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||r===-1||o===0||o===1&&e===r-1&&e===n+1?"":t.slice(e,r)},parse(t){xi(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Fc(this.toPosix(t));let n=t.charCodeAt(0);const r=this.isAbsolute(t);let i;e.root=this.rootname(t),r||this.hasProtocol(t)?i=1:i=0;let o=-1,s=0,a=-1,l=!0,u=t.length-1,c=0;for(;u>=i;--u){if(n=t.charCodeAt(u),n===47){if(!l){s=u+1;break}continue}a===-1&&(l=!1,a=u+1),n===46?o===-1?o=u:c!==1&&(c=1):o!==-1&&(c=-1)}return o===-1||a===-1||c===0||c===1&&o===a-1&&o===s+1?a!==-1&&(s===0&&r?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(s,a)):(s===0&&r?(e.name=t.slice(1,o),e.base=t.slice(1,a)):(e.name=t.slice(s,o),e.base=t.slice(s,a)),e.ext=t.slice(o,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function R8(t,e,n,r,i){const o=e[n];for(let s=0;s<o.length;s++){const a=o[s];n<e.length-1?R8(t.replace(r[n],a),e,n+1,r,i):i.push(t.replace(r[n],a))}}function Zae(t){const e=/\{(.*?)\}/g,n=t.match(e),r=[];if(n){const i=[];n.forEach(o=>{const s=o.substring(1,o.length-1).split(",");i.push(s)}),R8(t,i,0,n,r)}else r.push(t);return r}const m0=t=>!Array.isArray(t);class gc{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}getAlias(e){const{alias:n,src:r}=e;return Pi(n||r,o=>typeof o=="string"?o:Array.isArray(o)?o.map(s=>(s==null?void 0:s.src)??s):o!=null&&o.src?o.src:o,!0)}addManifest(e){this._manifest&&Ne("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const r=[];let i=n;Array.isArray(n)||(i=Object.entries(n).map(([o,s])=>typeof s=="string"||Array.isArray(s)?{alias:o,src:s}:{alias:o,...s})),i.forEach(o=>{const s=o.src,a=o.alias;let l;if(typeof a=="string"){const u=this._createBundleAssetId(e,a);r.push(u),l=[a,u]}else{const u=a.map(c=>this._createBundleAssetId(e,c));r.push(...u),l=[...a,...u]}this.add({...o,alias:l,src:s})}),this._bundles[e]=r}add(e){const n=[];Array.isArray(e)?n.push(...e):n.push(e);let r;r=o=>{this.hasKey(o)&&Ne(`[Resolver] already has key: ${o} overwriting`)},Pi(n).forEach(o=>{const{src:s}=o;let{data:a,format:l,loadParser:u,parser:c}=o;const f=Pi(s).map(p=>typeof p=="string"?Zae(p):Array.isArray(p)?p:[p]),d=this.getAlias(o);Array.isArray(d)?d.forEach(r):r(d);const h=[];f.forEach(p=>{p.forEach(y=>{let v={};if(typeof y!="object"){v.src=y;for(let g=0;g<this._parsers.length;g++){const m=this._parsers[g];if(m.test(y)){v=m.parse(y);break}}}else a=y.data??a,l=y.format??l,(y.loadParser||y.parser)&&(u=y.loadParser??u,c=y.parser??c),v={...v,...y};if(!d)throw new Error(`[Resolver] alias is undefined for this asset: ${v.src}`);v=this._buildResolvedAsset(v,{aliases:d,data:a,format:l,loadParser:u,parser:c}),h.push(v)})}),d.forEach(p=>{this._assetMap[p]=h})})}resolveBundle(e){const n=m0(e);e=Pi(e);const r={};return e.forEach(i=>{const o=this._bundles[i];if(o){const s=this.resolve(o),a={};for(const l in s){const u=s[l];a[this._extractAssetIdFromBundle(i,l)]=u}r[i]=a}}),n?r[e[0]]:r}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const r={};for(const i in n)r[i]=n[i].src;return r}return n.src}resolve(e){const n=m0(e);e=Pi(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let o=this._assetMap[i];const s=this._getPreferredOrder(o);s==null||s.priority.forEach(a=>{s.params[a].forEach(l=>{const u=o.filter(c=>c[a]?c[a]===l:!1);u.length&&(o=u)})}),this._resolverHash[i]=o[0]}else this._resolverHash[i]=this._buildResolvedAsset({alias:[i],src:i},{});r[i]=this._resolverHash[i]}),n?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const r=e[n],i=this._preferredOrder.find(o=>o.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}_buildResolvedAsset(e,n){const{aliases:r,data:i,loadParser:o,parser:s,format:a}=n;return(this._basePath||this._rootPath)&&(e.src=Pr.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=r??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=o??e.loadParser,e.parser=s??e.parser,e.format=a??e.format??Jae(e.src),e}}gc.RETINA_PREFIX=/@([0-9\.]+)x/;function Jae(t){return t.split(".").pop().split("?").shift().split("#").shift()}const T_=(t,e)=>{const n=e.split("?")[1];return n&&(t+=`?${n}`),t},M8=class Jc{constructor(e,n){this.linkedSheets=[];let r=e;(e==null?void 0:e.source)instanceof Cn&&(r={texture:e,data:n});const{texture:i,data:o,cachePrefix:s=""}=r;this.cachePrefix=s,this._texture=i instanceof Ae?i:null,this.textureSource=i.source,this.textures={},this.animations={},this.data=o;const a=parseFloat(o.meta.scale);a?(this.resolution=a,i.source.resolution=this.resolution):this.resolution=i.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Jc.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let n=e;const r=Jc.BATCH_SIZE;for(;n-e<r&&n<this._frameKeys.length;){const i=this._frameKeys[n],o=this._frames[i],s=o.frame;if(s){let a=null,l=null;const u=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,c=new vt(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);o.rotated?a=new vt(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):a=new vt(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(l=new vt(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[i]=new Ae({source:this.textureSource,frame:a,orig:c,trim:l,rotate:o.rotated?2:0,defaultAnchor:o.anchor,defaultBorders:o.borders,label:i.toString()})}n++}}_processAnimations(){const e=this.data.animations||{};for(const n in e){this.animations[n]=[];for(let r=0;r<e[n].length;r++){const i=e[n][r];this.animations[n].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Jc.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Jc.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var n;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((n=this._texture)==null||n.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};M8.BATCH_SIZE=1e3;let XA=M8;const Qae=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function D8(t,e,n){const r={};if(t.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[`${e.cachePrefix}${i}`]=e.textures[i]}),!n){const i=Pr.dirname(t[0]);e.linkedSheets.forEach((o,s)=>{const a=D8([`${i}/${e.data.meta.related_multi_packs[s]}`],o,!0);Object.assign(r,a)})}return r}const ele={extension:V.Asset,cache:{test:t=>t instanceof XA,getCacheableAssets:(t,e)=>D8(t,e,!1)},resolver:{extension:{type:V.ResolveParser,name:"resolveSpritesheet"},test:t=>{const n=t.split("?")[0].split("."),r=n.pop(),i=n.pop();return r==="json"&&Qae.includes(i)},parse:t=>{var n;const e=t.split(".");return{resolution:parseFloat(((n=gc.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:V.LoadParser,priority:fa.Normal,name:"spritesheetLoader"},async testParse(t,e){return Pr.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,n){var f,d;const{texture:r,imageFilename:i,textureOptions:o,cachePrefix:s}=(e==null?void 0:e.data)??{};let a=Pr.dirname(e.src);a&&a.lastIndexOf("/")!==a.length-1&&(a+="/");let l;if(r instanceof Ae)l=r;else{const h=T_(a+(i??t.meta.image),e.src);l=(await n.load([{src:h,data:o}]))[h]}const u=new XA({texture:l.source,data:t,cachePrefix:s});await u.parse();const c=(f=t==null?void 0:t.meta)==null?void 0:f.related_multi_packs;if(Array.isArray(c)){const h=[];for(const y of c){if(typeof y!="string")continue;let v=a+y;(d=e.data)!=null&&d.ignoreMultiPack||(v=T_(v,e.src),h.push(n.load({src:v,data:{textureOptions:o,ignoreMultiPack:!0}})))}const p=await Promise.all(h);u.linkedSheets=p,p.forEach(y=>{y.linkedSheets=[u].concat(u.linkedSheets.filter(v=>v!==y))})}return u},async unload(t,e,n){await n.unload(t.textureSource._sourceOrigin),t.destroy(!1)}}};$e.add(ele);class B8{constructor(e){this._lastTransform="",this._observer=null,this._tickerAttached=!1,this.updateTranslation=()=>{if(!this._canvas)return;const n=this._canvas.getBoundingClientRect(),r=this._canvas.width,i=this._canvas.height,o=n.width/r*this._renderer.resolution,s=n.height/i*this._renderer.resolution,a=n.left,l=n.top,u=`translate(${a}px, ${l}px) scale(${o}, ${s})`;u!==this._lastTransform&&(this._domElement.style.transform=u,this._lastTransform=u)},this._domElement=e.domElement,this._renderer=e.renderer,!(globalThis.OffscreenCanvas&&this._renderer.canvas instanceof OffscreenCanvas)&&(this._canvas=this._renderer.canvas,this._attachObserver())}get canvas(){return this._canvas}ensureAttached(){!this._domElement.parentNode&&this._canvas.parentNode&&(this._canvas.parentNode.appendChild(this._domElement),this.updateTranslation())}_attachObserver(){"ResizeObserver"in globalThis?(this._observer&&(this._observer.disconnect(),this._observer=null),this._observer=new ResizeObserver(e=>{for(const n of e){if(n.target!==this._canvas)continue;const r=this.canvas.width,i=this.canvas.height,o=n.contentRect.width/r*this._renderer.resolution,s=n.contentRect.height/i*this._renderer.resolution;(this._lastScaleX!==o||this._lastScaleY!==s)&&(this.updateTranslation(),this._lastScaleX=o,this._lastScaleY=s)}}),this._observer.observe(this._canvas)):this._tickerAttached||Un.shared.add(this.updateTranslation,this,vl.HIGH)}destroy(){this._observer?(this._observer.disconnect(),this._observer=null):this._tickerAttached&&Un.shared.remove(this.updateTranslation),this._domElement=null,this._renderer=null,this._canvas=null,this._tickerAttached=!1,this._lastTransform="",this._lastScaleX=null,this._lastScaleY=null}}class Vd{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Vd.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Gt,this.page=new Gt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,n,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,n,r,i,o){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}var pv=/iPhone/i,KA=/iPod/i,qA=/iPad/i,ZA=/\biOS-universal(?:.+)Mac\b/i,gv=/\bAndroid(?:.+)Mobile\b/i,JA=/Android/i,Jl=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,jh=/Silk/i,Oo=/Windows Phone/i,QA=/\bWindows(?:.+)ARM\b/i,eT=/BlackBerry/i,tT=/BB10/i,nT=/Opera Mini/i,rT=/\b(CriOS|Chrome)(?:.+)Mobile/i,iT=/Mobile(?:.+)Firefox\b/i,oT=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function tle(t){return function(e){return e.test(t)}}function sT(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=e.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=tle(n),o={apple:{phone:i(pv)&&!i(Oo),ipod:i(KA),tablet:!i(pv)&&(i(qA)||oT(e))&&!i(Oo),universal:i(ZA),device:(i(pv)||i(KA)||i(qA)||i(ZA)||oT(e))&&!i(Oo)},amazon:{phone:i(Jl),tablet:!i(Jl)&&i(jh),device:i(Jl)||i(jh)},android:{phone:!i(Oo)&&i(Jl)||!i(Oo)&&i(gv),tablet:!i(Oo)&&!i(Jl)&&!i(gv)&&(i(jh)||i(JA)),device:!i(Oo)&&(i(Jl)||i(jh)||i(gv)||i(JA))||i(/\bokhttp\b/i)},windows:{phone:i(Oo),tablet:i(QA),device:i(Oo)||i(QA)},other:{blackberry:i(eT),blackberry10:i(tT),opera:i(nT),firefox:i(iT),chrome:i(rT),device:i(eT)||i(tT)||i(nT)||i(iT)||i(rT)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}const nle=sT.default??sT,rle=nle(globalThis.navigator),ile=9,aT=100,ole=0,sle=0,lT=2,uT=1,ale=-1e3,lle=-1e3,ule=2,Gw=class k8{constructor(e,n=rle){this._mobileInfo=n,this.debug=!1,this._activateOnTab=!0,this._deactivateOnMouseMove=!0,this._isActive=!1,this._isMobileAccessibility=!1,this._div=null,this._pool=[],this._renderId=0,this._children=[],this._androidUpdateCount=0,this._androidUpdateFrequency=500,this._hookDiv=null,(n.tablet||n.phone)&&this._createTouchHook(),this._renderer=e}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}get hookDiv(){return this._hookDiv}_createTouchHook(){const e=document.createElement("button");e.style.width=`${uT}px`,e.style.height=`${uT}px`,e.style.position="absolute",e.style.top=`${ale}px`,e.style.left=`${lle}px`,e.style.zIndex=ule.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this._activate(),this._destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}_destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}_activate(){if(this._isActive)return;this._isActive=!0,this._div||(this._div=document.createElement("div"),this._div.style.position="absolute",this._div.style.top=`${ole}px`,this._div.style.left=`${sle}px`,this._div.style.pointerEvents="none",this._div.style.zIndex=lT.toString(),this._canvasObserver=new B8({domElement:this._div,renderer:this._renderer})),this._activateOnTab&&(this._onKeyDown=this._onKeyDown.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)),this._deactivateOnMouseMove&&(this._onMouseMove=this._onMouseMove.bind(this),globalThis.document.addEventListener("mousemove",this._onMouseMove,!0));const e=this._renderer.view.canvas;if(e.parentNode)this._canvasObserver.ensureAttached(),this._initAccessibilitySetup();else{const n=new MutationObserver(()=>{e.parentNode&&(n.disconnect(),this._canvasObserver.ensureAttached(),this._initAccessibilitySetup())});n.observe(document.body,{childList:!0,subtree:!0})}}_initAccessibilitySetup(){this._renderer.runners.postrender.add(this),this._renderer.lastObjectRendered&&this._updateAccessibleObjects(this._renderer.lastObjectRendered)}_deactivate(){if(!(!this._isActive||this._isMobileAccessibility)){this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),this._activateOnTab&&globalThis.addEventListener("keydown",this._onKeyDown,!1),this._renderer.runners.postrender.remove(this);for(const e of this._children)e._accessibleDiv&&e._accessibleDiv.parentNode&&(e._accessibleDiv.parentNode.removeChild(e._accessibleDiv),e._accessibleDiv=null),e._accessibleActive=!1;this._pool.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),this._div&&this._div.parentNode&&this._div.parentNode.removeChild(this._div),this._pool=[],this._children=[]}}_updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&(e._accessibleActive||this._addChild(e),e._renderId=this._renderId);const n=e.children;if(n)for(let r=0;r<n.length;r++)this._updateAccessibleObjects(n[r])}init(e){const r={accessibilityOptions:{...k8.defaultOptions,...(e==null?void 0:e.accessibilityOptions)||{}}};this.debug=r.accessibilityOptions.debug,this._activateOnTab=r.accessibilityOptions.activateOnTab,this._deactivateOnMouseMove=r.accessibilityOptions.deactivateOnMouseMove,r.accessibilityOptions.enabledByDefault?this._activate():this._activateOnTab&&(this._onKeyDown=this._onKeyDown.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)),this._renderer.runners.postrender.remove(this)}postrender(){const e=performance.now();if(this._mobileInfo.android.device&&e<this._androidUpdateCount||(this._androidUpdateCount=e+this._androidUpdateFrequency,!this._renderer.renderingToScreen||!this._renderer.view.canvas))return;const n=new Set;if(this._renderer.lastObjectRendered){this._updateAccessibleObjects(this._renderer.lastObjectRendered);for(const r of this._children)r._renderId===this._renderId&&n.add(this._children.indexOf(r))}for(let r=this._children.length-1;r>=0;r--){const i=this._children[r];n.has(r)||(i._accessibleDiv&&i._accessibleDiv.parentNode&&(i._accessibleDiv.parentNode.removeChild(i._accessibleDiv),this._pool.push(i._accessibleDiv),i._accessibleDiv=null),i._accessibleActive=!1,g8(this._children,r,1))}this._renderer.renderingToScreen&&this._canvasObserver.ensureAttached();for(let r=0;r<this._children.length;r++){const i=this._children[r];if(!i._accessibleActive||!i._accessibleDiv)continue;const o=i._accessibleDiv,s=i.hitArea||i.getBounds().rectangle;if(i.hitArea){const a=i.worldTransform;o.style.left=`${a.tx+s.x*a.a}px`,o.style.top=`${a.ty+s.y*a.d}px`,o.style.width=`${s.width*a.a}px`,o.style.height=`${s.height*a.d}px`}else this._capHitArea(s),o.style.left=`${s.x}px`,o.style.top=`${s.y}px`,o.style.width=`${s.width}px`,o.style.height=`${s.height}px`}this._renderId++}_updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}_capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:n,height:r}=this._renderer;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)}_addChild(e){let n=this._pool.pop();n||(e.accessibleType==="button"?n=document.createElement("button"):(n=document.createElement(e.accessibleType),n.style.cssText=`
                        color: transparent;
                        pointer-events: none;
                        padding: 0;
                        margin: 0;
                        border: 0;
                        outline: 0;
                        background: transparent;
                        box-sizing: border-box;
                        user-select: none;
                        -webkit-user-select: none;
                        -moz-user-select: none;
                        -ms-user-select: none;
                    `,e.accessibleText&&(n.innerText=e.accessibleText)),n.style.width=`${aT}px`,n.style.height=`${aT}px`,n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=lT.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=e.accessiblePointerEvents,n.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?n.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(n.title=`container ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&n.setAttribute("aria-label",e.accessibleHint),this.debug&&this._updateDebugHTML(n),e._accessibleActive=!0,e._accessibleDiv=n,n.container=e,this._children.push(e),this._div.appendChild(e._accessibleDiv),e.interactive&&(e._accessibleDiv.tabIndex=e.tabIndex)}_dispatchEvent(e,n){const{container:r}=e.target,i=this._renderer.events.rootBoundary,o=Object.assign(new Vd(i),{target:r});i.rootTarget=this._renderer.lastObjectRendered,n.forEach(s=>i.dispatchEvent(o,s))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode!==ile||!this._activateOnTab||this._activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this._deactivate()}destroy(){var e;this._deactivate(),this._destroyTouchHook(),(e=this._canvasObserver)==null||e.destroy(),this._canvasObserver=null,this._div=null,this._pool=null,this._children=null,this._renderer=null,this._activateOnTab&&globalThis.removeEventListener("keydown",this._onKeyDown)}setAccessibilityEnabled(e){e?this._activate():this._deactivate()}};Gw.extension={type:[V.WebGLSystem,V.WebGPUSystem],name:"accessibility"};Gw.defaultOptions={enabledByDefault:!1,debug:!1,activateOnTab:!0,deactivateOnMouseMove:!0};let cle=Gw;const fle={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,accessibleType:"button",accessibleText:null,accessiblePointerEvents:"auto",accessibleChildren:!0,_accessibleActive:!1,_accessibleDiv:null,_renderId:-1},mv=Object.create(null),cT=Object.create(null);function od(t,e){let n=cT[t];return n===void 0&&(mv[e]===void 0&&(mv[e]=1),cT[t]=n=mv[e]++),n}let Ql;function N8(){return(!Ql||Ql!=null&&Ql.isContextLost())&&(Ql=je.get().createCanvas().getContext("webgl",{})),Ql}let Wh;function dle(){if(!Wh){Wh="mediump";const t=N8();t&&t.getShaderPrecisionFormat&&(Wh=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?"highp":"mediump")}return Wh}function hle(t,e,n){return e?t:n?(t=t.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${t}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${t}
        `}function ple(t,e,n){const r=n?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(t.substring(0,9)!=="precision"){let i=n?e.requestedFragmentPrecision:e.requestedVertexPrecision;return i==="highp"&&r!=="highp"&&(i="mediump"),`precision ${i} float;
${t}`}else if(r!=="highp"&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}function gle(t,e){return e?`#version 300 es
${t}`:t}const mle={},vle={};function yle(t,{name:e="pixi-program"},n=!0){e=e.replace(/\s+/g,"-"),e+=n?"-fragment":"-vertex";const r=n?mle:vle;return r[e]?(r[e]++,e+=`-${r[e]}`):r[e]=1,t.indexOf("#define SHADER_NAME")!==-1?t:`${`#define SHADER_NAME ${e}`}
${t}`}function _le(t,e){return e?t.replace("#version 300 es",""):t}const vv={stripVersion:_le,ensurePrecision:ple,addProgramDefines:hle,setProgramName:yle,insertVersion:gle},yv=Object.create(null),F8=class P_{constructor(e){e={...P_.defaultOptions,...e};const n=e.fragment.indexOf("#version 300 es")!==-1,r={stripVersion:n,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:dle()},setProgramName:{name:e.name},addProgramDefines:n,insertVersion:n};let i=e.fragment,o=e.vertex;Object.keys(vv).forEach(s=>{const a=r[s];i=vv[s](i,a,!0),o=vv[s](o,a,!1)}),this.fragment=i,this.vertex=o,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=od(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(e){const n=`${e.vertex}:${e.fragment}`;return yv[n]||(yv[n]=new P_(e)),yv[n]}};F8.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let kl=F8;const fT={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function ra(t){return fT[t]??fT.float32}const ble={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function xle({source:t,entryPoint:e}){const n={},r=t.indexOf(`fn ${e}`);if(r!==-1){const i=t.indexOf("->",r);if(i!==-1){const o=t.substring(r,i),s=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let a;for(;(a=s.exec(o))!==null;){const l=ble[a[3]]??"float32";n[a[2]]={location:parseInt(a[1],10),format:l,stride:ra(l).stride,offset:0,instance:!1,start:0}}}}return n}function _v(t){var f,d;const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,n=/@group\((\d+)\)/,r=/@binding\((\d+)\)/,i=/var(<[^>]+>)? (\w+)/,o=/:\s*(\w+)/,s=/struct\s+(\w+)\s*{([^}]+)}/g,a=/(\w+)\s*:\s*([\w\<\>]+)/g,l=/struct\s+(\w+)/,u=(f=t.match(e))==null?void 0:f.map(h=>({group:parseInt(h.match(n)[1],10),binding:parseInt(h.match(r)[1],10),name:h.match(i)[2],isUniform:h.match(i)[1]==="<uniform>",type:h.match(o)[1]}));if(!u)return{groups:[],structs:[]};const c=((d=t.match(s))==null?void 0:d.map(h=>{const p=h.match(l)[1],y=h.match(a).reduce((v,g)=>{const[m,_]=g.split(":");return v[m.trim()]=_.trim(),v},{});return y?{name:p,members:y}:null}).filter(({name:h})=>u.some(p=>p.type===h)))??[];return{groups:u,structs:c}}var Qc=(t=>(t[t.VERTEX=1]="VERTEX",t[t.FRAGMENT=2]="FRAGMENT",t[t.COMPUTE=4]="COMPUTE",t))(Qc||{});function wle({groups:t}){const e=[];for(let n=0;n<t.length;n++){const r=t[n];e[r.group]||(e[r.group]=[]),r.isUniform?e[r.group].push({binding:r.binding,visibility:Qc.VERTEX|Qc.FRAGMENT,buffer:{type:"uniform"}}):r.type==="sampler"?e[r.group].push({binding:r.binding,visibility:Qc.FRAGMENT,sampler:{type:"filtering"}}):r.type==="texture_2d"&&e[r.group].push({binding:r.binding,visibility:Qc.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function Ele({groups:t}){const e=[];for(let n=0;n<t.length;n++){const r=t[n];e[r.group]||(e[r.group]={}),e[r.group][r.name]=r.binding}return e}function Sle(t,e){const n=new Set,r=new Set,i=[...t.structs,...e.structs].filter(s=>n.has(s.name)?!1:(n.add(s.name),!0)),o=[...t.groups,...e.groups].filter(s=>{const a=`${s.name}-${s.binding}`;return r.has(a)?!1:(r.add(a),!0)});return{structs:i,groups:o}}const bv=Object.create(null);class da{constructor(e){var a,l;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:n,vertex:r,layout:i,gpuLayout:o,name:s}=e;if(this.name=s,this.fragment=n,this.vertex=r,n.source===r.source){const u=_v(n.source);this.structsAndGroups=u}else{const u=_v(r.source),c=_v(n.source);this.structsAndGroups=Sle(u,c)}this.layout=i??Ele(this.structsAndGroups),this.gpuLayout=o??wle(this.structsAndGroups),this.autoAssignGlobalUniforms=((a=this.layout[0])==null?void 0:a.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((l=this.layout[1])==null?void 0:l.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:n}=this,r=e.source+n.source+e.entryPoint+n.entryPoint;this._layoutKey=od(r,"program")}get attributeData(){return this._attributeData??(this._attributeData=xle(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(e){const n=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return bv[n]||(bv[n]=new da(e)),bv[n]}}const L8=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],Cle=L8.reduce((t,e)=>(t[e]=!0,t),{});function Ale(t,e){switch(t){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const $8=class U8{constructor(e,n){this._touched=0,this.uid=Ut("uniform"),this._resourceType="uniformGroup",this._resourceId=Ut("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,n={...U8.defaultOptions,...n},this.uniformStructures=e;const r={};for(const i in e){const o=e[i];if(o.name=i,o.size=o.size??1,!Cle[o.type])throw new Error(`Uniform type ${o.type} is not supported. Supported uniform types are: ${L8.join(", ")}`);o.value??(o.value=Ale(o.type,o.size)),r[i]=o.value}this.uniforms=r,this._dirtyId=1,this.ubo=n.ubo,this.isStatic=n.isStatic,this._signature=od(Object.keys(r).map(i=>`${i}-${e[i].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};$8.defaultOptions={ubo:!1,isStatic:!1};let gr=$8;class Xo{constructor(e){this.resources=Object.create(null),this._dirty=!0;let n=0;for(const r in e){const i=e[r];this.setResource(i,n++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let n=0;for(const r in this.resources)e[n++]=this.resources[r]._resourceId;this._key=e.join("|")}setResource(e,n){var i,o;const r=this.resources[n];e!==r&&(r&&((i=e.off)==null||i.call(e,"change",this.onResourceChange,this)),(o=e.on)==null||o.call(e,"change",this.onResourceChange,this),this.resources[n]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e){const n=this.resources;for(const r in n)n[r]._touched=e}destroy(){var n;const e=this.resources;for(const r in e){const i=e[r];(n=i.off)==null||n.call(i,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const n=this.resources;for(const r in n)n[r]===e&&(n[r]=null)}else this._updateKey()}}var Kr=(t=>(t[t.WEBGL=1]="WEBGL",t[t.WEBGPU=2]="WEBGPU",t[t.BOTH=3]="BOTH",t))(Kr||{});class yi extends Jr{constructor(e){super(),this.uid=Ut("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:n,glProgram:r,groups:i,resources:o,compatibleRenderers:s,groupMap:a}=e;this.gpuProgram=n,this.glProgram=r,s===void 0&&(s=0,n&&(s|=Kr.WEBGPU),r&&(s|=Kr.WEBGL)),this.compatibleRenderers=s;const l={};if(!o&&!i&&(o={}),o&&i)throw new Error("[Shader] Cannot have both resources and groups");if(!n&&i&&!a)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!n&&i&&a)for(const u in a)for(const c in a[u]){const f=a[u][c];l[f]={group:u,binding:c,name:f}}else if(n&&i&&!a){const u=n.structsAndGroups.groups;a={},u.forEach(c=>{a[c.group]=a[c.group]||{},a[c.group][c.binding]=c.name,l[c.name]=c})}else if(o){i={},a={},n&&n.structsAndGroups.groups.forEach(f=>{a[f.group]=a[f.group]||{},a[f.group][f.binding]=f.name,l[f.name]=f});let u=0;for(const c in o)l[c]||(i[99]||(i[99]=new Xo,this._ownedBindGroups.push(i[99])),l[c]={group:99,binding:u,name:c},a[99]=a[99]||{},a[99][u]=c,u++);for(const c in o){const f=c;let d=o[c];!d.source&&!d._resourceType&&(d=new gr(d));const h=l[f];h&&(i[h.group]||(i[h.group]=new Xo,this._ownedBindGroups.push(i[h.group])),i[h.group].setResource(d,h.binding))}}this.groups=i,this._uniformBindMap=a,this.resources=this._buildResourceAccessor(i,l)}addResource(e,n,r){var i,o;(i=this._uniformBindMap)[n]||(i[n]={}),(o=this._uniformBindMap[n])[r]||(o[r]=e),this.groups[n]||(this.groups[n]=new Xo,this._ownedBindGroups.push(this.groups[n]))}_buildResourceAccessor(e,n){const r={};for(const i in n){const o=n[i];Object.defineProperty(r,o.name,{get(){return e[o.group].getResource(o.binding)},set(s){e[o.group].setResource(s,o.binding)}})}return r}destroy(e=!1){var n,r;this.emit("destroy",this),e&&((n=this.gpuProgram)==null||n.destroy(),(r=this.glProgram)==null||r.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(i=>{i.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(e){const{gpu:n,gl:r,...i}=e;let o,s;return n&&(o=da.from(n)),r&&(s=kl.from(r)),new yi({gpuProgram:o,glProgram:s,...i})}}const Tle={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},xv=0,wv=1,Ev=2,Sv=3,Cv=4,Av=5,I_=class G8{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<xv)}set blend(e){!!(this.data&1<<xv)!==e&&(this.data^=1<<xv)}get offsets(){return!!(this.data&1<<wv)}set offsets(e){!!(this.data&1<<wv)!==e&&(this.data^=1<<wv)}set cullMode(e){if(e==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=e==="front"}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<Ev)}set culling(e){!!(this.data&1<<Ev)!==e&&(this.data^=1<<Ev)}get depthTest(){return!!(this.data&1<<Sv)}set depthTest(e){!!(this.data&1<<Sv)!==e&&(this.data^=1<<Sv)}get depthMask(){return!!(this.data&1<<Av)}set depthMask(e){!!(this.data&1<<Av)!==e&&(this.data^=1<<Av)}get clockwiseFrontFace(){return!!(this.data&1<<Cv)}set clockwiseFrontFace(e){!!(this.data&1<<Cv)!==e&&(this.data^=1<<Cv)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!=="none",this._blendMode=e,this._blendModeId=Tle[e]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new G8;return e.depthTest=!1,e.blend=!0,e}};I_.default2d=I_.for2d();let Li=I_;const H8=class O_ extends yi{constructor(e){e={...O_.defaultOptions,...e},super(e),this.enabled=!0,this._state=Li.for2d(),this.blendMode=e.blendMode,this.padding=e.padding,typeof e.antialias=="boolean"?this.antialias=e.antialias?"on":"off":this.antialias=e.antialias,this.resolution=e.resolution,this.blendRequired=e.blendRequired,this.clipToViewport=e.clipToViewport,this.addResource("uTexture",0,1)}apply(e,n,r,i){e.applyFilter(this,n,r,i)}get blendMode(){return this._state.blendMode}set blendMode(e){this._state.blendMode=e}static from(e){const{gpu:n,gl:r,...i}=e;let o,s;return n&&(o=da.from(n)),r&&(s=kl.from(r)),new O_({gpuProgram:o,glProgram:s,...i})}};H8.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let Hw=H8;const R_=[];$e.handleByNamedList(V.Environment,R_);async function Ple(t){if(!t)for(let e=0;e<R_.length;e++){const n=R_[e];if(n.value.test()){await n.value.load();return}}}let Lc;function V8(){if(typeof Lc=="boolean")return Lc;try{Lc=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Lc=!1}return Lc}function dT(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=z8(t,0,i,n,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,u;if(r&&(o=Dle(t,e,o,n)),t.length>80*n){a=t[0],l=t[1];let c=a,f=l;for(let d=n;d<i;d+=n){const h=t[d],p=t[d+1];h<a&&(a=h),p<l&&(l=p),h>c&&(c=h),p>f&&(f=p)}u=Math.max(c-a,f-l),u=u!==0?32767/u:0}return sd(o,s,n,a,l,u,0),s}function z8(t,e,n,r,i){let o;if(i===zle(t,e,n,r)>0)for(let s=e;s<n;s+=r)o=hT(s/r|0,t[s],t[s+1],o);else for(let s=n-r;s>=e;s-=r)o=hT(s/r|0,t[s],t[s+1],o);return o&&ju(o,o.next)&&(ld(o),o=o.next),o}function yl(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(ju(n,n.next)||Yt(n.prev,n,n.next)===0)){if(ld(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function sd(t,e,n,r,i,o,s){if(!t)return;!s&&o&&Lle(t,r,i,o);let a=t;for(;t.prev!==t.next;){const l=t.prev,u=t.next;if(o?Ole(t,r,i,o):Ile(t)){e.push(l.i,t.i,u.i),ld(t),t=u.next,a=u.next;continue}if(t=u,t===a){s?s===1?(t=Rle(yl(t),e),sd(t,e,n,r,i,o,2)):s===2&&Mle(t,e,n,r,i,o):sd(yl(t),e,n,r,i,o,1);break}}}function Ile(t){const e=t.prev,n=t,r=t.next;if(Yt(e,n,r)>=0)return!1;const i=e.x,o=n.x,s=r.x,a=e.y,l=n.y,u=r.y,c=Math.min(i,o,s),f=Math.min(a,l,u),d=Math.max(i,o,s),h=Math.max(a,l,u);let p=r.next;for(;p!==e;){if(p.x>=c&&p.x<=d&&p.y>=f&&p.y<=h&&ef(i,a,o,l,s,u,p.x,p.y)&&Yt(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Ole(t,e,n,r){const i=t.prev,o=t,s=t.next;if(Yt(i,o,s)>=0)return!1;const a=i.x,l=o.x,u=s.x,c=i.y,f=o.y,d=s.y,h=Math.min(a,l,u),p=Math.min(c,f,d),y=Math.max(a,l,u),v=Math.max(c,f,d),g=M_(h,p,e,n,r),m=M_(y,v,e,n,r);let _=t.prevZ,b=t.nextZ;for(;_&&_.z>=g&&b&&b.z<=m;){if(_.x>=h&&_.x<=y&&_.y>=p&&_.y<=v&&_!==i&&_!==s&&ef(a,c,l,f,u,d,_.x,_.y)&&Yt(_.prev,_,_.next)>=0||(_=_.prevZ,b.x>=h&&b.x<=y&&b.y>=p&&b.y<=v&&b!==i&&b!==s&&ef(a,c,l,f,u,d,b.x,b.y)&&Yt(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;_&&_.z>=g;){if(_.x>=h&&_.x<=y&&_.y>=p&&_.y<=v&&_!==i&&_!==s&&ef(a,c,l,f,u,d,_.x,_.y)&&Yt(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=m;){if(b.x>=h&&b.x<=y&&b.y>=p&&b.y<=v&&b!==i&&b!==s&&ef(a,c,l,f,u,d,b.x,b.y)&&Yt(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Rle(t,e){let n=t;do{const r=n.prev,i=n.next.next;!ju(r,i)&&W8(r,n,n.next,i)&&ad(r,i)&&ad(i,r)&&(e.push(r.i,n.i,i.i),ld(n),ld(n.next),n=t=i),n=n.next}while(n!==t);return yl(n)}function Mle(t,e,n,r,i,o){let s=t;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&Gle(s,a)){let l=Y8(s,a);s=yl(s,s.next),l=yl(l,l.next),sd(s,e,n,r,i,o,0),sd(l,e,n,r,i,o,0);return}a=a.next}s=s.next}while(s!==t)}function Dle(t,e,n,r){const i=[];for(let o=0,s=e.length;o<s;o++){const a=e[o]*r,l=o<s-1?e[o+1]*r:t.length,u=z8(t,a,l,r,!1);u===u.next&&(u.steiner=!0),i.push(Ule(u))}i.sort(Ble);for(let o=0;o<i.length;o++)n=kle(i[o],n);return n}function Ble(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function kle(t,e){const n=Nle(t,e);if(!n)return e;const r=Y8(n,t);return yl(r,r.next),yl(n,n.next)}function Nle(t,e){let n=e;const r=t.x,i=t.y;let o=-1/0,s;if(ju(t,n))return n;do{if(ju(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const f=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=r&&f>o&&(o=f,s=n.x<n.next.x?n:n.next,f===r))return s}n=n.next}while(n!==e);if(!s)return null;const a=s,l=s.x,u=s.y;let c=1/0;n=s;do{if(r>=n.x&&n.x>=l&&r!==n.x&&j8(i<u?r:o,i,l,u,i<u?o:r,i,n.x,n.y)){const f=Math.abs(i-n.y)/(r-n.x);ad(n,t)&&(f<c||f===c&&(n.x>s.x||n.x===s.x&&Fle(s,n)))&&(s=n,c=f)}n=n.next}while(n!==a);return s}function Fle(t,e){return Yt(t.prev,t,e.prev)<0&&Yt(e.next,t,t.next)<0}function Lle(t,e,n,r){let i=t;do i.z===0&&(i.z=M_(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,$le(i)}function $le(t){let e,n=1;do{let r=t,i;t=null;let o=null;for(e=0;r;){e++;let s=r,a=0;for(let u=0;u<n&&(a++,s=s.nextZ,!!s);u++);let l=n;for(;a>0||l>0&&s;)a!==0&&(l===0||!s||r.z<=s.z)?(i=r,r=r.nextZ,a--):(i=s,s=s.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=s}o.nextZ=null,n*=2}while(e>1);return t}function M_(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Ule(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function j8(t,e,n,r,i,o,s,a){return(i-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(r-a)>=(n-s)*(e-a)&&(n-s)*(o-a)>=(i-s)*(r-a)}function ef(t,e,n,r,i,o,s,a){return!(t===s&&e===a)&&j8(t,e,n,r,i,o,s,a)}function Gle(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Hle(t,e)&&(ad(t,e)&&ad(e,t)&&Vle(t,e)&&(Yt(t.prev,t,e.prev)||Yt(t,e.prev,e))||ju(t,e)&&Yt(t.prev,t,t.next)>0&&Yt(e.prev,e,e.next)>0)}function Yt(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function ju(t,e){return t.x===e.x&&t.y===e.y}function W8(t,e,n,r){const i=Xh(Yt(t,e,n)),o=Xh(Yt(t,e,r)),s=Xh(Yt(n,r,t)),a=Xh(Yt(n,r,e));return!!(i!==o&&s!==a||i===0&&Yh(t,n,e)||o===0&&Yh(t,r,e)||s===0&&Yh(n,t,r)||a===0&&Yh(n,e,r))}function Yh(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Xh(t){return t>0?1:t<0?-1:0}function Hle(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&W8(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function ad(t,e){return Yt(t.prev,t,t.next)<0?Yt(t,e,t.next)>=0&&Yt(t,t.prev,e)>=0:Yt(t,e,t.prev)<0||Yt(t,t.next,e)<0}function Vle(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Y8(t,e){const n=D_(t.i,t.x,t.y),r=D_(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function hT(t,e,n,r){const i=D_(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function ld(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function D_(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function zle(t,e,n,r){let i=0;for(let o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}const jle=dT.default||dT;var Ur=(t=>(t[t.NONE=0]="NONE",t[t.COLOR=16384]="COLOR",t[t.STENCIL=1024]="STENCIL",t[t.DEPTH=256]="DEPTH",t[t.COLOR_DEPTH=16640]="COLOR_DEPTH",t[t.COLOR_STENCIL=17408]="COLOR_STENCIL",t[t.DEPTH_STENCIL=1280]="DEPTH_STENCIL",t[t.ALL=17664]="ALL",t))(Ur||{});class X8{constructor(e){this.items=[],this._name=e}emit(e,n,r,i,o,s,a,l){const{name:u,items:c}=this;for(let f=0,d=c.length;f<d;f++)c[f][u](e,n,r,i,o,s,a,l);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&this.items.splice(n,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const Wle=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],K8=class q8 extends Jr{constructor(e){super(),this.uid=Ut("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const n=[...Wle,...this.config.runners??[]];this._addRunners(...n),this._unsafeEvalCheck()}async init(e={}){const n=e.skipExtensionImports===!0?!0:e.manageImports===!1;await Ple(n),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const r in this._systemsHash)e={...this._systemsHash[r].constructor.defaultOptions,...e};e={...q8.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let r=0;r<this.runners.init.items.length;r++)await this.runners.init.items[r].init(e);this._initOptions=e}render(e,n){let r=e;if(r instanceof Xr&&(r={container:r},n&&(Fe(rt,"passing a second argument is deprecated, please use render options instead"),r.target=n.renderTexture)),r.target||(r.target=this.view.renderTarget),r.target===this.view.renderTarget&&(this._lastObjectRendered=r.container,r.clearColor??(r.clearColor=this.background.colorRgba),r.clear??(r.clear=this.background.clearBeforeRender)),r.clearColor){const i=Array.isArray(r.clearColor)&&r.clearColor.length===4;r.clearColor=i?r.clearColor:Rt.shared.setValue(r.clearColor).toArray()}r.transform||(r.container.updateLocalTransform(),r.transform=r.container.localTransform),r.container.enableRenderGroup(),this.runners.prerender.emit(r),this.runners.renderStart.emit(r),this.runners.render.emit(r),this.runners.renderEnd.emit(r),this.runners.postrender.emit(r)}resize(e,n,r){const i=this.view.resolution;this.view.resize(e,n,r),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),r!==void 0&&r!==i&&this.runners.resolutionChange.emit(r)}clear(e={}){const n=this;e.target||(e.target=n.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=Ur.ALL);const{clear:r,clearColor:i,target:o}=e;Rt.shared.setValue(i??this.background.colorRgba),n.renderTarget.clear(o,r,Rt.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(n=>{this.runners[n]=new X8(n)})}_addSystems(e){let n;for(n in e){const r=e[n];this._addSystem(r.value,r.name)}}_addSystem(e,n){const r=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const i in this.runners)this.runners[i].add(r);return this}_addPipes(e,n){const r=n.reduce((i,o)=>(i[o.name]=o.value,i),{});e.forEach(i=>{const o=i.value,s=i.name,a=r[s];this.renderPipes[s]=new o(this,a?new a:null)})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),Object.values(this.runners).forEach(n=>{n.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!V8())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};K8.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let Yg=K8,Kh;function Yle(t){return Kh!==void 0||(Kh=(()=>{var n;const e={stencil:!0,failIfMajorPerformanceCaveat:t??Yg.defaultOptions.failIfMajorPerformanceCaveat};try{if(!je.get().getWebGLRenderingContext())return!1;let i=je.get().createCanvas().getContext("webgl",e);const o=!!((n=i==null?void 0:i.getContextAttributes())!=null&&n.stencil);if(i){const s=i.getExtension("WEBGL_lose_context");s&&s.loseContext()}return i=null,o}catch{return!1}})()),Kh}let qh;async function Xle(t={}){return qh!==void 0||(qh=await(async()=>{const e=je.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(t)).requestDevice(),!0}catch{return!1}})()),qh}const pT=["webgl","webgpu","canvas"];async function Kle(t){let e=[];t.preference?(e.push(t.preference),pT.forEach(o=>{o!==t.preference&&e.push(o)})):e=pT.slice();let n,r={};for(let o=0;o<e.length;o++){const s=e[o];if(s==="webgpu"&&await Xle()){const{WebGPURenderer:a}=await Hp(()=>Promise.resolve().then(()=>Khe),void 0);n=a,r={...t,...t.webgpu};break}else if(s==="webgl"&&Yle(t.failIfMajorPerformanceCaveat??Yg.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:a}=await Hp(()=>Promise.resolve().then(()=>Ohe),void 0);n=a,r={...t,...t.webgl};break}else if(s==="canvas")throw r={...t},new Error("CanvasRenderer is not yet implemented")}if(delete r.webgpu,delete r.webgl,!n)throw new Error("No available renderer for the current environment");const i=new n;return await i.init(r),i}const v0="8.12.0";class Z8{static init(){var e;(e=globalThis.__PIXI_APP_INIT__)==null||e.call(globalThis,this,v0)}static destroy(){}}Z8.extension=V.Application;class J8{constructor(e){this._renderer=e}init(){var e;(e=globalThis.__PIXI_RENDERER_INIT__)==null||e.call(globalThis,this._renderer,v0)}destroy(){this._renderer=null}}J8.extension={type:[V.WebGLSystem,V.WebGPUSystem],name:"initHook",priority:-10};const Q8=class B_{constructor(...e){this.stage=new Xr,e[0]!==void 0&&Fe(rt,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.renderer=await Kle(e),B_._plugins.forEach(n=>{n.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return Fe(rt,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,n=!1){const r=B_._plugins.slice(0);r.reverse(),r.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(e),this.renderer=null}};Q8._plugins=[];let qle=Q8;$e.handleByList(V.Application,qle._plugins);$e.add(Z8);class ek{static init(e){Object.defineProperty(this,"resizeTo",{set(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this._cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this._cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this._cancelResize();let n,r;if(this._resizeTo===globalThis.window)n=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:o}=this._resizeTo;n=i,r=o}this.renderer.resize(n,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this._cancelResize(),this._cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}ek.extension=V.Application;class tk{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,vl.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Un.shared:new Un,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}tk.extension=V.Application;class nk extends Jr{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return Fe(rt,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return Fe(rt,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return Fe(rt,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return Fe(rt,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return Fe(rt,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(e=!1){var n;this.emit("destroy",this),this.removeAllListeners();for(const r in this.chars)(n=this.chars[r].texture)==null||n.destroy();this.chars=null,e&&(this.pages.forEach(r=>r.texture.destroy(!0)),this.pages=null)}}const Zle=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function y0(t){const e=typeof t.fontSize=="number"?`${t.fontSize}px`:t.fontSize;let n=t.fontFamily;Array.isArray(t.fontFamily)||(n=t.fontFamily.split(","));for(let r=n.length-1;r>=0;r--){let i=n[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!Zle.includes(i)&&(i=`"${i}"`),n[r]=i}return`${t.fontStyle} ${t.fontVariant} ${t.fontWeight} ${e} ${n.join(",")}`}const Tv={willReadFrequently:!0},Eo=class Re{static get experimentalLetterSpacingSupported(){let e=Re._experimentalLetterSpacingSupported;if(e===void 0){const n=je.get().getCanvasRenderingContext2D().prototype;e=Re._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return e}constructor(e,n,r,i,o,s,a,l,u){this.text=e,this.style=n,this.width=r,this.height=i,this.lines=o,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=u}static measureText(e=" ",n,r=Re._canvas,i=n.wordWrap){var g;const o=y0(n),s=Re.measureFont(o);s.fontSize===0&&(s.fontSize=n.fontSize,s.ascent=n.fontSize);const a=Re.__context;a.font=o;const u=(i?Re._wordWrap(e,n,r):e).split(/(?:\r\n|\r|\n)/),c=new Array(u.length);let f=0;for(let m=0;m<u.length;m++){const _=Re._measureText(u[m],n.letterSpacing,a);c[m]=_,f=Math.max(f,_)}const d=((g=n._stroke)==null?void 0:g.width)||0;let h=f+d;n.dropShadow&&(h+=n.dropShadow.distance);const p=n.lineHeight||s.fontSize;let y=Math.max(p,s.fontSize+d)+(u.length-1)*(p+n.leading);return n.dropShadow&&(y+=n.dropShadow.distance),new Re(e,n,h,y,u,c,p+n.leading,f,s)}static _measureText(e,n,r){let i=!1;Re.experimentalLetterSpacingSupported&&(Re.experimentalLetterSpacing?(r.letterSpacing=`${n}px`,r.textLetterSpacing=`${n}px`,i=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));const o=r.measureText(e);let s=o.width;const a=-o.actualBoundingBoxLeft;let u=o.actualBoundingBoxRight-a;if(s>0)if(i)s-=n,u-=n;else{const c=(Re.graphemeSegmenter(e).length-1)*n;s+=c,u+=c}return Math.max(s,u)}static _wordWrap(e,n,r=Re._canvas){const i=r.getContext("2d",Tv);let o=0,s="",a="";const l=Object.create(null),{letterSpacing:u,whiteSpace:c}=n,f=Re._collapseSpaces(c),d=Re._collapseNewlines(c);let h=!f;const p=n.wordWrapWidth+u,y=Re._tokenize(e);for(let v=0;v<y.length;v++){let g=y[v];if(Re._isNewline(g)){if(!d){a+=Re._addLine(s),h=!f,s="",o=0;continue}g=" "}if(f){const _=Re.isBreakingSpace(g),b=Re.isBreakingSpace(s[s.length-1]);if(_&&b)continue}const m=Re._getFromCache(g,u,l,i);if(m>p)if(s!==""&&(a+=Re._addLine(s),s="",o=0),Re.canBreakWords(g,n.breakWords)){const _=Re.wordWrapSplit(g);for(let b=0;b<_.length;b++){let x=_[b],w=x,E=1;for(;_[b+E];){const P=_[b+E];if(!Re.canBreakChars(w,P,g,b,n.breakWords))x+=P;else break;w=P,E++}b+=E-1;const S=Re._getFromCache(x,u,l,i);S+o>p&&(a+=Re._addLine(s),h=!1,s="",o=0),s+=x,o+=S}}else{s.length>0&&(a+=Re._addLine(s),s="",o=0);const _=v===y.length-1;a+=Re._addLine(g,!_),h=!1,s="",o=0}else m+o>p&&(h=!1,a+=Re._addLine(s),s="",o=0),(s.length>0||!Re.isBreakingSpace(g)||h)&&(s+=g,o+=m)}return a+=Re._addLine(s,!1),a}static _addLine(e,n=!0){return e=Re._trimRight(e),e=n?`${e}
`:e,e}static _getFromCache(e,n,r,i){let o=r[e];return typeof o!="number"&&(o=Re._measureText(e,n,i)+n,r[e]=o),o}static _collapseSpaces(e){return e==="normal"||e==="pre-line"}static _collapseNewlines(e){return e==="normal"}static _trimRight(e){if(typeof e!="string")return"";for(let n=e.length-1;n>=0;n--){const r=e[n];if(!Re.isBreakingSpace(r))break;e=e.slice(0,-1)}return e}static _isNewline(e){return typeof e!="string"?!1:Re._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,n){return typeof e!="string"?!1:Re._breakingSpaces.includes(e.charCodeAt(0))}static _tokenize(e){const n=[];let r="";if(typeof e!="string")return n;for(let i=0;i<e.length;i++){const o=e[i],s=e[i+1];if(Re.isBreakingSpace(o,s)||Re._isNewline(o)){r!==""&&(n.push(r),r=""),o==="\r"&&s===`
`?(n.push(`\r
`),i++):n.push(o);continue}r+=o}return r!==""&&n.push(r),n}static canBreakWords(e,n){return n}static canBreakChars(e,n,r,i,o){return!0}static wordWrapSplit(e){return Re.graphemeSegmenter(e)}static measureFont(e){if(Re._fonts[e])return Re._fonts[e];const n=Re._context;n.font=e;const r=n.measureText(Re.METRICS_STRING+Re.BASELINE_SYMBOL),i={ascent:r.actualBoundingBoxAscent,descent:r.actualBoundingBoxDescent,fontSize:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent};return Re._fonts[e]=i,i}static clearMetrics(e=""){e?delete Re._fonts[e]:Re._fonts={}}static get _canvas(){if(!Re.__canvas){let e;try{const n=new OffscreenCanvas(0,0),r=n.getContext("2d",Tv);if(r!=null&&r.measureText)return Re.__canvas=n,n;e=je.get().createCanvas()}catch{e=je.get().createCanvas()}e.width=e.height=10,Re.__canvas=e}return Re.__canvas}static get _context(){return Re.__context||(Re.__context=Re._canvas.getContext("2d",Tv)),Re.__context}};Eo.METRICS_STRING="|ÉqÅ";Eo.BASELINE_SYMBOL="M";Eo.BASELINE_MULTIPLIER=1.4;Eo.HEIGHT_MULTIPLIER=2;Eo.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>{const n=t.segment(e),r=[];let i=0;for(const o of n)r[i++]=o.segment;return r}}return t=>[...t]})();Eo.experimentalLetterSpacing=!1;Eo._fonts={};Eo._newlines=[10,13];Eo._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Ii=Eo;const gT=[{offset:0,color:"white"},{offset:1,color:"black"}],Vw=class k_{constructor(...e){this.uid=Ut("fillGradient"),this.type="linear",this.colorStops=[];let n=Jle(e);n={...n.type==="radial"?k_.defaultRadialOptions:k_.defaultLinearOptions,...o8(n)},this._textureSize=n.textureSize,this._wrapMode=n.wrapMode,n.type==="radial"?(this.center=n.center,this.outerCenter=n.outerCenter??this.center,this.innerRadius=n.innerRadius,this.outerRadius=n.outerRadius,this.scale=n.scale,this.rotation=n.rotation):(this.start=n.start,this.end=n.end),this.textureSpace=n.textureSpace,this.type=n.type,n.colorStops.forEach(i=>{this.addColorStop(i.offset,i.color)})}addColorStop(e,n){return this.colorStops.push({offset:e,color:Rt.shared.setValue(n).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:e,y:n}=this.start,{x:r,y:i}=this.end,o=r-e,s=i-n;const a=o<0||s<0;if(this._wrapMode==="clamp-to-edge"){if(o<0){const v=e;e=r,r=v,o*=-1}if(s<0){const v=n;n=i,i=v,s*=-1}}const l=this.colorStops.length?this.colorStops:gT,u=this._textureSize,{canvas:c,context:f}=vT(u,1),d=a?f.createLinearGradient(this._textureSize,0,0,0):f.createLinearGradient(0,0,this._textureSize,0);mT(d,l),f.fillStyle=d,f.fillRect(0,0,u,1),this.texture=new Ae({source:new ml({resource:c,addressMode:this._wrapMode})});const h=Math.sqrt(o*o+s*s),p=Math.atan2(s,o),y=new Oe;y.scale(h/u,1),y.rotate(p),y.translate(e,n),this.textureSpace==="local"&&y.scale(u,u),this.transform=y}buildGradient(){this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const e=this.colorStops.length?this.colorStops:gT,n=this._textureSize,{canvas:r,context:i}=vT(n,n),{x:o,y:s}=this.center,{x:a,y:l}=this.outerCenter,u=this.innerRadius,c=this.outerRadius,f=a-c,d=l-c,h=n/(c*2),p=(o-f)*h,y=(s-d)*h,v=i.createRadialGradient(p,y,u*h,(a-f)*h,(l-d)*h,c*h);mT(v,e),i.fillStyle=e[e.length-1].color,i.fillRect(0,0,n,n),i.fillStyle=v,i.translate(p,y),i.rotate(this.rotation),i.scale(1,this.scale),i.translate(-p,-y),i.fillRect(0,0,n,n),this.texture=new Ae({source:new ml({resource:r,addressMode:this._wrapMode})});const g=new Oe;g.scale(1/h,1/h),g.translate(f,d),this.textureSpace==="local"&&g.scale(n,n),this.transform=g}get styleKey(){return this.uid}destroy(){var e;(e=this.texture)==null||e.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}};Vw.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};Vw.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let os=Vw;function mT(t,e){for(let n=0;n<e.length;n++){const r=e[n];t.addColorStop(r.offset,r.color)}}function vT(t,e){const n=je.get().createCanvas(t,e),r=n.getContext("2d");return{canvas:n,context:r}}function Jle(t){let e=t[0]??{};return(typeof e=="number"||t[1])&&(Fe("8.5.2","use options object instead"),e={type:"linear",start:{x:t[0],y:t[1]},end:{x:t[2],y:t[3]},textureSpace:t[4],textureSize:t[5]??os.defaultLinearOptions.textureSize}),e}const yT={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class Xg{constructor(e,n){this.uid=Ut("fillPattern"),this.transform=new Oe,this._styleKey=null,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),n&&(e.source.style.addressModeU=yT[n].addressModeU,e.source.style.addressModeV=yT[n].addressModeV)}setTransform(e){const n=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/n.frame.width,1/n.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}destroy(){this.texture.destroy(!0),this.texture=null,this._styleKey=null}}var Qle=tue,Pv={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},eue=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function tue(t){var e=[];return t.replace(eue,function(n,r,i){var o=r.toLowerCase();for(i=rue(i),o=="m"&&i.length>2&&(e.push([r].concat(i.splice(0,2))),o="l",r=r=="m"?"l":"L");;){if(i.length==Pv[o])return i.unshift(r),e.push(i);if(i.length<Pv[o])throw new Error("malformed path data");e.push([r].concat(i.splice(0,Pv[o])))}}),e}var nue=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function rue(t){var e=t.match(nue);return e?e.map(Number):[]}const iue=lc(Qle);function oue(t,e){const n=iue(t),r=[];let i=null,o=0,s=0;for(let a=0;a<n.length;a++){const l=n[a],u=l[0],c=l;switch(u){case"M":o=c[1],s=c[2],e.moveTo(o,s);break;case"m":o+=c[1],s+=c[2],e.moveTo(o,s);break;case"H":o=c[1],e.lineTo(o,s);break;case"h":o+=c[1],e.lineTo(o,s);break;case"V":s=c[1],e.lineTo(o,s);break;case"v":s+=c[1],e.lineTo(o,s);break;case"L":o=c[1],s=c[2],e.lineTo(o,s);break;case"l":o+=c[1],s+=c[2],e.lineTo(o,s);break;case"C":o=c[5],s=c[6],e.bezierCurveTo(c[1],c[2],c[3],c[4],o,s);break;case"c":e.bezierCurveTo(o+c[1],s+c[2],o+c[3],s+c[4],o+c[5],s+c[6]),o+=c[5],s+=c[6];break;case"S":o=c[3],s=c[4],e.bezierCurveToShort(c[1],c[2],o,s);break;case"s":e.bezierCurveToShort(o+c[1],s+c[2],o+c[3],s+c[4]),o+=c[3],s+=c[4];break;case"Q":o=c[3],s=c[4],e.quadraticCurveTo(c[1],c[2],o,s);break;case"q":e.quadraticCurveTo(o+c[1],s+c[2],o+c[3],s+c[4]),o+=c[3],s+=c[4];break;case"T":o=c[1],s=c[2],e.quadraticCurveToShort(o,s);break;case"t":o+=c[1],s+=c[2],e.quadraticCurveToShort(o,s);break;case"A":o=c[6],s=c[7],e.arcToSvg(c[1],c[2],c[3],c[4],c[5],o,s);break;case"a":o+=c[6],s+=c[7],e.arcToSvg(c[1],c[2],c[3],c[4],c[5],o,s);break;case"Z":case"z":e.closePath(),r.length>0&&(i=r.pop(),i?(o=i.startX,s=i.startY):(o=0,s=0)),i=null;break;default:Ne(`Unknown SVG path command: ${u}`)}u!=="Z"&&u!=="z"&&i===null&&(i={startX:o,startY:s},r.push(i))}return e}class zw{constructor(e=0,n=0,r=0){this.type="circle",this.x=e,this.y=n,this.radius=r}clone(){return new zw(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,o=this.y-n;return i*=i,o*=o,i+o<=r}strokeContains(e,n,r,i=.5){if(this.radius===0)return!1;const o=this.x-e,s=this.y-n,a=this.radius,l=(1-i)*r,u=Math.sqrt(o*o+s*s);return u<=a+l&&u>a-(r-l)}getBounds(e){return e||(e=new vt),e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class jw{constructor(e=0,n=0,r=0,i=0){this.type="ellipse",this.x=e,this.y=n,this.halfWidth=r,this.halfHeight=i}clone(){return new jw(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,n){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let r=(e-this.x)/this.halfWidth,i=(n-this.y)/this.halfHeight;return r*=r,i*=i,r+i<=1}strokeContains(e,n,r,i=.5){const{halfWidth:o,halfHeight:s}=this;if(o<=0||s<=0)return!1;const a=r*(1-i),l=r-a,u=o-l,c=s-l,f=o+a,d=s+a,h=e-this.x,p=n-this.y,y=h*h/(u*u)+p*p/(c*c),v=h*h/(f*f)+p*p/(d*d);return y>1&&v<=1}getBounds(e){return e||(e=new vt),e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function sue(t,e,n,r,i,o){const s=t-n,a=e-r,l=i-n,u=o-r,c=s*l+a*u,f=l*l+u*u;let d=-1;f!==0&&(d=c/f);let h,p;d<0?(h=n,p=r):d>1?(h=i,p=o):(h=n+d*l,p=r+d*u);const y=t-h,v=e-p;return y*y+v*v}let aue,lue;class Sf{constructor(...e){this.type="polygon";let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const r=[];for(let i=0,o=n.length;i<o;i++)r.push(n[i].x,n[i].y);n=r}this.points=n,this.closePath=!0}isClockwise(){let e=0;const n=this.points,r=n.length;for(let i=0;i<r;i+=2){const o=n[i],s=n[i+1],a=n[(i+2)%r],l=n[(i+3)%r];e+=(a-o)*(l+s)}return e<0}containsPolygon(e){const n=this.getBounds(aue),r=e.getBounds(lue);if(!n.containsRect(r))return!1;const i=e.points;for(let o=0;o<i.length;o+=2){const s=i[o],a=i[o+1];if(!this.contains(s,a))return!1}return!0}clone(){const e=this.points.slice(),n=new Sf(e);return n.closePath=this.closePath,n}contains(e,n){let r=!1;const i=this.points.length/2;for(let o=0,s=i-1;o<i;s=o++){const a=this.points[o*2],l=this.points[o*2+1],u=this.points[s*2],c=this.points[s*2+1];l>n!=c>n&&e<(u-a)*((n-l)/(c-l))+a&&(r=!r)}return r}strokeContains(e,n,r,i=.5){const o=r*r,s=o*(1-i),a=o-s,{points:l}=this,u=l.length-(this.closePath?0:2);for(let c=0;c<u;c+=2){const f=l[c],d=l[c+1],h=l[(c+2)%l.length],p=l[(c+3)%l.length],y=sue(e,n,f,d,h,p),v=Math.sign((h-f)*(n-d)-(p-d)*(e-f));if(y<=(v<0?a:s))return!0}return!1}getBounds(e){e||(e=new vt);const n=this.points;let r=1/0,i=-1/0,o=1/0,s=-1/0;for(let a=0,l=n.length;a<l;a+=2){const u=n[a],c=n[a+1];r=u<r?u:r,i=u>i?u:i,o=c<o?c:o,s=c>s?c:s}return e.x=r,e.width=i-r,e.y=o,e.height=s-o,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return Fe("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return Fe("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const Zh=(t,e,n,r,i,o,s)=>{const a=t-n,l=e-r,u=Math.sqrt(a*a+l*l);return u>=i-o&&u<=i+s};class Ww{constructor(e=0,n=0,r=0,i=0,o=20){this.type="roundedRectangle",this.x=e,this.y=n,this.width=r,this.height=i,this.radius=o}getBounds(e){return e||(e=new vt),e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new Ww(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),o=n-(this.y+r);const s=r*r;if(i*i+o*o<=s||(i=e-(this.x+this.width-r),i*i+o*o<=s)||(o=n-(this.y+this.height-r),i*i+o*o<=s)||(i=e-(this.x+r),i*i+o*o<=s))return!0}return!1}strokeContains(e,n,r,i=.5){const{x:o,y:s,width:a,height:l,radius:u}=this,c=r*(1-i),f=r-c,d=o+u,h=s+u,p=a-u*2,y=l-u*2,v=o+a,g=s+l;return(e>=o-c&&e<=o+f||e>=v-f&&e<=v+c)&&n>=h&&n<=h+y||(n>=s-c&&n<=s+f||n>=g-f&&n<=g+c)&&e>=d&&e<=d+p?!0:e<d&&n<h&&Zh(e,n,d,h,u,f,c)||e>v-u&&n<h&&Zh(e,n,v-u,h,u,f,c)||e>v-u&&n>g-u&&Zh(e,n,v-u,g-u,u,f,c)||e<d&&n>g-u&&Zh(e,n,d,g-u,u,f,c)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const rk={};function Yw(t,e,n){let r=2166136261;for(let i=0;i<e;i++)r^=t[i].uid,r=Math.imul(r,16777619),r>>>=0;return rk[r]||uue(t,e,r,n)}function uue(t,e,n,r){const i={};let o=0;for(let a=0;a<r;a++){const l=a<e?t[a]:Ae.EMPTY.source;i[o++]=l.source,i[o++]=l.style}const s=new Xo(i);return rk[n]=s,s}class hu{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function N_(t,e){const n=t.byteLength/8|0,r=new Float64Array(t,0,n);new Float64Array(e,0,n).set(r);const o=t.byteLength-n*8;if(o>0){const s=new Uint8Array(t,n*8,o);new Uint8Array(e,n*8,o).set(s)}}const cue={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var sn=(t=>(t[t.DISABLED=0]="DISABLED",t[t.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",t[t.MASK_ACTIVE=2]="MASK_ACTIVE",t[t.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",t[t.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",t[t.NONE=5]="NONE",t))(sn||{});function ud(t,e){return e.alphaMode==="no-premultiply-alpha"&&cue[t]||t}const fue=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function due(t){let e="";for(let n=0;n<t;++n)n>0&&(e+=`
else `),n<t-1&&(e+=`if(test == ${n}.0){}`);return e}function ik(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const r=fue.replace(/%forloop%/gi,due(t));if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))t=t/2|0;else break}}finally{e.deleteShader(n)}return t}let eu=null;function hue(){var e;if(eu)return eu;const t=N8();return eu=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),eu=ik(eu,t),(e=t.getExtension("WEBGL_lose_context"))==null||e.loseContext(),eu}class pue{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const n=this.textures[e];this.textures[e]=null,this.ids[n.uid]=null}this.count=0}}class gue{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new pue,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const ok=[];let F_=0;function _T(){return F_>0?ok[--F_]:new gue}function bT(t){ok[F_++]=t}let $c=0;const sk=class ak{constructor(e){this.uid=Ut("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],e={...ak.defaultOptions,...e},e.maxTextures||(Fe("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),e.maxTextures=hue());const{maxTextures:n,attributesInitialSize:r,indicesInitialSize:i}=e;this.attributeBuffer=new hu(r*4),this.indexBuffer=new Uint16Array(i),this.maxTextures=n}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)bT(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,n){const r=e._batch.textures.ids[n._source.uid];return!r&&r!==0?!1:(e._textureId=r,e.texture=n,!0)}updateElement(e){this.dirty=!0;const n=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,n.float32View,n.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,n.float32View,n.uint32View,e._attributeStart,e._textureId)}break(e){const n=this._elements;if(!n[this.elementStart])return;let r=_T(),i=r.textures;i.clear();const o=n[this.elementStart];let s=ud(o.blendMode,o.texture._source),a=o.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const l=this.attributeBuffer.float32View,u=this.attributeBuffer.uint32View,c=this.indexBuffer;let f=this._batchIndexSize,d=this._batchIndexStart,h="startBatch";const p=this.maxTextures;for(let y=this.elementStart;y<this.elementSize;++y){const v=n[y];n[y]=null;const m=v.texture._source,_=ud(v.blendMode,m),b=s!==_||a!==v.topology;if(m._batchTick===$c&&!b){v._textureId=m._textureBindLocation,f+=v.indexSize,v.packAsQuad?(this.packQuadAttributes(v,l,u,v._attributeStart,v._textureId),this.packQuadIndex(c,v._indexStart,v._attributeStart/this.vertexSize)):(this.packAttributes(v,l,u,v._attributeStart,v._textureId),this.packIndex(v,c,v._indexStart,v._attributeStart/this.vertexSize)),v._batch=r;continue}m._batchTick=$c,(i.count>=p||b)&&(this._finishBatch(r,d,f-d,i,s,a,e,h),h="renderBatch",d=f,s=_,a=v.topology,r=_T(),i=r.textures,i.clear(),++$c),v._textureId=m._textureBindLocation=i.count,i.ids[m.uid]=i.count,i.textures[i.count++]=m,v._batch=r,f+=v.indexSize,v.packAsQuad?(this.packQuadAttributes(v,l,u,v._attributeStart,v._textureId),this.packQuadIndex(c,v._indexStart,v._attributeStart/this.vertexSize)):(this.packAttributes(v,l,u,v._attributeStart,v._textureId),this.packIndex(v,c,v._indexStart,v._attributeStart/this.vertexSize))}i.count>0&&(this._finishBatch(r,d,f-d,i,s,a,e,h),d=f,++$c),this.elementStart=this.elementSize,this._batchIndexStart=d,this._batchIndexSize=f}_finishBatch(e,n,r,i,o,s,a,l){e.gpuBindGroup=null,e.bindGroup=null,e.action=l,e.batcher=this,e.textures=i,e.blendMode=o,e.topology=s,e.start=n,e.size=r,++$c,this.batches[this.batchIndex++]=e,a.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const n=Math.max(e,this.attributeBuffer.size*2),r=new hu(n);N_(this.attributeBuffer.rawBinaryData,r.rawBinaryData),this.attributeBuffer=r}_resizeIndexBuffer(e){const n=this.indexBuffer;let r=Math.max(e,n.length*1.5);r+=r%2;const i=r>65535?new Uint32Array(r):new Uint16Array(r);if(i.BYTES_PER_ELEMENT!==n.BYTES_PER_ELEMENT)for(let o=0;o<n.length;o++)i[o]=n[o];else N_(n.buffer,i.buffer);this.indexBuffer=i}packQuadIndex(e,n,r){e[n]=r+0,e[n+1]=r+1,e[n+2]=r+2,e[n+3]=r+0,e[n+4]=r+2,e[n+5]=r+3}packIndex(e,n,r,i){const o=e.indices,s=e.indexSize,a=e.indexOffset,l=e.attributeOffset;for(let u=0;u<s;u++)n[r++]=i+o[u+a]-l}destroy(){for(let e=0;e<this.batches.length;e++)bT(this.batches[e]);this.batches=null;for(let e=0;e<this._elements.length;e++)this._elements[e]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};sk.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let mue=sk;var it=(t=>(t[t.MAP_READ=1]="MAP_READ",t[t.MAP_WRITE=2]="MAP_WRITE",t[t.COPY_SRC=4]="COPY_SRC",t[t.COPY_DST=8]="COPY_DST",t[t.INDEX=16]="INDEX",t[t.VERTEX=32]="VERTEX",t[t.UNIFORM=64]="UNIFORM",t[t.STORAGE=128]="STORAGE",t[t.INDIRECT=256]="INDIRECT",t[t.QUERY_RESOLVE=512]="QUERY_RESOLVE",t[t.STATIC=1024]="STATIC",t))(it||{});let zr=class extends Jr{constructor(e){let{data:n,size:r}=e;const{usage:i,label:o,shrinkToFit:s}=e;super(),this.uid=Ut("buffer"),this._resourceType="buffer",this._resourceId=Ut("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,n instanceof Array&&(n=new Float32Array(n)),this._data=n,r??(r=n==null?void 0:n.byteLength);const a=!!n;this.descriptor={size:r,usage:i,mappedAtCreation:a,label:o},this.shrinkToFit=s??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&it.STATIC)}set static(e){e?this.descriptor.usage|=it.STATIC:this.descriptor.usage&=~it.STATIC}setDataWithSize(e,n,r){if(this._updateID++,this._updateSize=n*e.BYTES_PER_ELEMENT,this._data===e){r&&this.emit("update",this);return}const i=this._data;if(this._data=e,this._dataInt32=null,!i||i.length!==e.length){!this.shrinkToFit&&i&&e.byteLength<i.byteLength?r&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=Ut("resource"),this.emit("change",this));return}r&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}};function lk(t,e){if(!(t instanceof zr)){let n=e?it.INDEX:it.VERTEX;t instanceof Array&&(e?(t=new Uint32Array(t),n=it.INDEX|it.COPY_DST):(t=new Float32Array(t),n=it.VERTEX|it.COPY_DST)),t=new zr({data:t,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:n})}return t}function vue(t,e,n){const r=t.getAttribute(e);if(!r)return n.minX=0,n.minY=0,n.maxX=0,n.maxY=0,n;const i=r.buffer.data;let o=1/0,s=1/0,a=-1/0,l=-1/0;const u=i.BYTES_PER_ELEMENT,c=(r.offset||0)/u,f=(r.stride||2*4)/u;for(let d=c;d<i.length;d+=f){const h=i[d],p=i[d+1];h>a&&(a=h),p>l&&(l=p),h<o&&(o=h),p<s&&(s=p)}return n.minX=o,n.minY=s,n.maxX=a,n.maxY=l,n}function yue(t){return(t instanceof zr||Array.isArray(t)||t.BYTES_PER_ELEMENT)&&(t={buffer:t}),t.buffer=lk(t.buffer,!1),t}class zd extends Jr{constructor(e={}){super(),this.uid=Ut("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Vn,this._boundsDirty=!0;const{attributes:n,indexBuffer:r,topology:i}=e;if(this.buffers=[],this.attributes={},n)for(const o in n)this.addAttribute(o,n[o]);this.instanceCount=e.instanceCount??1,r&&this.addIndex(r),this.topology=i||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const n=this.attributes[e];return n.buffer.data.length/(n.stride/4||n.size)}return 0}addAttribute(e,n){const r=yue(n);this.buffers.indexOf(r.buffer)===-1&&(this.buffers.push(r.buffer),r.buffer.on("update",this.onBufferUpdate,this),r.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=r}addIndex(e){this.indexBuffer=lk(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,vue(this,"aPosition",this._bounds)):this._bounds}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(n=>n.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const _ue=new Float32Array(1),bue=new Uint32Array(1);class xue extends zd{constructor(){const n=new zr({data:_ue,label:"attribute-batch-buffer",usage:it.VERTEX|it.COPY_DST,shrinkToFit:!1}),r=new zr({data:bue,label:"index-batch-buffer",usage:it.INDEX|it.COPY_DST,shrinkToFit:!1}),i=6*4;super({attributes:{aPosition:{buffer:n,format:"float32x2",stride:i,offset:0},aUV:{buffer:n,format:"float32x2",stride:i,offset:2*4},aColor:{buffer:n,format:"unorm8x4",stride:i,offset:4*4},aTextureIdAndRound:{buffer:n,format:"uint16x2",stride:i,offset:5*4}},indexBuffer:r})}}function xT(t,e,n){if(t)for(const r in t){const i=r.toLocaleLowerCase(),o=e[i];if(o){let s=t[r];r==="header"&&(s=s.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),n&&o.push(`//----${n}----//`),o.push(s)}else Ne(`${r} placement hook does not exist in shader`)}}const wue=/\{\{(.*?)\}\}/g;function wT(t){var r;const e={};return(((r=t.match(wue))==null?void 0:r.map(i=>i.replace(/[{()}]/g,"")))??[]).forEach(i=>{e[i]=[]}),e}function ET(t,e){let n;const r=/@in\s+([^;]+);/g;for(;(n=r.exec(t))!==null;)e.push(n[1])}function ST(t,e,n=!1){const r=[];ET(e,r),t.forEach(a=>{a.header&&ET(a.header,r)});const i=r;n&&i.sort();const o=i.map((a,l)=>`       @location(${l}) ${a},`).join(`
`);let s=e.replace(/@in\s+[^;]+;\s*/g,"");return s=s.replace("{{in}}",`
${o}
`),s}function CT(t,e){let n;const r=/@out\s+([^;]+);/g;for(;(n=r.exec(t))!==null;)e.push(n[1])}function Eue(t){const n=/\b(\w+)\s*:/g.exec(t);return n?n[1]:""}function Sue(t){const e=/@.*?\s+/g;return t.replace(e,"")}function Cue(t,e){const n=[];CT(e,n),t.forEach(l=>{l.header&&CT(l.header,n)});let r=0;const i=n.sort().map(l=>l.indexOf("builtin")>-1?l:`@location(${r++}) ${l}`).join(`,
`),o=n.sort().map(l=>`       var ${Sue(l)};`).join(`
`),s=`return VSOutput(
            ${n.sort().map(l=>` ${Eue(l)}`).join(`,
`)});`;let a=e.replace(/@out\s+[^;]+;\s*/g,"");return a=a.replace("{{struct}}",`
${i}
`),a=a.replace("{{start}}",`
${o}
`),a=a.replace("{{return}}",`
${s}
`),a}function AT(t,e){let n=t;for(const r in e){const i=e[r];i.join(`
`).length?n=n.replace(`{{${r}}}`,`//-----${r} START-----//
${i.join(`
`)}
//----${r} FINISH----//`):n=n.replace(`{{${r}}}`,"")}return n}const Bs=Object.create(null),Iv=new Map;let Aue=0;function Tue({template:t,bits:e}){const n=uk(t,e);if(Bs[n])return Bs[n];const{vertex:r,fragment:i}=Iue(t,e);return Bs[n]=ck(r,i,e),Bs[n]}function Pue({template:t,bits:e}){const n=uk(t,e);return Bs[n]||(Bs[n]=ck(t.vertex,t.fragment,e)),Bs[n]}function Iue(t,e){const n=e.map(s=>s.vertex).filter(s=>!!s),r=e.map(s=>s.fragment).filter(s=>!!s);let i=ST(n,t.vertex,!0);i=Cue(n,i);const o=ST(r,t.fragment,!0);return{vertex:i,fragment:o}}function uk(t,e){return e.map(n=>(Iv.has(n)||Iv.set(n,Aue++),Iv.get(n))).sort((n,r)=>n-r).join("-")+t.vertex+t.fragment}function ck(t,e,n){const r=wT(t),i=wT(e);return n.forEach(o=>{xT(o.vertex,r,o.name),xT(o.fragment,i,o.name)}),{vertex:AT(t,r),fragment:AT(e,i)}}const Oue=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,Rue=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,Mue=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,Due=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,Bue={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},kue={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function jd({bits:t,name:e}){const n=Tue({template:{fragment:Rue,vertex:Oue},bits:[Bue,...t]});return da.from({name:e,vertex:{source:n.vertex,entryPoint:"main"},fragment:{source:n.fragment,entryPoint:"main"}})}function Wd({bits:t,name:e}){return new kl({name:e,...Pue({template:{vertex:Mue,fragment:Due},bits:[kue,...t]})})}const Xw={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},Kw={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},Ov={};function Nue(t){const e=[];if(t===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let n=0;for(let r=0;r<t;r++)e.push(`@group(1) @binding(${n++}) var textureSource${r+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${n++}) var textureSampler${r+1}: sampler;`)}return e.join(`
`)}function Fue(t){const e=[];if(t===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let n=0;n<t;n++)n===t-1?e.push("  default:{"):e.push(`  case ${n}:{`),e.push(`      outColor = textureSampleGrad(textureSource${n+1}, textureSampler${n+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function qw(t){return Ov[t]||(Ov[t]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${Nue(t)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${Fue(t)}
            `}}),Ov[t]}const Rv={};function Lue(t){const e=[];for(let n=0;n<t;n++)n>0&&e.push("else"),n<t-1&&e.push(`if(vTextureId < ${n}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${n}], vUV);`),e.push("}");return e.join(`
`)}function Zw(t){return Rv[t]||(Rv[t]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${t}];

            `,main:`

                ${Lue(t)}
            `}}),Rv[t]}const Yd={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Xd={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},TT={};function Jw(t){let e=TT[t];if(e)return e;const n=new Int32Array(t);for(let r=0;r<t;r++)n[r]=r;return e=TT[t]=new gr({uTextures:{value:n,type:"i32",size:t}},{isStatic:!0}),e}class $ue extends yi{constructor(e){const n=Wd({name:"batch",bits:[Kw,Zw(e),Xd]}),r=jd({name:"batch",bits:[Xw,qw(e),Yd]});super({glProgram:n,gpuProgram:r,resources:{batchSamplers:Jw(e)}})}}let Mv=null;const fk=class dk extends mue{constructor(e){super(e),this.geometry=new xue,this.name=dk.extension.name,this.vertexSize=6,Mv??(Mv=new $ue(e.maxTextures)),this.shader=Mv}packAttributes(e,n,r,i,o){const s=o<<16|e.roundPixels&65535,a=e.transform,l=a.a,u=a.b,c=a.c,f=a.d,d=a.tx,h=a.ty,{positions:p,uvs:y}=e,v=e.color,g=e.attributeOffset,m=g+e.attributeSize;for(let _=g;_<m;_++){const b=_*2,x=p[b],w=p[b+1];n[i++]=l*x+c*w+d,n[i++]=f*w+u*x+h,n[i++]=y[b],n[i++]=y[b+1],r[i++]=v,r[i++]=s}}packQuadAttributes(e,n,r,i,o){const s=e.texture,a=e.transform,l=a.a,u=a.b,c=a.c,f=a.d,d=a.tx,h=a.ty,p=e.bounds,y=p.maxX,v=p.minX,g=p.maxY,m=p.minY,_=s.uvs,b=e.color,x=o<<16|e.roundPixels&65535;n[i+0]=l*v+c*m+d,n[i+1]=f*m+u*v+h,n[i+2]=_.x0,n[i+3]=_.y0,r[i+4]=b,r[i+5]=x,n[i+6]=l*y+c*m+d,n[i+7]=f*m+u*y+h,n[i+8]=_.x1,n[i+9]=_.y1,r[i+10]=b,r[i+11]=x,n[i+12]=l*y+c*g+d,n[i+13]=f*g+u*y+h,n[i+14]=_.x2,n[i+15]=_.y2,r[i+16]=b,r[i+17]=x,n[i+18]=l*v+c*g+d,n[i+19]=f*g+u*v+h,n[i+20]=_.x3,n[i+21]=_.y3,r[i+22]=b,r[i+23]=x}};fk.extension={type:[V.Batcher],name:"default"};let Qw=fk;function Uue(t,e,n,r,i,o,s,a=null){let l=0;n*=e,i*=o;const u=a.a,c=a.b,f=a.c,d=a.d,h=a.tx,p=a.ty;for(;l<s;){const y=t[n],v=t[n+1];r[i]=u*y+f*v+h,r[i+1]=c*y+d*v+p,i+=o,n+=e,l++}}function Gue(t,e,n,r){let i=0;for(e*=n;i<r;)t[e]=0,t[e+1]=0,e+=n,i++}function hk(t,e,n,r,i){const o=e.a,s=e.b,a=e.c,l=e.d,u=e.tx,c=e.ty;n||(n=0),r||(r=2),i||(i=t.length/r-n);let f=n*r;for(let d=0;d<i;d++){const h=t[f],p=t[f+1];t[f]=o*h+a*p+u,t[f+1]=s*h+l*p+c,f+=r}}const Hue=new Oe;class eE{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,n=e>>16|e&65280|(e&255)<<16,r=this.renderable;return r?v8(n,r.groupColor)+(this.alpha*r.groupAlpha*255<<24):n+(this.alpha*255<<24)}get transform(){var e;return((e=this.renderable)==null?void 0:e.groupTransform)||Hue}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData,e.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const cd={extension:{type:V.ShapeBuilder,name:"circle"},build(t,e){let n,r,i,o,s,a;if(t.type==="circle"){const b=t;if(s=a=b.radius,s<=0)return!1;n=b.x,r=b.y,i=o=0}else if(t.type==="ellipse"){const b=t;if(s=b.halfWidth,a=b.halfHeight,s<=0||a<=0)return!1;n=b.x,r=b.y,i=o=0}else{const b=t,x=b.width/2,w=b.height/2;n=b.x+x,r=b.y+w,s=a=Math.max(0,Math.min(b.radius,Math.min(x,w))),i=x-s,o=w-a}if(i<0||o<0)return!1;const l=Math.ceil(2.3*Math.sqrt(s+a)),u=l*8+(i?4:0)+(o?4:0);if(u===0)return!1;if(l===0)return e[0]=e[6]=n+i,e[1]=e[3]=r+o,e[2]=e[4]=n-i,e[5]=e[7]=r-o,!0;let c=0,f=l*4+(i?2:0)+2,d=f,h=u,p=i+s,y=o,v=n+p,g=n-p,m=r+y;if(e[c++]=v,e[c++]=m,e[--f]=m,e[--f]=g,o){const b=r-y;e[d++]=g,e[d++]=b,e[--h]=b,e[--h]=v}for(let b=1;b<l;b++){const x=Math.PI/2*(b/l),w=i+Math.cos(x)*s,E=o+Math.sin(x)*a,S=n+w,P=n-w,C=r+E,A=r-E;e[c++]=S,e[c++]=C,e[--f]=C,e[--f]=P,e[d++]=P,e[d++]=A,e[--h]=A,e[--h]=S}p=i,y=o+a,v=n+p,g=n-p,m=r+y;const _=r-y;return e[c++]=v,e[c++]=m,e[--h]=_,e[--h]=v,i&&(e[c++]=g,e[c++]=m,e[--h]=_,e[--h]=g),!0},triangulate(t,e,n,r,i,o){if(t.length===0)return;let s=0,a=0;for(let c=0;c<t.length;c+=2)s+=t[c],a+=t[c+1];s/=t.length/2,a/=t.length/2;let l=r;e[l*n]=s,e[l*n+1]=a;const u=l++;for(let c=0;c<t.length;c+=2)e[l*n]=t[c],e[l*n+1]=t[c+1],c>0&&(i[o++]=l,i[o++]=u,i[o++]=l-1),l++;i[o++]=u+1,i[o++]=u,i[o++]=l-1}},Vue={...cd,extension:{...cd.extension,name:"ellipse"}},zue={...cd,extension:{...cd.extension,name:"roundedRectangle"}},pk=1e-4,PT=1e-4;function jue(t){const e=t.length;if(e<6)return 1;let n=0;for(let r=0,i=t[e-2],o=t[e-1];r<e;r+=2){const s=t[r],a=t[r+1];n+=(s-i)*(a+o),i=s,o=a}return n<0?-1:1}function IT(t,e,n,r,i,o,s,a){const l=t-n*i,u=e-r*i,c=t+n*o,f=e+r*o;let d,h;s?(d=r,h=-n):(d=-r,h=n);const p=l+d,y=u+h,v=c+d,g=f+h;return a.push(p,y),a.push(v,g),2}function xa(t,e,n,r,i,o,s,a){const l=n-t,u=r-e;let c=Math.atan2(l,u),f=Math.atan2(i-t,o-e);a&&c<f?c+=Math.PI*2:!a&&c>f&&(f+=Math.PI*2);let d=c;const h=f-c,p=Math.abs(h),y=Math.sqrt(l*l+u*u),v=(15*p*Math.sqrt(y)/Math.PI>>0)+1,g=h/v;if(d+=g,a){s.push(t,e),s.push(n,r);for(let m=1,_=d;m<v;m++,_+=g)s.push(t,e),s.push(t+Math.sin(_)*y,e+Math.cos(_)*y);s.push(t,e),s.push(i,o)}else{s.push(n,r),s.push(t,e);for(let m=1,_=d;m<v;m++,_+=g)s.push(t+Math.sin(_)*y,e+Math.cos(_)*y),s.push(t,e);s.push(i,o),s.push(t,e)}return v*2}function Wue(t,e,n,r,i,o){const s=pk;if(t.length===0)return;const a=e;let l=a.alignment;if(e.alignment!==.5){let K=jue(t);n&&(K*=-1),l=(l-.5)*K+.5}const u=new Gt(t[0],t[1]),c=new Gt(t[t.length-2],t[t.length-1]),f=r,d=Math.abs(u.x-c.x)<s&&Math.abs(u.y-c.y)<s;if(f){t=t.slice(),d&&(t.pop(),t.pop(),c.set(t[t.length-2],t[t.length-1]));const K=(u.x+c.x)*.5,fe=(c.y+u.y)*.5;t.unshift(K,fe),t.push(K,fe)}const h=i,p=t.length/2;let y=t.length;const v=h.length/2,g=a.width/2,m=g*g,_=a.miterLimit*a.miterLimit;let b=t[0],x=t[1],w=t[2],E=t[3],S=0,P=0,C=-(x-E),A=b-w,T=0,R=0,N=Math.sqrt(C*C+A*A);C/=N,A/=N,C*=g,A*=g;const G=l,k=(1-G)*2,U=G*2;f||(a.cap==="round"?y+=xa(b-C*(k-U)*.5,x-A*(k-U)*.5,b-C*k,x-A*k,b+C*U,x+A*U,h,!0)+2:a.cap==="square"&&(y+=IT(b,x,C,A,k,U,!0,h))),h.push(b-C*k,x-A*k),h.push(b+C*U,x+A*U);for(let K=1;K<p-1;++K){b=t[(K-1)*2],x=t[(K-1)*2+1],w=t[K*2],E=t[K*2+1],S=t[(K+1)*2],P=t[(K+1)*2+1],C=-(x-E),A=b-w,N=Math.sqrt(C*C+A*A),C/=N,A/=N,C*=g,A*=g,T=-(E-P),R=w-S,N=Math.sqrt(T*T+R*R),T/=N,R/=N,T*=g,R*=g;const fe=w-b,ce=x-E,X=w-S,ie=P-E,ge=fe*X+ce*ie,F=ce*X-ie*fe,q=F<0;if(Math.abs(F)<.001*Math.abs(ge)){h.push(w-C*k,E-A*k),h.push(w+C*U,E+A*U),ge>=0&&(a.join==="round"?y+=xa(w,E,w-C*k,E-A*k,w-T*k,E-R*k,h,!1)+4:y+=2,h.push(w-T*U,E-R*U),h.push(w+T*k,E+R*k));continue}const L=(-C+b)*(-A+E)-(-C+w)*(-A+x),ee=(-T+S)*(-R+E)-(-T+w)*(-R+P),J=(fe*ee-X*L)/F,de=(ie*L-ce*ee)/F,pe=(J-w)*(J-w)+(de-E)*(de-E),be=w+(J-w)*k,I=E+(de-E)*k,$=w-(J-w)*U,j=E-(de-E)*U,ae=Math.min(fe*fe+ce*ce,X*X+ie*ie),ue=q?k:U,M=ae+ue*ue*m;pe<=M?a.join==="bevel"||pe/m>_?(q?(h.push(be,I),h.push(w+C*U,E+A*U),h.push(be,I),h.push(w+T*U,E+R*U)):(h.push(w-C*k,E-A*k),h.push($,j),h.push(w-T*k,E-R*k),h.push($,j)),y+=2):a.join==="round"?q?(h.push(be,I),h.push(w+C*U,E+A*U),y+=xa(w,E,w+C*U,E+A*U,w+T*U,E+R*U,h,!0)+4,h.push(be,I),h.push(w+T*U,E+R*U)):(h.push(w-C*k,E-A*k),h.push($,j),y+=xa(w,E,w-C*k,E-A*k,w-T*k,E-R*k,h,!1)+4,h.push(w-T*k,E-R*k),h.push($,j)):(h.push(be,I),h.push($,j)):(h.push(w-C*k,E-A*k),h.push(w+C*U,E+A*U),a.join==="round"?q?y+=xa(w,E,w+C*U,E+A*U,w+T*U,E+R*U,h,!0)+2:y+=xa(w,E,w-C*k,E-A*k,w-T*k,E-R*k,h,!1)+2:a.join==="miter"&&pe/m<=_&&(q?(h.push($,j),h.push($,j)):(h.push(be,I),h.push(be,I)),y+=2),h.push(w-T*k,E-R*k),h.push(w+T*U,E+R*U),y+=2)}b=t[(p-2)*2],x=t[(p-2)*2+1],w=t[(p-1)*2],E=t[(p-1)*2+1],C=-(x-E),A=b-w,N=Math.sqrt(C*C+A*A),C/=N,A/=N,C*=g,A*=g,h.push(w-C*k,E-A*k),h.push(w+C*U,E+A*U),f||(a.cap==="round"?y+=xa(w-C*(k-U)*.5,E-A*(k-U)*.5,w-C*k,E-A*k,w+C*U,E+A*U,h,!1)+2:a.cap==="square"&&(y+=IT(w,E,C,A,k,U,!1,h)));const W=PT*PT;for(let K=v;K<y+v-2;++K)b=h[K*2],x=h[K*2+1],w=h[(K+1)*2],E=h[(K+1)*2+1],S=h[(K+2)*2],P=h[(K+2)*2+1],!(Math.abs(b*(E-P)+w*(P-x)+S*(x-E))<W)&&o.push(K,K+1,K+2)}function Yue(t,e,n,r){const i=pk;if(t.length===0)return;const o=t[0],s=t[1],a=t[t.length-2],l=t[t.length-1],u=e||Math.abs(o-a)<i&&Math.abs(s-l)<i,c=n,f=t.length/2,d=c.length/2;for(let h=0;h<f;h++)c.push(t[h*2]),c.push(t[h*2+1]);for(let h=0;h<f-1;h++)r.push(d+h,d+h+1);u&&r.push(d+f-1,d)}function gk(t,e,n,r,i,o,s){const a=jle(t,e,2);if(!a)return;for(let u=0;u<a.length;u+=3)o[s++]=a[u]+i,o[s++]=a[u+1]+i,o[s++]=a[u+2]+i;let l=i*r;for(let u=0;u<t.length;u+=2)n[l]=t[u],n[l+1]=t[u+1],l+=r}const Xue=[],Kue={extension:{type:V.ShapeBuilder,name:"polygon"},build(t,e){for(let n=0;n<t.points.length;n++)e[n]=t.points[n];return!0},triangulate(t,e,n,r,i,o){gk(t,Xue,e,n,r,i,o)}},que={extension:{type:V.ShapeBuilder,name:"rectangle"},build(t,e){const n=t,r=n.x,i=n.y,o=n.width,s=n.height;return o>0&&s>0?(e[0]=r,e[1]=i,e[2]=r+o,e[3]=i,e[4]=r+o,e[5]=i+s,e[6]=r,e[7]=i+s,!0):!1},triangulate(t,e,n,r,i,o){let s=0;r*=n,e[r+s]=t[0],e[r+s+1]=t[1],s+=n,e[r+s]=t[2],e[r+s+1]=t[3],s+=n,e[r+s]=t[6],e[r+s+1]=t[7],s+=n,e[r+s]=t[4],e[r+s+1]=t[5],s+=n;const a=r/n;i[o++]=a,i[o++]=a+1,i[o++]=a+2,i[o++]=a+1,i[o++]=a+3,i[o++]=a+2}},Zue={extension:{type:V.ShapeBuilder,name:"triangle"},build(t,e){return e[0]=t.x,e[1]=t.y,e[2]=t.x2,e[3]=t.y2,e[4]=t.x3,e[5]=t.y3,!0},triangulate(t,e,n,r,i,o){let s=0;r*=n,e[r+s]=t[0],e[r+s+1]=t[1],s+=n,e[r+s]=t[2],e[r+s+1]=t[3],s+=n,e[r+s]=t[4],e[r+s+1]=t[5];const a=r/n;i[o++]=a,i[o++]=a+1,i[o++]=a+2}},Jue=new Oe,Que=new vt;function ece(t,e,n,r){const i=e.matrix?t.copyFrom(e.matrix).invert():t.identity();if(e.textureSpace==="local"){const s=n.getBounds(Que);e.width&&s.pad(e.width);const{x:a,y:l}=s,u=1/s.width,c=1/s.height,f=-a*u,d=-l*c,h=i.a,p=i.b,y=i.c,v=i.d;i.a*=u,i.b*=u,i.c*=c,i.d*=c,i.tx=f*h+d*y+i.tx,i.ty=f*p+d*v+i.ty}else i.translate(e.texture.frame.x,e.texture.frame.y),i.scale(1/e.texture.source.width,1/e.texture.source.height);const o=e.texture.source.style;return!(e.fill instanceof os)&&o.addressMode==="clamp-to-edge"&&(o.addressMode="repeat",o.update()),r&&i.append(Jue.copyFrom(r).invert()),i}const Kg={};$e.handleByMap(V.ShapeBuilder,Kg);$e.add(que,Kue,Zue,cd,Vue,zue);const tce=new vt,nce=new Oe;function rce(t,e){const{geometryData:n,batches:r}=e;r.length=0,n.indices.length=0,n.vertices.length=0,n.uvs.length=0;for(let i=0;i<t.instructions.length;i++){const o=t.instructions[i];if(o.action==="texture")ice(o.data,r,n);else if(o.action==="fill"||o.action==="stroke"){const s=o.action==="stroke",a=o.data.path.shapePath,l=o.data.style,u=o.data.hole;s&&u&&OT(u.shapePath,l,!0,r,n),u&&(a.shapePrimitives[a.shapePrimitives.length-1].holes=u.shapePath.shapePrimitives),OT(a,l,s,r,n)}}}function ice(t,e,n){const r=[],i=Kg.rectangle,o=tce;o.x=t.dx,o.y=t.dy,o.width=t.dw,o.height=t.dh;const s=t.transform;if(!i.build(o,r))return;const{vertices:a,uvs:l,indices:u}=n,c=u.length,f=a.length/2;s&&hk(r,s),i.triangulate(r,a,2,f,u,c);const d=t.image,h=d.uvs;l.push(h.x0,h.y0,h.x1,h.y1,h.x3,h.y3,h.x2,h.y2);const p=Hn.get(eE);p.indexOffset=c,p.indexSize=u.length-c,p.attributeOffset=f,p.attributeSize=a.length/2-f,p.baseColor=t.style,p.alpha=t.alpha,p.texture=d,p.geometryData=n,e.push(p)}function OT(t,e,n,r,i){const{vertices:o,uvs:s,indices:a}=i;t.shapePrimitives.forEach(({shape:l,transform:u,holes:c})=>{const f=[],d=Kg[l.type];if(!d.build(l,f))return;const h=a.length,p=o.length/2;let y="triangle-list";if(u&&hk(f,u),n){const _=l.closePath??!0,b=e;b.pixelLine?(Yue(f,_,o,a),y="line-list"):Wue(f,b,!1,_,o,a)}else if(c){const _=[],b=f.slice();oce(c).forEach(w=>{_.push(b.length/2),b.push(...w)}),gk(b,_,o,2,p,a,h)}else d.triangulate(f,o,2,p,a,h);const v=s.length/2,g=e.texture;if(g!==Ae.WHITE){const _=ece(nce,e,l,u);Uue(o,2,p,s,v,2,o.length/2-p,_)}else Gue(s,v,2,o.length/2-p);const m=Hn.get(eE);m.indexOffset=h,m.indexSize=a.length-h,m.attributeOffset=p,m.attributeSize=o.length/2-p,m.baseColor=e.color,m.alpha=e.alpha,m.texture=g,m.geometryData=i,m.topology=y,r.push(m)})}function oce(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n].shape,i=[];Kg[r.type].build(r,i)&&e.push(i)}return e}class sce{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class ace{constructor(){this.instructions=new b8}init(e){this.batcher=new Qw({maxTextures:e}),this.instructions.reset()}get geometry(){return Fe(dae,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const tE=class L_{constructor(e){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuContextHash"),e.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(e){L_.defaultOptions.bezierSmoothness=(e==null?void 0:e.bezierSmoothness)??L_.defaultOptions.bezierSmoothness}getContextRenderData(e){return this._graphicsDataContextHash[e.uid]||this._initContextRenderData(e)}updateGpuContext(e){let n=this._gpuContextHash[e.uid]||this._initContext(e);if(e.dirty){n?this._cleanGraphicsContextData(e):n=this._initContext(e),rce(e,n);const r=e.batchMode;e.customShader||r==="no-batch"?n.isBatchable=!1:r==="auto"?n.isBatchable=n.geometryData.vertices.length<400:n.isBatchable=!0,e.dirty=!1}return n}getGpuContext(e){return this._gpuContextHash[e.uid]||this._initContext(e)}_initContextRenderData(e){const n=Hn.get(ace,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:r,geometryData:i}=this._gpuContextHash[e.uid],o=i.vertices.length,s=i.indices.length;for(let c=0;c<r.length;c++)r[c].applyTransform=!1;const a=n.batcher;a.ensureAttributeBuffer(o),a.ensureIndexBuffer(s),a.begin();for(let c=0;c<r.length;c++){const f=r[c];a.add(f)}a.finish(n.instructions);const l=a.geometry;l.indexBuffer.setDataWithSize(a.indexBuffer,a.indexSize,!0),l.buffers[0].setDataWithSize(a.attributeBuffer.float32View,a.attributeSize,!0);const u=a.batches;for(let c=0;c<u.length;c++){const f=u[c];f.bindGroup=Yw(f.textures.textures,f.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[e.uid]=n,n}_initContext(e){const n=new sce;return n.context=e,this._gpuContextHash[e.uid]=n,e.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]}onGraphicsContextDestroy(e){this._cleanGraphicsContextData(e),e.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]=null}_cleanGraphicsContextData(e){const n=this._gpuContextHash[e.uid];n.isBatchable||this._graphicsDataContextHash[e.uid]&&(Hn.return(this.getContextRenderData(e)),this._graphicsDataContextHash[e.uid]=null),n.batches&&n.batches.forEach(r=>{Hn.return(r)})}destroy(){for(const e in this._gpuContextHash)this._gpuContextHash[e]&&this.onGraphicsContextDestroy(this._gpuContextHash[e].context)}};tE.extension={type:[V.WebGLSystem,V.WebGPUSystem,V.CanvasSystem],name:"graphicsContext"};tE.defaultOptions={bezierSmoothness:.5};let nE=tE;const lce=8,Jh=11920929e-14,uce=1;function mk(t,e,n,r,i,o,s,a,l,u){const f=Math.min(.99,Math.max(0,u??nE.defaultOptions.bezierSmoothness));let d=(uce-f)/1;return d*=d,cce(e,n,r,i,o,s,a,l,t,d),t}function cce(t,e,n,r,i,o,s,a,l,u){$_(t,e,n,r,i,o,s,a,l,u,0),l.push(s,a)}function $_(t,e,n,r,i,o,s,a,l,u,c){if(c>lce)return;const f=(t+n)/2,d=(e+r)/2,h=(n+i)/2,p=(r+o)/2,y=(i+s)/2,v=(o+a)/2,g=(f+h)/2,m=(d+p)/2,_=(h+y)/2,b=(p+v)/2,x=(g+_)/2,w=(m+b)/2;if(c>0){let E=s-t,S=a-e;const P=Math.abs((n-s)*S-(r-a)*E),C=Math.abs((i-s)*S-(o-a)*E);if(P>Jh&&C>Jh){if((P+C)*(P+C)<=u*(E*E+S*S)){l.push(x,w);return}}else if(P>Jh){if(P*P<=u*(E*E+S*S)){l.push(x,w);return}}else if(C>Jh){if(C*C<=u*(E*E+S*S)){l.push(x,w);return}}else if(E=x-(t+s)/2,S=w-(e+a)/2,E*E+S*S<=u){l.push(x,w);return}}$_(t,e,f,d,g,m,x,w,l,u,c+1),$_(x,w,_,b,y,v,s,a,l,u,c+1)}const fce=8,dce=11920929e-14,hce=1;function pce(t,e,n,r,i,o,s,a){const u=Math.min(.99,Math.max(0,a??nE.defaultOptions.bezierSmoothness));let c=(hce-u)/1;return c*=c,gce(e,n,r,i,o,s,t,c),t}function gce(t,e,n,r,i,o,s,a){U_(s,t,e,n,r,i,o,a,0),s.push(i,o)}function U_(t,e,n,r,i,o,s,a,l){if(l>fce)return;const u=(e+r)/2,c=(n+i)/2,f=(r+o)/2,d=(i+s)/2,h=(u+f)/2,p=(c+d)/2;let y=o-e,v=s-n;const g=Math.abs((r-o)*v-(i-s)*y);if(g>dce){if(g*g<=a*(y*y+v*v)){t.push(h,p);return}}else if(y=h-(e+o)/2,v=p-(n+s)/2,y*y+v*v<=a){t.push(h,p);return}U_(t,e,n,u,c,h,p,a,l+1),U_(t,h,p,f,d,o,s,a,l+1)}function vk(t,e,n,r,i,o,s,a){let l=Math.abs(i-o);(!s&&i>o||s&&o>i)&&(l=2*Math.PI-l),a||(a=Math.max(6,Math.floor(6*Math.pow(r,1/3)*(l/Math.PI)))),a=Math.max(a,3);let u=l/a,c=i;u*=s?-1:1;for(let f=0;f<a+1;f++){const d=Math.cos(c),h=Math.sin(c),p=e+d*r,y=n+h*r;t.push(p,y),c+=u}}function mce(t,e,n,r,i,o){const s=t[t.length-2],l=t[t.length-1]-n,u=s-e,c=i-n,f=r-e,d=Math.abs(l*f-u*c);if(d<1e-8||o===0){(t[t.length-2]!==e||t[t.length-1]!==n)&&t.push(e,n);return}const h=l*l+u*u,p=c*c+f*f,y=l*c+u*f,v=o*Math.sqrt(h)/d,g=o*Math.sqrt(p)/d,m=v*y/h,_=g*y/p,b=v*f+g*u,x=v*c+g*l,w=u*(g+m),E=l*(g+m),S=f*(v+_),P=c*(v+_),C=Math.atan2(E-x,w-b),A=Math.atan2(P-x,S-b);vk(t,b+e,x+n,o,C,A,u*c>f*l)}const Cf=Math.PI*2,Dv={centerX:0,centerY:0,ang1:0,ang2:0},Bv=({x:t,y:e},n,r,i,o,s,a,l)=>{t*=n,e*=r;const u=i*t-o*e,c=o*t+i*e;return l.x=u+s,l.y=c+a,l};function vce(t,e){const n=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),r=e===1.5707963267948966?.551915024494:n,i=Math.cos(t),o=Math.sin(t),s=Math.cos(t+e),a=Math.sin(t+e);return[{x:i-o*r,y:o+i*r},{x:s+a*r,y:a-s*r},{x:s,y:a}]}const RT=(t,e,n,r)=>{const i=t*r-e*n<0?-1:1;let o=t*n+e*r;return o>1&&(o=1),o<-1&&(o=-1),i*Math.acos(o)},yce=(t,e,n,r,i,o,s,a,l,u,c,f,d)=>{const h=Math.pow(i,2),p=Math.pow(o,2),y=Math.pow(c,2),v=Math.pow(f,2);let g=h*p-h*v-p*y;g<0&&(g=0),g/=h*v+p*y,g=Math.sqrt(g)*(s===a?-1:1);const m=g*i/o*f,_=g*-o/i*c,b=u*m-l*_+(t+n)/2,x=l*m+u*_+(e+r)/2,w=(c-m)/i,E=(f-_)/o,S=(-c-m)/i,P=(-f-_)/o,C=RT(1,0,w,E);let A=RT(w,E,S,P);a===0&&A>0&&(A-=Cf),a===1&&A<0&&(A+=Cf),d.centerX=b,d.centerY=x,d.ang1=C,d.ang2=A};function _ce(t,e,n,r,i,o,s,a=0,l=0,u=0){if(o===0||s===0)return;const c=Math.sin(a*Cf/360),f=Math.cos(a*Cf/360),d=f*(e-r)/2+c*(n-i)/2,h=-c*(e-r)/2+f*(n-i)/2;if(d===0&&h===0)return;o=Math.abs(o),s=Math.abs(s);const p=Math.pow(d,2)/Math.pow(o,2)+Math.pow(h,2)/Math.pow(s,2);p>1&&(o*=Math.sqrt(p),s*=Math.sqrt(p)),yce(e,n,r,i,o,s,l,u,c,f,d,h,Dv);let{ang1:y,ang2:v}=Dv;const{centerX:g,centerY:m}=Dv;let _=Math.abs(v)/(Cf/4);Math.abs(1-_)<1e-7&&(_=1);const b=Math.max(Math.ceil(_),1);v/=b;let x=t[t.length-2],w=t[t.length-1];const E={x:0,y:0};for(let S=0;S<b;S++){const P=vce(y,v),{x:C,y:A}=Bv(P[0],o,s,f,c,g,m,E),{x:T,y:R}=Bv(P[1],o,s,f,c,g,m,E),{x:N,y:G}=Bv(P[2],o,s,f,c,g,m,E);mk(t,x,w,C,A,T,R,N,G),x=N,w=G,y+=v}}function bce(t,e,n){const r=(s,a)=>{const l=a.x-s.x,u=a.y-s.y,c=Math.sqrt(l*l+u*u),f=l/c,d=u/c;return{len:c,nx:f,ny:d}},i=(s,a)=>{s===0?t.moveTo(a.x,a.y):t.lineTo(a.x,a.y)};let o=e[e.length-1];for(let s=0;s<e.length;s++){const a=e[s%e.length],l=a.radius??n;if(l<=0){i(s,a),o=a;continue}const u=e[(s+1)%e.length],c=r(a,o),f=r(a,u);if(c.len<1e-4||f.len<1e-4){i(s,a),o=a;continue}let d=Math.asin(c.nx*f.ny-c.ny*f.nx),h=1,p=!1;c.nx*f.nx-c.ny*-f.ny<0?d<0?d=Math.PI+d:(d=Math.PI-d,h=-1,p=!0):d>0&&(h=-1,p=!0);const y=d/2;let v,g=Math.abs(Math.cos(y)*l/Math.sin(y));g>Math.min(c.len/2,f.len/2)?(g=Math.min(c.len/2,f.len/2),v=Math.abs(g*Math.sin(y)/Math.cos(y))):v=l;const m=a.x+f.nx*g+-f.ny*v*h,_=a.y+f.ny*g+f.nx*v*h,b=Math.atan2(c.ny,c.nx)+Math.PI/2*h,x=Math.atan2(f.ny,f.nx)-Math.PI/2*h;s===0&&t.moveTo(m+Math.cos(b)*v,_+Math.sin(b)*v),t.arc(m,_,v,b,x,p),o=a}}function xce(t,e,n,r){const i=(a,l)=>Math.sqrt((a.x-l.x)**2+(a.y-l.y)**2),o=(a,l,u)=>({x:a.x+(l.x-a.x)*u,y:a.y+(l.y-a.y)*u}),s=e.length;for(let a=0;a<s;a++){const l=e[(a+1)%s],u=l.radius??n;if(u<=0){a===0?t.moveTo(l.x,l.y):t.lineTo(l.x,l.y);continue}const c=e[a],f=e[(a+2)%s],d=i(c,l);let h;if(d<1e-4)h=l;else{const v=Math.min(d/2,u);h=o(l,c,v/d)}const p=i(f,l);let y;if(p<1e-4)y=l;else{const v=Math.min(p/2,u);y=o(l,f,v/p)}a===0?t.moveTo(h.x,h.y):t.lineTo(h.x,h.y),t.quadraticCurveTo(l.x,l.y,y.x,y.y,r)}}const wce=new vt;class Ece{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Vn,this._graphicsPath2D=e,this.signed=e.checkForHoles}moveTo(e,n){return this.startPoly(e,n),this}lineTo(e,n){this._ensurePoly();const r=this._currentPoly.points,i=r[r.length-2],o=r[r.length-1];return(i!==e||o!==n)&&r.push(e,n),this}arc(e,n,r,i,o,s){this._ensurePoly(!1);const a=this._currentPoly.points;return vk(a,e,n,r,i,o,s),this}arcTo(e,n,r,i,o){this._ensurePoly();const s=this._currentPoly.points;return mce(s,e,n,r,i,o),this}arcToSvg(e,n,r,i,o,s,a){const l=this._currentPoly.points;return _ce(l,this._currentPoly.lastX,this._currentPoly.lastY,s,a,e,n,r,i,o),this}bezierCurveTo(e,n,r,i,o,s,a){this._ensurePoly();const l=this._currentPoly;return mk(this._currentPoly.points,l.lastX,l.lastY,e,n,r,i,o,s,a),this}quadraticCurveTo(e,n,r,i,o){this._ensurePoly();const s=this._currentPoly;return pce(this._currentPoly.points,s.lastX,s.lastY,e,n,r,i,o),this}closePath(){return this.endPoly(!0),this}addPath(e,n){this.endPoly(),n&&!n.isIdentity()&&(e=e.clone(!0),e.transform(n));const r=this.shapePrimitives,i=r.length;for(let o=0;o<e.instructions.length;o++){const s=e.instructions[o];this[s.action](...s.data)}if(e.checkForHoles&&r.length-i>1){let o=null;for(let s=i;s<r.length;s++){const a=r[s];if(a.shape.type==="polygon"){const l=a.shape,u=o==null?void 0:o.shape;u&&u.containsPolygon(l)?(o.holes||(o.holes=[]),o.holes.push(a),r.copyWithin(s,s+1),r.length--,s--):o=a}}}return this}finish(e=!1){this.endPoly(e)}rect(e,n,r,i,o){return this.drawShape(new vt(e,n,r,i),o),this}circle(e,n,r,i){return this.drawShape(new zw(e,n,r),i),this}poly(e,n,r){const i=new Sf(e);return i.closePath=n,this.drawShape(i,r),this}regularPoly(e,n,r,i,o=0,s){i=Math.max(i|0,3);const a=-1*Math.PI/2+o,l=Math.PI*2/i,u=[];for(let c=0;c<i;c++){const f=a-c*l;u.push(e+r*Math.cos(f),n+r*Math.sin(f))}return this.poly(u,!0,s),this}roundPoly(e,n,r,i,o,s=0,a){if(i=Math.max(i|0,3),o<=0)return this.regularPoly(e,n,r,i,s);const l=r*Math.sin(Math.PI/i)-.001;o=Math.min(o,l);const u=-1*Math.PI/2+s,c=Math.PI*2/i,f=(i-2)*Math.PI/i/2;for(let d=0;d<i;d++){const h=d*c+u,p=e+r*Math.cos(h),y=n+r*Math.sin(h),v=h+Math.PI+f,g=h-Math.PI-f,m=p+o*Math.cos(v),_=y+o*Math.sin(v),b=p+o*Math.cos(g),x=y+o*Math.sin(g);d===0?this.moveTo(m,_):this.lineTo(m,_),this.quadraticCurveTo(p,y,b,x,a)}return this.closePath()}roundShape(e,n,r=!1,i){return e.length<3?this:(r?xce(this,e,n,i):bce(this,e,n),this.closePath())}filletRect(e,n,r,i,o){if(o===0)return this.rect(e,n,r,i);const s=Math.min(r,i)/2,a=Math.min(s,Math.max(-s,o)),l=e+r,u=n+i,c=a<0?-a:0,f=Math.abs(a);return this.moveTo(e,n+f).arcTo(e+c,n+c,e+f,n,f).lineTo(l-f,n).arcTo(l-c,n+c,l,n+f,f).lineTo(l,u-f).arcTo(l-c,u-c,e+r-f,u,f).lineTo(e+f,u).arcTo(e+c,u-c,e,u-f,f).closePath()}chamferRect(e,n,r,i,o,s){if(o<=0)return this.rect(e,n,r,i);const a=Math.min(o,Math.min(r,i)/2),l=e+r,u=n+i,c=[e+a,n,l-a,n,l,n+a,l,u-a,l-a,u,e+a,u,e,u-a,e,n+a];for(let f=c.length-1;f>=2;f-=2)c[f]===c[f-2]&&c[f-1]===c[f-3]&&c.splice(f-1,2);return this.poly(c,!0,s)}ellipse(e,n,r,i,o){return this.drawShape(new jw(e,n,r,i),o),this}roundRect(e,n,r,i,o,s){return this.drawShape(new Ww(e,n,r,i,o),s),this}drawShape(e,n){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:n}),this}startPoly(e,n){let r=this._currentPoly;return r&&this.endPoly(),r=new Sf,r.points.push(e,n),this._currentPoly=r,this}endPoly(e=!1){const n=this._currentPoly;return n&&n.points.length>2&&(n.closePath=e,this.shapePrimitives.push({shape:n})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new Sf,e)){const n=this.shapePrimitives[this.shapePrimitives.length-1];if(n){let r=n.shape.x,i=n.shape.y;if(n.transform&&!n.transform.isIdentity()){const o=n.transform,s=r;r=o.a*r+o.c*i+o.tx,i=o.b*s+o.d*i+o.ty}this._currentPoly.points.push(r,i)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let n=0;n<e.instructions.length;n++){const r=e.instructions[n];this[r.action](...r.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const n=this.shapePrimitives;for(let r=0;r<n.length;r++){const i=n[r],o=i.shape.getBounds(wce);i.transform?e.addRect(o,i.transform):e.addRect(o)}return e}}class Wu{constructor(e,n=!1){this.instructions=[],this.uid=Ut("graphicsPath"),this._dirty=!0,this.checkForHoles=n,typeof e=="string"?oue(e,this):this.instructions=(e==null?void 0:e.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new Ece(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,n){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,n]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,n,r,i,o){const s=this.instructions[this.instructions.length-1],a=this.getLastPoint(Gt.shared);let l=0,u=0;if(!s||s.action!=="bezierCurveTo")l=a.x,u=a.y;else{l=s.data[2],u=s.data[3];const c=a.x,f=a.y;l=c+(c-l),u=f+(f-u)}return this.instructions.push({action:"bezierCurveTo",data:[l,u,e,n,r,i,o]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,n,r){const i=this.instructions[this.instructions.length-1],o=this.getLastPoint(Gt.shared);let s=0,a=0;if(!i||i.action!=="quadraticCurveTo")s=o.x,a=o.y;else{s=i.data[0],a=i.data[1];const l=o.x,u=o.y;s=l+(l-s),a=u+(u-a)}return this.instructions.push({action:"quadraticCurveTo",data:[s,a,e,n,r]}),this._dirty=!0,this}rect(e,n,r,i,o){return this.instructions.push({action:"rect",data:[e,n,r,i,o]}),this._dirty=!0,this}circle(e,n,r,i){return this.instructions.push({action:"circle",data:[e,n,r,i]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,n,r,i,o,s,a){o||(o=i/2);const l=-1*Math.PI/2+s,u=r*2,c=Math.PI*2/u,f=[];for(let d=0;d<u;d++){const h=d%2?o:i,p=d*c+l;f.push(e+h*Math.cos(p),n+h*Math.sin(p))}return this.poly(f,!0,a),this}clone(e=!1){const n=new Wu;if(n.checkForHoles=this.checkForHoles,!e)n.instructions=this.instructions.slice();else for(let r=0;r<this.instructions.length;r++){const i=this.instructions[r];n.instructions.push({action:i.action,data:i.data.slice()})}return n}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const n=e.a,r=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty;let l=0,u=0,c=0,f=0,d=0,h=0,p=0,y=0;for(let v=0;v<this.instructions.length;v++){const g=this.instructions[v],m=g.data;switch(g.action){case"moveTo":case"lineTo":l=m[0],u=m[1],m[0]=n*l+i*u+s,m[1]=r*l+o*u+a;break;case"bezierCurveTo":c=m[0],f=m[1],d=m[2],h=m[3],l=m[4],u=m[5],m[0]=n*c+i*f+s,m[1]=r*c+o*f+a,m[2]=n*d+i*h+s,m[3]=r*d+o*h+a,m[4]=n*l+i*u+s,m[5]=r*l+o*u+a;break;case"quadraticCurveTo":c=m[0],f=m[1],l=m[2],u=m[3],m[0]=n*c+i*f+s,m[1]=r*c+o*f+a,m[2]=n*l+i*u+s,m[3]=r*l+o*u+a;break;case"arcToSvg":l=m[5],u=m[6],p=m[0],y=m[1],m[0]=n*p+i*y,m[1]=r*p+o*y,m[5]=n*l+i*u+s,m[6]=r*l+o*u+a;break;case"circle":m[4]=Uc(m[3],e);break;case"rect":m[4]=Uc(m[4],e);break;case"ellipse":m[8]=Uc(m[8],e);break;case"roundRect":m[5]=Uc(m[5],e);break;case"addPath":m[0].transform(e);break;case"poly":m[2]=Uc(m[2],e);break;default:Ne("unknown transform action",g.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let n=this.instructions.length-1,r=this.instructions[n];if(!r)return e.x=0,e.y=0,e;for(;r.action==="closePath";){if(n--,n<0)return e.x=0,e.y=0,e;r=this.instructions[n]}switch(r.action){case"moveTo":case"lineTo":e.x=r.data[0],e.y=r.data[1];break;case"quadraticCurveTo":e.x=r.data[2],e.y=r.data[3];break;case"bezierCurveTo":e.x=r.data[4],e.y=r.data[5];break;case"arc":case"arcToSvg":e.x=r.data[5],e.y=r.data[6];break;case"addPath":r.data[0].getLastPoint(e);break}return e}}function Uc(t,e){return t?t.prepend(e):e.clone()}function Zt(t,e,n){const r=t.getAttribute(e);return r?Number(r):n}function Sce(t,e){const n=t.querySelectorAll("defs");for(let r=0;r<n.length;r++){const i=n[r];for(let o=0;o<i.children.length;o++){const s=i.children[o];switch(s.nodeName.toLowerCase()){case"lineargradient":e.defs[s.id]=Cce(s);break;case"radialgradient":e.defs[s.id]=Ace();break}}}}function Cce(t){const e=Zt(t,"x1",0),n=Zt(t,"y1",0),r=Zt(t,"x2",1),i=Zt(t,"y2",0),o=t.getAttribute("gradientUnits")||"objectBoundingBox",s=new os(e,n,r,i,o==="objectBoundingBox"?"local":"global");for(let a=0;a<t.children.length;a++){const l=t.children[a],u=Zt(l,"offset",0),c=Rt.shared.setValue(l.getAttribute("stop-color")).toNumber();s.addColorStop(u,c)}return s}function Ace(t){return Ne("[SVG Parser] Radial gradients are not yet supported"),new os(0,0,1,0)}function MT(t){const e=t.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return e?e[1]:""}const DT={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function yk(t,e){const n=t.getAttribute("style"),r={},i={},o={strokeStyle:r,fillStyle:i,useFill:!1,useStroke:!1};for(const s in DT){const a=t.getAttribute(s);a&&BT(e,o,s,a.trim())}if(n){const s=n.split(";");for(let a=0;a<s.length;a++){const l=s[a].trim(),[u,c]=l.split(":");DT[u]&&BT(e,o,u,c.trim())}}return{strokeStyle:o.useStroke?r:null,fillStyle:o.useFill?i:null,useFill:o.useFill,useStroke:o.useStroke}}function BT(t,e,n,r){switch(n){case"stroke":if(r!=="none"){if(r.startsWith("url(")){const i=MT(r);e.strokeStyle.fill=t.defs[i]}else e.strokeStyle.color=Rt.shared.setValue(r).toNumber();e.useStroke=!0}break;case"stroke-width":e.strokeStyle.width=Number(r);break;case"fill":if(r!=="none"){if(r.startsWith("url(")){const i=MT(r);e.fillStyle.fill=t.defs[i]}else e.fillStyle.color=Rt.shared.setValue(r).toNumber();e.useFill=!0}break;case"fill-opacity":e.fillStyle.alpha=Number(r);break;case"stroke-opacity":e.strokeStyle.alpha=Number(r);break;case"opacity":e.fillStyle.alpha=Number(r),e.strokeStyle.alpha=Number(r);break}}function Tce(t,e){if(typeof t=="string"){const s=document.createElement("div");s.innerHTML=t.trim(),t=s.querySelector("svg")}const n={context:e,defs:{},path:new Wu};Sce(t,n);const r=t.children,{fillStyle:i,strokeStyle:o}=yk(t,n);for(let s=0;s<r.length;s++){const a=r[s];a.nodeName.toLowerCase()!=="defs"&&_k(a,n,i,o)}return e}function _k(t,e,n,r){const i=t.children,{fillStyle:o,strokeStyle:s}=yk(t,e);o&&n?n={...n,...o}:o&&(n=o),s&&r?r={...r,...s}:s&&(r=s);const a=!n&&!r;a&&(n={color:0});let l,u,c,f,d,h,p,y,v,g,m,_,b,x,w,E,S;switch(t.nodeName.toLowerCase()){case"path":x=t.getAttribute("d"),t.getAttribute("fill-rule")==="evenodd"&&Ne("SVG Evenodd fill rule not supported, your svg may render incorrectly"),w=new Wu(x,!0),e.context.path(w),n&&e.context.fill(n),r&&e.context.stroke(r);break;case"circle":p=Zt(t,"cx",0),y=Zt(t,"cy",0),v=Zt(t,"r",0),e.context.ellipse(p,y,v,v),n&&e.context.fill(n),r&&e.context.stroke(r);break;case"rect":l=Zt(t,"x",0),u=Zt(t,"y",0),E=Zt(t,"width",0),S=Zt(t,"height",0),g=Zt(t,"rx",0),m=Zt(t,"ry",0),g||m?e.context.roundRect(l,u,E,S,g||m):e.context.rect(l,u,E,S),n&&e.context.fill(n),r&&e.context.stroke(r);break;case"ellipse":p=Zt(t,"cx",0),y=Zt(t,"cy",0),g=Zt(t,"rx",0),m=Zt(t,"ry",0),e.context.beginPath(),e.context.ellipse(p,y,g,m),n&&e.context.fill(n),r&&e.context.stroke(r);break;case"line":c=Zt(t,"x1",0),f=Zt(t,"y1",0),d=Zt(t,"x2",0),h=Zt(t,"y2",0),e.context.beginPath(),e.context.moveTo(c,f),e.context.lineTo(d,h),r&&e.context.stroke(r);break;case"polygon":b=t.getAttribute("points"),_=b.match(/\d+/g).map(P=>parseInt(P,10)),e.context.poly(_,!0),n&&e.context.fill(n),r&&e.context.stroke(r);break;case"polyline":b=t.getAttribute("points"),_=b.match(/\d+/g).map(P=>parseInt(P,10)),e.context.poly(_,!1),r&&e.context.stroke(r);break;case"g":case"svg":break;default:{Ne(`[SVG parser] <${t.nodeName}> elements unsupported`);break}}a&&(n=null);for(let P=0;P<i.length;P++)_k(i[P],e,n,r)}function Pce(t){return Rt.isColorLike(t)}function kT(t){return t instanceof Xg}function NT(t){return t instanceof os}function Ice(t){return t instanceof Ae}function Oce(t,e,n){const r=Rt.shared.setValue(e??0);return t.color=r.toNumber(),t.alpha=r.alpha===1?n.alpha:r.alpha,t.texture=Ae.WHITE,{...n,...t}}function Rce(t,e,n){return t.texture=e,{...n,...t}}function FT(t,e,n){return t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,{...n,...t}}function LT(t,e,n){return e.buildGradient(),t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,t.textureSpace=e.textureSpace,{...n,...t}}function Mce(t,e){const n={...e,...t},r=Rt.shared.setValue(n.color);return n.alpha*=r.alpha,n.color=r.toNumber(),n}function Ha(t,e){if(t==null)return null;const n={},r=t;return Pce(t)?Oce(n,t,e):Ice(t)?Rce(n,t,e):kT(t)?FT(n,t,e):NT(t)?LT(n,t,e):r.fill&&kT(r.fill)?FT(r,r.fill,e):r.fill&&NT(r.fill)?LT(r,r.fill,e):Mce(r,e)}function _0(t,e){const{width:n,alignment:r,miterLimit:i,cap:o,join:s,pixelLine:a,...l}=e,u=Ha(t,l);return u?{width:n,alignment:r,miterLimit:i,cap:o,join:s,pixelLine:a,...u}:null}const Dce=new Gt,$T=new Oe,rE=class Xi extends Jr{constructor(){super(...arguments),this.uid=Ut("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Wu,this._transform=new Oe,this._fillStyle={...Xi.defaultFillStyle},this._strokeStyle={...Xi.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Vn,this._boundsDirty=!0}clone(){const e=new Xi;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=Ha(e,Xi.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=_0(e,Xi.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=Ha(e,Xi.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=Ha(e,Xi.defaultStrokeStyle),this}texture(e,n,r,i,o,s){return this.instructions.push({action:"texture",data:{image:e,dx:r||0,dy:i||0,dw:o||e.frame.width,dh:s||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:n?Rt.shared.setValue(n).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Wu,this}fill(e,n){let r;const i=this.instructions[this.instructions.length-1];return this._tick===0&&i&&i.action==="stroke"?r=i.data.path:r=this._activePath.clone(),r?(e!=null&&(n!==void 0&&typeof e=="number"&&(Fe(rt,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:n}),this._fillStyle=Ha(e,Xi.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:n}=this._activePath.getLastPoint(Gt.shared);this._activePath.clear(),this._activePath.moveTo(e,n)}stroke(e){let n;const r=this.instructions[this.instructions.length-1];return this._tick===0&&r&&r.action==="fill"?n=r.data.path:n=this._activePath.clone(),n?(e!=null&&(this._strokeStyle=_0(e,Xi.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const n=this.instructions[this.instructions.length-1-e],r=this._activePath.clone();if(n&&(n.action==="stroke"||n.action==="fill"))if(n.data.hole)n.data.hole.addPath(r);else{n.data.hole=r;break}}return this._initNextPathLocation(),this}arc(e,n,r,i,o,s){this._tick++;const a=this._transform;return this._activePath.arc(a.a*e+a.c*n+a.tx,a.b*e+a.d*n+a.ty,r,i,o,s),this}arcTo(e,n,r,i,o){this._tick++;const s=this._transform;return this._activePath.arcTo(s.a*e+s.c*n+s.tx,s.b*e+s.d*n+s.ty,s.a*r+s.c*i+s.tx,s.b*r+s.d*i+s.ty,o),this}arcToSvg(e,n,r,i,o,s,a){this._tick++;const l=this._transform;return this._activePath.arcToSvg(e,n,r,i,o,l.a*s+l.c*a+l.tx,l.b*s+l.d*a+l.ty),this}bezierCurveTo(e,n,r,i,o,s,a){this._tick++;const l=this._transform;return this._activePath.bezierCurveTo(l.a*e+l.c*n+l.tx,l.b*e+l.d*n+l.ty,l.a*r+l.c*i+l.tx,l.b*r+l.d*i+l.ty,l.a*o+l.c*s+l.tx,l.b*o+l.d*s+l.ty,a),this}closePath(){var e;return this._tick++,(e=this._activePath)==null||e.closePath(),this}ellipse(e,n,r,i){return this._tick++,this._activePath.ellipse(e,n,r,i,this._transform.clone()),this}circle(e,n,r){return this._tick++,this._activePath.circle(e,n,r,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,n){this._tick++;const r=this._transform;return this._activePath.lineTo(r.a*e+r.c*n+r.tx,r.b*e+r.d*n+r.ty),this}moveTo(e,n){this._tick++;const r=this._transform,i=this._activePath.instructions,o=r.a*e+r.c*n+r.tx,s=r.b*e+r.d*n+r.ty;return i.length===1&&i[0].action==="moveTo"?(i[0].data[0]=o,i[0].data[1]=s,this):(this._activePath.moveTo(o,s),this)}quadraticCurveTo(e,n,r,i,o){this._tick++;const s=this._transform;return this._activePath.quadraticCurveTo(s.a*e+s.c*n+s.tx,s.b*e+s.d*n+s.ty,s.a*r+s.c*i+s.tx,s.b*r+s.d*i+s.ty,o),this}rect(e,n,r,i){return this._tick++,this._activePath.rect(e,n,r,i,this._transform.clone()),this}roundRect(e,n,r,i,o){return this._tick++,this._activePath.roundRect(e,n,r,i,o,this._transform.clone()),this}poly(e,n){return this._tick++,this._activePath.poly(e,n,this._transform.clone()),this}regularPoly(e,n,r,i,o=0,s){return this._tick++,this._activePath.regularPoly(e,n,r,i,o,s),this}roundPoly(e,n,r,i,o,s){return this._tick++,this._activePath.roundPoly(e,n,r,i,o,s),this}roundShape(e,n,r,i){return this._tick++,this._activePath.roundShape(e,n,r,i),this}filletRect(e,n,r,i,o){return this._tick++,this._activePath.filletRect(e,n,r,i,o),this}chamferRect(e,n,r,i,o,s){return this._tick++,this._activePath.chamferRect(e,n,r,i,o,s),this}star(e,n,r,i,o=0,s=0){return this._tick++,this._activePath.star(e,n,r,i,o,s,this._transform.clone()),this}svg(e){return this._tick++,Tce(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,n=e){return this._transform.scale(e,n),this}setTransform(e,n,r,i,o,s){return e instanceof Oe?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,n,r,i,o,s),this)}transform(e,n,r,i,o,s){return e instanceof Oe?(this._transform.append(e),this):($T.set(e,n,r,i,o,s),this._transform.append($T),this)}translate(e,n=e){return this._transform.translate(e,n),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const e=this._bounds;e.clear();for(let n=0;n<this.instructions.length;n++){const r=this.instructions[n],i=r.action;if(i==="fill"){const o=r.data;e.addBounds(o.path.bounds)}else if(i==="texture"){const o=r.data;e.addFrame(o.dx,o.dy,o.dx+o.dw,o.dy+o.dh,o.transform)}if(i==="stroke"){const o=r.data,s=o.style.alignment,a=o.style.width*(1-s),l=o.path.bounds;e.addFrame(l.minX-a,l.minY-a,l.maxX+a,l.maxY+a)}}return e}containsPoint(e){var i;if(!this.bounds.containsPoint(e.x,e.y))return!1;const n=this.instructions;let r=!1;for(let o=0;o<n.length;o++){const s=n[o],a=s.data,l=a.path;if(!s.action||!l)continue;const u=a.style,c=l.shapePath.shapePrimitives;for(let f=0;f<c.length;f++){const d=c[f].shape;if(!u||!d)continue;const h=c[f].transform,p=h?h.applyInverse(e,Dce):e;if(s.action==="fill")r=d.contains(p.x,p.y);else{const v=u;r=d.strokeContains(p.x,p.y,v.width,v.alignment)}const y=a.hole;if(y){const v=(i=y.shapePath)==null?void 0:i.shapePrimitives;if(v)for(let g=0;g<v.length;g++)v[g].shape.contains(p.x,p.y)&&(r=!1)}if(r)return!0}}return r}destroy(e=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(r)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(r))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};rE.defaultFillStyle={color:16777215,alpha:1,texture:Ae.WHITE,matrix:null,fill:null,textureSpace:"local"};rE.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Ae.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let ui=rE;const UT=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function Bce(t){const e=[];let n=0;for(let r=0;r<UT.length;r++){const i=`_${UT[r]}`;e[n++]=t[i]}return n=bk(t._fill,e,n),n=Nce(t._stroke,e,n),n=Fce(t.dropShadow,e,n),n=kce(t.filters,e,n),e.join("-")}function kce(t,e,n){if(!t)return n;for(const r of t)e[n++]=r.uid;return n}function bk(t,e,n){var r;return t&&(e[n++]=t.color,e[n++]=t.alpha,e[n++]=(r=t.fill)==null?void 0:r.styleKey),n}function Nce(t,e,n){return t&&(n=bk(t,e,n),e[n++]=t.width,e[n++]=t.alignment,e[n++]=t.cap,e[n++]=t.join,e[n++]=t.miterLimit),n}function Fce(t,e,n){return t&&(e[n++]=t.alpha,e[n++]=t.angle,e[n++]=t.blur,e[n++]=t.distance,e[n++]=Rt.shared.setValue(t.color).toNumber()),n}const iE=class uu extends Jr{constructor(e={}){super(),Lce(e);const n={...uu.defaultTextStyle,...e};for(const r in n){const i=r;this[i]=n[r]}this.update()}get align(){return this._align}set align(e){this._align=e,this.update()}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords=e,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(e){e!==null&&typeof e=="object"?this._dropShadow=this._createProxy({...uu.defaultDropShadow,...e}):this._dropShadow=e?this._createProxy({...uu.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily=e,this.update()}get fontSize(){return this._fontSize}set fontSize(e){typeof e=="string"?this._fontSize=parseInt(e,10):this._fontSize=e,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle=e.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant=e,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight=e,this.update()}get leading(){return this._leading}set leading(e){this._leading=e,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing=e,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight=e,this.update()}get padding(){return this._padding}set padding(e){this._padding=e,this.update()}get filters(){return this._filters}set filters(e){this._filters=e,this.update()}get trim(){return this._trim}set trim(e){this._trim=e,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline=e,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace=e,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap=e,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth=e,this.update()}get fill(){return this._originalFill}set fill(e){e!==this._originalFill&&(this._originalFill=e,this._isFillStyle(e)&&(this._originalFill=this._createProxy({...ui.defaultFillStyle,...e},()=>{this._fill=Ha({...this._originalFill},ui.defaultFillStyle)})),this._fill=Ha(e===0?"black":e,ui.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(e){e!==this._originalStroke&&(this._originalStroke=e,this._isFillStyle(e)&&(this._originalStroke=this._createProxy({...ui.defaultStrokeStyle,...e},()=>{this._stroke=_0({...this._originalStroke},ui.defaultStrokeStyle)})),this._stroke=_0(e,ui.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=Bce(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const e=uu.defaultTextStyle;for(const n in e)this[n]=e[n]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new uu({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let e=0;if(this._filters)for(let n=0;n<this._filters.length;n++)e+=this._filters[n].padding;return Math.max(this._padding,e)}destroy(e=!1){var r,i,o,s;if(this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const a=typeof e=="boolean"?e:e==null?void 0:e.textureSource;(r=this._fill)!=null&&r.texture&&this._fill.texture.destroy(a),(i=this._originalFill)!=null&&i.texture&&this._originalFill.texture.destroy(a),(o=this._stroke)!=null&&o.texture&&this._stroke.texture.destroy(a),(s=this._originalStroke)!=null&&s.texture&&this._originalStroke.texture.destroy(a)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(e,n){return new Proxy(e,{set:(r,i,o)=>(r[i]=o,n==null||n(i,o),this.update(),!0)})}_isFillStyle(e){return(e??null)!==null&&!(Rt.isColorLike(e)||e instanceof os||e instanceof Xg)}};iE.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};iE.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let _l=iE;function Lce(t){const e=t;if(typeof e.dropShadow=="boolean"&&e.dropShadow){const n=_l.defaultDropShadow;t.dropShadow={alpha:e.dropShadowAlpha??n.alpha,angle:e.dropShadowAngle??n.angle,blur:e.dropShadowBlur??n.blur,color:e.dropShadowColor??n.color,distance:e.dropShadowDistance??n.distance}}if(e.strokeThickness!==void 0){Fe(rt,"strokeThickness is now a part of stroke");const n=e.stroke;let r={};if(Rt.isColorLike(n))r.color=n;else if(n instanceof os||n instanceof Xg)r.fill=n;else if(Object.hasOwnProperty.call(n,"color")||Object.hasOwnProperty.call(n,"fill"))r=n;else throw new Error("Invalid stroke value.");t.stroke={...r,width:e.strokeThickness}}if(Array.isArray(e.fillGradientStops)){if(Fe(rt,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(e.fill)||e.fill.length===0)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");e.fill.length!==e.fillGradientStops.length&&Ne("The number of fill colors must match the number of fill gradient stops.");const n=new os({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),r=e.fillGradientStops.slice(),i=e.fill.map(o=>Rt.shared.setValue(o).toNumber());r.forEach((o,s)=>{n.addColorStop(o,i[s])}),t.fill={fill:n}}}class $ce{constructor(e){this._canvasPool=Object.create(null),this.canvasOptions=e||{},this.enableFullScreen=!1}_createCanvasAndContext(e,n){const r=je.get().createCanvas();r.width=e,r.height=n;const i=r.getContext("2d");return{canvas:r,context:i}}getOptimalCanvasAndContext(e,n,r=1){e=Math.ceil(e*r-1e-6),n=Math.ceil(n*r-1e-6),e=Vu(e),n=Vu(n);const i=(e<<17)+(n<<1);this._canvasPool[i]||(this._canvasPool[i]=[]);let o=this._canvasPool[i].pop();return o||(o=this._createCanvasAndContext(e,n)),o}returnCanvasAndContext(e){const n=e.canvas,{width:r,height:i}=n,o=(r<<17)+(i<<1);e.context.resetTransform(),e.context.clearRect(0,0,r,i),this._canvasPool[o].push(e)}clear(){this._canvasPool={}}}const ia=new $ce,GT=1e5;function b0(t,e,n,r=0){if(t.texture===Ae.WHITE&&!t.fill)return Rt.shared.setValue(t.color).setAlpha(t.alpha??1).toHexa();if(t.fill){if(t.fill instanceof Xg){const i=t.fill,o=e.createPattern(i.texture.source.resource,"repeat"),s=i.transform.copyTo(Oe.shared);return s.scale(i.texture.frame.width,i.texture.frame.height),o.setTransform(s),o}else if(t.fill instanceof os){const i=t.fill,o=i.type==="linear",s=i.textureSpace==="local";let a=1,l=1;s&&n&&(a=n.width+r,l=n.height+r);let u,c=!1;if(o){const{start:f,end:d}=i;u=e.createLinearGradient(f.x*a,f.y*l,d.x*a,d.y*l),c=Math.abs(d.x-f.x)<Math.abs((d.y-f.y)*.1)}else{const{center:f,innerRadius:d,outerCenter:h,outerRadius:p}=i;u=e.createRadialGradient(f.x*a,f.y*l,d*a,h.x*a,h.y*l,p*a)}if(c&&s&&n){const f=n.lineHeight/l;for(let d=0;d<n.lines.length;d++){const h=(d*n.lineHeight+r/2)/l;i.colorStops.forEach(p=>{const y=h+p.offset*f;u.addColorStop(Math.floor(y*GT)/GT,Rt.shared.setValue(p.color).toHex())})}}else i.colorStops.forEach(f=>{u.addColorStop(f.offset,Rt.shared.setValue(f.color).toHex())});return u}}else{const i=e.createPattern(t.texture.source.resource,"repeat"),o=t.matrix.copyTo(Oe.shared);return o.scale(t.texture.frame.width,t.texture.frame.height),i.setTransform(o),i}return Ne("FillStyle not recognised",t),"red"}const xk=class wk extends nk{constructor(e){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentMaxCharHeight=0,this._currentPageIndex=-1,this._skipKerning=!1;const n={...wk.defaultOptions,...e};this._textureSize=n.textureSize,this._mipmap=n.mipmap;const r=n.style.clone();n.overrideFill&&(r._fill.color=16777215,r._fill.alpha=1,r._fill.texture=Ae.WHITE,r._fill.fill=null),this.applyFillAsTint=n.overrideFill;const i=r.fontSize;r.fontSize=this.baseMeasurementFontSize;const o=y0(r);n.overrideSize?r._stroke&&(r._stroke.width*=this.baseRenderedFontSize/i):r.fontSize=this.baseRenderedFontSize=i,this._style=r,this._skipKerning=n.skipKerning??!1,this.resolution=n.resolution??1,this._padding=n.padding??4,n.textureStyle&&(this._textureStyle=n.textureStyle instanceof vo?n.textureStyle:new vo(n.textureStyle)),this.fontMetrics=Ii.measureFont(o),this.lineHeight=r.lineHeight||this.fontMetrics.fontSize||r.fontSize}ensureCharacters(e){var v,g;const n=Ii.graphemeSegmenter(e).filter(m=>!this._currentChars.includes(m)).filter((m,_,b)=>b.indexOf(m)===_);if(!n.length)return;this._currentChars=[...this._currentChars,...n];let r;this._currentPageIndex===-1?r=this._nextPage():r=this.pages[this._currentPageIndex];let{canvas:i,context:o}=r.canvasAndContext,s=r.texture.source;const a=this._style;let l=this._currentX,u=this._currentY,c=this._currentMaxCharHeight;const f=this.baseRenderedFontSize/this.baseMeasurementFontSize,d=this._padding*f;let h=!1;const p=i.width/this.resolution,y=i.height/this.resolution;for(let m=0;m<n.length;m++){const _=n[m],b=Ii.measureText(_,a,i,!1);b.lineHeight=b.height;const x=b.width*f,w=Math.ceil((a.fontStyle==="italic"?2:1)*x),E=b.height*f,S=w+d*2,P=E+d*2;if(h=!1,_!==`
`&&_!=="\r"&&_!=="	"&&_!==" "&&(h=!0,c=Math.ceil(Math.max(P,c))),l+S>p&&(u+=c,c=P,l=0,u+c>y)){s.update();const A=this._nextPage();i=A.canvasAndContext.canvas,o=A.canvasAndContext.context,s=A.texture.source,l=0,u=0,c=0}const C=x/f-(((v=a.dropShadow)==null?void 0:v.distance)??0)-(((g=a._stroke)==null?void 0:g.width)??0);if(this.chars[_]={id:_.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:C,kerning:{}},h){this._drawGlyph(o,b,l+d,u+d,f,a);const A=s.width*f,T=s.height*f,R=new vt(l/A*s.width,u/T*s.height,S/A*s.width,P/T*s.height);this.chars[_].texture=new Ae({source:s,frame:R}),l+=Math.ceil(S)}}s.update(),this._currentX=l,this._currentY=u,this._currentMaxCharHeight=c,this._skipKerning&&this._applyKerning(n,o)}get pageTextures(){return Fe(rt,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(e,n){const r=this._measureCache;for(let i=0;i<e.length;i++){const o=e[i];for(let s=0;s<this._currentChars.length;s++){const a=this._currentChars[s];let l=r[o];l||(l=r[o]=n.measureText(o).width);let u=r[a];u||(u=r[a]=n.measureText(a).width);let c=n.measureText(o+a).width,f=c-(l+u);f&&(this.chars[o].kerning[a]=f),c=n.measureText(o+a).width,f=c-(l+u),f&&(this.chars[a].kerning[o]=f)}}}_nextPage(){this._currentPageIndex++;const e=this.resolution,n=ia.getOptimalCanvasAndContext(this._textureSize,this._textureSize,e);this._setupContext(n.context,this._style,e);const r=e*(this.baseRenderedFontSize/this.baseMeasurementFontSize),i=new Ae({source:new ml({resource:n.canvas,resolution:r,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})});this._textureStyle&&(i.source.style=this._textureStyle);const o={canvasAndContext:n,texture:i};return this.pages[this._currentPageIndex]=o,o}_setupContext(e,n,r){n.fontSize=this.baseRenderedFontSize,e.scale(r,r),e.font=y0(n),n.fontSize=this.baseMeasurementFontSize,e.textBaseline=n.textBaseline;const i=n._stroke,o=(i==null?void 0:i.width)??0;if(i&&(e.lineWidth=o,e.lineJoin=i.join,e.miterLimit=i.miterLimit,e.strokeStyle=b0(i,e)),n._fill&&(e.fillStyle=b0(n._fill,e)),n.dropShadow){const s=n.dropShadow,a=Rt.shared.setValue(s.color).toArray(),l=s.blur*r,u=s.distance*r;e.shadowColor=`rgba(${a[0]*255},${a[1]*255},${a[2]*255},${s.alpha})`,e.shadowBlur=l,e.shadowOffsetX=Math.cos(s.angle)*u,e.shadowOffsetY=Math.sin(s.angle)*u}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}_drawGlyph(e,n,r,i,o,s){const a=n.text,l=n.fontProperties,u=s._stroke,c=((u==null?void 0:u.width)??0)*o,f=r+c/2,d=i-c/2,h=l.descent*o,p=n.lineHeight*o;let y=!1;s.stroke&&c&&(y=!0,e.strokeText(a,f,d+p-h));const{shadowBlur:v,shadowOffsetX:g,shadowOffsetY:m}=e;s._fill&&(y&&(e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),e.fillText(a,f,d+p-h)),y&&(e.shadowBlur=v,e.shadowOffsetX=g,e.shadowOffsetY=m)}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{canvasAndContext:n,texture:r}=this.pages[e];ia.returnCanvasAndContext(n),r.destroy(!0)}this.pages=null}};xk.defaultOptions={textureSize:512,style:new _l,mipmap:!0};let HT=xk;function Ek(t,e,n,r){const i={width:0,height:0,offsetY:0,scale:e.fontSize/n.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};i.offsetY=n.baseLineOffset;let o=i.lines[0],s=null,a=!0;const l={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},u=n.baseMeasurementFontSize/e.fontSize,c=e.letterSpacing*u,f=e.wordWrapWidth*u,d=e.lineHeight?e.lineHeight*u:n.lineHeight,h=e.wordWrap&&e.breakWords,p=g=>{const m=o.width;for(let _=0;_<l.index;_++){const b=g.positions[_];o.chars.push(g.chars[_]),o.charPositions.push(b+m)}o.width+=g.width,a=!1,l.width=0,l.index=0,l.chars.length=0},y=()=>{let g=o.chars.length-1;if(r){let m=o.chars[g];for(;m===" ";)o.width-=n.chars[m].xAdvance,m=o.chars[--g]}i.width=Math.max(i.width,o.width),o={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},a=!0,i.lines.push(o),i.height+=d},v=g=>g-c>f;for(let g=0;g<t.length+1;g++){let m;const _=g===t.length;_||(m=t[g]);const b=n.chars[m]||n.chars[" "];if(/(?:\s)/.test(m)||m==="\r"||m===`
`||_){if(!a&&e.wordWrap&&v(o.width+l.width)?(y(),p(l),_||o.charPositions.push(0)):(l.start=o.width,p(l),_||o.charPositions.push(0)),m==="\r"||m===`
`)o.width!==0&&y();else if(!_){const S=b.xAdvance+(b.kerning[s]||0)+c;o.width+=S,o.spaceWidth=S,o.spacesIndex.push(o.charPositions.length),o.chars.push(m)}}else{const E=b.kerning[s]||0,S=b.xAdvance+E+c;h&&v(o.width+l.width+S)&&(p(l),y()),l.positions[l.index++]=l.width+E,l.chars.push(m),l.width+=S}s=m}return y(),e.align==="center"?Uce(i):e.align==="right"?Gce(i):e.align==="justify"&&Hce(i),i}function Uce(t){for(let e=0;e<t.lines.length;e++){const n=t.lines[e],r=t.width/2-n.width/2;for(let i=0;i<n.charPositions.length;i++)n.charPositions[i]+=r}}function Gce(t){for(let e=0;e<t.lines.length;e++){const n=t.lines[e],r=t.width-n.width;for(let i=0;i<n.charPositions.length;i++)n.charPositions[i]+=r}}function Hce(t){const e=t.width;for(let n=0;n<t.lines.length;n++){const r=t.lines[n];let i=0,o=r.spacesIndex[i++],s=0;const a=r.spacesIndex.length,u=(e-r.width)/a;for(let c=0;c<r.charPositions.length;c++)c===o&&(o=r.spacesIndex[i++],s+=u),r.charPositions[c]+=s}}function Vce(t){if(t==="")return[];typeof t=="string"&&(t=[t]);const e=[];for(let n=0,r=t.length;n<r;n++){const i=t[n];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);if(i[0].length===0||i[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const o=i[0].charCodeAt(0),s=i[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(let a=o,l=s;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...Array.from(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}let Qh=0;class zce{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1,textureStyle:null}}getFont(e,n){var s;let r=`${n.fontFamily}-bitmap`,i=!0;if(n._fill.fill&&!n._stroke)r+=n._fill.fill.styleKey,i=!1;else if(n._stroke||n.dropShadow){let a=n.styleKey;a=a.substring(0,a.lastIndexOf("-")),r=`${a}-bitmap`,i=!1}if(!xt.has(r)){const a=Object.create(n);a.lineHeight=0;const l=new HT({style:a,overrideFill:i,overrideSize:!0,...this.defaultOptions});Qh++,Qh>50&&Ne("BitmapText",`You have dynamically created ${Qh} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),l.once("destroy",()=>{Qh--,xt.remove(r)}),xt.set(r,l)}const o=xt.get(r);return(s=o.ensureCharacters)==null||s.call(o,e),o}getLayout(e,n,r=!0){const i=this.getFont(e,n),o=Ii.graphemeSegmenter(e);return Ek(o,n,i,r)}measureText(e,n,r=!0){return this.getLayout(e,n,r)}install(...e){var u,c,f,d;let n=e[0];typeof n=="string"&&(n={name:n,style:e[1],chars:(u=e[2])==null?void 0:u.chars,resolution:(c=e[2])==null?void 0:c.resolution,padding:(f=e[2])==null?void 0:f.padding,skipKerning:(d=e[2])==null?void 0:d.skipKerning},Fe(rt,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const r=n==null?void 0:n.name;if(!r)throw new Error("[BitmapFontManager] Property `name` is required.");n={...this.defaultOptions,...n};const i=n.style,o=i instanceof _l?i:new _l(i),s=n.dynamicFill??this._canUseTintForStyle(o),a=new HT({style:o,overrideFill:s,skipKerning:n.skipKerning,padding:n.padding,resolution:n.resolution,overrideSize:!1,textureStyle:n.textureStyle}),l=Vce(n.chars);return a.ensureCharacters(l.join("")),xt.set(`${r}-bitmap`,a),a.once("destroy",()=>xt.remove(`${r}-bitmap`)),a}uninstall(e){const n=`${e}-bitmap`,r=xt.get(n);r&&r.destroy()}_canUseTintForStyle(e){return!e._stroke&&(!e.dropShadow||e.dropShadow.color===0)&&!e._fill.fill&&e._fill.color===16777215}}const G_=new zce;class Sk extends nk{constructor(e,n){super();const{textures:r,data:i}=e;Object.keys(i.pages).forEach(o=>{const s=i.pages[parseInt(o,10)],a=r[s.id];this.pages.push({texture:a})}),Object.keys(i.chars).forEach(o=>{const s=i.chars[o],{frame:a,source:l,rotate:u}=r[s.page],c=Et.transformRectCoords(s,a,u,new vt),f=new Ae({frame:c,orig:new vt(0,0,s.width,s.height),source:l,rotate:u});this.chars[o]={id:o.codePointAt(0),xOffset:s.xOffset,yOffset:s.yOffset,xAdvance:s.xAdvance,kerning:s.kerning??{},texture:f}}),this.baseRenderedFontSize=i.fontSize,this.baseMeasurementFontSize=i.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:i.fontSize},this.baseLineOffset=i.baseLineOffset,this.lineHeight=i.lineHeight,this.fontFamily=i.fontFamily,this.distanceField=i.distanceField??{type:"none",range:0},this.url=n}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{texture:n}=this.pages[e];n.destroy(!0)}this.pages=null}static install(e){G_.install(e)}static uninstall(e){G_.uninstall(e)}}const kv={test(t){return typeof t=="string"&&t.startsWith("info face=")},parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const f in e){const d=e[f].match(/^[a-z]+/gm)[0],h=e[f].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),p={};for(const y in h){const v=h[y].split("="),g=v[0],m=v[1].replace(/"/gm,""),_=parseFloat(m),b=isNaN(_)?m:_;p[g]=b}n[d].push(p)}const r={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[i]=n.info,[o]=n.common,[s]=n.distanceField??[];s&&(r.distanceField={range:parseInt(s.distanceRange,10),type:s.fieldType}),r.fontSize=parseInt(i.size,10),r.fontFamily=i.face,r.lineHeight=parseInt(o.lineHeight,10);const a=n.page;for(let f=0;f<a.length;f++)r.pages.push({id:parseInt(a[f].id,10)||0,file:a[f].file});const l={};r.baseLineOffset=r.lineHeight-parseInt(o.base,10);const u=n.char;for(let f=0;f<u.length;f++){const d=u[f],h=parseInt(d.id,10);let p=d.letter??d.char??String.fromCharCode(h);p==="space"&&(p=" "),l[h]=p,r.chars[p]={id:h,page:parseInt(d.page,10)||0,x:parseInt(d.x,10),y:parseInt(d.y,10),width:parseInt(d.width,10),height:parseInt(d.height,10),xOffset:parseInt(d.xoffset,10),yOffset:parseInt(d.yoffset,10),xAdvance:parseInt(d.xadvance,10),kerning:{}}}const c=n.kerning||[];for(let f=0;f<c.length;f++){const d=parseInt(c[f].first,10),h=parseInt(c[f].second,10),p=parseInt(c[f].amount,10);r.chars[l[h]].kerning[l[d]]=p}return r}},VT={test(t){const e=t;return typeof e!="string"&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(t){const e={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},n=t.getElementsByTagName("info")[0],r=t.getElementsByTagName("common")[0],i=t.getElementsByTagName("distanceField")[0];i&&(e.distanceField={type:i.getAttribute("fieldType"),range:parseInt(i.getAttribute("distanceRange"),10)});const o=t.getElementsByTagName("page"),s=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning");e.fontSize=parseInt(n.getAttribute("size"),10),e.fontFamily=n.getAttribute("face"),e.lineHeight=parseInt(r.getAttribute("lineHeight"),10);for(let u=0;u<o.length;u++)e.pages.push({id:parseInt(o[u].getAttribute("id"),10)||0,file:o[u].getAttribute("file")});const l={};e.baseLineOffset=e.lineHeight-parseInt(r.getAttribute("base"),10);for(let u=0;u<s.length;u++){const c=s[u],f=parseInt(c.getAttribute("id"),10);let d=c.getAttribute("letter")??c.getAttribute("char")??String.fromCharCode(f);d==="space"&&(d=" "),l[f]=d,e.chars[d]={id:f,page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xOffset:parseInt(c.getAttribute("xoffset"),10),yOffset:parseInt(c.getAttribute("yoffset"),10),xAdvance:parseInt(c.getAttribute("xadvance"),10),kerning:{}}}for(let u=0;u<a.length;u++){const c=parseInt(a[u].getAttribute("first"),10),f=parseInt(a[u].getAttribute("second"),10),d=parseInt(a[u].getAttribute("amount"),10);e.chars[l[f]].kerning[l[c]]=d}return e}},zT={test(t){return typeof t=="string"&&t.includes("<font>")?VT.test(je.get().parseXML(t)):!1},parse(t){return VT.parse(je.get().parseXML(t))}},jce=[".xml",".fnt"],Wce={extension:{type:V.CacheParser,name:"cacheBitmapFont"},test:t=>t instanceof Sk,getCacheableAssets(t,e){const n={};return t.forEach(r=>{n[r]=e,n[`${r}-bitmap`]=e}),n[`${e.fontFamily}-bitmap`]=e,n}},Yce={extension:{type:V.LoadParser,priority:fa.Normal},name:"loadBitmapFont",id:"bitmap-font",test(t){return jce.includes(Pr.extname(t).toLowerCase())},async testParse(t){return kv.test(t)||zT.test(t)},async parse(t,e,n){const r=kv.test(t)?kv.parse(t):zT.parse(t),{src:i}=e,{pages:o}=r,s=[],a=r.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let f=0;f<o.length;++f){const d=o[f].file;let h=Pr.join(Pr.dirname(i),d);h=T_(h,i),s.push({src:h,data:a})}const l=await n.load(s),u=s.map(f=>l[f.src]);return new Sk({data:r,textures:u},i)},async load(t,e){return await(await je.get().fetch(t)).text()},async unload(t,e,n){await Promise.all(t.pages.map(r=>n.unload(r.texture.source._sourceOrigin))),t.destroy()}};class Xce{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}const Kce={extension:{type:V.CacheParser,name:"cacheTextureArray"},test:t=>Array.isArray(t)&&t.every(e=>e instanceof Ae),getCacheableAssets:(t,e)=>{const n={};return t.forEach(r=>{e.forEach((i,o)=>{n[r+(o===0?"":o+1)]=i})}),n}};async function Ck(t){if("Image"in globalThis)return new Promise(e=>{const n=new Image;n.onload=()=>{e(!0)},n.onerror=()=>{e(!1)},n.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const qce={extension:{type:V.DetectionParser,priority:1},test:async()=>Ck("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")},jT=["png","jpg","jpeg"],Zce={extension:{type:V.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...jT],remove:async t=>t.filter(e=>!jT.includes(e))},Jce="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function qg(t){return Jce?!1:document.createElement("video").canPlayType(t)!==""}const Qce={extension:{type:V.DetectionParser,priority:0},test:async()=>qg("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")},efe={extension:{type:V.DetectionParser,priority:0},test:async()=>qg("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")},tfe={extension:{type:V.DetectionParser,priority:0},test:async()=>qg("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")},nfe={extension:{type:V.DetectionParser,priority:0},test:async()=>Ck("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};class rfe{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,n,r)=>(this._parsersValidated=!1,e[n]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,n){const r={promise:null,parser:null};return r.promise=(async()=>{var s,a;let i=null,o=null;if((n.parser||n.loadParser)&&(o=this._parserHash[n.parser||n.loadParser],n.loadParser&&Ne(`[Assets] "loadParser" is deprecated, use "parser" instead for ${e}`),o||Ne(`[Assets] specified load parser "${n.parser||n.loadParser}" not found while loading ${e}`)),!o){for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];if(u.load&&((s=u.test)!=null&&s.call(u,e,n,this))){o=u;break}}if(!o)return Ne(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await o.load(e,n,this),r.parser=o;for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];u.parse&&u.parse&&await((a=u.testParse)==null?void 0:a.call(u,i,n,this))&&(i=await u.parse(i,n,this)||i,r.parser=u)}return i})(),r}async load(e,n){this._parsersValidated||this._validateParsers();let r=0;const i={},o=m0(e),s=Pi(e,u=>({alias:[u],src:u,data:{}})),a=s.length,l=s.map(async u=>{const c=Pr.toAbsolute(u.src);if(!i[u.src])try{this.promiseCache[c]||(this.promiseCache[c]=this._getLoadPromiseAndParser(c,u)),i[u.src]=await this.promiseCache[c].promise,n&&n(++r/a)}catch(f){throw delete this.promiseCache[c],delete i[u.src],new Error(`[Loader.load] Failed to load ${c}.
${f}`)}});return await Promise.all(l),o?i[s[0].src]:i}async unload(e){const r=Pi(e,i=>({alias:[i],src:i})).map(async i=>{var a,l;const o=Pr.toAbsolute(i.src),s=this.promiseCache[o];if(s){const u=await s.promise;delete this.promiseCache[o],await((l=(a=s.parser)==null?void 0:a.unload)==null?void 0:l.call(a,u,i,this))}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name||e.id).reduce((e,n)=>(!n.name&&!n.id?Ne("[Assets] parser should have an id"):(e[n.name]||e[n.id])&&Ne(`[Assets] parser id conflict "${n.id}"`),e[n.name]=n,n.id&&(e[n.id]=n),e),{})}}function mc(t,e){if(Array.isArray(e)){for(const n of e)if(t.startsWith(`data:${n}`))return!0;return!1}return t.startsWith(`data:${e}`)}function vc(t,e){const n=t.split("?")[0],r=Pr.extname(n).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const ife=".json",ofe="application/json",sfe={extension:{type:V.LoadParser,priority:fa.Low},name:"loadJson",id:"json",test(t){return mc(t,ofe)||vc(t,ife)},async load(t){return await(await je.get().fetch(t)).json()}},afe=".txt",lfe="text/plain",ufe={name:"loadTxt",id:"text",extension:{type:V.LoadParser,priority:fa.Low,name:"loadTxt"},test(t){return mc(t,lfe)||vc(t,afe)},async load(t){return await(await je.get().fetch(t)).text()}},cfe=["normal","bold","100","200","300","400","500","600","700","800","900"],ffe=[".ttf",".otf",".woff",".woff2"],dfe=["font/ttf","font/otf","font/woff","font/woff2"],hfe=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function pfe(t){const e=Pr.extname(t),i=Pr.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let o=i.length>0;for(const a of i)if(!a.match(hfe)){o=!1;break}let s=i.join(" ");return o||(s=`"${s.replace(/[\\"]/g,"\\$&")}"`),s}const gfe=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function mfe(t){return gfe.test(t)?t:encodeURI(t)}const vfe={extension:{type:V.LoadParser,priority:fa.Low},name:"loadWebFont",id:"web-font",test(t){return mc(t,dfe)||vc(t,ffe)},async load(t,e){var r,i,o;const n=je.get().getFontFaceSet();if(n){const s=[],a=((r=e.data)==null?void 0:r.family)??pfe(t),l=((o=(i=e.data)==null?void 0:i.weights)==null?void 0:o.filter(c=>cfe.includes(c)))??["normal"],u=e.data??{};for(let c=0;c<l.length;c++){const f=l[c],d=new FontFace(a,`url(${mfe(t)})`,{...u,weight:f});await d.load(),n.add(d),s.push(d)}return xt.has(`${a}-and-url`)?xt.get(`${a}-and-url`).entries.push({url:t,faces:s}):xt.set(`${a}-and-url`,{entries:[{url:t,faces:s}]}),s.length===1?s[0]:s}return Ne("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){const e=Array.isArray(t)?t:[t],n=e[0].family,r=xt.get(`${n}-and-url`),i=r.entries.find(o=>o.faces.some(s=>e.indexOf(s)!==-1));i.faces=i.faces.filter(o=>e.indexOf(o)===-1),i.faces.length===0&&(r.entries=r.entries.filter(o=>o!==i)),e.forEach(o=>{je.get().getFontFaceSet().delete(o)}),r.entries.length===0&&xt.remove(`${n}-and-url`)}};function oE(t,e=1){var r;const n=(r=gc.RETINA_PREFIX)==null?void 0:r.exec(t);return n?parseFloat(n[1]):e}function sE(t,e,n){t.label=n,t._sourceOrigin=n;const r=new Ae({source:t,label:n}),i=()=>{delete e.promiseCache[n],xt.has(n)&&xt.remove(n)};return r.source.once("destroy",()=>{e.promiseCache[n]&&(Ne("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),i())}),r.once("destroy",()=>{t.destroyed||(Ne("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),r}const yfe=".svg",_fe="image/svg+xml",bfe={extension:{type:V.LoadParser,priority:fa.Low,name:"loadSVG"},name:"loadSVG",id:"svg",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(t){return mc(t,_fe)||vc(t,yfe)},async load(t,e,n){var r;return((r=e.data)==null?void 0:r.parseAsGraphicsContext)??this.config.parseAsGraphicsContext?wfe(t):xfe(t,e,n,this.config.crossOrigin)},unload(t){t.destroy(!0)}};async function xfe(t,e,n,r){var v,g,m;const o=await(await je.get().fetch(t)).blob(),s=URL.createObjectURL(o),a=je.get().createImage();a.src=s,a.crossOrigin=r,await a.decode(),URL.revokeObjectURL(s);const l=((v=e.data)==null?void 0:v.width)??a.width,u=((g=e.data)==null?void 0:g.height)??a.height,c=((m=e.data)==null?void 0:m.resolution)||oE(t),f=je.get().createCanvas(l*c,u*c);f.getContext("2d").drawImage(a,0,0,l*c,u*c);const{parseAsGraphicsContext:h,...p}=e.data??{},y=new ml({resource:f,alphaMode:"premultiply-alpha-on-upload",resolution:c,...p});return sE(y,n,t)}async function wfe(t){const n=await(await je.get().fetch(t)).text(),r=new ui;return r.svg(n),r}const Efe=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let Au=null,H_=class{constructor(){Au||(Au=URL.createObjectURL(new Blob([Efe],{type:"application/javascript"}))),this.worker=new Worker(Au)}};H_.revokeObjectURL=function(){Au&&(URL.revokeObjectURL(Au),Au=null)};const Sfe=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Tu=null;class Ak{constructor(){Tu||(Tu=URL.createObjectURL(new Blob([Sfe],{type:"application/javascript"}))),this.worker=new Worker(Tu)}}Ak.revokeObjectURL=function(){Tu&&(URL.revokeObjectURL(Tu),Tu=null)};let WT=0,Nv;class Cfe{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:n}=new H_;n.addEventListener("message",r=>{n.terminate(),H_.revokeObjectURL(),e(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e,n){var r;return this._run("loadImageBitmap",[e,(r=n==null?void 0:n.data)==null?void 0:r.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){Nv===void 0&&(Nv=navigator.hardwareConcurrency||4);let e=this._workerPool.pop();return!e&&this._createdWorkers<Nv&&(this._createdWorkers++,e=new Ak().worker,e.addEventListener("message",n=>{this._complete(n.data),this._returnWorker(n.target),this._next()})),e}_returnWorker(e){this._workerPool.push(e)}_complete(e){e.error!==void 0?this._resolveHash[e.uuid].reject(e.error):this._resolveHash[e.uuid].resolve(e.data),this._resolveHash[e.uuid]=null}async _run(e,n){await this._initWorkers();const r=new Promise((i,o)=>{this._queue.push({id:e,arguments:n,resolve:i,reject:o})});return this._next(),r}_next(){if(!this._queue.length)return;const e=this._getWorker();if(!e)return;const n=this._queue.pop(),r=n.id;this._resolveHash[WT]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:WT++,id:r})}reset(){this._workerPool.forEach(e=>e.terminate()),this._workerPool.length=0,Object.values(this._resolveHash).forEach(({reject:e})=>{e==null||e(new Error("WorkerManager destroyed"))}),this._resolveHash={},this._queue.length=0,this._initialized=!1,this._createdWorkers=0}}const YT=new Cfe,Afe=[".jpeg",".jpg",".png",".webp",".avif"],Tfe=["image/jpeg","image/png","image/webp","image/avif"];async function Pfe(t,e){var i;const n=await je.get().fetch(t);if(!n.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${n.status} ${n.statusText}`);const r=await n.blob();return((i=e==null?void 0:e.data)==null?void 0:i.alphaMode)==="premultiplied-alpha"?createImageBitmap(r,{premultiplyAlpha:"none"}):createImageBitmap(r)}const Tk={name:"loadTextures",id:"texture",extension:{type:V.LoadParser,priority:fa.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return mc(t,Tfe)||vc(t,Afe)},async load(t,e,n){var o;let r=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await YT.isImageBitmapSupported()?r=await YT.loadImageBitmap(t,e):r=await Pfe(t,e):r=await new Promise((s,a)=>{r=je.get().createImage(),r.crossOrigin=this.config.crossOrigin,r.src=t,r.complete?s(r):(r.onload=()=>{s(r)},r.onerror=a)});const i=new ml({resource:r,alphaMode:"premultiply-alpha-on-upload",resolution:((o=e.data)==null?void 0:o.resolution)||oE(t),...e.data});return sE(i,n,t)},unload(t){t.destroy(!0)}},Ife=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"];let Fv,Lv;function Ofe(t,e,n){n===void 0&&!e.startsWith("data:")?t.crossOrigin=Mfe(e):n!==!1&&(t.crossOrigin=typeof n=="string"?n:"anonymous")}function Rfe(t){return new Promise((e,n)=>{t.addEventListener("canplaythrough",r),t.addEventListener("error",i),t.load();function r(){o(),e()}function i(s){o(),n(s)}function o(){t.removeEventListener("canplaythrough",r),t.removeEventListener("error",i)}})}function Mfe(t,e=globalThis.location){if(t.startsWith("data:"))return"";e||(e=globalThis.location);const n=new URL(t,document.baseURI);return n.hostname!==e.hostname||n.port!==e.port||n.protocol!==e.protocol?"anonymous":""}function Dfe(){const t=[],e=[];for(const n of Ife){const r=Ef.MIME_TYPES[n.substring(1)]||`video/${n.substring(1)}`;qg(r)&&(t.push(n),e.includes(r)||e.push(r))}return{validVideoExtensions:t,validVideoMime:e}}const Bfe={name:"loadVideo",id:"video",extension:{type:V.LoadParser,name:"loadVideo"},test(t){if(!Fv||!Lv){const{validVideoExtensions:r,validVideoMime:i}=Dfe();Fv=r,Lv=i}const e=mc(t,Lv),n=vc(t,Fv);return e||n},async load(t,e,n){var l,u;const r={...Ef.defaultOptions,resolution:((l=e.data)==null?void 0:l.resolution)||oE(t),alphaMode:((u=e.data)==null?void 0:u.alphaMode)||await P8(),...e.data},i=document.createElement("video"),o={preload:r.autoLoad!==!1?"auto":void 0,"webkit-playsinline":r.playsinline!==!1?"":void 0,playsinline:r.playsinline!==!1?"":void 0,muted:r.muted===!0?"":void 0,loop:r.loop===!0?"":void 0,autoplay:r.autoPlay!==!1?"":void 0};Object.keys(o).forEach(c=>{const f=o[c];f!==void 0&&i.setAttribute(c,f)}),r.muted===!0&&(i.muted=!0),Ofe(i,t,r.crossorigin);const s=document.createElement("source");let a;if(r.mime)a=r.mime;else if(t.startsWith("data:"))a=t.slice(5,t.indexOf(";"));else if(!t.startsWith("blob:")){const c=t.split("?")[0].slice(t.lastIndexOf(".")+1).toLowerCase();a=Ef.MIME_TYPES[c]||`video/${c}`}return s.src=t,a&&(s.type=a),new Promise(c=>{const f=async()=>{const d=new Ef({...r,resource:i});i.removeEventListener("canplay",f),e.data.preload&&await Rfe(i),c(sE(d,n,t))};r.preload&&!r.autoPlay&&i.load(),i.addEventListener("canplay",f),i.appendChild(s)})},unload(t){t.destroy(!0)}},Pk={extension:{type:V.ResolveParser,name:"resolveTexture"},test:Tk.test,parse:t=>{var e;return{resolution:parseFloat(((e=gc.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}},kfe={extension:{type:V.ResolveParser,priority:-2,name:"resolveJson"},test:t=>gc.RETINA_PREFIX.test(t)&&t.endsWith(".json"),parse:Pk.parse};class Nfe{constructor(){this._detections=[],this._initialized=!1,this.resolver=new gc,this.loader=new rfe,this.cache=xt,this._backgroundLoader=new Xce(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var o,s;if(this._initialized){Ne("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const n=((o=e.texturePreference)==null?void 0:o.resolution)??1,r=typeof n=="number"?[n]:n,i=await this._detectFormats({preferredFormats:(s=e.texturePreference)==null?void 0:s.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:r}}),e.preferences&&this.setPreferences(e.preferences)}add(e){this.resolver.add(e)}async load(e,n){this._initialized||await this.init();const r=m0(e),i=Pi(e).map(a=>{if(typeof a!="string"){const l=this.resolver.getAlias(a);return l.some(u=>!this.resolver.hasKey(u))&&this.add(a),Array.isArray(l)?l[0]:l}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),o=this.resolver.resolve(i),s=await this._mapLoadToResolve(o,n);return r?s[i[0]]:s}addBundle(e,n){this.resolver.addBundle(e,n)}async loadBundle(e,n){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),o={},s=Object.keys(i);let a=0,l=0;const u=()=>{n==null||n(++a/l)},c=s.map(f=>{const d=i[f],h=Object.values(d),p=[...new Set(h.flat())];return l+=p.length,this._mapLoadToResolve(d,u).then(y=>{o[f]=y})});return await Promise.all(c),r?o[e[0]]:o}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolveBundle(e);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return xt.get(e);const n={};for(let r=0;r<e.length;r++)n[r]=xt.get(e[r]);return n}async _mapLoadToResolve(e,n){const r=[...new Set(Object.values(e))];this._backgroundLoader.active=!1;const i=await this.loader.load(r,n);this._backgroundLoader.active=!0;const o={};return r.forEach(s=>{const a=i[s.src],l=[s.src];s.alias&&l.push(...s.alias),l.forEach(u=>{o[u]=a}),xt.set(l,a)}),o}async unload(e){this._initialized||await this.init();const n=Pi(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=Pi(e);const n=this.resolver.resolveBundle(e),r=Object.keys(n).map(i=>this._unloadFromResolved(n[i]));await Promise.all(r)}async _unloadFromResolved(e){const n=Object.values(e);n.forEach(r=>{xt.remove(r.src)}),await this.loader.unload(n)}async _detectFormats(e){let n=[];e.preferredFormats&&(n=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const r of e.detections)e.skipDetections||await r.test()?n=await r.add(n):e.skipDetections||(n=await r.remove(n));return n=n.filter((r,i)=>n.indexOf(r)===i),n}get detections(){return this._detections}setPreferences(e){this.loader.parsers.forEach(n=>{n.config&&Object.keys(n.config).filter(r=>r in e).forEach(r=>{n.config[r]=e[r]})})}}const ep=new Nfe;$e.handleByList(V.LoadParser,ep.loader.parsers).handleByList(V.ResolveParser,ep.resolver.parsers).handleByList(V.CacheParser,ep.cache.parsers).handleByList(V.DetectionParser,ep.detections);$e.add(Kce,Zce,qce,nfe,Qce,efe,tfe,sfe,ufe,vfe,bfe,Tk,Bfe,Yce,Wce,Pk,kfe);const XT={loader:V.LoadParser,resolver:V.ResolveParser,cache:V.CacheParser,detection:V.DetectionParser};$e.handle(V.Asset,t=>{const e=t.ref;Object.entries(XT).filter(([n])=>!!e[n]).forEach(([n,r])=>$e.add(Object.assign(e[n],{extension:e[n].extension??r})))},t=>{const e=t.ref;Object.keys(XT).filter(n=>!!e[n]).forEach(n=>$e.remove(e[n]))});class Ik{constructor(e){this._attachedDomElements=[],this._renderer=e,this._renderer.runners.postrender.add(this),this._renderer.runners.init.add(this),this._domElement=document.createElement("div"),this._domElement.style.position="absolute",this._domElement.style.top="0",this._domElement.style.left="0",this._domElement.style.pointerEvents="none",this._domElement.style.zIndex="1000"}init(){this._canvasObserver=new B8({domElement:this._domElement,renderer:this._renderer})}addRenderable(e,n){this._attachedDomElements.includes(e)||this._attachedDomElements.push(e)}updateRenderable(e){}validateRenderable(e){return!0}postrender(){const e=this._attachedDomElements;if(e.length===0){this._domElement.remove();return}this._canvasObserver.ensureAttached();for(let n=0;n<e.length;n++){const r=e[n],i=r.element;if(!r.parent||r.globalDisplayStatus<7)i==null||i.remove(),e.splice(n,1),n--;else{this._domElement.contains(i)||(i.style.position="absolute",i.style.pointerEvents="auto",this._domElement.appendChild(i));const o=r.worldTransform,s=r._anchor,a=r.width*s.x,l=r.height*s.y;i.style.transformOrigin=`${a}px ${l}px`,i.style.transform=`matrix(${o.a}, ${o.b}, ${o.c}, ${o.d}, ${o.tx-a}, ${o.ty-l})`,i.style.opacity=r.groupAlpha.toString()}}}destroy(){var e;this._renderer.runners.postrender.remove(this);for(let n=0;n<this._attachedDomElements.length;n++)(e=this._attachedDomElements[n].element)==null||e.remove();this._attachedDomElements.length=0,this._domElement.remove(),this._canvasObserver.destroy(),this._renderer=null}}Ik.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"dom"};class Ffe{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this._tickerAdded||!this.domElement||(Un.system.add(this._tickerUpdate,this,vl.INTERACTION),this._tickerAdded=!0)}removeTickerListener(){this._tickerAdded&&(Un.system.remove(this._tickerUpdate,this),this._tickerAdded=!1)}pointerMoved(){this._didMove=!0}_update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events._rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(this.events.supportsPointerEvents?new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY,pointerType:e.pointerType,pointerId:e.pointerId}):new MouseEvent("mousemove",{clientX:e.clientX,clientY:e.clientY}))}_tickerUpdate(e){this._deltaTime+=e.deltaTime,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this._update())}}const Rs=new Ffe;class x0 extends Vd{constructor(){super(...arguments),this.client=new Gt,this.movement=new Gt,this.offset=new Gt,this.global=new Gt,this.screen=new Gt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,n,r){return e.worldTransform.applyInverse(r||this.global,n)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,n,r,i,o,s,a,l,u,c,f,d,h,p,y){throw new Error("Method not implemented.")}}class Ei extends x0{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Yu extends x0{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Yu.DOM_DELTA_PIXEL=0;Yu.DOM_DELTA_LINE=1;Yu.DOM_DELTA_PAGE=2;const Lfe=2048,$fe=new Gt,Gc=new Gt;class Ufe{constructor(e){this.dispatch=new Jr,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,n){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:n,priority:0}),this.mappingTable[e].sort((r,i)=>r.priority-i.priority)}dispatchEvent(e,n){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,n),this.dispatch.emit(n||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const n=this.mappingTable[e.type];if(n)for(let r=0,i=n.length;r<i;r++)n[r].fn(e);else Ne(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,n){Rs.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",o=this[i](this.rootTarget,this.rootTarget.eventMode,$fe.set(e,n),this.hitTestFn,this.hitPruneFn);return o&&o[0]}propagate(e,n){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,o=r.length-1;i<o;i++)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,n),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,n,r=this._allInteractiveElements){if(r.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(n)?n:[n];for(let o=r.length-1;o>=0;o--)i.forEach(s=>{e.currentTarget=r[o],this.notifyTarget(e,s)})}propagationPath(e){const n=[e];for(let r=0;r<Lfe&&e!==this.rootTarget&&e.parent;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");n.push(e.parent),e=e.parent}return n.reverse(),n}hitTestMoveRecursive(e,n,r,i,o,s=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||n==="dynamic")&&(Rs.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let f=c.length-1;f>=0;f--){const d=c[f],h=this.hitTestMoveRecursive(d,this._isInteractive(n)?n:d.eventMode,r,i,o,s||o(e,r));if(h){if(h.length>0&&!h[h.length-1].parent)continue;const p=e.isInteractive();(h.length>0||p)&&(p&&this._allInteractiveElements.push(e),h.push(e)),this._hitElements.length===0&&(this._hitElements=h),a=!0}}}const l=this._isInteractive(n),u=e.isInteractive();return u&&u&&this._allInteractiveElements.push(e),s||this._hitElements.length>0?null:a?this._hitElements:l&&!o(e,r)&&i(e,r)?u?[e]:[]:null}hitTestRecursive(e,n,r,i,o){if(this._interactivePrune(e)||o(e,r))return null;if((e.eventMode==="dynamic"||n==="dynamic")&&(Rs.pauseUpdate=!1),e.interactiveChildren&&e.children){const l=e.children,u=r;for(let c=l.length-1;c>=0;c--){const f=l[c],d=this.hitTestRecursive(f,this._isInteractive(n)?n:f.eventMode,u,i,o);if(d){if(d.length>0&&!d[d.length-1].parent)continue;const h=e.isInteractive();return(d.length>0||h)&&d.push(e),d}}}const s=this._isInteractive(n),a=e.isInteractive();return s&&i(e,r)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!e||!e.visible||!e.renderable||!e.measurable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren}hitPruneFn(e,n){if(e.hitArea&&(e.worldTransform.applyInverse(n,Gc),!e.hitArea.contains(Gc.x,Gc.y)))return!0;if(e.effects&&e.effects.length)for(let r=0;r<e.effects.length;r++){const i=e.effects[r];if(i.containsPoint&&!i.containsPoint(n,this.hitTestFn))return!0}return!1}hitTestFn(e,n){return e.hitArea?!0:e!=null&&e.containsPoint?(e.worldTransform.applyInverse(n,Gc),e.containsPoint(Gc)):!1}notifyTarget(e,n){var o,s;if(!e.currentTarget.isInteractive())return;n??(n=e.type);const r=`on${n}`;(s=(o=e.currentTarget)[r])==null||s.call(o,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${n}capture`:n;this._notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this._notifyListeners(e,n)}mapPointerDown(e){if(!(e instanceof Ei)){Ne("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerdown"),n.pointerType==="touch")this.dispatchEvent(n,"touchstart");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const i=n.button===2;this.dispatchEvent(n,i?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=n.composedPath(),this.freeEvent(n)}mapPointerMove(e){var l,u;if(!(e instanceof Ei)){Ne("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const n=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const r=n.pointerType==="mouse"||n.pointerType==="pen",i=this.trackingData(e.pointerId),o=this.findMountedTarget(i.overTargets);if(((l=i.overTargets)==null?void 0:l.length)>0&&o!==n.target){const c=e.type==="mousemove"?"mouseout":"pointerout",f=this.createPointerEvent(e,c,o);if(this.dispatchEvent(f,"pointerout"),r&&this.dispatchEvent(f,"mouseout"),!n.composedPath().includes(o)){const d=this.createPointerEvent(e,"pointerleave",o);for(d.eventPhase=d.AT_TARGET;d.target&&!n.composedPath().includes(d.target);)d.currentTarget=d.target,this.notifyTarget(d),r&&this.notifyTarget(d,"mouseleave"),d.target=d.target.parent;this.freeEvent(d)}this.freeEvent(f)}if(o!==n.target){const c=e.type==="mousemove"?"mouseover":"pointerover",f=this.clonePointerEvent(n,c);this.dispatchEvent(f,"pointerover"),r&&this.dispatchEvent(f,"mouseover");let d=o==null?void 0:o.parent;for(;d&&d!==this.rootTarget.parent&&d!==n.target;)d=d.parent;if(!d||d===this.rootTarget.parent){const p=this.clonePointerEvent(n,"pointerenter");for(p.eventPhase=p.AT_TARGET;p.target&&p.target!==o&&p.target!==this.rootTarget.parent;)p.currentTarget=p.target,this.notifyTarget(p),r&&this.notifyTarget(p,"mouseenter"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(f)}const s=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?s.push("pointermove"):this.dispatchEvent(n,"pointermove"),a&&s.push("globalpointermove"),n.pointerType==="touch"&&(this.moveOnAll?s.splice(1,0,"touchmove"):this.dispatchEvent(n,"touchmove"),a&&s.push("globaltouchmove")),r&&(this.moveOnAll?s.splice(1,0,"mousemove"):this.dispatchEvent(n,"mousemove"),a&&s.push("globalmousemove"),this.cursor=(u=n.target)==null?void 0:u.cursor),s.length>0&&this.all(n,s),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=n.composedPath(),this.freeEvent(n)}mapPointerOver(e){var s;if(!(e instanceof Ei)){Ne("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(s=r.target)==null?void 0:s.cursor);const o=this.clonePointerEvent(r,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),i&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(o)}mapPointerOut(e){if(!(e instanceof Ei)){Ne("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId);if(n.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(n.overTargets),o=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(o),r&&this.dispatchEvent(o,"mouseout");const s=this.createPointerEvent(e,"pointerleave",i);for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),r&&this.notifyTarget(s,"mouseleave"),s.target=s.target.parent;n.overTargets=null,this.freeEvent(o),this.freeEvent(s)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Ei)){Ne("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const a=r.button===2;this.dispatchEvent(r,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),o=this.findMountedTarget(i.pressTargetsByButton[e.button]);let s=o;if(o&&!r.composedPath().includes(o)){let a=o;for(;a&&!r.composedPath().includes(a);){if(r.currentTarget=a,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const l=r.button===2;this.notifyTarget(r,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],s=a}if(s){const a=this.clonePointerEvent(r,"click");a.target=s,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:n});const l=i.clicksByButton[e.button];if(l.target===a.target&&n-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=n,a.detail=l.clickCount,a.pointerType==="mouse"){const u=a.button===2;this.dispatchEvent(a,u?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof Ei)){Ne("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(r){let o=r;for(;o;)i.currentTarget=o,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),o=o.parent;delete n.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Yu)){Ne("EventBoundary cannot map a non-wheel event as a wheel event");return}const n=this.createWheelEvent(e);this.dispatchEvent(n),this.freeEvent(n)}findMountedTarget(e){if(!e)return null;let n=e[0];for(let r=1;r<e.length&&e[r].parent===n;r++)n=e[r];return n}createPointerEvent(e,n,r){const i=this.allocateEvent(Ei);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=r??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof n=="string"&&(i.type=n),i}createWheelEvent(e){const n=this.allocateEvent(Yu);return this.copyWheelData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=this.hitTest(n.global.x,n.global.y),n}clonePointerEvent(e,n){const r=this.allocateEvent(Ei);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=n??r.type,r}copyWheelData(e,n){n.deltaMode=e.deltaMode,n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ}copyPointerData(e,n){e instanceof Ei&&n instanceof Ei&&(n.pointerId=e.pointerId,n.width=e.width,n.height=e.height,n.isPrimary=e.isPrimary,n.pointerType=e.pointerType,n.pressure=e.pressure,n.tangentialPressure=e.tangentialPressure,n.tiltX=e.tiltX,n.tiltY=e.tiltY,n.twist=e.twist)}copyMouseData(e,n){e instanceof x0&&n instanceof x0&&(n.altKey=e.altKey,n.button=e.button,n.buttons=e.buttons,n.client.copyFrom(e.client),n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.movement.copyFrom(e.movement),n.screen.copyFrom(e.screen),n.shiftKey=e.shiftKey,n.global.copyFrom(e.global))}copyData(e,n){n.isTrusted=e.isTrusted,n.srcElement=e.srcElement,n.timeStamp=performance.now(),n.type=e.type,n.detail=e.detail,n.view=e.view,n.which=e.which,n.layer.copyFrom(e.layer),n.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const n=this.eventPool.get(e).pop()||new e(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.defaultPrevented=!1,n.path=null,n.target=null,n}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const n=e.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(e)}_notifyListeners(e,n){const r=e.currentTarget._events[n];if(r)if("fn"in r)r.once&&e.currentTarget.removeListener(n,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let i=0,o=r.length;i<o&&!e.propagationImmediatelyStopped;i++)r[i].once&&e.currentTarget.removeListener(n,r[i].fn,void 0,!0),r[i].fn.call(r[i].context,e)}}const Gfe=1,Hfe={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},aE=class V_{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new Ufe(null),Rs.init(this),this.autoPreventDefault=!0,this._eventsAdded=!1,this._rootPointerEvent=new Ei(null),this._rootWheelEvent=new Yu(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...V_.defaultEventFeatures},{set:(n,r,i)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),n[r]=i,!0)}),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerUp=this._onPointerUp.bind(this),this._onPointerOverOut=this._onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{canvas:n,resolution:r}=this.renderer;this.setTargetElement(n),this.resolution=r,V_._defaultEventMode=e.eventMode??"passive",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null,this._currentCursor=null}setCursor(e){e||(e="default");let n=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(n=!1),this._currentCursor===e)return;this._currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":n&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":n&&Object.assign(this.domElement.style,r);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this._rootPointerEvent}_onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const n=this._normalizeToPointerData(e);this.autoPreventDefault&&n[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,i=n.length;r<i;r++){const o=n[r],s=this._bootstrapEvent(this._rootPointerEvent,o);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}_onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Rs.pointerMoved();const n=this._normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const o=this._bootstrapEvent(this._rootPointerEvent,n[r]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}_onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let n=e.target;e.composedPath&&e.composedPath().length>0&&(n=e.composedPath()[0]);const r=n!==this.domElement?"outside":"",i=this._normalizeToPointerData(e);for(let o=0,s=i.length;o<s;o++){const a=this._bootstrapEvent(this._rootPointerEvent,i[o]);a.type+=r,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}_onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const n=this._normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const o=this._bootstrapEvent(this._rootPointerEvent,n[r]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const n=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(n)}setTargetElement(e){this._removeEvents(),this.domElement=e,Rs.domElement=e,this._addEvents()}_addEvents(){if(this._eventsAdded||!this.domElement)return;Rs.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this._onPointerMove,!0),this.domElement.addEventListener("pointerdown",this._onPointerDown,!0),this.domElement.addEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this._onPointerOverOut,!0),globalThis.addEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this._onPointerMove,!0),this.domElement.addEventListener("mousedown",this._onPointerDown,!0),this.domElement.addEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this._onPointerOverOut,!0),globalThis.addEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this._onPointerDown,!0),this.domElement.addEventListener("touchend",this._onPointerUp,!0),this.domElement.addEventListener("touchmove",this._onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this._eventsAdded=!0}_removeEvents(){if(!this._eventsAdded||!this.domElement)return;Rs.removeTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction="")),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this._onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this._onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this._onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this._onPointerMove,!0),this.domElement.removeEventListener("mousedown",this._onPointerDown,!0),this.domElement.removeEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this._onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this._onPointerDown,!0),this.domElement.removeEventListener("touchend",this._onPointerUp,!0),this.domElement.removeEventListener("touchmove",this._onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this._eventsAdded=!1}mapPositionToPoint(e,n,r){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},o=1/this.resolution;e.x=(n-i.left)*(this.domElement.width/i.width)*o,e.y=(r-i.top)*(this.domElement.height/i.height)*o}_normalizeToPointerData(e){const n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,i=e.changedTouches.length;r<i;r++){const o=e.changedTouches[r];typeof o.button>"u"&&(o.button=0),typeof o.buttons>"u"&&(o.buttons=1),typeof o.isPrimary>"u"&&(o.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,o.type=e.type,n.push(o)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=Gfe),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,n.push(r)}else n.push(e);return n}normalizeWheelEvent(e){const n=this._rootWheelEvent;return this._transferMouseData(n,e),n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ,n.deltaMode=e.deltaMode,this.mapPositionToPoint(n.screen,e.clientX,e.clientY),n.global.copyFrom(n.screen),n.offset.copyFrom(n.screen),n.nativeEvent=e,n.type=e.type,n}_bootstrapEvent(e,n){return e.originalEvent=null,e.nativeEvent=n,e.pointerId=n.pointerId,e.width=n.width,e.height=n.height,e.isPrimary=n.isPrimary,e.pointerType=n.pointerType,e.pressure=n.pressure,e.tangentialPressure=n.tangentialPressure,e.tiltX=n.tiltX,e.tiltY=n.tiltY,e.twist=n.twist,this._transferMouseData(e,n),this.mapPositionToPoint(e.screen,n.clientX,n.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=n.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=Hfe[e.type]||e.type),e}_transferMouseData(e,n){e.isTrusted=n.isTrusted,e.srcElement=n.srcElement,e.timeStamp=performance.now(),e.type=n.type,e.altKey=n.altKey,e.button=n.button,e.buttons=n.buttons,e.client.x=n.clientX,e.client.y=n.clientY,e.ctrlKey=n.ctrlKey,e.metaKey=n.metaKey,e.movement.x=n.movementX,e.movement.y=n.movementY,e.page.x=n.pageX,e.page.y=n.pageY,e.relatedTarget=null,e.shiftKey=n.shiftKey}};aE.extension={name:"events",type:[V.WebGLSystem,V.CanvasSystem,V.WebGPUSystem],priority:-1};aE.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let Ok=aE;const Vfe={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,get interactive(){return this.eventMode==="dynamic"||this.eventMode==="static"},set interactive(t){this.eventMode=t?"static":"passive"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Ok.defaultEventMode},set eventMode(t){this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof n=="object"?n.signal:void 0,o=typeof n=="object"?n.once===!0:!1,s=typeof e=="function"?void 0:e;t=r?`${t}capture`:t;const a=typeof e=="function"?e:e.handleEvent,l=this;i&&i.addEventListener("abort",()=>{l.off(t,a,s)}),o?l.once(t,a,s):l.on(t,a,s)},removeEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Vd))throw new Error("Container cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}},Rk={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},zfe=["in vec2 vBlurTexCoords[%size%];","uniform sampler2D uTexture;","out vec4 finalColor;","void main(void)","{","    finalColor = vec4(0.0);","    %blur%","}"].join(`
`);function jfe(t){const e=Rk[t],n=e.length;let r=zfe,i="";const o="finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;";let s;for(let a=0;a<t;a++){let l=o.replace("%index%",a.toString());s=a,a>=n&&(s=t-a-1),l=l.replace("%value%",e[s].toString()),i+=l,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}const Wfe=`
    in vec2 aPosition;

    uniform float uStrength;

    out vec2 vBlurTexCoords[%size%];

    uniform vec4 uInputSize;
    uniform vec4 uOutputFrame;
    uniform vec4 uOutputTexture;

    vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;

    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

    vec2 filterTextureCoord( void )
    {
        return aPosition * (uOutputFrame.zw * uInputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        float pixelStrength = uInputSize.%dimension% * uStrength;

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function Yfe(t,e){const n=Math.ceil(t/2);let r=Wfe,i="",o;e?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);";for(let s=0;s<t;s++){let a=o.replace("%index%",s.toString());a=a.replace("%sampleIndex%",`${s-(n-1)}.0`),i+=a,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r=r.replace("%dimension%",e?"z":"w"),r}function Xfe(t,e){const n=Yfe(e,t),r=jfe(e);return kl.from({vertex:n,fragment:r,name:`blur-${t?"horizontal":"vertical"}-pass-filter`})}var Kfe=`

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlurUniforms {
  uStrength:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    %blur-struct%
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}


@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {

  let filteredCord = filterTextureCoord(aPosition);

  let pixelStrength = gfu.uInputSize.%dimension% * blurUniforms.uStrength;

  return VSOutput(
   filterVertexPosition(aPosition),
    %blur-vertex-out%
  );
}

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  %blur-fragment-in%
) -> @location(0) vec4<f32> {

    var   finalColor = vec4(0.0);

    %blur-sampling%

    return finalColor;
}`;function qfe(t,e){const n=Rk[e],r=n.length,i=[],o=[],s=[];for(let f=0;f<e;f++){i[f]=`@location(${f}) offset${f}: vec2<f32>,`,t?o[f]=`filteredCord + vec2(${f-r+1} * pixelStrength, 0.0),`:o[f]=`filteredCord + vec2(0.0, ${f-r+1} * pixelStrength),`;const d=f<r?f:e-f-1,h=n[d].toString();s[f]=`finalColor += textureSample(uTexture, uSampler, offset${f}) * ${h};`}const a=i.join(`
`),l=o.join(`
`),u=s.join(`
`),c=Kfe.replace("%blur-struct%",a).replace("%blur-vertex-out%",l).replace("%blur-fragment-in%",a).replace("%blur-sampling%",u).replace("%dimension%",t?"z":"w");return da.from({vertex:{source:c,entryPoint:"mainVertex"},fragment:{source:c,entryPoint:"mainFragment"}})}const Mk=class Dk extends Hw{constructor(e){e={...Dk.defaultOptions,...e};const n=Xfe(e.horizontal,e.kernelSize),r=qfe(e.horizontal,e.kernelSize);super({glProgram:n,gpuProgram:r,resources:{blurUniforms:{uStrength:{value:0,type:"f32"}}},...e}),this.horizontal=e.horizontal,this._quality=0,this.quality=e.quality,this.blur=e.strength,this._uniforms=this.resources.blurUniforms.uniforms}apply(e,n,r,i){if(this._uniforms.uStrength=this.strength/this.passes,this.passes===1)e.applyFilter(this,n,r,i);else{const o=un.getSameSizeTexture(n);let s=n,a=o;this._state.blend=!1;const l=e.renderer.type===Kr.WEBGPU;for(let u=0;u<this.passes-1;u++){e.applyFilter(this,s,a,u===0?!0:l);const c=a;a=s,s=c}this._state.blend=!0,e.applyFilter(this,s,r,i),un.returnTexture(o)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}};Mk.defaultOptions={strength:8,quality:4,kernelSize:5};let $v=Mk;class Zfe extends Hw{constructor(...e){let n=e[0]??{};typeof n=="number"&&(Fe(rt,"BlurFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }"),n={strength:n},e[1]!==void 0&&(n.quality=e[1]),e[2]!==void 0&&(n.resolution=e[2]||"inherit"),e[3]!==void 0&&(n.kernelSize=e[3])),n={...$v.defaultOptions,...n};const{strength:r,strengthX:i,strengthY:o,quality:s,...a}=n;super({...a,compatibleRenderers:Kr.BOTH,resources:{}}),this._repeatEdgePixels=!1,this.blurXFilter=new $v({horizontal:!0,...n}),this.blurYFilter=new $v({horizontal:!1,...n}),this.quality=s,this.strengthX=i??r,this.strengthY=o??r,this.repeatEdgePixels=!1}apply(e,n,r,i){const o=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(o&&s){const a=un.getSameSizeTexture(n);this.blurXFilter.blendMode="normal",this.blurXFilter.apply(e,n,a,!0),this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(e,a,r,i),un.returnTexture(a)}else s?(this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(e,n,r,i)):(this.blurXFilter.blendMode=this.blendMode,this.blurXFilter.apply(e,n,r,i))}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.blur),Math.abs(this.blurYFilter.blur))*2}get strength(){if(this.strengthX!==this.strengthY)throw new Error("BlurFilter's strengthX and strengthY are different");return this.strengthX}set strength(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get strengthX(){return this.blurXFilter.blur}set strengthX(e){this.blurXFilter.blur=e,this.updatePadding()}get strengthY(){return this.blurYFilter.blur}set strengthY(e){this.blurYFilter.blur=e,this.updatePadding()}get blur(){return Fe("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength}set blur(e){Fe("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength=e}get blurX(){return Fe("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX}set blurX(e){Fe("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX=e}get blurY(){return Fe("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY}set blurY(e){Fe("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}Zfe.defaultOptions={strength:8,quality:4,kernelSize:5};class Bk{constructor(e){this._renderer=e}push(e,n,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"filter",canBundle:!1,action:"pushFilter",container:n,filterEffect:e})}pop(e,n,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}execute(e){e.action==="pushFilter"?this._renderer.filter.push(e):e.action==="popFilter"&&this._renderer.filter.pop()}destroy(){this._renderer=null}}Bk.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"filter"};function Jfe(t,e){e.clear();const n=e.matrix;for(let r=0;r<t.length;r++){const i=t[r];i.globalDisplayStatus<7||(e.matrix=i.worldTransform,e.addBounds(i.bounds))}return e.matrix=n,e}const Qfe=new zd({attributes:{aPosition:{buffer:new Float32Array([0,0,1,0,1,1,0,1]),format:"float32x2",stride:2*4,offset:0}},indexBuffer:new Uint32Array([0,1,2,0,2,3])});class ede{constructor(){this.skip=!1,this.inputTexture=null,this.backTexture=null,this.filters=null,this.bounds=new Vn,this.container=null,this.blendRequired=!1,this.outputRenderSurface=null,this.globalFrame={x:0,y:0,width:0,height:0}}}class kk{constructor(e){this._filterStackIndex=0,this._filterStack=[],this._filterGlobalUniforms=new gr({uInputSize:{value:new Float32Array(4),type:"vec4<f32>"},uInputPixel:{value:new Float32Array(4),type:"vec4<f32>"},uInputClamp:{value:new Float32Array(4),type:"vec4<f32>"},uOutputFrame:{value:new Float32Array(4),type:"vec4<f32>"},uGlobalFrame:{value:new Float32Array(4),type:"vec4<f32>"},uOutputTexture:{value:new Float32Array(4),type:"vec4<f32>"}}),this._globalFilterBindGroup=new Xo({}),this.renderer=e}get activeBackTexture(){var e;return(e=this._activeFilterData)==null?void 0:e.backTexture}push(e){const n=this.renderer,r=e.filterEffect.filters,i=this._pushFilterData();i.skip=!1,i.filters=r,i.container=e.container,i.outputRenderSurface=n.renderTarget.renderSurface;const o=n.renderTarget.renderTarget.colorTexture.source,s=o.resolution,a=o.antialias;if(r.length===0){i.skip=!0;return}const l=i.bounds;if(this._calculateFilterArea(e,l),this._calculateFilterBounds(i,n.renderTarget.rootViewPort,a,s,1),i.skip)return;const u=this._getPreviousFilterData(),c=this._findFilterResolution(s);let f=0,d=0;u&&(f=u.bounds.minX,d=u.bounds.minY),this._calculateGlobalFrame(i,f,d,c,o.width,o.height),this._setupFilterTextures(i,l,n,u)}generateFilteredTexture({texture:e,filters:n}){const r=this._pushFilterData();this._activeFilterData=r,r.skip=!1,r.filters=n;const i=e.source,o=i.resolution,s=i.antialias;if(n.length===0)return r.skip=!0,e;const a=r.bounds;if(a.addRect(e.frame),this._calculateFilterBounds(r,a.rectangle,s,o,0),r.skip)return e;const l=o,u=0,c=0;this._calculateGlobalFrame(r,u,c,l,i.width,i.height),r.outputRenderSurface=un.getOptimalTexture(a.width,a.height,r.resolution,r.antialias),r.backTexture=Ae.EMPTY,r.inputTexture=e,this.renderer.renderTarget.finishRenderPass(),this._applyFiltersToTexture(r,!0);const d=r.outputRenderSurface;return d.source.alphaMode="premultiplied-alpha",d}pop(){const e=this.renderer,n=this._popFilterData();n.skip||(e.globalUniforms.pop(),e.renderTarget.finishRenderPass(),this._activeFilterData=n,this._applyFiltersToTexture(n,!1),n.blendRequired&&un.returnTexture(n.backTexture),un.returnTexture(n.inputTexture))}getBackTexture(e,n,r){const i=e.colorTexture.source._resolution,o=un.getOptimalTexture(n.width,n.height,i,!1);let s=n.minX,a=n.minY;r&&(s-=r.minX,a-=r.minY),s=Math.floor(s*i),a=Math.floor(a*i);const l=Math.ceil(n.width*i),u=Math.ceil(n.height*i);return this.renderer.renderTarget.copyToTexture(e,o,{x:s,y:a},{width:l,height:u},{x:0,y:0}),o}applyFilter(e,n,r,i){const o=this.renderer,s=this._activeFilterData,l=s.outputRenderSurface===r,u=o.renderTarget.rootRenderTarget.colorTexture.source._resolution,c=this._findFilterResolution(u);let f=0,d=0;if(l){const h=this._findPreviousFilterOffset();f=h.x,d=h.y}this._updateFilterUniforms(n,r,s,f,d,c,l,i),this._setupBindGroupsAndRender(e,n,o)}calculateSpriteMatrix(e,n){const r=this._activeFilterData,i=e.set(r.inputTexture._source.width,0,0,r.inputTexture._source.height,r.bounds.minX,r.bounds.minY),o=n.worldTransform.copyTo(Oe.shared),s=n.renderGroup||n.parentRenderGroup;return s&&s.cacheToLocalTransform&&o.prepend(s.cacheToLocalTransform),o.invert(),i.prepend(o),i.scale(1/n.texture.orig.width,1/n.texture.orig.height),i.translate(n.anchor.x,n.anchor.y),i}destroy(){}_setupBindGroupsAndRender(e,n,r){if(r.renderPipes.uniformBatch){const i=r.renderPipes.uniformBatch.getUboResource(this._filterGlobalUniforms);this._globalFilterBindGroup.setResource(i,0)}else this._globalFilterBindGroup.setResource(this._filterGlobalUniforms,0);this._globalFilterBindGroup.setResource(n.source,1),this._globalFilterBindGroup.setResource(n.source.style,2),e.groups[0]=this._globalFilterBindGroup,r.encoder.draw({geometry:Qfe,shader:e,state:e._state,topology:"triangle-list"}),r.type===Kr.WEBGL&&r.renderTarget.finishRenderPass()}_setupFilterTextures(e,n,r,i){if(e.backTexture=Ae.EMPTY,e.blendRequired){r.renderTarget.finishRenderPass();const o=r.renderTarget.getRenderTarget(e.outputRenderSurface);e.backTexture=this.getBackTexture(o,n,i==null?void 0:i.bounds)}e.inputTexture=un.getOptimalTexture(n.width,n.height,e.resolution,e.antialias),r.renderTarget.bind(e.inputTexture,!0),r.globalUniforms.push({offset:n})}_calculateGlobalFrame(e,n,r,i,o,s){const a=e.globalFrame;a.x=n*i,a.y=r*i,a.width=o*i,a.height=s*i}_updateFilterUniforms(e,n,r,i,o,s,a,l){const u=this._filterGlobalUniforms.uniforms,c=u.uOutputFrame,f=u.uInputSize,d=u.uInputPixel,h=u.uInputClamp,p=u.uGlobalFrame,y=u.uOutputTexture;a?(c[0]=r.bounds.minX-i,c[1]=r.bounds.minY-o):(c[0]=0,c[1]=0),c[2]=e.frame.width,c[3]=e.frame.height,f[0]=e.source.width,f[1]=e.source.height,f[2]=1/f[0],f[3]=1/f[1],d[0]=e.source.pixelWidth,d[1]=e.source.pixelHeight,d[2]=1/d[0],d[3]=1/d[1],h[0]=.5*d[2],h[1]=.5*d[3],h[2]=e.frame.width*f[2]-.5*d[2],h[3]=e.frame.height*f[3]-.5*d[3];const v=this.renderer.renderTarget.rootRenderTarget.colorTexture;p[0]=i*s,p[1]=o*s,p[2]=v.source.width*s,p[3]=v.source.height*s,n instanceof Ae&&(n.source.resource=null);const g=this.renderer.renderTarget.getRenderTarget(n);this.renderer.renderTarget.bind(n,!!l),n instanceof Ae?(y[0]=n.frame.width,y[1]=n.frame.height):(y[0]=g.width,y[1]=g.height),y[2]=g.isRoot?-1:1,this._filterGlobalUniforms.update()}_findFilterResolution(e){let n=this._filterStackIndex-1;for(;n>0&&this._filterStack[n].skip;)--n;return n>0&&this._filterStack[n].inputTexture?this._filterStack[n].inputTexture.source._resolution:e}_findPreviousFilterOffset(){let e=0,n=0,r=this._filterStackIndex;for(;r>0;){r--;const i=this._filterStack[r];if(!i.skip){e=i.bounds.minX,n=i.bounds.minY;break}}return{x:e,y:n}}_calculateFilterArea(e,n){if(e.renderables?Jfe(e.renderables,n):e.filterEffect.filterArea?(n.clear(),n.addRect(e.filterEffect.filterArea),n.applyMatrix(e.container.worldTransform)):e.container.getFastGlobalBounds(!0,n),e.container){const i=(e.container.renderGroup||e.container.parentRenderGroup).cacheToLocalTransform;i&&n.applyMatrix(i)}}_applyFiltersToTexture(e,n){const r=e.inputTexture,i=e.bounds,o=e.filters;if(this._globalFilterBindGroup.setResource(r.source.style,2),this._globalFilterBindGroup.setResource(e.backTexture.source,3),o.length===1)o[0].apply(this,r,e.outputRenderSurface,n);else{let s=e.inputTexture;const a=un.getOptimalTexture(i.width,i.height,s.source._resolution,!1);let l=a,u=0;for(u=0;u<o.length-1;++u){o[u].apply(this,s,l,!0);const f=s;s=l,l=f}o[u].apply(this,s,e.outputRenderSurface,n),un.returnTexture(a)}}_calculateFilterBounds(e,n,r,i,o){var y;const s=this.renderer,a=e.bounds,l=e.filters;let u=1/0,c=0,f=!0,d=!1,h=!1,p=!0;for(let v=0;v<l.length;v++){const g=l[v];if(u=Math.min(u,g.resolution==="inherit"?i:g.resolution),c+=g.padding,g.antialias==="off"?f=!1:g.antialias==="inherit"&&f&&(f=r),g.clipToViewport||(p=!1),!!!(g.compatibleRenderers&s.type)){h=!1;break}if(g.blendRequired&&!(((y=s.backBuffer)==null?void 0:y.useBackBuffer)??!0)){Ne("Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options."),h=!1;break}h=g.enabled||h,d||(d=g.blendRequired)}if(!h){e.skip=!0;return}if(p&&a.fitBounds(0,n.width/i,0,n.height/i),a.scale(u).ceil().scale(1/u).pad((c|0)*o),!a.isPositive){e.skip=!0;return}e.antialias=f,e.resolution=u,e.blendRequired=d}_popFilterData(){return this._filterStackIndex--,this._filterStack[this._filterStackIndex]}_getPreviousFilterData(){let e,n=this._filterStackIndex-1;for(;n>1&&(n--,e=this._filterStack[n],!!e.skip););return e}_pushFilterData(){let e=this._filterStack[this._filterStackIndex];return e||(e=this._filterStack[this._filterStackIndex]=new ede),this._filterStackIndex++,e}}kk.extension={type:[V.WebGLSystem,V.WebGPUSystem],name:"filter"};var tde=`in vec2 vMaskCoord;
in vec2 vTextureCoord;

uniform sampler2D uTexture;
uniform sampler2D uMaskTexture;

uniform float uAlpha;
uniform vec4 uMaskClamp;
uniform float uInverse;

out vec4 finalColor;

void main(void)
{
    float clip = step(3.5,
        step(uMaskClamp.x, vMaskCoord.x) +
        step(uMaskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, uMaskClamp.z) +
        step(vMaskCoord.y, uMaskClamp.w));

    // TODO look into why this is needed
    float npmAlpha = uAlpha;
    vec4 original = texture(uTexture, vTextureCoord);
    vec4 masky = texture(uMaskTexture, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    float a = alphaMul * masky.r * npmAlpha * clip;

    if (uInverse == 1.0) {
        a = 1.0 - a;
    }

    finalColor = original * a;
}
`,nde=`in vec2 aPosition;

out vec2 vTextureCoord;
out vec2 vMaskCoord;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;
uniform mat3 uFilterMatrix;

vec4 filterVertexPosition(  vec2 aPosition )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
       
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord(  vec2 aPosition )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( vec2 aPosition )
{
    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}   

void main(void)
{
    gl_Position = filterVertexPosition(aPosition);
    vTextureCoord = filterTextureCoord(aPosition);
    vMaskCoord = getFilterCoord(aPosition);
}
`,KT=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct MaskUniforms {
  uFilterMatrix:mat3x3<f32>,
  uMaskClamp:vec4<f32>,
  uAlpha:f32,
  uInverse:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;
@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) filterUv : vec2<f32>,
};

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}

@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>,
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
   getFilterCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) filterUv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var maskClamp = filterUniforms.uMaskClamp;
    var uAlpha = filterUniforms.uAlpha;

    var clip = step(3.5,
      step(maskClamp.x, filterUv.x) +
      step(maskClamp.y, filterUv.y) +
      step(filterUv.x, maskClamp.z) +
      step(filterUv.y, maskClamp.w));

    var mask = textureSample(uMaskTexture, uSampler, filterUv);
    var source = textureSample(uTexture, uSampler, uv);
    var alphaMul = 1.0 - uAlpha * (1.0 - mask.a);

    var a: f32 = alphaMul * mask.r * uAlpha * clip;

    if (filterUniforms.uInverse == 1.0) {
        a = 1.0 - a;
    }

    return source * a;
}
`;class rde extends Hw{constructor(e){const{sprite:n,...r}=e,i=new c8(n.texture),o=new gr({uFilterMatrix:{value:new Oe,type:"mat3x3<f32>"},uMaskClamp:{value:i.uClampFrame,type:"vec4<f32>"},uAlpha:{value:1,type:"f32"},uInverse:{value:e.inverse?1:0,type:"f32"}}),s=da.from({vertex:{source:KT,entryPoint:"mainVertex"},fragment:{source:KT,entryPoint:"mainFragment"}}),a=kl.from({vertex:nde,fragment:tde,name:"mask-filter"});super({...r,gpuProgram:s,glProgram:a,clipToViewport:!1,resources:{filterUniforms:o,uMaskTexture:n.texture.source}}),this.sprite=n,this._textureMatrix=i}set inverse(e){this.resources.filterUniforms.uniforms.uInverse=e?1:0}get inverse(){return this.resources.filterUniforms.uniforms.uInverse===1}apply(e,n,r,i){this._textureMatrix.texture=this.sprite.texture,e.calculateSpriteMatrix(this.resources.filterUniforms.uniforms.uFilterMatrix,this.sprite).prepend(this._textureMatrix.mapCoord),this.resources.uMaskTexture=this.sprite.texture.source,e.applyFilter(this,n,r,i)}}class w0 extends Hd{constructor(e){e instanceof ui&&(e={context:e});const{context:n,roundPixels:r,...i}=e||{};super({label:"Graphics",...i}),this.renderPipeId="graphics",n?this._context=n:this._context=this._ownedContext=new ui,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=r??!1}set context(e){e!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=e,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(e){return this._context.containsPoint(e)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||(e==null?void 0:e.context)===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_callContextMethod(e,n){return this.context[e](...n),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new w0(this._context.clone()):(this._ownedContext=null,new w0(this._context))}lineStyle(e,n,r){Fe(rt,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const i={};return e&&(i.width=e),n&&(i.color=n),r&&(i.alpha=r),this.context.strokeStyle=i,this}beginFill(e,n){Fe(rt,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const r={};return e!==void 0&&(r.color=e),n!==void 0&&(r.alpha=n),this.context.fillStyle=r,this}endFill(){Fe(rt,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==ui.defaultStrokeStyle.width||e.color!==ui.defaultStrokeStyle.color||e.alpha!==ui.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return Fe(rt,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return Fe(rt,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return Fe(rt,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return Fe(rt,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return Fe(rt,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return Fe(rt,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}const Nk=class Fk extends zd{constructor(...e){let n=e[0]??{};n instanceof Float32Array&&(Fe(rt,"use new MeshGeometry({ positions, uvs, indices }) instead"),n={positions:n,uvs:e[1],indices:e[2]}),n={...Fk.defaultOptions,...n};const r=n.positions||new Float32Array([0,0,1,0,1,1,0,1]);let i=n.uvs;i||(n.positions?i=new Float32Array(r.length):i=new Float32Array([0,0,1,0,1,1,0,1]));const o=n.indices||new Uint32Array([0,1,2,0,2,3]),s=n.shrinkBuffersToFit,a=new zr({data:r,label:"attribute-mesh-positions",shrinkToFit:s,usage:it.VERTEX|it.COPY_DST}),l=new zr({data:i,label:"attribute-mesh-uvs",shrinkToFit:s,usage:it.VERTEX|it.COPY_DST}),u=new zr({data:o,label:"index-mesh-buffer",shrinkToFit:s,usage:it.INDEX|it.COPY_DST});super({attributes:{aPosition:{buffer:a,format:"float32x2",stride:2*4,offset:0},aUV:{buffer:l,format:"float32x2",stride:2*4,offset:0}},indexBuffer:u,topology:n.topology}),this.batchMode="auto"}get positions(){return this.attributes.aPosition.buffer.data}set positions(e){this.attributes.aPosition.buffer.data=e}get uvs(){return this.attributes.aUV.buffer.data}set uvs(e){this.attributes.aUV.buffer.data=e}get indices(){return this.indexBuffer.data}set indices(e){this.indexBuffer.data=e}};Nk.defaultOptions={topology:"triangle-list",shrinkBuffersToFit:!1};let lE=Nk;class ide{constructor({matrix:e,observer:n}={}){this.dirty=!0,this._matrix=e??new Oe,this.observer=n,this.position=new Jt(this,0,0),this.scale=new Jt(this,1,1),this.pivot=new Jt(this,0,0),this.skew=new Jt(this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1}get matrix(){const e=this._matrix;return this.dirty&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this.dirty=!1),e}_onUpdate(e){var n;this.dirty=!0,e===this.skew&&this.updateSkew(),(n=this.observer)==null||n._onUpdate(this)}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this.dirty=!0}toString(){return`[pixi.js/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}setFromMatrix(e){e.decompose(this),this.dirty=!0}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this.skew))}}const Lk=class Rp extends Hd{constructor(...e){let n=e[0]||{};n instanceof Ae&&(n={texture:n}),e.length>1&&(Fe(rt,"use new TilingSprite({ texture, width:100, height:100 }) instead"),n.width=e[1],n.height=e[2]),n={...Rp.defaultOptions,...n};const{texture:r,anchor:i,tilePosition:o,tileScale:s,tileRotation:a,width:l,height:u,applyAnchorToTexture:c,roundPixels:f,...d}=n??{};super({label:"TilingSprite",...d}),this.renderPipeId="tilingSprite",this.batched=!0,this.allowChildren=!1,this._anchor=new Jt({_onUpdate:()=>{this.onViewUpdate()}}),this.applyAnchorToTexture=c,this.texture=r,this._width=l??r.width,this._height=u??r.height,this._tileTransform=new ide({observer:{_onUpdate:()=>this.onViewUpdate()}}),i&&(this.anchor=i),this.tilePosition=o,this.tileScale=s,this.tileRotation=a,this.roundPixels=f??!1}static from(e,n={}){return typeof e=="string"?new Rp({texture:xt.get(e),...n}):new Rp({texture:e,...n})}get uvRespectAnchor(){return Ne("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),this.applyAnchorToTexture}set uvRespectAnchor(e){Ne("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),this.applyAnchorToTexture=e}get clampMargin(){return this._texture.textureMatrix.clampMargin}set clampMargin(e){this._texture.textureMatrix.clampMargin=e}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get tilePosition(){return this._tileTransform.position}set tilePosition(e){this._tileTransform.position.copyFrom(e)}get tileScale(){return this._tileTransform.scale}set tileScale(e){typeof e=="number"?this._tileTransform.scale.set(e):this._tileTransform.scale.copyFrom(e)}set tileRotation(e){this._tileTransform.rotation=e}get tileRotation(){return this._tileTransform.rotation}get tileTransform(){return this._tileTransform}set texture(e){e||(e=Ae.EMPTY);const n=this._texture;n!==e&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this.onViewUpdate())}get texture(){return this._texture}set width(e){this._width=e,this.onViewUpdate()}get width(){return this._width}set height(e){this._height=e,this.onViewUpdate()}get height(){return this._height}setSize(e,n){typeof e=="object"&&(n=e.height??e.width,e=e.width),this._width=e,this._height=n??e,this.onViewUpdate()}getSize(e){return e||(e={}),e.width=this._width,e.height=this._height,e}updateBounds(){const e=this._bounds,n=this._anchor,r=this._width,i=this._height;e.minX=-n._x*r,e.maxX=e.minX+r,e.minY=-n._y*i,e.maxY=e.minY+i}containsPoint(e){const n=this._width,r=this._height,i=-n*this._anchor._x;let o=0;return e.x>=i&&e.x<=i+n&&(o=-r*this._anchor._y,e.y>=o&&e.y<=o+r)}destroy(e=!1){if(super.destroy(e),this._anchor=null,this._tileTransform=null,this._bounds=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(r)}this._texture=null}};Lk.defaultOptions={texture:Ae.EMPTY,anchor:{x:0,y:0},tilePosition:{x:0,y:0},tileScale:{x:1,y:1},tileRotation:0,applyAnchorToTexture:!1};let IPe=Lk;class ode extends Hd{constructor(e,n){const{text:r,resolution:i,style:o,anchor:s,width:a,height:l,roundPixels:u,...c}=e;super({...c}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=n,this.text=r??"",this.style=o,this.resolution=i??null,this.allowChildren=!1,this._anchor=new Jt({_onUpdate:()=>{this.onViewUpdate()}}),s&&(this.anchor=s),this.roundPixels=u??!1,a!==void 0&&(this.width=a),l!==void 0&&(this.height=l)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}set text(e){e=e.toString(),this._text!==e&&(this._text=e,this.onViewUpdate())}get text(){return this._text}set resolution(e){this._autoResolution=e===null,this._resolution=e,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(e){var n;e||(e={}),(n=this._style)==null||n.off("update",this.onViewUpdate,this),e instanceof this._styleClass?this._style=e:this._style=new this._styleClass(e),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(e){this._setWidth(e,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(e){this._setHeight(e,this.bounds.height)}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this.bounds.width,e.height=Math.abs(this.scale.y)*this.bounds.height,e}setSize(e,n){typeof e=="object"?(n=e.height??e.width,e=e.width):n??(n=e),e!==void 0&&this._setWidth(e,this.bounds.width),n!==void 0&&this._setHeight(n,this.bounds.height)}containsPoint(e){const n=this.bounds.width,r=this.bounds.height,i=-n*this.anchor.x;let o=0;return e.x>=i&&e.x<=i+n&&(o=-r*this.anchor.y,e.y>=o&&e.y<=o+r)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}destroy(e=!1){super.destroy(e),this.owner=null,this._bounds=null,this._anchor=null,(typeof e=="boolean"?e:e!=null&&e.style)&&this._style.destroy(e),this._style=null,this._text=null}}function sde(t,e){let n=t[0]??{};return(typeof n=="string"||t[1])&&(Fe(rt,`use new ${e}({ text: "hi!", style }) instead`),n={text:n,style:t[1]}),n}let wa=null,$o=null;function ade(t,e){wa||(wa=je.get().createCanvas(256,128),$o=wa.getContext("2d",{willReadFrequently:!0}),$o.globalCompositeOperation="copy",$o.globalAlpha=1),(wa.width<t||wa.height<e)&&(wa.width=Vu(t),wa.height=Vu(e))}function qT(t,e,n){for(let r=0,i=4*n*e;r<e;++r,i+=4)if(t[i+3]!==0)return!1;return!0}function ZT(t,e,n,r,i){const o=4*e;for(let s=r,a=r*o+4*n;s<=i;++s,a+=o)if(t[a+3]!==0)return!1;return!0}function lde(...t){let e=t[0];e.canvas||(e={canvas:t[0],resolution:t[1]});const{canvas:n}=e,r=Math.min(e.resolution??1,1),i=e.width??n.width,o=e.height??n.height;let s=e.output;if(ade(i,o),!$o)throw new TypeError("Failed to get canvas 2D context");$o.drawImage(n,0,0,i,o,0,0,i*r,o*r);const l=$o.getImageData(0,0,i,o).data;let u=0,c=0,f=i-1,d=o-1;for(;c<o&&qT(l,i,c);)++c;if(c===o)return vt.EMPTY;for(;qT(l,i,d);)--d;for(;ZT(l,i,u,c,d);)++u;for(;ZT(l,i,f,c,d);)--f;return++f,++d,$o.globalCompositeOperation="source-over",$o.strokeRect(u,c,f-u,d-c),$o.globalCompositeOperation="copy",s??(s=new vt),s.set(u/r,c/r,(f-u)/r,(d-c)/r),s}const JT=new vt;class ude{getCanvasAndContext(e){const{text:n,style:r,resolution:i=1}=e,o=r._getFinalPadding(),s=Ii.measureText(n||" ",r),a=Math.ceil(Math.ceil(Math.max(1,s.width)+o*2)*i),l=Math.ceil(Math.ceil(Math.max(1,s.height)+o*2)*i),u=ia.getOptimalCanvasAndContext(a,l);this._renderTextToCanvas(n,r,o,i,u);const c=r.trim?lde({canvas:u.canvas,width:a,height:l,resolution:1,output:JT}):JT.set(0,0,a,l);return{canvasAndContext:u,frame:c}}returnCanvasAndContext(e){ia.returnCanvasAndContext(e)}_renderTextToCanvas(e,n,r,i,o){var _,b,x,w;const{canvas:s,context:a}=o,l=y0(n),u=Ii.measureText(e||" ",n),c=u.lines,f=u.lineHeight,d=u.lineWidths,h=u.maxLineWidth,p=u.fontProperties,y=s.height;if(a.resetTransform(),a.scale(i,i),a.textBaseline=n.textBaseline,(_=n._stroke)!=null&&_.width){const E=n._stroke;a.lineWidth=E.width,a.miterLimit=E.miterLimit,a.lineJoin=E.join,a.lineCap=E.cap}a.font=l;let v,g;const m=n.dropShadow?2:1;for(let E=0;E<m;++E){const S=n.dropShadow&&E===0,P=S?Math.ceil(Math.max(1,y)+r*2):0,C=P*i;if(S){a.fillStyle="black",a.strokeStyle="black";const R=n.dropShadow,N=R.color,G=R.alpha;a.shadowColor=Rt.shared.setValue(N).setAlpha(G).toRgbaString();const k=R.blur*i,U=R.distance*i;a.shadowBlur=k,a.shadowOffsetX=Math.cos(R.angle)*U,a.shadowOffsetY=Math.sin(R.angle)*U+C}else{if(a.fillStyle=n._fill?b0(n._fill,a,u,r*2):null,(b=n._stroke)!=null&&b.width){const R=n._stroke.width*.5+r*2;a.strokeStyle=b0(n._stroke,a,u,R)}a.shadowColor="black"}let A=(f-p.fontSize)/2;f-p.fontSize<0&&(A=0);const T=((x=n._stroke)==null?void 0:x.width)??0;for(let R=0;R<c.length;R++)v=T/2,g=T/2+R*f+p.ascent+A,n.align==="right"?v+=h-d[R]:n.align==="center"&&(v+=(h-d[R])/2),(w=n._stroke)!=null&&w.width&&this._drawLetterSpacing(c[R],n,o,v+r,g+r-P,!0),n._fill!==void 0&&this._drawLetterSpacing(c[R],n,o,v+r,g+r-P)}}_drawLetterSpacing(e,n,r,i,o,s=!1){const{context:a}=r,l=n.letterSpacing;let u=!1;if(Ii.experimentalLetterSpacingSupported&&(Ii.experimentalLetterSpacing?(a.letterSpacing=`${l}px`,a.textLetterSpacing=`${l}px`,u=!0):(a.letterSpacing="0px",a.textLetterSpacing="0px")),l===0||u){s?a.strokeText(e,i,o):a.fillText(e,i,o);return}let c=i;const f=Ii.graphemeSegmenter(e);let d=a.measureText(e).width,h=0;for(let p=0;p<f.length;++p){const y=f[p];s?a.strokeText(y,c,o):a.fillText(y,c,o);let v="";for(let g=p+1;g<f.length;++g)v+=f[g];h=a.measureText(v).width,c+=d-h+l,d=h}}}const Af=new ude;class OPe extends ode{constructor(...e){const n=sde(e,"Text");super(n,_l),this.renderPipeId="text",n.textureStyle&&(this.textureStyle=n.textureStyle instanceof vo?n.textureStyle:new vo(n.textureStyle))}updateBounds(){const e=this._bounds,n=this._anchor;let r=0,i=0;if(this._style.trim){const{frame:o,canvasAndContext:s}=Af.getCanvasAndContext({text:this.text,style:this._style,resolution:1});Af.returnCanvasAndContext(s),r=o.width,i=o.height}else{const o=Ii.measureText(this._text,this._style);r=o.width,i=o.height}e.minX=-n._x*r,e.maxX=e.minX+r,e.minY=-n._y*i,e.maxY=e.minY+i}}const QT="http://www.w3.org/2000/svg",eP="http://www.w3.org/1999/xhtml";class $k{constructor(){this.svgRoot=document.createElementNS(QT,"svg"),this.foreignObject=document.createElementNS(QT,"foreignObject"),this.domElement=document.createElementNS(eP,"div"),this.styleElement=document.createElementNS(eP,"style");const{foreignObject:e,svgRoot:n,styleElement:r,domElement:i}=this;e.setAttribute("width","10000"),e.setAttribute("height","10000"),e.style.overflow="hidden",n.appendChild(e),e.appendChild(r),e.appendChild(i),this.image=je.get().createImage()}}let tP;function cde(t,e,n,r){r||(r=tP||(tP=new $k));const{domElement:i,styleElement:o,svgRoot:s}=r;i.innerHTML=`<style>${e.cssStyle};</style><div style='padding:0'>${t}</div>`,i.setAttribute("style","transform-origin: top left; display: inline-block"),n&&(o.textContent=n),document.body.appendChild(s);const a=i.getBoundingClientRect();s.remove();const l=e.padding*2;return{width:a.width-l,height:a.height-l}}class Uk{constructor(){this._tempState=Li.for2d(),this._didUploadHash={}}init(e){e.renderer.runners.contextChange.add(this)}contextChange(){this._didUploadHash={}}start(e,n,r){const i=e.renderer,o=this._didUploadHash[r.uid];i.shader.bind(r,o),o||(this._didUploadHash[r.uid]=!0),i.shader.updateUniformGroup(i.globalUniforms.uniformGroup),i.geometry.bind(n,r.glProgram)}execute(e,n){const r=e.renderer;this._tempState.blendMode=n.blendMode,r.state.set(this._tempState);const i=n.textures.textures;for(let o=0;o<n.textures.count;o++)r.texture.bind(i[o],o);r.geometry.draw(n.topology,n.size,n.start)}}Uk.extension={type:[V.WebGLPipesAdaptor],name:"batch"};const tp=Li.for2d();class Gk{start(e,n,r){const i=e.renderer,o=i.encoder,s=r.gpuProgram;this._shader=r,this._geometry=n,o.setGeometry(n,s),tp.blendMode="normal",i.pipeline.getPipeline(n,s,tp);const a=i.globalUniforms.bindGroup;o.resetBindGroup(1),o.setBindGroup(0,a,s)}execute(e,n){const r=this._shader.gpuProgram,i=e.renderer,o=i.encoder;if(!n.bindGroup){const l=n.textures;n.bindGroup=Yw(l.textures,l.count,i.limits.maxBatchableTextures)}tp.blendMode=n.blendMode;const s=i.bindGroup.getBindGroup(n.bindGroup,r,1),a=i.pipeline.getPipeline(this._geometry,r,tp,n.topology);n.bindGroup._touch(i.textureGC.count),o.setPipeline(a),o.renderPassEncoder.setBindGroup(1,s),o.renderPassEncoder.drawIndexed(n.size,1,n.start)}}Gk.extension={type:[V.WebGPUPipesAdaptor],name:"batch"};const uE=class Hk{constructor(e,n){var r,i;this.state=Li.for2d(),this._batchersByInstructionSet=Object.create(null),this._activeBatches=Object.create(null),this.renderer=e,this._adaptor=n,(i=(r=this._adaptor).init)==null||i.call(r,this)}static getBatcher(e){return new this._availableBatchers[e]}buildStart(e){let n=this._batchersByInstructionSet[e.uid];n||(n=this._batchersByInstructionSet[e.uid]=Object.create(null),n.default||(n.default=new Qw({maxTextures:this.renderer.limits.maxBatchableTextures}))),this._activeBatches=n,this._activeBatch=this._activeBatches.default;for(const r in this._activeBatches)this._activeBatches[r].begin()}addToBatch(e,n){if(this._activeBatch.name!==e.batcherName){this._activeBatch.break(n);let r=this._activeBatches[e.batcherName];r||(r=this._activeBatches[e.batcherName]=Hk.getBatcher(e.batcherName),r.begin()),this._activeBatch=r}this._activeBatch.add(e)}break(e){this._activeBatch.break(e)}buildEnd(e){this._activeBatch.break(e);const n=this._activeBatches;for(const r in n){const i=n[r],o=i.geometry;o.indexBuffer.setDataWithSize(i.indexBuffer,i.indexSize,!0),o.buffers[0].setDataWithSize(i.attributeBuffer.float32View,i.attributeSize,!1)}}upload(e){const n=this._batchersByInstructionSet[e.uid];for(const r in n){const i=n[r],o=i.geometry;i.dirty&&(i.dirty=!1,o.buffers[0].update(i.attributeSize*4))}}execute(e){if(e.action==="startBatch"){const n=e.batcher,r=n.geometry,i=n.shader;this._adaptor.start(this,r,i)}this._adaptor.execute(this,e)}destroy(){this.state=null,this.renderer=null,this._adaptor=null;for(const e in this._activeBatches)this._activeBatches[e].destroy();this._activeBatches=null}};uE.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"batch"};uE._availableBatchers=Object.create(null);let Vk=uE;$e.handleByMap(V.Batcher,Vk._availableBatchers);$e.add(Qw);const Tf={name:"local-uniform-bit",vertex:{header:`

            struct LocalUniforms {
                uTransformMatrix:mat3x3<f32>,
                uColor:vec4<f32>,
                uRound:f32,
            }

            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `}},fde={...Tf,vertex:{...Tf.vertex,header:Tf.vertex.header.replace("group(1)","group(2)")}},cE={name:"local-uniform-bit",vertex:{header:`

            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix = uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `}},dde={name:"texture-bit",vertex:{header:`

        struct TextureUniforms {
            uTextureMatrix:mat3x3<f32>,
        }

        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;
        `,main:`
            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
            @group(2) @binding(0) var uTexture: texture_2d<f32>;
            @group(2) @binding(1) var uSampler: sampler;


        `,main:`
            outColor = textureSample(uTexture, uSampler, vUV);
        `}},hde={name:"texture-bit",vertex:{header:`
            uniform mat3 uTextureMatrix;
        `,main:`
            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
        uniform sampler2D uTexture;


        `,main:`
            outColor = texture(uTexture, vUV);
        `}},pde=new Vn;class gde extends h0{constructor(){super(),this.filters=[new rde({sprite:new gl(Ae.EMPTY),inverse:!1,resolution:"inherit",antialias:"inherit"})]}get sprite(){return this.filters[0].sprite}set sprite(e){this.filters[0].sprite=e}get inverse(){return this.filters[0].inverse}set inverse(e){this.filters[0].inverse=e}}class zk{constructor(e){this._activeMaskStage=[],this._renderer=e}push(e,n,r){const i=this._renderer;if(i.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"pushMaskBegin",mask:e,inverse:n._maskOptions.inverse,canBundle:!1,maskedContainer:n}),e.inverse=n._maskOptions.inverse,e.renderMaskToTexture){const o=e.mask;o.includeInBuild=!0,o.collectRenderables(r,i,null),o.includeInBuild=!1}i.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"pushMaskEnd",mask:e,maskedContainer:n,inverse:n._maskOptions.inverse,canBundle:!1})}pop(e,n,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"popMaskEnd",mask:e,inverse:n._maskOptions.inverse,canBundle:!1})}execute(e){const n=this._renderer,r=e.mask.renderMaskToTexture;if(e.action==="pushMaskBegin"){const i=Hn.get(gde);if(i.inverse=e.inverse,r){e.mask.mask.measurable=!0;const o=Fw(e.mask.mask,!0,pde);e.mask.mask.measurable=!1,o.ceil();const s=n.renderTarget.renderTarget.colorTexture.source,a=un.getOptimalTexture(o.width,o.height,s._resolution,s.antialias);n.renderTarget.push(a,!0),n.globalUniforms.push({offset:o,worldColor:4294967295});const l=i.sprite;l.texture=a,l.worldTransform.tx=o.minX,l.worldTransform.ty=o.minY,this._activeMaskStage.push({filterEffect:i,maskedContainer:e.maskedContainer,filterTexture:a})}else i.sprite=e.mask.mask,this._activeMaskStage.push({filterEffect:i,maskedContainer:e.maskedContainer})}else if(e.action==="pushMaskEnd"){const i=this._activeMaskStage[this._activeMaskStage.length-1];r&&(n.type===Kr.WEBGL&&n.renderTarget.finishRenderPass(),n.renderTarget.pop(),n.globalUniforms.pop()),n.filter.push({renderPipeId:"filter",action:"pushFilter",container:i.maskedContainer,filterEffect:i.filterEffect,canBundle:!1})}else if(e.action==="popMaskEnd"){n.filter.pop();const i=this._activeMaskStage.pop();r&&un.returnTexture(i.filterTexture),Hn.return(i.filterEffect)}}destroy(){this._renderer=null,this._activeMaskStage=null}}zk.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"alphaMask"};class jk{constructor(e){this._colorStack=[],this._colorStackIndex=0,this._currentColor=0,this._renderer=e}buildStart(){this._colorStack[0]=15,this._colorStackIndex=1,this._currentColor=15}push(e,n,r){this._renderer.renderPipes.batch.break(r);const o=this._colorStack;o[this._colorStackIndex]=o[this._colorStackIndex-1]&e.mask;const s=this._colorStack[this._colorStackIndex];s!==this._currentColor&&(this._currentColor=s,r.add({renderPipeId:"colorMask",colorMask:s,canBundle:!1})),this._colorStackIndex++}pop(e,n,r){this._renderer.renderPipes.batch.break(r);const o=this._colorStack;this._colorStackIndex--;const s=o[this._colorStackIndex-1];s!==this._currentColor&&(this._currentColor=s,r.add({renderPipeId:"colorMask",colorMask:s,canBundle:!1}))}execute(e){this._renderer.colorMask.setMask(e.colorMask)}destroy(){this._colorStack=null}}jk.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"colorMask"};class Wk{constructor(e){this._maskStackHash={},this._maskHash=new WeakMap,this._renderer=e}push(e,n,r){var i;const o=e,s=this._renderer;s.renderPipes.batch.break(r),s.renderPipes.blendMode.setBlendMode(o.mask,"none",r),r.add({renderPipeId:"stencilMask",action:"pushMaskBegin",mask:e,inverse:n._maskOptions.inverse,canBundle:!1});const a=o.mask;a.includeInBuild=!0,this._maskHash.has(o)||this._maskHash.set(o,{instructionsStart:0,instructionsLength:0});const l=this._maskHash.get(o);l.instructionsStart=r.instructionSize,a.collectRenderables(r,s,null),a.includeInBuild=!1,s.renderPipes.batch.break(r),r.add({renderPipeId:"stencilMask",action:"pushMaskEnd",mask:e,inverse:n._maskOptions.inverse,canBundle:!1});const u=r.instructionSize-l.instructionsStart-1;l.instructionsLength=u;const c=s.renderTarget.renderTarget.uid;(i=this._maskStackHash)[c]??(i[c]=0)}pop(e,n,r){const i=e,o=this._renderer;o.renderPipes.batch.break(r),o.renderPipes.blendMode.setBlendMode(i.mask,"none",r),r.add({renderPipeId:"stencilMask",action:"popMaskBegin",inverse:n._maskOptions.inverse,canBundle:!1});const s=this._maskHash.get(e);for(let a=0;a<s.instructionsLength;a++)r.instructions[r.instructionSize++]=r.instructions[s.instructionsStart++];r.add({renderPipeId:"stencilMask",action:"popMaskEnd",canBundle:!1})}execute(e){var n;const r=this._renderer,i=r.renderTarget.renderTarget.uid;let o=(n=this._maskStackHash)[i]??(n[i]=0);e.action==="pushMaskBegin"?(r.renderTarget.ensureDepthStencil(),r.stencil.setStencilMode(sn.RENDERING_MASK_ADD,o),o++,r.colorMask.setMask(0)):e.action==="pushMaskEnd"?(e.inverse?r.stencil.setStencilMode(sn.INVERSE_MASK_ACTIVE,o):r.stencil.setStencilMode(sn.MASK_ACTIVE,o),r.colorMask.setMask(15)):e.action==="popMaskBegin"?(r.colorMask.setMask(0),o!==0?r.stencil.setStencilMode(sn.RENDERING_MASK_REMOVE,o):(r.renderTarget.clear(null,Ur.STENCIL),r.stencil.setStencilMode(sn.DISABLED,o)),o--):e.action==="popMaskEnd"&&(e.inverse?r.stencil.setStencilMode(sn.INVERSE_MASK_ACTIVE,o):r.stencil.setStencilMode(sn.MASK_ACTIVE,o),r.colorMask.setMask(15)),this._maskStackHash[i]=o}destroy(){this._renderer=null,this._maskStackHash=null,this._maskHash=null}}Wk.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"stencilMask"};var Mp=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Mp||{});class mde{constructor(e,n){this._lastBindBaseLocation=-1,this._lastBindCallId=-1,this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.type=n}}class Yk{constructor(e){this._gpuBuffers=Object.create(null),this._boundBufferBases=Object.create(null),this._minBaseLocation=0,this._nextBindBaseIndex=this._minBaseLocation,this._bindCallId=0,this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_gpuBuffers")}destroy(){this._renderer=null,this._gl=null,this._gpuBuffers=null,this._boundBufferBases=null}contextChange(){this._gl=this._renderer.gl,this._gpuBuffers=Object.create(null),this._maxBindings=this._renderer.limits.maxUniformBindings}getGlBuffer(e){return this._gpuBuffers[e.uid]||this.createGLBuffer(e)}bind(e){const{_gl:n}=this,r=this.getGlBuffer(e);n.bindBuffer(r.type,r.buffer)}bindBufferBase(e,n){const{_gl:r}=this;this._boundBufferBases[n]!==e&&(this._boundBufferBases[n]=e,e._lastBindBaseLocation=n,r.bindBufferBase(r.UNIFORM_BUFFER,n,e.buffer))}nextBindBase(e){this._bindCallId++,this._minBaseLocation=0,e&&(this._boundBufferBases[0]=null,this._minBaseLocation=1,this._nextBindBaseIndex<1&&(this._nextBindBaseIndex=1))}freeLocationForBufferBase(e){let n=this.getLastBindBaseLocation(e);if(n>=this._minBaseLocation)return e._lastBindCallId=this._bindCallId,n;let r=0,i=this._nextBindBaseIndex;for(;r<2;){i>=this._maxBindings&&(i=this._minBaseLocation,r++);const o=this._boundBufferBases[i];if(o&&o._lastBindCallId===this._bindCallId){i++;continue}break}return n=i,this._nextBindBaseIndex=i+1,r>=2?-1:(e._lastBindCallId=this._bindCallId,this._boundBufferBases[n]=null,n)}getLastBindBaseLocation(e){const n=e._lastBindBaseLocation;return this._boundBufferBases[n]===e?n:-1}bindBufferRange(e,n,r,i){const{_gl:o}=this;r||(r=0),n||(n=0),this._boundBufferBases[n]=null,o.bindBufferRange(o.UNIFORM_BUFFER,n||0,e.buffer,r*256,i||256)}updateBuffer(e){const{_gl:n}=this,r=this.getGlBuffer(e);if(e._updateID===r.updateID)return r;r.updateID=e._updateID,n.bindBuffer(r.type,r.buffer);const i=e.data,o=e.descriptor.usage&it.STATIC?n.STATIC_DRAW:n.DYNAMIC_DRAW;return i?r.byteLength>=i.byteLength?n.bufferSubData(r.type,0,i,0,e._updateSize/i.BYTES_PER_ELEMENT):(r.byteLength=i.byteLength,n.bufferData(r.type,i,o)):(r.byteLength=e.descriptor.size,n.bufferData(r.type,r.byteLength,o)),r}destroyAll(){const e=this._gl;for(const n in this._gpuBuffers)e.deleteBuffer(this._gpuBuffers[n].buffer);this._gpuBuffers=Object.create(null)}onBufferDestroy(e,n){const r=this._gpuBuffers[e.uid],i=this._gl;n||i.deleteBuffer(r.buffer),this._gpuBuffers[e.uid]=null}createGLBuffer(e){const{_gl:n}=this;let r=Mp.ARRAY_BUFFER;e.descriptor.usage&it.INDEX?r=Mp.ELEMENT_ARRAY_BUFFER:e.descriptor.usage&it.UNIFORM&&(r=Mp.UNIFORM_BUFFER);const i=new mde(n.createBuffer(),r);return this._gpuBuffers[e.uid]=i,e.on("destroy",this.onBufferDestroy,this),i}resetState(){this._boundBufferBases=Object.create(null)}}Yk.extension={type:[V.WebGLSystem],name:"buffer"};const fE=class Xk{constructor(e){this.supports={uint32Indices:!0,uniformBufferObject:!0,vertexArrayObject:!0,srgbTextures:!0,nonPowOf2wrapping:!0,msaa:!0,nonPowOf2mipmaps:!0},this._renderer=e,this.extensions=Object.create(null),this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this._renderer.gl=e}init(e){e={...Xk.defaultOptions,...e};let n=this.multiView=e.multiView;if(e.context&&n&&(Ne("Renderer created with both a context and multiview enabled. Disabling multiView as both cannot work together."),n=!1),n?this.canvas=je.get().createCanvas(this._renderer.canvas.width,this._renderer.canvas.height):this.canvas=this._renderer.view.canvas,e.context)this.initFromContext(e.context);else{const r=this._renderer.background.alpha<1,i=e.premultipliedAlpha??!0,o=e.antialias&&!this._renderer.backBuffer.useBackBuffer;this.createContext(e.preferWebGLVersion,{alpha:r,premultipliedAlpha:i,antialias:o,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference??"default"})}}ensureCanvasSize(e){if(!this.multiView){e!==this.canvas&&Ne("multiView is disabled, but targetCanvas is not the main canvas");return}const{canvas:n}=this;(n.width<e.width||n.height<e.height)&&(n.width=Math.max(e.width,e.width),n.height=Math.max(e.height,e.height))}initFromContext(e){this.gl=e,this.webGLVersion=e instanceof je.get().getWebGLRenderingContext()?1:2,this.getExtensions(),this.validateContext(e),this._renderer.runners.contextChange.emit(e);const n=this._renderer.view.canvas;n.addEventListener("webglcontextlost",this.handleContextLost,!1),n.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}createContext(e,n){let r;const i=this.canvas;if(e===2&&(r=i.getContext("webgl2",n)),!r&&(r=i.getContext("webgl",n),!r))throw new Error("This browser does not support WebGL. Try using the canvas renderer");this.gl=r,this.initFromContext(this.gl)}getExtensions(){const{gl:e}=this,n={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc"),rgtc:e.getExtension("EXT_texture_compression_rgtc"),loseContext:e.getExtension("WEBGL_lose_context")};if(this.webGLVersion===1)this.extensions={...n,drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear"),vertexAttribDivisorANGLE:e.getExtension("ANGLE_instanced_arrays"),srgb:e.getExtension("EXT_sRGB")};else{this.extensions={...n,colorBufferFloat:e.getExtension("EXT_color_buffer_float")};const r=e.getExtension("WEBGL_provoking_vertex");r&&r.provokingVertexWEBGL(r.FIRST_VERTEX_CONVENTION_WEBGL)}}handleContextLost(e){e.preventDefault(),this._contextLossForced&&(this._contextLossForced=!1,setTimeout(()=>{var n;this.gl.isContextLost()&&((n=this.extensions.loseContext)==null||n.restoreContext())},0))}handleContextRestored(){this.getExtensions(),this._renderer.runners.contextChange.emit(this.gl)}destroy(){var n;const e=this._renderer.view.canvas;this._renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),(n=this.extensions.loseContext)==null||n.loseContext()}forceContextLoss(){var e;(e=this.extensions.loseContext)==null||e.loseContext(),this._contextLossForced=!0}validateContext(e){const n=e.getContextAttributes();n&&!n.stencil&&Ne("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const r=this.supports,i=this.webGLVersion===2,o=this.extensions;r.uint32Indices=i||!!o.uint32ElementIndex,r.uniformBufferObject=i,r.vertexArrayObject=i||!!o.vertexArrayObject,r.srgbTextures=i||!!o.srgb,r.nonPowOf2wrapping=i,r.nonPowOf2mipmaps=i,r.msaa=i,r.uint32Indices||Ne("Provided WebGL context does not support 32 index buffer, large scenes may not render correctly")}};fE.extension={type:[V.WebGLSystem],name:"context"};fE.defaultOptions={context:null,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:void 0,preferWebGLVersion:2,multiView:!1};let vde=fE;function Kk(t,e){for(const n in t.attributes){const r=t.attributes[n],i=e[n];i?(r.format??(r.format=i.format),r.offset??(r.offset=i.offset),r.instance??(r.instance=i.instance)):Ne(`Attribute ${n} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`)}yde(t)}function yde(t){const{buffers:e,attributes:n}=t,r={},i={};for(const o in e){const s=e[o];r[s.uid]=0,i[s.uid]=0}for(const o in n){const s=n[o];r[s.buffer.uid]+=ra(s.format).stride}for(const o in n){const s=n[o];s.stride??(s.stride=r[s.buffer.uid]),s.start??(s.start=i[s.buffer.uid]),i[s.buffer.uid]+=ra(s.format).stride}}var z_=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(z_||{}),qk=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(qk||{}),ct=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ct||{});const nP={uint8x2:ct.UNSIGNED_BYTE,uint8x4:ct.UNSIGNED_BYTE,sint8x2:ct.BYTE,sint8x4:ct.BYTE,unorm8x2:ct.UNSIGNED_BYTE,unorm8x4:ct.UNSIGNED_BYTE,snorm8x2:ct.BYTE,snorm8x4:ct.BYTE,uint16x2:ct.UNSIGNED_SHORT,uint16x4:ct.UNSIGNED_SHORT,sint16x2:ct.SHORT,sint16x4:ct.SHORT,unorm16x2:ct.UNSIGNED_SHORT,unorm16x4:ct.UNSIGNED_SHORT,snorm16x2:ct.SHORT,snorm16x4:ct.SHORT,float16x2:ct.HALF_FLOAT,float16x4:ct.HALF_FLOAT,float32:ct.FLOAT,float32x2:ct.FLOAT,float32x3:ct.FLOAT,float32x4:ct.FLOAT,uint32:ct.UNSIGNED_INT,uint32x2:ct.UNSIGNED_INT,uint32x3:ct.UNSIGNED_INT,uint32x4:ct.UNSIGNED_INT,sint32:ct.INT,sint32x2:ct.INT,sint32x3:ct.INT,sint32x4:ct.INT};function _de(t){return nP[t]??nP.float32}const bde={"point-list":0,"line-list":1,"line-strip":3,"triangle-list":4,"triangle-strip":5};class Zk{constructor(e){this._geometryVaoHash=Object.create(null),this._renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this._renderer.renderableGC.addManagedHash(this,"_geometryVaoHash")}contextChange(){const e=this.gl=this._renderer.gl;if(!this._renderer.context.supports.vertexArrayObject)throw new Error("[PixiJS] Vertex Array Objects are not supported on this device");const n=this._renderer.context.extensions.vertexArrayObject;n&&(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i));const r=this._renderer.context.extensions.vertexAttribDivisorANGLE;r&&(e.drawArraysInstanced=(i,o,s,a)=>{r.drawArraysInstancedANGLE(i,o,s,a)},e.drawElementsInstanced=(i,o,s,a,l)=>{r.drawElementsInstancedANGLE(i,o,s,a,l)},e.vertexAttribDivisor=(i,o)=>r.vertexAttribDivisorANGLE(i,o)),this._activeGeometry=null,this._activeVao=null,this._geometryVaoHash=Object.create(null)}bind(e,n){const r=this.gl;this._activeGeometry=e;const i=this.getVao(e,n);this._activeVao!==i&&(this._activeVao=i,r.bindVertexArray(i)),this.updateBuffers()}resetState(){this.unbind()}updateBuffers(){const e=this._activeGeometry,n=this._renderer.buffer;for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];n.updateBuffer(i)}}checkCompatibility(e,n){const r=e.attributes,i=n._attributeData;for(const o in i)if(!r[o])throw new Error(`shader and geometry incompatible, geometry missing the "${o}" attribute`)}getSignature(e,n){const r=e.attributes,i=n._attributeData,o=["g",e.uid];for(const s in r)i[s]&&o.push(s,i[s].location);return o.join("-")}getVao(e,n){var r;return((r=this._geometryVaoHash[e.uid])==null?void 0:r[n._key])||this.initGeometryVao(e,n)}initGeometryVao(e,n,r=!0){const i=this._renderer.gl,o=this._renderer.buffer;this._renderer.shader._getProgramData(n),this.checkCompatibility(e,n);const s=this.getSignature(e,n);this._geometryVaoHash[e.uid]||(this._geometryVaoHash[e.uid]=Object.create(null),e.on("destroy",this.onGeometryDestroy,this));const a=this._geometryVaoHash[e.uid];let l=a[s];if(l)return a[n._key]=l,l;Kk(e,n._attributeData);const u=e.buffers;l=i.createVertexArray(),i.bindVertexArray(l);for(let c=0;c<u.length;c++){const f=u[c];o.bind(f)}return this.activateVao(e,n),a[n._key]=l,a[s]=l,i.bindVertexArray(null),l}onGeometryDestroy(e,n){const r=this._geometryVaoHash[e.uid],i=this.gl;if(r){if(n)for(const o in r)this._activeVao!==r[o]&&this.unbind(),i.deleteVertexArray(r[o]);this._geometryVaoHash[e.uid]=null}}destroyAll(e=!1){const n=this.gl;for(const r in this._geometryVaoHash){if(e)for(const i in this._geometryVaoHash[r]){const o=this._geometryVaoHash[r];this._activeVao!==o&&this.unbind(),n.deleteVertexArray(o[i])}this._geometryVaoHash[r]=null}}activateVao(e,n){var a;const r=this._renderer.gl,i=this._renderer.buffer,o=e.attributes;e.indexBuffer&&i.bind(e.indexBuffer);let s=null;for(const l in o){const u=o[l],c=u.buffer,f=i.getGlBuffer(c),d=n._attributeData[l];if(d){s!==f&&(i.bind(c),s=f);const h=d.location;r.enableVertexAttribArray(h);const p=ra(u.format),y=_de(u.format);if(((a=d.format)==null?void 0:a.substring(1,4))==="int"?r.vertexAttribIPointer(h,p.size,y,u.stride,u.offset):r.vertexAttribPointer(h,p.size,y,p.normalised,u.stride,u.offset),u.instance)if(this.hasInstance){const v=u.divisor??1;r.vertexAttribDivisor(h,v)}else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,n,r,i){const{gl:o}=this._renderer,s=this._activeGeometry,a=bde[e||s.topology];if(i??(i=s.instanceCount),s.indexBuffer){const l=s.indexBuffer.data.BYTES_PER_ELEMENT,u=l===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;i>1?o.drawElementsInstanced(a,n||s.indexBuffer.data.length,u,(r||0)*l,i):o.drawElements(a,n||s.indexBuffer.data.length,u,(r||0)*l)}else i>1?o.drawArraysInstanced(a,r||0,n||s.getSize(),i):o.drawArrays(a,r||0,n||s.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this._renderer=null,this.gl=null,this._activeVao=null,this._activeGeometry=null}}Zk.extension={type:[V.WebGLSystem],name:"geometry"};const xde=new zd({attributes:{aPosition:[-1,-1,3,-1,-1,3]}}),dE=class Jk{constructor(e){this.useBackBuffer=!1,this._useBackBufferThisRender=!1,this._renderer=e}init(e={}){const{useBackBuffer:n,antialias:r}={...Jk.defaultOptions,...e};this.useBackBuffer=n,this._antialias=r,this._renderer.context.supports.msaa||(Ne("antialiasing, is not supported on when using the back buffer"),this._antialias=!1),this._state=Li.for2d();const i=new kl({vertex:`
                attribute vec2 aPosition;
                out vec2 vUv;

                void main() {
                    gl_Position = vec4(aPosition, 0.0, 1.0);

                    vUv = (aPosition + 1.0) / 2.0;

                    // flip dem UVs
                    vUv.y = 1.0 - vUv.y;
                }`,fragment:`
                in vec2 vUv;
                out vec4 finalColor;

                uniform sampler2D uTexture;

                void main() {
                    finalColor = texture(uTexture, vUv);
                }`,name:"big-triangle"});this._bigTriangleShader=new yi({glProgram:i,resources:{uTexture:Ae.WHITE.source}})}renderStart(e){const n=this._renderer.renderTarget.getRenderTarget(e.target);if(this._useBackBufferThisRender=this.useBackBuffer&&!!n.isRoot,this._useBackBufferThisRender){const r=this._renderer.renderTarget.getRenderTarget(e.target);this._targetTexture=r.colorTexture,e.target=this._getBackBufferTexture(r.colorTexture)}}renderEnd(){this._presentBackBuffer()}_presentBackBuffer(){const e=this._renderer;e.renderTarget.finishRenderPass(),this._useBackBufferThisRender&&(e.renderTarget.bind(this._targetTexture,!1),this._bigTriangleShader.resources.uTexture=this._backBufferTexture.source,e.encoder.draw({geometry:xde,shader:this._bigTriangleShader,state:this._state}))}_getBackBufferTexture(e){return this._backBufferTexture=this._backBufferTexture||new Ae({source:new Cn({width:e.width,height:e.height,resolution:e._resolution,antialias:this._antialias})}),this._backBufferTexture.source.resize(e.width,e.height,e._resolution),this._backBufferTexture}destroy(){this._backBufferTexture&&(this._backBufferTexture.destroy(),this._backBufferTexture=null)}};dE.extension={type:[V.WebGLSystem],name:"backBuffer",priority:1};dE.defaultOptions={useBackBuffer:!1};let wde=dE;class Qk{constructor(e){this._colorMaskCache=15,this._renderer=e}setMask(e){this._colorMaskCache!==e&&(this._colorMaskCache=e,this._renderer.gl.colorMask(!!(e&8),!!(e&4),!!(e&2),!!(e&1)))}}Qk.extension={type:[V.WebGLSystem],name:"colorMask"};class e6{constructor(e){this.commandFinished=Promise.resolve(),this._renderer=e}setGeometry(e,n){this._renderer.geometry.bind(e,n.glProgram)}finishRenderPass(){}draw(e){const n=this._renderer,{geometry:r,shader:i,state:o,skipSync:s,topology:a,size:l,start:u,instanceCount:c}=e;n.shader.bind(i,s),n.geometry.bind(r,n.shader._activeProgram),o&&n.state.set(o),n.geometry.draw(a,l,u,c??r.instanceCount)}destroy(){this._renderer=null}}e6.extension={type:[V.WebGLSystem],name:"encoder"};class t6{constructor(e){this._renderer=e}contextChange(){const e=this._renderer.gl;this.maxTextures=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.maxBatchableTextures=ik(this.maxTextures,e),this.maxUniformBindings=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS)}destroy(){}}t6.extension={type:[V.WebGLSystem],name:"limits"};class Ede{constructor(){this.width=-1,this.height=-1,this.msaa=!1,this.msaaRenderBuffer=[]}}const ha=[];ha[sn.NONE]=void 0;ha[sn.DISABLED]={stencilWriteMask:0,stencilReadMask:0};ha[sn.RENDERING_MASK_ADD]={stencilFront:{compare:"equal",passOp:"increment-clamp"},stencilBack:{compare:"equal",passOp:"increment-clamp"}};ha[sn.RENDERING_MASK_REMOVE]={stencilFront:{compare:"equal",passOp:"decrement-clamp"},stencilBack:{compare:"equal",passOp:"decrement-clamp"}};ha[sn.MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"equal",passOp:"keep"},stencilBack:{compare:"equal",passOp:"keep"}};ha[sn.INVERSE_MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"not-equal",passOp:"keep"},stencilBack:{compare:"not-equal",passOp:"keep"}};class n6{constructor(e){this._stencilCache={enabled:!1,stencilReference:0,stencilMode:sn.NONE},this._renderTargetStencilState=Object.create(null),e.renderTarget.onRenderTargetChange.add(this)}contextChange(e){this._gl=e,this._comparisonFuncMapping={always:e.ALWAYS,never:e.NEVER,equal:e.EQUAL,"not-equal":e.NOTEQUAL,less:e.LESS,"less-equal":e.LEQUAL,greater:e.GREATER,"greater-equal":e.GEQUAL},this._stencilOpsMapping={keep:e.KEEP,zero:e.ZERO,replace:e.REPLACE,invert:e.INVERT,"increment-clamp":e.INCR,"decrement-clamp":e.DECR,"increment-wrap":e.INCR_WRAP,"decrement-wrap":e.DECR_WRAP},this.resetState()}onRenderTargetChange(e){if(this._activeRenderTarget===e)return;this._activeRenderTarget=e;let n=this._renderTargetStencilState[e.uid];n||(n=this._renderTargetStencilState[e.uid]={stencilMode:sn.DISABLED,stencilReference:0}),this.setStencilMode(n.stencilMode,n.stencilReference)}resetState(){this._stencilCache.enabled=!1,this._stencilCache.stencilMode=sn.NONE,this._stencilCache.stencilReference=0}setStencilMode(e,n){const r=this._renderTargetStencilState[this._activeRenderTarget.uid],i=this._gl,o=ha[e],s=this._stencilCache;if(r.stencilMode=e,r.stencilReference=n,e===sn.DISABLED){this._stencilCache.enabled&&(this._stencilCache.enabled=!1,i.disable(i.STENCIL_TEST));return}this._stencilCache.enabled||(this._stencilCache.enabled=!0,i.enable(i.STENCIL_TEST)),(e!==s.stencilMode||s.stencilReference!==n)&&(s.stencilMode=e,s.stencilReference=n,i.stencilFunc(this._comparisonFuncMapping[o.stencilBack.compare],n,255),i.stencilOp(i.KEEP,i.KEEP,this._stencilOpsMapping[o.stencilBack.passOp]))}}n6.extension={type:[V.WebGLSystem],name:"stencil"};class r6{constructor(e){this._syncFunctionHash=Object.create(null),this._adaptor=e,this._systemCheck()}_systemCheck(){if(!V8())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}ensureUniformGroup(e){const n=this.getUniformGroupData(e);e.buffer||(e.buffer=new zr({data:new Float32Array(n.layout.size/4),usage:it.UNIFORM|it.COPY_DST}))}getUniformGroupData(e){return this._syncFunctionHash[e._signature]||this._initUniformGroup(e)}_initUniformGroup(e){const n=e._signature;let r=this._syncFunctionHash[n];if(!r){const i=Object.keys(e.uniformStructures).map(a=>e.uniformStructures[a]),o=this._adaptor.createUboElements(i),s=this._generateUboSync(o.uboElements);r=this._syncFunctionHash[n]={layout:o,syncFunction:s}}return this._syncFunctionHash[n]}_generateUboSync(e){return this._adaptor.generateUboSync(e)}syncUniformGroup(e,n,r){const i=this.getUniformGroupData(e);e.buffer||(e.buffer=new zr({data:new Float32Array(i.layout.size/4),usage:it.UNIFORM|it.COPY_DST}));let o=null;return n||(n=e.buffer.data,o=e.buffer.dataInt32),r||(r=0),i.syncFunction(e.uniforms,n,o,r),!0}updateUniformGroup(e){if(e.isStatic&&!e._dirtyId)return!1;e._dirtyId=0;const n=this.syncUniformGroup(e);return e.buffer.update(),n}destroy(){this._syncFunctionHash=null}}const i6={f32:4,i32:4,"vec2<f32>":8,"vec3<f32>":12,"vec4<f32>":16,"vec2<i32>":8,"vec3<i32>":12,"vec4<i32>":16,"mat2x2<f32>":16*2,"mat3x3<f32>":16*3,"mat4x4<f32>":16*4};function Sde(t){const e=t.map(o=>({data:o,offset:0,size:0})),n=16;let r=0,i=0;for(let o=0;o<e.length;o++){const s=e[o];if(r=i6[s.data.type],!r)throw new Error(`Unknown type ${s.data.type}`);s.data.size>1&&(r=Math.max(r,n)*s.data.size);const a=r===12?16:r;s.size=r;const l=i%n;l>0&&n-l<a?i+=(n-l)%16:i+=(r-l%r)%r,s.offset=i,i+=r}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}const Va=[{type:"mat3x3<f32>",test:t=>t.value.a!==void 0,ubo:`
            var matrix = uv[name].toArray(true);
            data[offset] = matrix[0];
            data[offset + 1] = matrix[1];
            data[offset + 2] = matrix[2];
            data[offset + 4] = matrix[3];
            data[offset + 5] = matrix[4];
            data[offset + 6] = matrix[5];
            data[offset + 8] = matrix[6];
            data[offset + 9] = matrix[7];
            data[offset + 10] = matrix[8];
        `,uniform:`
            gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));
        `},{type:"vec4<f32>",test:t=>t.type==="vec4<f32>"&&t.size===1&&t.value.width!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
            data[offset + 2] = v.width;
            data[offset + 3] = v.height;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {
                cv[0] = v.x;
                cv[1] = v.y;
                cv[2] = v.width;
                cv[3] = v.height;
                gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);
            }
        `},{type:"vec2<f32>",test:t=>t.type==="vec2<f32>"&&t.size===1&&t.value.x!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y) {
                cv[0] = v.x;
                cv[1] = v.y;
                gl.uniform2f(ud[name].location, v.x, v.y);
            }
        `},{type:"vec4<f32>",test:t=>t.type==="vec4<f32>"&&t.size===1&&t.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
            data[offset + 3] = v.alpha;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                cv[3] = v.alpha;
                gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);
            }
        `},{type:"vec3<f32>",test:t=>t.type==="vec3<f32>"&&t.size===1&&t.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                gl.uniform3f(ud[name].location, v.red, v.green, v.blue);
            }
        `}];function o6(t,e,n,r){const i=[`
        var v = null;
        var v2 = null;
        var t = 0;
        var index = 0;
        var name = null;
        var arrayOffset = null;
    `];let o=0;for(let a=0;a<t.length;a++){const l=t[a],u=l.data.name;let c=!1,f=0;for(let d=0;d<Va.length;d++)if(Va[d].test(l.data)){f=l.offset/4,i.push(`name = "${u}";`,`offset += ${f-o};`,Va[d][e]||Va[d].ubo),c=!0;break}if(!c)if(l.data.size>1)f=l.offset/4,i.push(n(l,f-o));else{const d=r[l.data.type];f=l.offset/4,i.push(`
                    v = uv.${u};
                    offset += ${f-o};
                    ${d};
                `)}o=f}const s=i.join(`
`);return new Function("uv","data","dataInt32","offset",s)}function tu(t,e){return`
        for (let i = 0; i < ${t*e}; i++) {
            data[offset + (((i / ${t})|0) * 4) + (i % ${t})] = v[i];
        }
    `}const s6={f32:`
        data[offset] = v;`,i32:`
        dataInt32[offset] = v;`,"vec2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];`,"vec3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];`,"vec4<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];`,"vec2<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];`,"vec3<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];
        dataInt32[offset + 2] = v[2];`,"vec4<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];
        dataInt32[offset + 2] = v[2];
        dataInt32[offset + 3] = v[3];`,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 4] = v[2];
        data[offset + 5] = v[3];`,"mat3x3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];
        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];`,"mat4x4<f32>":`
        for (let i = 0; i < 16; i++) {
            data[offset + i] = v[i];
        }`,"mat3x2<f32>":tu(3,2),"mat4x2<f32>":tu(4,2),"mat2x3<f32>":tu(2,3),"mat4x3<f32>":tu(4,3),"mat2x4<f32>":tu(2,4),"mat3x4<f32>":tu(3,4)},Cde={...s6,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];
    `};function Ade(t,e){const n=Math.max(i6[t.data.type]/16,1),r=t.data.value.length/t.data.size,i=(4-r%4)%4,o=t.data.type.indexOf("i32")>=0?"dataInt32":"data";return`
        v = uv.${t.data.name};
        offset += ${e};

        arrayOffset = offset;

        t = 0;

        for(var i=0; i < ${t.data.size*n}; i++)
        {
            for(var j = 0; j < ${r}; j++)
            {
                ${o}[arrayOffset++] = v[t++];
            }
            ${i!==0?`arrayOffset += ${i};`:""}
        }
    `}function Tde(t){return o6(t,"uboStd40",Ade,s6)}class a6 extends r6{constructor(){super({createUboElements:Sde,generateUboSync:Tde})}}a6.extension={type:[V.WebGLSystem],name:"ubo"};class Pde{constructor(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new vt}init(e,n){this._renderer=e,this._renderTargetSystem=n,e.runners.contextChange.add(this)}contextChange(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new vt}copyToTexture(e,n,r,i,o){const s=this._renderTargetSystem,a=this._renderer,l=s.getGpuRenderTarget(e),u=a.gl;return this.finishRenderPass(e),u.bindFramebuffer(u.FRAMEBUFFER,l.resolveTargetFramebuffer),a.texture.bind(n,0),u.copyTexSubImage2D(u.TEXTURE_2D,0,o.x,o.y,r.x,r.y,i.width,i.height),n}startRenderPass(e,n=!0,r,i){const o=this._renderTargetSystem,s=e.colorTexture,a=o.getGpuRenderTarget(e);let l=i.y;e.isRoot&&(l=s.pixelHeight-i.height),e.colorTextures.forEach(f=>{this._renderer.texture.unbind(f)});const u=this._renderer.gl;u.bindFramebuffer(u.FRAMEBUFFER,a.framebuffer);const c=this._viewPortCache;(c.x!==i.x||c.y!==l||c.width!==i.width||c.height!==i.height)&&(c.x=i.x,c.y=l,c.width=i.width,c.height=i.height,u.viewport(i.x,l,i.width,i.height)),!a.depthStencilRenderBuffer&&(e.stencil||e.depth)&&this._initStencil(a),this.clear(e,n,r)}finishRenderPass(e){const r=this._renderTargetSystem.getGpuRenderTarget(e);if(!r.msaa)return;const i=this._renderer.gl;i.bindFramebuffer(i.FRAMEBUFFER,r.resolveTargetFramebuffer),i.bindFramebuffer(i.READ_FRAMEBUFFER,r.framebuffer),i.blitFramebuffer(0,0,r.width,r.height,0,0,r.width,r.height,i.COLOR_BUFFER_BIT,i.NEAREST),i.bindFramebuffer(i.FRAMEBUFFER,r.framebuffer)}initGpuRenderTarget(e){const r=this._renderer.gl,i=new Ede;return e.colorTexture instanceof ao?(this._renderer.context.ensureCanvasSize(e.colorTexture.resource),i.framebuffer=null,i):(this._initColor(e,i),r.bindFramebuffer(r.FRAMEBUFFER,null),i)}destroyGpuRenderTarget(e){const n=this._renderer.gl;e.framebuffer&&(n.deleteFramebuffer(e.framebuffer),e.framebuffer=null),e.resolveTargetFramebuffer&&(n.deleteFramebuffer(e.resolveTargetFramebuffer),e.resolveTargetFramebuffer=null),e.depthStencilRenderBuffer&&(n.deleteRenderbuffer(e.depthStencilRenderBuffer),e.depthStencilRenderBuffer=null),e.msaaRenderBuffer.forEach(r=>{n.deleteRenderbuffer(r)}),e.msaaRenderBuffer=null}clear(e,n,r){if(!n)return;const i=this._renderTargetSystem;typeof n=="boolean"&&(n=n?Ur.ALL:Ur.NONE);const o=this._renderer.gl;if(n&Ur.COLOR){r??(r=i.defaultClearColor);const s=this._clearColorCache,a=r;(s[0]!==a[0]||s[1]!==a[1]||s[2]!==a[2]||s[3]!==a[3])&&(s[0]=a[0],s[1]=a[1],s[2]=a[2],s[3]=a[3],o.clearColor(a[0],a[1],a[2],a[3]))}o.clear(n)}resizeGpuRenderTarget(e){if(e.isRoot)return;const r=this._renderTargetSystem.getGpuRenderTarget(e);this._resizeColor(e,r),(e.stencil||e.depth)&&this._resizeStencil(r)}_initColor(e,n){const r=this._renderer,i=r.gl,o=i.createFramebuffer();if(n.resolveTargetFramebuffer=o,i.bindFramebuffer(i.FRAMEBUFFER,o),n.width=e.colorTexture.source.pixelWidth,n.height=e.colorTexture.source.pixelHeight,e.colorTextures.forEach((s,a)=>{const l=s.source;l.antialias&&(r.context.supports.msaa?n.msaa=!0:Ne("[RenderTexture] Antialiasing on textures is not supported in WebGL1")),r.texture.bindSource(l,0);const c=r.texture.getGlSource(l).texture;i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+a,3553,c,0)}),n.msaa){const s=i.createFramebuffer();n.framebuffer=s,i.bindFramebuffer(i.FRAMEBUFFER,s),e.colorTextures.forEach((a,l)=>{const u=i.createRenderbuffer();n.msaaRenderBuffer[l]=u})}else n.framebuffer=o;this._resizeColor(e,n)}_resizeColor(e,n){const r=e.colorTexture.source;if(n.width=r.pixelWidth,n.height=r.pixelHeight,e.colorTextures.forEach((i,o)=>{o!==0&&i.source.resize(r.width,r.height,r._resolution)}),n.msaa){const i=this._renderer,o=i.gl,s=n.framebuffer;o.bindFramebuffer(o.FRAMEBUFFER,s),e.colorTextures.forEach((a,l)=>{const u=a.source;i.texture.bindSource(u,0);const f=i.texture.getGlSource(u).internalFormat,d=n.msaaRenderBuffer[l];o.bindRenderbuffer(o.RENDERBUFFER,d),o.renderbufferStorageMultisample(o.RENDERBUFFER,4,f,u.pixelWidth,u.pixelHeight),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0+l,o.RENDERBUFFER,d)})}}_initStencil(e){if(e.framebuffer===null)return;const n=this._renderer.gl,r=n.createRenderbuffer();e.depthStencilRenderBuffer=r,n.bindRenderbuffer(n.RENDERBUFFER,r),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,r),this._resizeStencil(e)}_resizeStencil(e){const n=this._renderer.gl;n.bindRenderbuffer(n.RENDERBUFFER,e.depthStencilRenderBuffer),e.msaa?n.renderbufferStorageMultisample(n.RENDERBUFFER,4,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,this._renderer.context.webGLVersion===2?n.DEPTH24_STENCIL8:n.DEPTH_STENCIL,e.width,e.height)}prerender(e){const n=e.colorTexture.resource;this._renderer.context.multiView&&ao.test(n)&&this._renderer.context.ensureCanvasSize(n)}postrender(e){if(this._renderer.context.multiView&&ao.test(e.colorTexture.resource)){const n=this._renderer.context.canvas,r=e.colorTexture;r.context2D.drawImage(n,0,r.pixelHeight-n.height)}}}function Ide(t,e,n,r,i,o){const s=o?1:-1;return t.identity(),t.a=1/r*2,t.d=s*(1/i*2),t.tx=-1-e*t.a,t.ty=-s-n*t.d,t}const Hc=new Map;function l6(t,e){if(!Hc.has(t)){const n=new Ae({source:new ao({resource:t,...e})}),r=()=>{Hc.get(t)===n&&Hc.delete(t)};n.once("destroy",r),n.source.once("destroy",r),Hc.set(t,n)}return Hc.get(t)}function Ode(t){const e=t.colorTexture.source.resource;return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement&&document.body.contains(e)}const u6=class c6{constructor(e={}){if(this.uid=Ut("renderTarget"),this.colorTextures=[],this.dirtyId=0,this.isRoot=!1,this._size=new Float32Array(2),this._managedColorTextures=!1,e={...c6.defaultOptions,...e},this.stencil=e.stencil,this.depth=e.depth,this.isRoot=e.isRoot,typeof e.colorTextures=="number"){this._managedColorTextures=!0;for(let n=0;n<e.colorTextures;n++)this.colorTextures.push(new Cn({width:e.width,height:e.height,resolution:e.resolution,antialias:e.antialias}))}else{this.colorTextures=[...e.colorTextures.map(r=>r.source)];const n=this.colorTexture.source;this.resize(n.width,n.height,n._resolution)}this.colorTexture.source.on("resize",this.onSourceResize,this),(e.depthStencilTexture||this.stencil)&&(e.depthStencilTexture instanceof Ae||e.depthStencilTexture instanceof Cn?this.depthStencilTexture=e.depthStencilTexture.source:this.ensureDepthStencilTexture())}get size(){const e=this._size;return e[0]=this.pixelWidth,e[1]=this.pixelHeight,e}get width(){return this.colorTexture.source.width}get height(){return this.colorTexture.source.height}get pixelWidth(){return this.colorTexture.source.pixelWidth}get pixelHeight(){return this.colorTexture.source.pixelHeight}get resolution(){return this.colorTexture.source._resolution}get colorTexture(){return this.colorTextures[0]}onSourceResize(e){this.resize(e.width,e.height,e._resolution,!0)}ensureDepthStencilTexture(){this.depthStencilTexture||(this.depthStencilTexture=new Cn({width:this.width,height:this.height,resolution:this.resolution,format:"depth24plus-stencil8",autoGenerateMipmaps:!1,antialias:!1,mipLevelCount:1}))}resize(e,n,r=this.resolution,i=!1){this.dirtyId++,this.colorTextures.forEach((o,s)=>{i&&s===0||o.source.resize(e,n,r)}),this.depthStencilTexture&&this.depthStencilTexture.source.resize(e,n,r)}destroy(){this.colorTexture.source.off("resize",this.onSourceResize,this),this._managedColorTextures&&this.colorTextures.forEach(e=>{e.destroy()}),this.depthStencilTexture&&(this.depthStencilTexture.destroy(),delete this.depthStencilTexture)}};u6.defaultOptions={width:0,height:0,resolution:1,colorTextures:1,stencil:!1,depth:!1,antialias:!1,isRoot:!1};let j_=u6;class f6{constructor(e){this.rootViewPort=new vt,this.viewport=new vt,this.onRenderTargetChange=new X8("onRenderTargetChange"),this.projectionMatrix=new Oe,this.defaultClearColor=[0,0,0,0],this._renderSurfaceToRenderTargetHash=new Map,this._gpuRenderTargetHash=Object.create(null),this._renderTargetStack=[],this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuRenderTargetHash")}finishRenderPass(){this.adaptor.finishRenderPass(this.renderTarget)}renderStart({target:e,clear:n,clearColor:r,frame:i}){var o,s;this._renderTargetStack.length=0,this.push(e,n,r,i),this.rootViewPort.copyFrom(this.viewport),this.rootRenderTarget=this.renderTarget,this.renderingToScreen=Ode(this.rootRenderTarget),(s=(o=this.adaptor).prerender)==null||s.call(o,this.rootRenderTarget)}postrender(){var e,n;(n=(e=this.adaptor).postrender)==null||n.call(e,this.rootRenderTarget)}bind(e,n=!0,r,i){const o=this.getRenderTarget(e),s=this.renderTarget!==o;this.renderTarget=o,this.renderSurface=e;const a=this.getGpuRenderTarget(o);(o.pixelWidth!==a.width||o.pixelHeight!==a.height)&&(this.adaptor.resizeGpuRenderTarget(o),a.width=o.pixelWidth,a.height=o.pixelHeight);const l=o.colorTexture,u=this.viewport,c=l.pixelWidth,f=l.pixelHeight;if(!i&&e instanceof Ae&&(i=e.frame),i){const d=l._resolution;u.x=i.x*d+.5|0,u.y=i.y*d+.5|0,u.width=i.width*d+.5|0,u.height=i.height*d+.5|0}else u.x=0,u.y=0,u.width=c,u.height=f;return Ide(this.projectionMatrix,0,0,u.width/l.resolution,u.height/l.resolution,!o.isRoot),this.adaptor.startRenderPass(o,n,r,u),s&&this.onRenderTargetChange.emit(o),o}clear(e,n=Ur.ALL,r){n&&(e&&(e=this.getRenderTarget(e)),this.adaptor.clear(e||this.renderTarget,n,r,this.viewport))}contextChange(){this._gpuRenderTargetHash=Object.create(null)}push(e,n=Ur.ALL,r,i){const o=this.bind(e,n,r,i);return this._renderTargetStack.push({renderTarget:o,frame:i}),o}pop(){this._renderTargetStack.pop();const e=this._renderTargetStack[this._renderTargetStack.length-1];this.bind(e.renderTarget,!1,null,e.frame)}getRenderTarget(e){return e.isTexture&&(e=e.source),this._renderSurfaceToRenderTargetHash.get(e)??this._initRenderTarget(e)}copyToTexture(e,n,r,i,o){r.x<0&&(i.width+=r.x,o.x-=r.x,r.x=0),r.y<0&&(i.height+=r.y,o.y-=r.y,r.y=0);const{pixelWidth:s,pixelHeight:a}=e;return i.width=Math.min(i.width,s-r.x),i.height=Math.min(i.height,a-r.y),this.adaptor.copyToTexture(e,n,r,i,o)}ensureDepthStencil(){this.renderTarget.stencil||(this.renderTarget.stencil=!0,this.adaptor.startRenderPass(this.renderTarget,!1,null,this.viewport))}destroy(){this._renderer=null,this._renderSurfaceToRenderTargetHash.forEach((e,n)=>{e!==n&&e.destroy()}),this._renderSurfaceToRenderTargetHash.clear(),this._gpuRenderTargetHash=Object.create(null)}_initRenderTarget(e){let n=null;return ao.test(e)&&(e=l6(e).source),e instanceof j_?n=e:e instanceof Cn&&(n=new j_({colorTextures:[e]}),e.source instanceof ao&&(n.isRoot=!0),e.once("destroy",()=>{n.destroy(),this._renderSurfaceToRenderTargetHash.delete(e);const r=this._gpuRenderTargetHash[n.uid];r&&(this._gpuRenderTargetHash[n.uid]=null,this.adaptor.destroyGpuRenderTarget(r))})),this._renderSurfaceToRenderTargetHash.set(e,n),n}getGpuRenderTarget(e){return this._gpuRenderTargetHash[e.uid]||(this._gpuRenderTargetHash[e.uid]=this.adaptor.initGpuRenderTarget(e))}resetState(){this.renderTarget=null,this.renderSurface=null}}class d6 extends f6{constructor(e){super(e),this.adaptor=new Pde,this.adaptor.init(e,this)}}d6.extension={type:[V.WebGLSystem],name:"renderTarget"};class hE extends Jr{constructor({buffer:e,offset:n,size:r}){super(),this.uid=Ut("buffer"),this._resourceType="bufferResource",this._touched=0,this._resourceId=Ut("resource"),this._bufferResource=!0,this.destroyed=!1,this.buffer=e,this.offset=n|0,this.size=r,this.buffer.on("change",this.onBufferChange,this)}onBufferChange(){this._resourceId=Ut("resource"),this.emit("change",this)}destroy(e=!1){this.destroyed=!0,e&&this.buffer.destroy(),this.emit("change",this),this.buffer=null}}function Rde(t,e){const n=[],r=[`
        var g = s.groups;
        var sS = r.shader;
        var p = s.glProgram;
        var ugS = r.uniformGroup;
        var resources;
    `];let i=!1,o=0;const s=e._getProgramData(t.glProgram);for(const l in t.groups){const u=t.groups[l];n.push(`
            resources = g[${l}].resources;
        `);for(const c in u.resources){const f=u.resources[c];if(f instanceof gr)if(f.ubo){const d=t._uniformBindMap[l][Number(c)];n.push(`
                        sS.bindUniformBlock(
                            resources[${c}],
                            '${d}',
                            ${t.glProgram._uniformBlockData[d].index}
                        );
                    `)}else n.push(`
                        ugS.updateUniformGroup(resources[${c}], p, sD);
                    `);else if(f instanceof hE){const d=t._uniformBindMap[l][Number(c)];n.push(`
                    sS.bindUniformBlock(
                        resources[${c}],
                        '${d}',
                        ${t.glProgram._uniformBlockData[d].index}
                    );
                `)}else if(f instanceof Cn){const d=t._uniformBindMap[l][c],h=s.uniformData[d];h&&(i||(i=!0,r.push(`
                        var tS = r.texture;
                        `)),e._gl.uniform1i(h.location,o),n.push(`
                        tS.bind(resources[${c}], ${o});
                    `),o++)}}}const a=[...r,...n].join(`
`);return new Function("r","s","sD",a)}class Mde{constructor(e,n){this.program=e,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBlockBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBlockBindings=null,this.program=null}}function rP(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function Uv(t){const e=new Array(t);for(let n=0;n<e.length;n++)e[n]=!1;return e}function h6(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Uv(2*e);case"bvec3":return Uv(3*e);case"bvec4":return Uv(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}let np=null;const iP={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"},Dde={float:"float32",vec2:"float32x2",vec3:"float32x3",vec4:"float32x4",int:"sint32",ivec2:"sint32x2",ivec3:"sint32x3",ivec4:"sint32x4",uint:"uint32",uvec2:"uint32x2",uvec3:"uint32x3",uvec4:"uint32x4",bool:"uint32",bvec2:"uint32x2",bvec3:"uint32x3",bvec4:"uint32x4"};function p6(t,e){if(!np){const n=Object.keys(iP);np={};for(let r=0;r<n.length;++r){const i=n[r];np[t[i]]=iP[i]}}return np[e]}function Bde(t,e){const n=p6(t,e);return Dde[n]||"float32"}function kde(t,e,n=!1){const r={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let s=0;s<i;s++){const a=e.getActiveAttrib(t,s);if(a.name.startsWith("gl_"))continue;const l=Bde(e,a.type);r[a.name]={location:0,format:l,stride:ra(l).stride,offset:0,instance:!1,start:0}}const o=Object.keys(r);if(n){o.sort((s,a)=>s>a?1:-1);for(let s=0;s<o.length;s++)r[o[s]].location=s,e.bindAttribLocation(t,s,o[s]);e.linkProgram(t)}else for(let s=0;s<o.length;s++)r[o[s]].location=e.getAttribLocation(t,o[s]);return r}function Nde(t,e){if(!e.ACTIVE_UNIFORM_BLOCKS)return{};const n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORM_BLOCKS);for(let i=0;i<r;i++){const o=e.getActiveUniformBlockName(t,i),s=e.getUniformBlockIndex(t,o),a=e.getActiveUniformBlockParameter(t,i,e.UNIFORM_BLOCK_DATA_SIZE);n[o]={name:o,index:s,size:a}}return n}function Fde(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){const o=e.getActiveUniform(t,i),s=o.name.replace(/\[.*?\]$/,""),a=!!o.name.match(/\[.*?\]$/),l=p6(e,o.type);n[s]={name:s,index:i,type:l,size:o.size,isArray:a,value:h6(l,o.size)}}return n}function oP(t,e){const n=t.getShaderSource(e).split(`
`).map((u,c)=>`${c}: ${u}`),r=t.getShaderInfoLog(e),i=r.split(`
`),o={},s=i.map(u=>parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(u=>u&&!o[u]?(o[u]=!0,!0):!1),a=[""];s.forEach(u=>{n[u-1]=`%c${n[u-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=n.join(`
`);a[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function Lde(t,e,n,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||oP(t,n),t.getShaderParameter(r,t.COMPILE_STATUS)||oP(t,r),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function $de(t,e){const n=rP(t,t.VERTEX_SHADER,e.vertex),r=rP(t,t.FRAGMENT_SHADER,e.fragment),i=t.createProgram();t.attachShader(i,n),t.attachShader(i,r);const o=e.transformFeedbackVaryings;o&&(typeof t.transformFeedbackVaryings!="function"?Ne("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,o.names,o.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||Lde(t,i,n,r),e._attributeData=kde(i,t,!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertex)),e._uniformData=Fde(i,t),e._uniformBlockData=Nde(i,t),t.deleteShader(n),t.deleteShader(r);const s={};for(const l in e._uniformData){const u=e._uniformData[l];s[l]={location:t.getUniformLocation(i,l),value:h6(u.type,u.size)}}return new Mde(i,s)}const rp={textureCount:0,blockIndex:0};class g6{constructor(e){this._activeProgram=null,this._programDataHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_programDataHash")}contextChange(e){this._gl=e,this._programDataHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._activeProgram=null}bind(e,n){if(this._setProgram(e.glProgram),n)return;rp.textureCount=0,rp.blockIndex=0;let r=this._shaderSyncFunctions[e.glProgram._key];r||(r=this._shaderSyncFunctions[e.glProgram._key]=this._generateShaderSync(e,this)),this._renderer.buffer.nextBindBase(!!e.glProgram.transformFeedbackVaryings),r(this._renderer,e,rp)}updateUniformGroup(e){this._renderer.uniformGroup.updateUniformGroup(e,this._activeProgram,rp)}bindUniformBlock(e,n,r=0){const i=this._renderer.buffer,o=this._getProgramData(this._activeProgram),s=e._bufferResource;s||this._renderer.ubo.updateUniformGroup(e);const a=e.buffer,l=i.updateBuffer(a),u=i.freeLocationForBufferBase(l);if(s){const{offset:f,size:d}=e;f===0&&d===a.data.byteLength?i.bindBufferBase(l,u):i.bindBufferRange(l,u,f)}else i.getLastBindBaseLocation(l)!==u&&i.bindBufferBase(l,u);const c=this._activeProgram._uniformBlockData[n].index;o.uniformBlockBindings[r]!==u&&(o.uniformBlockBindings[r]=u,this._renderer.gl.uniformBlockBinding(o.program,c,u))}_setProgram(e){if(this._activeProgram===e)return;this._activeProgram=e;const n=this._getProgramData(e);this._gl.useProgram(n.program)}_getProgramData(e){return this._programDataHash[e._key]||this._createProgramData(e)}_createProgramData(e){const n=e._key;return this._programDataHash[n]=$de(this._gl,e),this._programDataHash[n]}destroy(){for(const e of Object.keys(this._programDataHash))this._programDataHash[e].destroy(),this._programDataHash[e]=null;this._programDataHash=null}_generateShaderSync(e,n){return Rde(e,n)}resetState(){this._activeProgram=null}}g6.extension={type:[V.WebGLSystem],name:"shader"};const Ude={f32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1f(location, v);
        }`,"vec2<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2f(location, v[0], v[1]);
        }`,"vec3<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3f(location, v[0], v[1], v[2]);
        }`,"vec4<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4f(location, v[0], v[1], v[2], v[3]);
        }`,i32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,u32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1ui(location, v);
        }`,"vec2<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2ui(location, v[0], v[1]);
        }`,"vec3<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3ui(location, v[0], v[1], v[2]);
        }`,"vec4<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
        }`,bool:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,"mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);"},Gde={f32:"gl.uniform1fv(location, v);","vec2<f32>":"gl.uniform2fv(location, v);","vec3<f32>":"gl.uniform3fv(location, v);","vec4<f32>":"gl.uniform4fv(location, v);","mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);",i32:"gl.uniform1iv(location, v);","vec2<i32>":"gl.uniform2iv(location, v);","vec3<i32>":"gl.uniform3iv(location, v);","vec4<i32>":"gl.uniform4iv(location, v);",u32:"gl.uniform1iv(location, v);","vec2<u32>":"gl.uniform2iv(location, v);","vec3<u32>":"gl.uniform3iv(location, v);","vec4<u32>":"gl.uniform4iv(location, v);",bool:"gl.uniform1iv(location, v);","vec2<bool>":"gl.uniform2iv(location, v);","vec3<bool>":"gl.uniform3iv(location, v);","vec4<bool>":"gl.uniform4iv(location, v);"};function Hde(t,e){const n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
        var name = null;
    `];for(const r in t.uniforms){if(!e[r]){t.uniforms[r]instanceof gr?t.uniforms[r].ubo?n.push(`
                        renderer.shader.bindUniformBlock(uv.${r}, "${r}");
                    `):n.push(`
                        renderer.shader.updateUniformGroup(uv.${r});
                    `):t.uniforms[r]instanceof hE&&n.push(`
                        renderer.shader.bindBufferResource(uv.${r}, "${r}");
                    `);continue}const i=t.uniformStructures[r];let o=!1;for(let s=0;s<Va.length;s++){const a=Va[s];if(i.type===a.type&&a.test(i)){n.push(`name = "${r}";`,Va[s].uniform),o=!0;break}}if(!o){const a=(i.size===1?Ude:Gde)[i.type].replace("location",`ud["${r}"].location`);n.push(`
            cu = ud["${r}"];
            cv = cu.value;
            v = uv["${r}"];
            ${a};`)}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}class m6{constructor(e){this._cache={},this._uniformGroupSyncHash={},this._renderer=e,this.gl=null,this._cache={}}contextChange(e){this.gl=e}updateUniformGroup(e,n,r){const i=this._renderer.shader._getProgramData(n);(!e.isStatic||e._dirtyId!==i.uniformDirtyGroups[e.uid])&&(i.uniformDirtyGroups[e.uid]=e._dirtyId,this._getUniformSyncFunction(e,n)(i.uniformData,e.uniforms,this._renderer,r))}_getUniformSyncFunction(e,n){var r;return((r=this._uniformGroupSyncHash[e._signature])==null?void 0:r[n._key])||this._createUniformSyncFunction(e,n)}_createUniformSyncFunction(e,n){const r=this._uniformGroupSyncHash[e._signature]||(this._uniformGroupSyncHash[e._signature]={}),i=this._getSignature(e,n._uniformData,"u");return this._cache[i]||(this._cache[i]=this._generateUniformsSync(e,n._uniformData)),r[n._key]=this._cache[i],r[n._key]}_generateUniformsSync(e,n){return Hde(e,n)}_getSignature(e,n,r){const i=e.uniforms,o=[`${r}-`];for(const s in i)o.push(s),n[s]&&o.push(n[s].type);return o.join("-")}destroy(){this._renderer=null,this._cache=null}}m6.extension={type:[V.WebGLSystem],name:"uniformGroup"};function Vde(t){const e={};if(e.normal=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e.add=[t.ONE,t.ONE],e.multiply=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e.screen=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e.none=[0,0],e["normal-npm"]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e["add-npm"]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e["screen-npm"]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e.erase=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],!(t instanceof je.get().getWebGLRenderingContext()))e.min=[t.ONE,t.ONE,t.ONE,t.ONE,t.MIN,t.MIN],e.max=[t.ONE,t.ONE,t.ONE,t.ONE,t.MAX,t.MAX];else{const r=t.getExtension("EXT_blend_minmax");r&&(e.min=[t.ONE,t.ONE,t.ONE,t.ONE,r.MIN_EXT,r.MIN_EXT],e.max=[t.ONE,t.ONE,t.ONE,t.ONE,r.MAX_EXT,r.MAX_EXT])}return e}const zde=0,jde=1,Wde=2,Yde=3,Xde=4,Kde=5,v6=class W_{constructor(e){this._invertFrontFace=!1,this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode="none",this._blendEq=!1,this.map=[],this.map[zde]=this.setBlend,this.map[jde]=this.setOffset,this.map[Wde]=this.setCullFace,this.map[Yde]=this.setDepthTest,this.map[Xde]=this.setFrontFace,this.map[Kde]=this.setDepthMask,this.checks=[],this.defaultState=Li.for2d(),e.renderTarget.onRenderTargetChange.add(this)}onRenderTargetChange(e){this._invertFrontFace=!e.isRoot,this._cullFace?this.setFrontFace(this._frontFace):this._frontFaceDirty=!0}contextChange(e){this.gl=e,this.blendModesMap=Vde(e),this.resetState()}set(e){if(e||(e=this.defaultState),this.stateId!==e.data){let n=this.stateId^e.data,r=0;for(;n;)n&1&&this.map[r].call(this,!!(e.data&1<<r)),n>>=1,r++;this.stateId=e.data}for(let n=0;n<this.checks.length;n++)this.checks[n](this,e)}forceState(e){e||(e=this.defaultState);for(let n=0;n<this.map.length;n++)this.map[n].call(this,!!(e.data&1<<n));for(let n=0;n<this.checks.length;n++)this.checks[n](this,e);this.stateId=e.data}setBlend(e){this._updateCheck(W_._checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this._updateCheck(W_._checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this._cullFace=e,this.gl[e?"enable":"disable"](this.gl.CULL_FACE),this._cullFace&&this._frontFaceDirty&&this.setFrontFace(this._frontFace)}setFrontFace(e){this._frontFace=e,this._frontFaceDirty=!1;const n=this._invertFrontFace?!e:e;this._glFrontFace!==n&&(this._glFrontFace=n,this.gl.frontFace(this.gl[n?"CW":"CCW"]))}setBlendMode(e){if(this.blendModesMap[e]||(e="normal"),e===this.blendMode)return;this.blendMode=e;const n=this.blendModesMap[e],r=this.gl;n.length===2?r.blendFunc(n[0],n[1]):r.blendFuncSeparate(n[0],n[1],n[2],n[3]),n.length===6?(this._blendEq=!0,r.blendEquationSeparate(n[4],n[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(e,n){this.gl.polygonOffset(e,n)}resetState(){this._glFrontFace=!1,this._frontFace=!1,this._cullFace=!1,this._frontFaceDirty=!1,this._invertFrontFace=!1,this.gl.frontFace(this.gl.CCW),this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode="",this.setBlendMode("normal")}_updateCheck(e,n){const r=this.checks.indexOf(e);n&&r===-1?this.checks.push(e):!n&&r!==-1&&this.checks.splice(r,1)}static _checkBlendMode(e,n){e.setBlendMode(n.blendMode)}static _checkPolygonOffset(e,n){e.setPolygonOffset(1,n.polygonOffset)}destroy(){this.gl=null,this.checks.length=0}};v6.extension={type:[V.WebGLSystem],name:"state"};let qde=v6;class Zde{constructor(e){this.target=qk.TEXTURE_2D,this.texture=e,this.width=-1,this.height=-1,this.type=ct.UNSIGNED_BYTE,this.internalFormat=z_.RGBA,this.format=z_.RGBA,this.samplerType=0}}const Jde={id:"buffer",upload(t,e,n){e.width===t.width||e.height===t.height?n.texSubImage2D(n.TEXTURE_2D,0,0,0,t.width,t.height,e.format,e.type,t.resource):n.texImage2D(e.target,0,e.internalFormat,t.width,t.height,0,e.format,e.type,t.resource),e.width=t.width,e.height=t.height}},Qde={"bc1-rgba-unorm":!0,"bc1-rgba-unorm-srgb":!0,"bc2-rgba-unorm":!0,"bc2-rgba-unorm-srgb":!0,"bc3-rgba-unorm":!0,"bc3-rgba-unorm-srgb":!0,"bc4-r-unorm":!0,"bc4-r-snorm":!0,"bc5-rg-unorm":!0,"bc5-rg-snorm":!0,"bc6h-rgb-ufloat":!0,"bc6h-rgb-float":!0,"bc7-rgba-unorm":!0,"bc7-rgba-unorm-srgb":!0,"etc2-rgb8unorm":!0,"etc2-rgb8unorm-srgb":!0,"etc2-rgb8a1unorm":!0,"etc2-rgb8a1unorm-srgb":!0,"etc2-rgba8unorm":!0,"etc2-rgba8unorm-srgb":!0,"eac-r11unorm":!0,"eac-r11snorm":!0,"eac-rg11unorm":!0,"eac-rg11snorm":!0,"astc-4x4-unorm":!0,"astc-4x4-unorm-srgb":!0,"astc-5x4-unorm":!0,"astc-5x4-unorm-srgb":!0,"astc-5x5-unorm":!0,"astc-5x5-unorm-srgb":!0,"astc-6x5-unorm":!0,"astc-6x5-unorm-srgb":!0,"astc-6x6-unorm":!0,"astc-6x6-unorm-srgb":!0,"astc-8x5-unorm":!0,"astc-8x5-unorm-srgb":!0,"astc-8x6-unorm":!0,"astc-8x6-unorm-srgb":!0,"astc-8x8-unorm":!0,"astc-8x8-unorm-srgb":!0,"astc-10x5-unorm":!0,"astc-10x5-unorm-srgb":!0,"astc-10x6-unorm":!0,"astc-10x6-unorm-srgb":!0,"astc-10x8-unorm":!0,"astc-10x8-unorm-srgb":!0,"astc-10x10-unorm":!0,"astc-10x10-unorm-srgb":!0,"astc-12x10-unorm":!0,"astc-12x10-unorm-srgb":!0,"astc-12x12-unorm":!0,"astc-12x12-unorm-srgb":!0},ehe={id:"compressed",upload(t,e,n){n.pixelStorei(n.UNPACK_ALIGNMENT,4);let r=t.pixelWidth,i=t.pixelHeight;const o=!!Qde[t.format];for(let s=0;s<t.resource.length;s++){const a=t.resource[s];o?n.compressedTexImage2D(n.TEXTURE_2D,s,e.internalFormat,r,i,0,a):n.texImage2D(n.TEXTURE_2D,s,e.internalFormat,r,i,0,e.format,e.type,a),r=Math.max(r>>1,1),i=Math.max(i>>1,1)}}},y6={id:"image",upload(t,e,n,r){const i=e.width,o=e.height,s=t.pixelWidth,a=t.pixelHeight,l=t.resourceWidth,u=t.resourceHeight;l<s||u<a?((i!==s||o!==a)&&n.texImage2D(e.target,0,e.internalFormat,s,a,0,e.format,e.type,null),r===2?n.texSubImage2D(n.TEXTURE_2D,0,0,0,l,u,e.format,e.type,t.resource):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,t.resource)):i===s&&o===a?n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,t.resource):r===2?n.texImage2D(e.target,0,e.internalFormat,s,a,0,e.format,e.type,t.resource):n.texImage2D(e.target,0,e.internalFormat,e.format,e.type,t.resource),e.width=s,e.height=a}},the={id:"video",upload(t,e,n,r){if(!t.isValid){n.texImage2D(e.target,0,e.internalFormat,1,1,0,e.format,e.type,null);return}y6.upload(t,e,n,r)}},sP={linear:9729,nearest:9728},nhe={linear:{linear:9987,nearest:9985},nearest:{linear:9986,nearest:9984}},Gv={"clamp-to-edge":33071,repeat:10497,"mirror-repeat":33648},rhe={never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519};function aP(t,e,n,r,i,o,s,a){const l=o;if(!a||t.addressModeU!=="repeat"||t.addressModeV!=="repeat"||t.addressModeW!=="repeat"){const u=Gv[s?"clamp-to-edge":t.addressModeU],c=Gv[s?"clamp-to-edge":t.addressModeV],f=Gv[s?"clamp-to-edge":t.addressModeW];e[i](l,e.TEXTURE_WRAP_S,u),e[i](l,e.TEXTURE_WRAP_T,c),e.TEXTURE_WRAP_R&&e[i](l,e.TEXTURE_WRAP_R,f)}if((!a||t.magFilter!=="linear")&&e[i](l,e.TEXTURE_MAG_FILTER,sP[t.magFilter]),n){if(!a||t.mipmapFilter!=="linear"){const u=nhe[t.minFilter][t.mipmapFilter];e[i](l,e.TEXTURE_MIN_FILTER,u)}}else e[i](l,e.TEXTURE_MIN_FILTER,sP[t.minFilter]);if(r&&t.maxAnisotropy>1){const u=Math.min(t.maxAnisotropy,e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));e[i](l,r.TEXTURE_MAX_ANISOTROPY_EXT,u)}t.compare&&e[i](l,e.TEXTURE_COMPARE_FUNC,rhe[t.compare])}function ihe(t){return{r8unorm:t.RED,r8snorm:t.RED,r8uint:t.RED,r8sint:t.RED,r16uint:t.RED,r16sint:t.RED,r16float:t.RED,rg8unorm:t.RG,rg8snorm:t.RG,rg8uint:t.RG,rg8sint:t.RG,r32uint:t.RED,r32sint:t.RED,r32float:t.RED,rg16uint:t.RG,rg16sint:t.RG,rg16float:t.RG,rgba8unorm:t.RGBA,"rgba8unorm-srgb":t.RGBA,rgba8snorm:t.RGBA,rgba8uint:t.RGBA,rgba8sint:t.RGBA,bgra8unorm:t.RGBA,"bgra8unorm-srgb":t.RGBA,rgb9e5ufloat:t.RGB,rgb10a2unorm:t.RGBA,rg11b10ufloat:t.RGB,rg32uint:t.RG,rg32sint:t.RG,rg32float:t.RG,rgba16uint:t.RGBA,rgba16sint:t.RGBA,rgba16float:t.RGBA,rgba32uint:t.RGBA,rgba32sint:t.RGBA,rgba32float:t.RGBA,stencil8:t.STENCIL_INDEX8,depth16unorm:t.DEPTH_COMPONENT,depth24plus:t.DEPTH_COMPONENT,"depth24plus-stencil8":t.DEPTH_STENCIL,depth32float:t.DEPTH_COMPONENT,"depth32float-stencil8":t.DEPTH_STENCIL}}function ohe(t,e){let n={},r=t.RGBA;return t instanceof je.get().getWebGLRenderingContext()?e.srgb&&(n={"rgba8unorm-srgb":e.srgb.SRGB8_ALPHA8_EXT,"bgra8unorm-srgb":e.srgb.SRGB8_ALPHA8_EXT}):(n={"rgba8unorm-srgb":t.SRGB8_ALPHA8,"bgra8unorm-srgb":t.SRGB8_ALPHA8},r=t.RGBA8),{r8unorm:t.R8,r8snorm:t.R8_SNORM,r8uint:t.R8UI,r8sint:t.R8I,r16uint:t.R16UI,r16sint:t.R16I,r16float:t.R16F,rg8unorm:t.RG8,rg8snorm:t.RG8_SNORM,rg8uint:t.RG8UI,rg8sint:t.RG8I,r32uint:t.R32UI,r32sint:t.R32I,r32float:t.R32F,rg16uint:t.RG16UI,rg16sint:t.RG16I,rg16float:t.RG16F,rgba8unorm:t.RGBA,...n,rgba8snorm:t.RGBA8_SNORM,rgba8uint:t.RGBA8UI,rgba8sint:t.RGBA8I,bgra8unorm:r,rgb9e5ufloat:t.RGB9_E5,rgb10a2unorm:t.RGB10_A2,rg11b10ufloat:t.R11F_G11F_B10F,rg32uint:t.RG32UI,rg32sint:t.RG32I,rg32float:t.RG32F,rgba16uint:t.RGBA16UI,rgba16sint:t.RGBA16I,rgba16float:t.RGBA16F,rgba32uint:t.RGBA32UI,rgba32sint:t.RGBA32I,rgba32float:t.RGBA32F,stencil8:t.STENCIL_INDEX8,depth16unorm:t.DEPTH_COMPONENT16,depth24plus:t.DEPTH_COMPONENT24,"depth24plus-stencil8":t.DEPTH24_STENCIL8,depth32float:t.DEPTH_COMPONENT32F,"depth32float-stencil8":t.DEPTH32F_STENCIL8,...e.s3tc?{"bc1-rgba-unorm":e.s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT,"bc2-rgba-unorm":e.s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT,"bc3-rgba-unorm":e.s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT}:{},...e.s3tc_sRGB?{"bc1-rgba-unorm-srgb":e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,"bc2-rgba-unorm-srgb":e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,"bc3-rgba-unorm-srgb":e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}:{},...e.rgtc?{"bc4-r-unorm":e.rgtc.COMPRESSED_RED_RGTC1_EXT,"bc4-r-snorm":e.rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT,"bc5-rg-unorm":e.rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT,"bc5-rg-snorm":e.rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}:{},...e.bptc?{"bc6h-rgb-float":e.bptc.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,"bc6h-rgb-ufloat":e.bptc.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,"bc7-rgba-unorm":e.bptc.COMPRESSED_RGBA_BPTC_UNORM_EXT,"bc7-rgba-unorm-srgb":e.bptc.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT}:{},...e.etc?{"etc2-rgb8unorm":e.etc.COMPRESSED_RGB8_ETC2,"etc2-rgb8unorm-srgb":e.etc.COMPRESSED_SRGB8_ETC2,"etc2-rgb8a1unorm":e.etc.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgb8a1unorm-srgb":e.etc.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgba8unorm":e.etc.COMPRESSED_RGBA8_ETC2_EAC,"etc2-rgba8unorm-srgb":e.etc.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,"eac-r11unorm":e.etc.COMPRESSED_R11_EAC,"eac-rg11unorm":e.etc.COMPRESSED_SIGNED_RG11_EAC}:{},...e.astc?{"astc-4x4-unorm":e.astc.COMPRESSED_RGBA_ASTC_4x4_KHR,"astc-4x4-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,"astc-5x4-unorm":e.astc.COMPRESSED_RGBA_ASTC_5x4_KHR,"astc-5x4-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR,"astc-5x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_5x5_KHR,"astc-5x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,"astc-6x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_6x5_KHR,"astc-6x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,"astc-6x6-unorm":e.astc.COMPRESSED_RGBA_ASTC_6x6_KHR,"astc-6x6-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,"astc-8x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_8x5_KHR,"astc-8x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,"astc-8x6-unorm":e.astc.COMPRESSED_RGBA_ASTC_8x6_KHR,"astc-8x6-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,"astc-8x8-unorm":e.astc.COMPRESSED_RGBA_ASTC_8x8_KHR,"astc-8x8-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,"astc-10x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x5_KHR,"astc-10x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,"astc-10x6-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x6_KHR,"astc-10x6-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,"astc-10x8-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x8_KHR,"astc-10x8-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,"astc-10x10-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x10_KHR,"astc-10x10-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,"astc-12x10-unorm":e.astc.COMPRESSED_RGBA_ASTC_12x10_KHR,"astc-12x10-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,"astc-12x12-unorm":e.astc.COMPRESSED_RGBA_ASTC_12x12_KHR,"astc-12x12-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR}:{}}}function she(t){return{r8unorm:t.UNSIGNED_BYTE,r8snorm:t.BYTE,r8uint:t.UNSIGNED_BYTE,r8sint:t.BYTE,r16uint:t.UNSIGNED_SHORT,r16sint:t.SHORT,r16float:t.HALF_FLOAT,rg8unorm:t.UNSIGNED_BYTE,rg8snorm:t.BYTE,rg8uint:t.UNSIGNED_BYTE,rg8sint:t.BYTE,r32uint:t.UNSIGNED_INT,r32sint:t.INT,r32float:t.FLOAT,rg16uint:t.UNSIGNED_SHORT,rg16sint:t.SHORT,rg16float:t.HALF_FLOAT,rgba8unorm:t.UNSIGNED_BYTE,"rgba8unorm-srgb":t.UNSIGNED_BYTE,rgba8snorm:t.BYTE,rgba8uint:t.UNSIGNED_BYTE,rgba8sint:t.BYTE,bgra8unorm:t.UNSIGNED_BYTE,"bgra8unorm-srgb":t.UNSIGNED_BYTE,rgb9e5ufloat:t.UNSIGNED_INT_5_9_9_9_REV,rgb10a2unorm:t.UNSIGNED_INT_2_10_10_10_REV,rg11b10ufloat:t.UNSIGNED_INT_10F_11F_11F_REV,rg32uint:t.UNSIGNED_INT,rg32sint:t.INT,rg32float:t.FLOAT,rgba16uint:t.UNSIGNED_SHORT,rgba16sint:t.SHORT,rgba16float:t.HALF_FLOAT,rgba32uint:t.UNSIGNED_INT,rgba32sint:t.INT,rgba32float:t.FLOAT,stencil8:t.UNSIGNED_BYTE,depth16unorm:t.UNSIGNED_SHORT,depth24plus:t.UNSIGNED_INT,"depth24plus-stencil8":t.UNSIGNED_INT_24_8,depth32float:t.FLOAT,"depth32float-stencil8":t.FLOAT_32_UNSIGNED_INT_24_8_REV}}const ahe=4;class _6{constructor(e){this.managedTextures=[],this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundTextures=[],this._activeTextureLocation=-1,this._boundSamplers=Object.create(null),this._uploads={image:y6,buffer:Jde,video:the,compressed:ehe},this._premultiplyAlpha=!1,this._useSeparateSamplers=!1,this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_glTextures"),this._renderer.renderableGC.addManagedHash(this,"_glSamplers")}contextChange(e){this._gl=e,this._mapFormatToInternalFormat||(this._mapFormatToInternalFormat=ohe(e,this._renderer.context.extensions),this._mapFormatToType=she(e),this._mapFormatToFormat=ihe(e)),this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundSamplers=Object.create(null),this._premultiplyAlpha=!1;for(let n=0;n<16;n++)this.bind(Ae.EMPTY,n)}initSource(e){this.bind(e)}bind(e,n=0){const r=e.source;e?(this.bindSource(r,n),this._useSeparateSamplers&&this._bindSampler(r.style,n)):(this.bindSource(null,n),this._useSeparateSamplers&&this._bindSampler(null,n))}bindSource(e,n=0){const r=this._gl;if(e._touched=this._renderer.textureGC.count,this._boundTextures[n]!==e){this._boundTextures[n]=e,this._activateLocation(n),e||(e=Ae.EMPTY.source);const i=this.getGlSource(e);r.bindTexture(i.target,i.texture)}}_bindSampler(e,n=0){const r=this._gl;if(!e){this._boundSamplers[n]=null,r.bindSampler(n,null);return}const i=this._getGlSampler(e);this._boundSamplers[n]!==i&&(this._boundSamplers[n]=i,r.bindSampler(n,i))}unbind(e){const n=e.source,r=this._boundTextures,i=this._gl;for(let o=0;o<r.length;o++)if(r[o]===n){this._activateLocation(o);const s=this.getGlSource(n);i.bindTexture(s.target,null),r[o]=null}}_activateLocation(e){this._activeTextureLocation!==e&&(this._activeTextureLocation=e,this._gl.activeTexture(this._gl.TEXTURE0+e))}_initSource(e){const n=this._gl,r=new Zde(n.createTexture());if(r.type=this._mapFormatToType[e.format],r.internalFormat=this._mapFormatToInternalFormat[e.format],r.format=this._mapFormatToFormat[e.format],e.autoGenerateMipmaps&&(this._renderer.context.supports.nonPowOf2mipmaps||e.isPowerOfTwo)){const i=Math.max(e.width,e.height);e.mipLevelCount=Math.floor(Math.log2(i))+1}return this._glTextures[e.uid]=r,this.managedTextures.includes(e)||(e.on("update",this.onSourceUpdate,this),e.on("resize",this.onSourceUpdate,this),e.on("styleChange",this.onStyleChange,this),e.on("destroy",this.onSourceDestroy,this),e.on("unload",this.onSourceUnload,this),e.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(e)),this.onSourceUpdate(e),this.updateStyle(e,!1),r}onStyleChange(e){this.updateStyle(e,!1)}updateStyle(e,n){const r=this._gl,i=this.getGlSource(e);r.bindTexture(r.TEXTURE_2D,i.texture),this._boundTextures[this._activeTextureLocation]=e,aP(e.style,r,e.mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"texParameteri",r.TEXTURE_2D,!this._renderer.context.supports.nonPowOf2wrapping&&!e.isPowerOfTwo,n)}onSourceUnload(e){const n=this._glTextures[e.uid];n&&(this.unbind(e),this._glTextures[e.uid]=null,this._gl.deleteTexture(n.texture))}onSourceUpdate(e){const n=this._gl,r=this.getGlSource(e);n.bindTexture(n.TEXTURE_2D,r.texture),this._boundTextures[this._activeTextureLocation]=e;const i=e.alphaMode==="premultiply-alpha-on-upload";this._premultiplyAlpha!==i&&(this._premultiplyAlpha=i,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i)),this._uploads[e.uploadMethodId]?this._uploads[e.uploadMethodId].upload(e,r,n,this._renderer.context.webGLVersion):n.texImage2D(n.TEXTURE_2D,0,n.RGBA,e.pixelWidth,e.pixelHeight,0,n.RGBA,n.UNSIGNED_BYTE,null),e.autoGenerateMipmaps&&e.mipLevelCount>1&&this.onUpdateMipmaps(e,!1)}onUpdateMipmaps(e,n=!0){n&&this.bindSource(e,0);const r=this.getGlSource(e);this._gl.generateMipmap(r.target)}onSourceDestroy(e){e.off("destroy",this.onSourceDestroy,this),e.off("update",this.onSourceUpdate,this),e.off("resize",this.onSourceUpdate,this),e.off("unload",this.onSourceUnload,this),e.off("styleChange",this.onStyleChange,this),e.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(e),1),this.onSourceUnload(e)}_initSampler(e){const n=this._gl,r=this._gl.createSampler();return this._glSamplers[e._resourceId]=r,aP(e,n,this._boundTextures[this._activeTextureLocation].mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"samplerParameteri",r,!1,!0),this._glSamplers[e._resourceId]}_getGlSampler(e){return this._glSamplers[e._resourceId]||this._initSampler(e)}getGlSource(e){return this._glTextures[e.uid]||this._initSource(e)}generateCanvas(e){const{pixels:n,width:r,height:i}=this.getPixels(e),o=je.get().createCanvas();o.width=r,o.height=i;const s=o.getContext("2d");if(s){const a=s.createImageData(r,i);a.data.set(n),s.putImageData(a,0,0)}return o}getPixels(e){const n=e.source.resolution,r=e.frame,i=Math.max(Math.round(r.width*n),1),o=Math.max(Math.round(r.height*n),1),s=new Uint8Array(ahe*i*o),a=this._renderer,l=a.renderTarget.getRenderTarget(e),u=a.renderTarget.getGpuRenderTarget(l),c=a.gl;return c.bindFramebuffer(c.FRAMEBUFFER,u.resolveTargetFramebuffer),c.readPixels(Math.round(r.x*n),Math.round(r.y*n),i,o,c.RGBA,c.UNSIGNED_BYTE,s),{pixels:new Uint8ClampedArray(s.buffer),width:i,height:o}}destroy(){this.managedTextures.slice().forEach(e=>this.onSourceDestroy(e)),this.managedTextures=null,this._renderer=null}resetState(){this._activeTextureLocation=-1,this._boundTextures.fill(Ae.EMPTY.source),this._boundSamplers=Object.create(null);const e=this._gl;this._premultiplyAlpha=!1,e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiplyAlpha)}}_6.extension={type:[V.WebGLSystem],name:"texture"};class b6{contextChange(e){const n=new gr({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new Oe,type:"mat3x3<f32>"},uRound:{value:0,type:"f32"}}),r=e.limits.maxBatchableTextures,i=Wd({name:"graphics",bits:[Kw,Zw(r),cE,Xd]});this.shader=new yi({glProgram:i,resources:{localUniforms:n,batchSamplers:Jw(r)}})}execute(e,n){const r=n.context,i=r.customShader||this.shader,o=e.renderer,s=o.graphicsContext,{batcher:a,instructions:l}=s.getContextRenderData(r);i.groups[0]=o.globalUniforms.bindGroup,o.state.set(e.state),o.shader.bind(i),o.geometry.bind(a.geometry,i.glProgram);const u=l.instructions;for(let c=0;c<l.instructionSize;c++){const f=u[c];if(f.size){for(let d=0;d<f.textures.count;d++)o.texture.bind(f.textures.textures[d],d);o.geometry.draw(f.topology,f.size,f.start)}}}destroy(){this.shader.destroy(!0),this.shader=null}}b6.extension={type:[V.WebGLPipesAdaptor],name:"graphics"};class x6{init(){const e=Wd({name:"mesh",bits:[cE,hde,Xd]});this._shader=new yi({glProgram:e,resources:{uTexture:Ae.EMPTY.source,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new Oe}}}})}execute(e,n){const r=e.renderer;let i=n._shader;if(i){if(!i.glProgram){Ne("Mesh shader has no glProgram",n.shader);return}}else{i=this._shader;const o=n.texture,s=o.source;i.resources.uTexture=s,i.resources.uSampler=s.style,i.resources.textureUniforms.uniforms.uTextureMatrix=o.textureMatrix.mapCoord}i.groups[100]=r.globalUniforms.bindGroup,i.groups[101]=e.localUniformsBindGroup,r.encoder.draw({geometry:n._geometry,shader:i,state:n.state})}destroy(){this._shader.destroy(!0),this._shader=null}}x6.extension={type:[V.WebGLPipesAdaptor],name:"mesh"};class w6{constructor(e){this._renderer=e}updateRenderable(){}destroyRenderable(){}validateRenderable(){return!1}addRenderable(e,n){this._renderer.renderPipes.batch.break(n),n.add(e)}execute(e){e.isRenderable&&e.render(this._renderer)}destroy(){this._renderer=null}}w6.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"customRender"};class Zg{constructor(){this.batcherName="default",this.topology="triangle-list",this.attributeSize=4,this.indexSize=6,this.packAsQuad=!0,this.roundPixels=0,this._attributeStart=0,this._batcher=null,this._batch=null}get blendMode(){return this.renderable.groupBlendMode}get color(){return this.renderable.groupColorAlpha}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.bounds=null}destroy(){}}function Y_(t,e){const n=t.instructionSet,r=n.instructions;for(let i=0;i<n.instructionSize;i++){const o=r[i];e[o.renderPipeId].execute(o)}}const lhe=new Oe;class E6{constructor(e){this._renderer=e}addRenderGroup(e,n){e.isCachedAsTexture?this._addRenderableCacheAsTexture(e,n):this._addRenderableDirect(e,n)}execute(e){e.isRenderable&&(e.isCachedAsTexture?this._executeCacheAsTexture(e):this._executeDirect(e))}destroy(){this._renderer=null}_addRenderableDirect(e,n){this._renderer.renderPipes.batch.break(n),e._batchableRenderGroup&&(Hn.return(e._batchableRenderGroup),e._batchableRenderGroup=null),n.add(e)}_addRenderableCacheAsTexture(e,n){const r=e._batchableRenderGroup??(e._batchableRenderGroup=Hn.get(Zg));r.renderable=e.root,r.transform=e.root.relativeGroupTransform,r.texture=e.texture,r.bounds=e._textureBounds,n.add(e),this._renderer.renderPipes.batch.addToBatch(r,n)}_executeCacheAsTexture(e){if(e.textureNeedsUpdate){e.textureNeedsUpdate=!1;const n=lhe.identity().translate(-e._textureBounds.x,-e._textureBounds.y);this._renderer.renderTarget.push(e.texture,!0,null,e.texture.frame),this._renderer.globalUniforms.push({worldTransformMatrix:n,worldColor:4294967295}),Y_(e,this._renderer.renderPipes),this._renderer.renderTarget.finishRenderPass(),this._renderer.renderTarget.pop(),this._renderer.globalUniforms.pop()}e._batchableRenderGroup._batcher.updateElement(e._batchableRenderGroup),e._batchableRenderGroup._batcher.geometry.buffers[0].update()}_executeDirect(e){this._renderer.globalUniforms.push({worldTransformMatrix:e.inverseParentTextureTransform,worldColor:e.worldColorAlpha}),Y_(e,this._renderer.renderPipes),this._renderer.globalUniforms.pop()}}E6.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"renderGroup"};function X_(t,e){e||(e=0);for(let n=e;n<t.length&&t[n];n++)t[n]=null}const uhe=new Xr,lP=wf|g0|Uw;function S6(t,e=!1){che(t);const n=t.childrenToUpdate,r=t.updateTick++;for(const i in n){const o=Number(i),s=n[i],a=s.list,l=s.index;for(let u=0;u<l;u++){const c=a[u];c.parentRenderGroup===t&&c.relativeRenderGroupDepth===o&&C6(c,r,0)}X_(a,l),s.index=0}if(e)for(let i=0;i<t.renderGroupChildren.length;i++)S6(t.renderGroupChildren[i],e)}function che(t){const e=t.root;let n;if(t.renderGroupParent){const r=t.renderGroupParent;t.worldTransform.appendFrom(e.relativeGroupTransform,r.worldTransform),t.worldColor=p0(e.groupColor,r.worldColor),n=e.groupAlpha*r.worldAlpha}else t.worldTransform.copyFrom(e.localTransform),t.worldColor=e.localColor,n=e.localAlpha;n=n<0?0:n>1?1:n,t.worldAlpha=n,t.worldColorAlpha=t.worldColor+((n*255|0)<<24)}function C6(t,e,n){if(e===t.updateTick)return;t.updateTick=e,t.didChange=!1;const r=t.localTransform;t.updateLocalTransform();const i=t.parent;if(i&&!i.renderGroup?(n|=t._updateFlags,t.relativeGroupTransform.appendFrom(r,i.relativeGroupTransform),n&lP&&uP(t,i,n)):(n=t._updateFlags,t.relativeGroupTransform.copyFrom(r),n&lP&&uP(t,uhe,n)),!t.renderGroup){const o=t.children,s=o.length;for(let u=0;u<s;u++)C6(o[u],e,n);const a=t.parentRenderGroup,l=t;l.renderPipeId&&!a.structureDidChange&&a.updateRenderable(l)}}function uP(t,e,n){if(n&g0){t.groupColor=p0(t.localColor,e.groupColor);let r=t.localAlpha*e.groupAlpha;r=r<0?0:r>1?1:r,t.groupAlpha=r,t.groupColorAlpha=t.groupColor+((r*255|0)<<24)}n&Uw&&(t.groupBlendMode=t.localBlendMode==="inherit"?e.groupBlendMode:t.localBlendMode),n&wf&&(t.globalDisplayStatus=t.localDisplayStatus&e.globalDisplayStatus),t._updateFlags=0}function fhe(t,e){const{list:n,index:r}=t.childrenRenderablesToUpdate;let i=!1;for(let o=0;o<r;o++){const s=n[o];if(i=e[s.renderPipeId].validateRenderable(s),i)break}return t.structureDidChange=i,i}const dhe=new Oe;class A6{constructor(e){this._renderer=e}render({container:e,transform:n}){const r=e.parent,i=e.renderGroup.renderGroupParent;e.parent=null,e.renderGroup.renderGroupParent=null;const o=this._renderer;let s=dhe;n&&(s=s.copyFrom(e.renderGroup.localTransform),e.renderGroup.localTransform.copyFrom(n));const a=o.renderPipes;this._updateCachedRenderGroups(e.renderGroup,null),this._updateRenderGroups(e.renderGroup),o.globalUniforms.start({worldTransformMatrix:n?e.renderGroup.localTransform:e.renderGroup.worldTransform,worldColor:e.renderGroup.worldColorAlpha}),Y_(e.renderGroup,a),a.uniformBatch&&a.uniformBatch.renderEnd(),n&&e.renderGroup.localTransform.copyFrom(s),e.parent=r,e.renderGroup.renderGroupParent=i}destroy(){this._renderer=null}_updateCachedRenderGroups(e,n){if(e.isCachedAsTexture){if(!e.updateCacheTexture)return;n=e}e._parentCacheAsTextureRenderGroup=n;for(let r=e.renderGroupChildren.length-1;r>=0;r--)this._updateCachedRenderGroups(e.renderGroupChildren[r],n);if(e.invalidateMatrices(),e.isCachedAsTexture){if(e.textureNeedsUpdate){const r=e.root.getLocalBounds();r.ceil();const i=e.texture;e.texture&&un.returnTexture(e.texture,!0);const o=this._renderer,s=e.textureOptions.resolution||o.view.resolution,a=e.textureOptions.antialias??o.view.antialias,l=e.textureOptions.scaleMode??"linear",u=un.getOptimalTexture(r.width,r.height,s,a);u._source.style=new vo({scaleMode:l}),e.texture=u,e._textureBounds||(e._textureBounds=new Vn),e._textureBounds.copyFrom(r),i!==e.texture&&e.renderGroupParent&&(e.renderGroupParent.structureDidChange=!0)}}else e.texture&&(un.returnTexture(e.texture,!0),e.texture=null)}_updateRenderGroups(e){const n=this._renderer,r=n.renderPipes;if(e.runOnRender(n),e.instructionSet.renderPipes=r,e.structureDidChange?X_(e.childrenRenderablesToUpdate.list,0):fhe(e,r),S6(e),e.structureDidChange?(e.structureDidChange=!1,this._buildInstructions(e,n)):this._updateRenderables(e),e.childrenRenderablesToUpdate.index=0,n.renderPipes.batch.upload(e.instructionSet),!(e.isCachedAsTexture&&!e.textureNeedsUpdate))for(let i=0;i<e.renderGroupChildren.length;i++)this._updateRenderGroups(e.renderGroupChildren[i])}_updateRenderables(e){const{list:n,index:r}=e.childrenRenderablesToUpdate;for(let i=0;i<r;i++){const o=n[i];o.didViewUpdate&&e.updateRenderable(o)}X_(n,r)}_buildInstructions(e,n){const r=e.root,i=e.instructionSet;i.reset();const o=n.renderPipes?n:n.batch.renderer,s=o.renderPipes;s.batch.buildStart(i),s.blendMode.buildStart(),s.colorMask.buildStart(),r.sortableChildren&&r.sortChildren(),r.collectRenderablesWithEffects(i,o,null),s.batch.buildEnd(i),s.blendMode.buildEnd(i)}}A6.extension={type:[V.WebGLSystem,V.WebGPUSystem,V.CanvasSystem],name:"renderGroup"};class T6{constructor(e){this._renderer=e}addRenderable(e,n){const r=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,r),this._renderer.renderPipes.batch.addToBatch(r,n)}updateRenderable(e){const n=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,n),n._batcher.updateElement(n)}validateRenderable(e){const n=this._getGpuSprite(e);return!n._batcher.checkAndUpdateTexture(n,e._texture)}_updateBatchableSprite(e,n){n.bounds=e.visualBounds,n.texture=e._texture}_getGpuSprite(e){return e._gpuData[this._renderer.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const n=new Zg;return n.renderable=e,n.transform=e.groupTransform,n.texture=e._texture,n.bounds=e.visualBounds,n.roundPixels=this._renderer._roundPixels|e._roundPixels,e._gpuData[this._renderer.uid]=n,n}destroy(){this._renderer=null}}T6.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"sprite"};const pE=class P6{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Rt(0),this.color=this._backgroundColor,this.alpha=1}init(e){e={...P6.defaultOptions,...e},this.clearBeforeRender=e.clearBeforeRender,this.color=e.background||e.backgroundColor||this._backgroundColor,this.alpha=e.backgroundAlpha,this._backgroundColor.setAlpha(e.backgroundAlpha)}get color(){return this._backgroundColor}set color(e){Rt.shared.setValue(e).alpha<1&&this._backgroundColor.alpha===1&&Ne("Cannot set a transparent background on an opaque canvas. To enable transparency, set backgroundAlpha < 1 when initializing your Application."),this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get colorRgba(){return this._backgroundColor.toArray()}destroy(){}};pE.extension={type:[V.WebGLSystem,V.WebGPUSystem,V.CanvasSystem],name:"background",priority:0};pE.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};let hhe=pE;const Pf={};$e.handle(V.BlendMode,t=>{if(!t.name)throw new Error("BlendMode extension must have a name property");Pf[t.name]=t.ref},t=>{delete Pf[t.name]});class I6{constructor(e){this._isAdvanced=!1,this._filterHash=Object.create(null),this._renderer=e,this._renderer.runners.prerender.add(this)}prerender(){this._activeBlendMode="normal",this._isAdvanced=!1}setBlendMode(e,n,r){if(this._activeBlendMode===n){this._isAdvanced&&this._renderableList.push(e);return}this._activeBlendMode=n,this._isAdvanced&&this._endAdvancedBlendMode(r),this._isAdvanced=!!Pf[n],this._isAdvanced&&(this._beginAdvancedBlendMode(r),this._renderableList.push(e))}_beginAdvancedBlendMode(e){this._renderer.renderPipes.batch.break(e);const n=this._activeBlendMode;if(!Pf[n]){Ne(`Unable to assign BlendMode: '${n}'. You may want to include: import 'pixi.js/advanced-blend-modes'`);return}let r=this._filterHash[n];r||(r=this._filterHash[n]=new h0,r.filters=[new Pf[n]]);const i={renderPipeId:"filter",action:"pushFilter",renderables:[],filterEffect:r,canBundle:!1};this._renderableList=i.renderables,e.add(i)}_endAdvancedBlendMode(e){this._renderableList=null,this._renderer.renderPipes.batch.break(e),e.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}buildStart(){this._isAdvanced=!1}buildEnd(e){this._isAdvanced&&this._endAdvancedBlendMode(e)}destroy(){this._renderer=null,this._renderableList=null;for(const e in this._filterHash)this._filterHash[e].destroy();this._filterHash=null}}I6.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"blendMode"};const Hv={png:"image/png",jpg:"image/jpeg",webp:"image/webp"},gE=class O6{constructor(e){this._renderer=e}_normalizeOptions(e,n={}){return e instanceof Xr||e instanceof Ae?{target:e,...n}:{...n,...e}}async image(e){const n=je.get().createImage();return n.src=await this.base64(e),n}async base64(e){e=this._normalizeOptions(e,O6.defaultImageOptions);const{format:n,quality:r}=e,i=this.canvas(e);if(i.toBlob!==void 0)return new Promise((o,s)=>{i.toBlob(a=>{if(!a){s(new Error("ICanvas.toBlob failed!"));return}const l=new FileReader;l.onload=()=>o(l.result),l.onerror=s,l.readAsDataURL(a)},Hv[n],r)});if(i.toDataURL!==void 0)return i.toDataURL(Hv[n],r);if(i.convertToBlob!==void 0){const o=await i.convertToBlob({type:Hv[n],quality:r});return new Promise((s,a)=>{const l=new FileReader;l.onload=()=>s(l.result),l.onerror=a,l.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e){e=this._normalizeOptions(e);const n=e.target,r=this._renderer;if(n instanceof Ae)return r.texture.generateCanvas(n);const i=r.textureGenerator.generateTexture(e),o=r.texture.generateCanvas(i);return i.destroy(!0),o}pixels(e){e=this._normalizeOptions(e);const n=e.target,r=this._renderer,i=n instanceof Ae?n:r.textureGenerator.generateTexture(e),o=r.texture.getPixels(i);return n instanceof Xr&&i.destroy(!0),o}texture(e){return e=this._normalizeOptions(e),e.target instanceof Ae?e.target:this._renderer.textureGenerator.generateTexture(e)}download(e){e=this._normalizeOptions(e);const n=this.canvas(e),r=document.createElement("a");r.download=e.filename??"image.png",r.href=n.toDataURL("image/png"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}log(e){const n=e.width??200;e=this._normalizeOptions(e);const r=this.canvas(e),i=r.toDataURL();console.log(`[Pixi Texture] ${r.width}px ${r.height}px`);const o=["font-size: 1px;",`padding: ${n}px 300px;`,`background: url(${i}) no-repeat;`,"background-size: contain;"].join(" ");console.log("%c ",o)}destroy(){this._renderer=null}};gE.extension={type:[V.WebGLSystem,V.WebGPUSystem],name:"extract"};gE.defaultImageOptions={format:"png",quality:1};let phe=gE;class mE extends Ae{static create(e){return new mE({source:new Cn(e)})}resize(e,n,r){return this.source.resize(e,n,r),this}}const ghe=new vt,mhe=new Vn,vhe=[0,0,0,0];class R6{constructor(e){this._renderer=e}generateTexture(e){var u;e instanceof Xr&&(e={target:e,frame:void 0,textureSourceOptions:{},resolution:void 0});const n=e.resolution||this._renderer.resolution,r=e.antialias||this._renderer.view.antialias,i=e.target;let o=e.clearColor;o?o=Array.isArray(o)&&o.length===4?o:Rt.shared.setValue(o).toArray():o=vhe;const s=((u=e.frame)==null?void 0:u.copyTo(ghe))||$w(i,mhe).rectangle;s.width=Math.max(s.width,1/n)|0,s.height=Math.max(s.height,1/n)|0;const a=mE.create({...e.textureSourceOptions,width:s.width,height:s.height,resolution:n,antialias:r}),l=Oe.shared.translate(-s.x,-s.y);return this._renderer.render({container:i,transform:l,target:a,clearColor:o}),a.source.updateMipmaps(),a}destroy(){this._renderer=null}}R6.extension={type:[V.WebGLSystem,V.WebGPUSystem],name:"textureGenerator"};function Kd(t,e,n){const r=(t>>24&255)/255;e[n++]=(t&255)/255*r,e[n++]=(t>>8&255)/255*r,e[n++]=(t>>16&255)/255*r,e[n++]=r}class M6{constructor(e){this._stackIndex=0,this._globalUniformDataStack=[],this._uniformsPool=[],this._activeUniforms=[],this._bindGroupPool=[],this._activeBindGroups=[],this._renderer=e}reset(){this._stackIndex=0;for(let e=0;e<this._activeUniforms.length;e++)this._uniformsPool.push(this._activeUniforms[e]);for(let e=0;e<this._activeBindGroups.length;e++)this._bindGroupPool.push(this._activeBindGroups[e]);this._activeUniforms.length=0,this._activeBindGroups.length=0}start(e){this.reset(),this.push(e)}bind({size:e,projectionMatrix:n,worldTransformMatrix:r,worldColor:i,offset:o}){const s=this._renderer.renderTarget.renderTarget,a=this._stackIndex?this._globalUniformDataStack[this._stackIndex-1]:{projectionData:s,worldTransformMatrix:new Oe,worldColor:4294967295,offset:new Gt},l={projectionMatrix:n||this._renderer.renderTarget.projectionMatrix,resolution:e||s.size,worldTransformMatrix:r||a.worldTransformMatrix,worldColor:i||a.worldColor,offset:o||a.offset,bindGroup:null},u=this._uniformsPool.pop()||this._createUniforms();this._activeUniforms.push(u);const c=u.uniforms;c.uProjectionMatrix=l.projectionMatrix,c.uResolution=l.resolution,c.uWorldTransformMatrix.copyFrom(l.worldTransformMatrix),c.uWorldTransformMatrix.tx-=l.offset.x,c.uWorldTransformMatrix.ty-=l.offset.y,Kd(l.worldColor,c.uWorldColorAlpha,0),u.update();let f;this._renderer.renderPipes.uniformBatch?f=this._renderer.renderPipes.uniformBatch.getUniformBindGroup(u,!1):(f=this._bindGroupPool.pop()||new Xo,this._activeBindGroups.push(f),f.setResource(u,0)),l.bindGroup=f,this._currentGlobalUniformData=l}push(e){this.bind(e),this._globalUniformDataStack[this._stackIndex++]=this._currentGlobalUniformData}pop(){this._currentGlobalUniformData=this._globalUniformDataStack[--this._stackIndex-1],this._renderer.type===Kr.WEBGL&&this._currentGlobalUniformData.bindGroup.resources[0].update()}get bindGroup(){return this._currentGlobalUniformData.bindGroup}get globalUniformData(){return this._currentGlobalUniformData}get uniformGroup(){return this._currentGlobalUniformData.bindGroup.resources[0]}_createUniforms(){return new gr({uProjectionMatrix:{value:new Oe,type:"mat3x3<f32>"},uWorldTransformMatrix:{value:new Oe,type:"mat3x3<f32>"},uWorldColorAlpha:{value:new Float32Array(4),type:"vec4<f32>"},uResolution:{value:[0,0],type:"vec2<f32>"}},{isStatic:!0})}destroy(){this._renderer=null}}M6.extension={type:[V.WebGLSystem,V.WebGPUSystem,V.CanvasSystem],name:"globalUniforms"};let yhe=1;class D6{constructor(){this._tasks=[],this._offset=0}init(){Un.system.add(this._update,this)}repeat(e,n,r=!0){const i=yhe++;let o=0;return r&&(this._offset+=1e3,o=this._offset),this._tasks.push({func:e,duration:n,start:performance.now(),offset:o,last:performance.now(),repeat:!0,id:i}),i}cancel(e){for(let n=0;n<this._tasks.length;n++)if(this._tasks[n].id===e){this._tasks.splice(n,1);return}}_update(){const e=performance.now();for(let n=0;n<this._tasks.length;n++){const r=this._tasks[n];if(e-r.offset-r.last>=r.duration){const i=e-r.start;r.func(i),r.last=e}}}destroy(){Un.system.remove(this._update,this),this._tasks.length=0}}D6.extension={type:[V.WebGLSystem,V.WebGPUSystem,V.CanvasSystem],name:"scheduler",priority:0};let cP=!1;function _he(t){if(!cP){if(je.get().getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){const e=[`%c  %c  %c  %c  %c PixiJS %c v${v0} (${t}) http://www.pixijs.com/

`,"background: #E72264; padding:5px 0;","background: #6CA2EA; padding:5px 0;","background: #B5D33D; padding:5px 0;","background: #FED23F; padding:5px 0;","color: #FFFFFF; background: #E72264; padding:5px 0;","color: #E72264; background: #FFFFFF; padding:5px 0;"];globalThis.console.log(...e)}else globalThis.console&&globalThis.console.log(`PixiJS ${v0} - ${t} - http://www.pixijs.com/`);cP=!0}}class vE{constructor(e){this._renderer=e}init(e){if(e.hello){let n=this._renderer.name;this._renderer.type===Kr.WEBGL&&(n+=` ${this._renderer.context.webGLVersion}`),_he(n)}}}vE.extension={type:[V.WebGLSystem,V.WebGPUSystem,V.CanvasSystem],name:"hello",priority:-2};vE.defaultOptions={hello:!1};function bhe(t){let e=!1;for(const r in t)if(t[r]==null){e=!0;break}if(!e)return t;const n=Object.create(null);for(const r in t){const i=t[r];i&&(n[r]=i)}return n}function xhe(t){let e=0;for(let n=0;n<t.length;n++)t[n]==null?e++:t[n-e]=t[n];return t.length-=e,t}let whe=0;const yE=class B6{constructor(e){this._managedRenderables=[],this._managedHashes=[],this._managedArrays=[],this._renderer=e}init(e){e={...B6.defaultOptions,...e},this.maxUnusedTime=e.renderableGCMaxUnusedTime,this._frequency=e.renderableGCFrequency,this.enabled=e.renderableGCActive}get enabled(){return!!this._handler}set enabled(e){this.enabled!==e&&(e?(this._handler=this._renderer.scheduler.repeat(()=>this.run(),this._frequency,!1),this._hashHandler=this._renderer.scheduler.repeat(()=>{for(const n of this._managedHashes)n.context[n.hash]=bhe(n.context[n.hash])},this._frequency),this._arrayHandler=this._renderer.scheduler.repeat(()=>{for(const n of this._managedArrays)xhe(n.context[n.hash])},this._frequency)):(this._renderer.scheduler.cancel(this._handler),this._renderer.scheduler.cancel(this._hashHandler),this._renderer.scheduler.cancel(this._arrayHandler)))}addManagedHash(e,n){this._managedHashes.push({context:e,hash:n})}addManagedArray(e,n){this._managedArrays.push({context:e,hash:n})}prerender({container:e}){this._now=performance.now(),e.renderGroup.gcTick=whe++,this._updateInstructionGCTick(e.renderGroup,e.renderGroup.gcTick)}addRenderable(e){this.enabled&&(e._lastUsed===-1&&(this._managedRenderables.push(e),e.once("destroyed",this._removeRenderable,this)),e._lastUsed=this._now)}run(){var o;const e=this._now,n=this._managedRenderables,r=this._renderer.renderPipes;let i=0;for(let s=0;s<n.length;s++){const a=n[s];if(a===null){i++;continue}const l=a.renderGroup??a.parentRenderGroup,u=((o=l==null?void 0:l.instructionSet)==null?void 0:o.gcTick)??-1;if(((l==null?void 0:l.gcTick)??0)===u&&(a._lastUsed=e),e-a._lastUsed>this.maxUnusedTime){if(!a.destroyed){const c=r;l&&(l.structureDidChange=!0),c[a.renderPipeId].destroyRenderable(a)}a._lastUsed=-1,i++,a.off("destroyed",this._removeRenderable,this)}else n[s-i]=a}n.length-=i}destroy(){this.enabled=!1,this._renderer=null,this._managedRenderables.length=0,this._managedHashes.length=0,this._managedArrays.length=0}_removeRenderable(e){const n=this._managedRenderables.indexOf(e);n>=0&&(e.off("destroyed",this._removeRenderable,this),this._managedRenderables[n]=null)}_updateInstructionGCTick(e,n){e.instructionSet.gcTick=n;for(const r of e.renderGroupChildren)this._updateInstructionGCTick(r,n)}};yE.extension={type:[V.WebGLSystem,V.WebGPUSystem],name:"renderableGC",priority:0};yE.defaultOptions={renderableGCActive:!0,renderableGCMaxUnusedTime:6e4,renderableGCFrequency:3e4};let Ehe=yE;const _E=class k6{constructor(e){this._renderer=e,this.count=0,this.checkCount=0}init(e){e={...k6.defaultOptions,...e},this.checkCountMax=e.textureGCCheckCountMax,this.maxIdle=e.textureGCAMaxIdle??e.textureGCMaxIdle,this.active=e.textureGCActive}postrender(){this._renderer.renderingToScreen&&(this.count++,this.active&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this._renderer.texture.managedTextures;for(let n=0;n<e.length;n++){const r=e[n];r.autoGarbageCollect&&r.resource&&r._touched>-1&&this.count-r._touched>this.maxIdle&&(r._touched=-1,r.unload())}}destroy(){this._renderer=null}};_E.extension={type:[V.WebGLSystem,V.WebGPUSystem],name:"textureGC"};_E.defaultOptions={textureGCActive:!0,textureGCAMaxIdle:null,textureGCMaxIdle:60*60,textureGCCheckCountMax:600};let She=_E;const bE=class N6{get autoDensity(){return this.texture.source.autoDensity}set autoDensity(e){this.texture.source.autoDensity=e}get resolution(){return this.texture.source._resolution}set resolution(e){this.texture.source.resize(this.texture.source.width,this.texture.source.height,e)}init(e){e={...N6.defaultOptions,...e},e.view&&(Fe(rt,"ViewSystem.view has been renamed to ViewSystem.canvas"),e.canvas=e.view),this.screen=new vt(0,0,e.width,e.height),this.canvas=e.canvas||je.get().createCanvas(),this.antialias=!!e.antialias,this.texture=l6(this.canvas,e),this.renderTarget=new j_({colorTextures:[this.texture],depth:!!e.depth,isRoot:!0}),this.texture.source.transparent=e.backgroundAlpha<1,this.resolution=e.resolution}resize(e,n,r){this.texture.source.resize(e,n,r),this.screen.width=this.texture.frame.width,this.screen.height=this.texture.frame.height}destroy(e=!1){(typeof e=="boolean"?e:!!(e!=null&&e.removeView))&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}};bE.extension={type:[V.WebGLSystem,V.WebGPUSystem,V.CanvasSystem],name:"view",priority:0};bE.defaultOptions={width:800,height:600,autoDensity:!1,antialias:!1};let Che=bE;const F6=[hhe,M6,vE,Che,A6,She,R6,phe,J8,Ehe,D6],L6=[I6,Vk,T6,E6,zk,Wk,jk,w6],Ahe=[...F6,a6,wde,vde,t6,Yk,_6,d6,Zk,m6,g6,e6,qde,n6,Qk],The=[...L6],Phe=[Uk,x6,b6],$6=[],U6=[],G6=[];$e.handleByNamedList(V.WebGLSystem,$6);$e.handleByNamedList(V.WebGLPipes,U6);$e.handleByNamedList(V.WebGLPipesAdaptor,G6);$e.add(...Ahe,...The,...Phe);class Ihe extends Yg{constructor(){const e={name:"webgl",type:Kr.WEBGL,systems:$6,renderPipes:U6,renderPipeAdaptors:G6};super(e)}}const Ohe=Object.freeze(Object.defineProperty({__proto__:null,WebGLRenderer:Ihe},Symbol.toStringTag,{value:"Module"}));class H6{constructor(e){this._hash=Object.create(null),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_hash")}contextChange(e){this._gpu=e}getBindGroup(e,n,r){return e._updateKey(),this._hash[e._key]||this._createBindGroup(e,n,r)}_createBindGroup(e,n,r){const i=this._gpu.device,o=n.layout[r],s=[],a=this._renderer;for(const c in o){const f=e.resources[c]??e.resources[o[c]];let d;if(f._resourceType==="uniformGroup"){const h=f;a.ubo.updateUniformGroup(h);const p=h.buffer;d={buffer:a.buffer.getGPUBuffer(p),offset:0,size:p.descriptor.size}}else if(f._resourceType==="buffer"){const h=f;d={buffer:a.buffer.getGPUBuffer(h),offset:0,size:h.descriptor.size}}else if(f._resourceType==="bufferResource"){const h=f;d={buffer:a.buffer.getGPUBuffer(h.buffer),offset:h.offset,size:h.size}}else if(f._resourceType==="textureSampler"){const h=f;d=a.texture.getGpuSampler(h)}else if(f._resourceType==="textureSource"){const h=f;d=a.texture.getGpuSource(h).createView({})}s.push({binding:o[c],resource:d})}const l=a.shader.getProgramData(n).bindGroups[r],u=i.createBindGroup({layout:l,entries:s});return this._hash[e._key]=u,u}destroy(){for(const e of Object.keys(this._hash))this._hash[e]=null;this._hash=null,this._renderer=null}}H6.extension={type:[V.WebGPUSystem],name:"bindGroup"};class V6{constructor(e){this._gpuBuffers=Object.create(null),this._managedBuffers=[],e.renderableGC.addManagedHash(this,"_gpuBuffers")}contextChange(e){this._gpu=e}getGPUBuffer(e){return this._gpuBuffers[e.uid]||this.createGPUBuffer(e)}updateBuffer(e){const n=this._gpuBuffers[e.uid]||this.createGPUBuffer(e),r=e.data;return e._updateID&&r&&(e._updateID=0,this._gpu.device.queue.writeBuffer(n,0,r.buffer,0,(e._updateSize||r.byteLength)+3&-4)),n}destroyAll(){for(const e in this._gpuBuffers)this._gpuBuffers[e].destroy();this._gpuBuffers={}}createGPUBuffer(e){this._gpuBuffers[e.uid]||(e.on("update",this.updateBuffer,this),e.on("change",this.onBufferChange,this),e.on("destroy",this.onBufferDestroy,this),this._managedBuffers.push(e));const n=this._gpu.device.createBuffer(e.descriptor);return e._updateID=0,e.data&&(N_(e.data.buffer,n.getMappedRange()),n.unmap()),this._gpuBuffers[e.uid]=n,n}onBufferChange(e){this._gpuBuffers[e.uid].destroy(),e._updateID=0,this._gpuBuffers[e.uid]=this.createGPUBuffer(e)}onBufferDestroy(e){this._managedBuffers.splice(this._managedBuffers.indexOf(e),1),this._destroyBuffer(e)}destroy(){this._managedBuffers.forEach(e=>this._destroyBuffer(e)),this._managedBuffers=null,this._gpuBuffers=null}_destroyBuffer(e){this._gpuBuffers[e.uid].destroy(),e.off("update",this.updateBuffer,this),e.off("change",this.onBufferChange,this),e.off("destroy",this.onBufferDestroy,this),this._gpuBuffers[e.uid]=null}}V6.extension={type:[V.WebGPUSystem],name:"buffer"};class Rhe{constructor({minUniformOffsetAlignment:e}){this._minUniformOffsetAlignment=256,this.byteIndex=0,this._minUniformOffsetAlignment=e,this.data=new Float32Array(65535)}clear(){this.byteIndex=0}addEmptyGroup(e){if(e>this._minUniformOffsetAlignment/4)throw new Error(`UniformBufferBatch: array is too large: ${e*4}`);const n=this.byteIndex;let r=n+e*4;if(r=Math.ceil(r/this._minUniformOffsetAlignment)*this._minUniformOffsetAlignment,r>this.data.length*4)throw new Error("UniformBufferBatch: ubo batch got too big");return this.byteIndex=r,n}addGroup(e){const n=this.addEmptyGroup(e.length);for(let r=0;r<e.length;r++)this.data[n/4+r]=e[r];return n}destroy(){this.data=null}}class z6{constructor(e){this._colorMaskCache=15,this._renderer=e}setMask(e){this._colorMaskCache!==e&&(this._colorMaskCache=e,this._renderer.pipeline.setColorMask(e))}destroy(){this._renderer=null,this._colorMaskCache=null}}z6.extension={type:[V.WebGPUSystem],name:"colorMask"};class xE{constructor(e){this._renderer=e}async init(e){return this._initPromise?this._initPromise:(this._initPromise=(e.gpu?Promise.resolve(e.gpu):this._createDeviceAndAdaptor(e)).then(n=>{this.gpu=n,this._renderer.runners.contextChange.emit(this.gpu)}),this._initPromise)}contextChange(e){this._renderer.gpu=e}async _createDeviceAndAdaptor(e){const n=await je.get().getNavigator().gpu.requestAdapter({powerPreference:e.powerPreference,forceFallbackAdapter:e.forceFallbackAdapter}),r=["texture-compression-bc","texture-compression-astc","texture-compression-etc2"].filter(o=>n.features.has(o)),i=await n.requestDevice({requiredFeatures:r});return{adapter:n,device:i}}destroy(){this.gpu=null,this._renderer=null}}xE.extension={type:[V.WebGPUSystem],name:"device"};xE.defaultOptions={powerPreference:void 0,forceFallbackAdapter:!1};class j6{constructor(e){this._boundBindGroup=Object.create(null),this._boundVertexBuffer=Object.create(null),this._renderer=e}renderStart(){this.commandFinished=new Promise(e=>{this._resolveCommandFinished=e}),this.commandEncoder=this._renderer.gpu.device.createCommandEncoder()}beginRenderPass(e){this.endRenderPass(),this._clearCache(),this.renderPassEncoder=this.commandEncoder.beginRenderPass(e.descriptor)}endRenderPass(){this.renderPassEncoder&&this.renderPassEncoder.end(),this.renderPassEncoder=null}setViewport(e){this.renderPassEncoder.setViewport(e.x,e.y,e.width,e.height,0,1)}setPipelineFromGeometryProgramAndState(e,n,r,i){const o=this._renderer.pipeline.getPipeline(e,n,r,i);this.setPipeline(o)}setPipeline(e){this._boundPipeline!==e&&(this._boundPipeline=e,this.renderPassEncoder.setPipeline(e))}_setVertexBuffer(e,n){this._boundVertexBuffer[e]!==n&&(this._boundVertexBuffer[e]=n,this.renderPassEncoder.setVertexBuffer(e,this._renderer.buffer.updateBuffer(n)))}_setIndexBuffer(e){if(this._boundIndexBuffer===e)return;this._boundIndexBuffer=e;const n=e.data.BYTES_PER_ELEMENT===2?"uint16":"uint32";this.renderPassEncoder.setIndexBuffer(this._renderer.buffer.updateBuffer(e),n)}resetBindGroup(e){this._boundBindGroup[e]=null}setBindGroup(e,n,r){if(this._boundBindGroup[e]===n)return;this._boundBindGroup[e]=n,n._touch(this._renderer.textureGC.count);const i=this._renderer.bindGroup.getBindGroup(n,r,e);this.renderPassEncoder.setBindGroup(e,i)}setGeometry(e,n){const r=this._renderer.pipeline.getBufferNamesToBind(e,n);for(const i in r)this._setVertexBuffer(i,e.attributes[r[i]].buffer);e.indexBuffer&&this._setIndexBuffer(e.indexBuffer)}_setShaderBindGroups(e,n){for(const r in e.groups){const i=e.groups[r];n||this._syncBindGroup(i),this.setBindGroup(r,i,e.gpuProgram)}}_syncBindGroup(e){for(const n in e.resources){const r=e.resources[n];r.isUniformGroup&&this._renderer.ubo.updateUniformGroup(r)}}draw(e){const{geometry:n,shader:r,state:i,topology:o,size:s,start:a,instanceCount:l,skipSync:u}=e;this.setPipelineFromGeometryProgramAndState(n,r.gpuProgram,i,o),this.setGeometry(n,r.gpuProgram),this._setShaderBindGroups(r,u),n.indexBuffer?this.renderPassEncoder.drawIndexed(s||n.indexBuffer.data.length,l??n.instanceCount,a||0):this.renderPassEncoder.draw(s||n.getSize(),l??n.instanceCount,a||0)}finishRenderPass(){this.renderPassEncoder&&(this.renderPassEncoder.end(),this.renderPassEncoder=null)}postrender(){this.finishRenderPass(),this._gpu.device.queue.submit([this.commandEncoder.finish()]),this._resolveCommandFinished(),this.commandEncoder=null}restoreRenderPass(){const e=this._renderer.renderTarget.adaptor.getDescriptor(this._renderer.renderTarget.renderTarget,!1,[0,0,0,1]);this.renderPassEncoder=this.commandEncoder.beginRenderPass(e);const n=this._boundPipeline,r={...this._boundVertexBuffer},i=this._boundIndexBuffer,o={...this._boundBindGroup};this._clearCache();const s=this._renderer.renderTarget.viewport;this.renderPassEncoder.setViewport(s.x,s.y,s.width,s.height,0,1),this.setPipeline(n);for(const a in r)this._setVertexBuffer(a,r[a]);for(const a in o)this.setBindGroup(a,o[a],null);this._setIndexBuffer(i)}_clearCache(){for(let e=0;e<16;e++)this._boundBindGroup[e]=null,this._boundVertexBuffer[e]=null;this._boundIndexBuffer=null,this._boundPipeline=null}destroy(){this._renderer=null,this._gpu=null,this._boundBindGroup=null,this._boundVertexBuffer=null,this._boundIndexBuffer=null,this._boundPipeline=null}contextChange(e){this._gpu=e}}j6.extension={type:[V.WebGPUSystem],name:"encoder",priority:1};class W6{constructor(e){this._renderer=e}contextChange(){this.maxTextures=this._renderer.device.gpu.device.limits.maxSampledTexturesPerShaderStage,this.maxBatchableTextures=this.maxTextures}destroy(){}}W6.extension={type:[V.WebGPUSystem],name:"limits"};class Y6{constructor(e){this._renderTargetStencilState=Object.create(null),this._renderer=e,e.renderTarget.onRenderTargetChange.add(this)}onRenderTargetChange(e){let n=this._renderTargetStencilState[e.uid];n||(n=this._renderTargetStencilState[e.uid]={stencilMode:sn.DISABLED,stencilReference:0}),this._activeRenderTarget=e,this.setStencilMode(n.stencilMode,n.stencilReference)}setStencilMode(e,n){const r=this._renderTargetStencilState[this._activeRenderTarget.uid];r.stencilMode=e,r.stencilReference=n;const i=this._renderer;i.pipeline.setStencilMode(e),i.encoder.renderPassEncoder.setStencilReference(n)}destroy(){this._renderer.renderTarget.onRenderTargetChange.remove(this),this._renderer=null,this._activeRenderTarget=null,this._renderTargetStencilState=null}}Y6.extension={type:[V.WebGPUSystem],name:"stencil"};const Dp={i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},f16:{align:2,size:2},"vec2<i32>":{align:8,size:8},"vec2<u32>":{align:8,size:8},"vec2<f32>":{align:8,size:8},"vec2<f16>":{align:4,size:4},"vec3<i32>":{align:16,size:12},"vec3<u32>":{align:16,size:12},"vec3<f32>":{align:16,size:12},"vec3<f16>":{align:8,size:6},"vec4<i32>":{align:16,size:16},"vec4<u32>":{align:16,size:16},"vec4<f32>":{align:16,size:16},"vec4<f16>":{align:8,size:8},"mat2x2<f32>":{align:8,size:16},"mat2x2<f16>":{align:4,size:8},"mat3x2<f32>":{align:8,size:24},"mat3x2<f16>":{align:4,size:12},"mat4x2<f32>":{align:8,size:32},"mat4x2<f16>":{align:4,size:16},"mat2x3<f32>":{align:16,size:32},"mat2x3<f16>":{align:8,size:16},"mat3x3<f32>":{align:16,size:48},"mat3x3<f16>":{align:8,size:24},"mat4x3<f32>":{align:16,size:64},"mat4x3<f16>":{align:8,size:32},"mat2x4<f32>":{align:16,size:32},"mat2x4<f16>":{align:8,size:16},"mat3x4<f32>":{align:16,size:48},"mat3x4<f16>":{align:8,size:24},"mat4x4<f32>":{align:16,size:64},"mat4x4<f16>":{align:8,size:32}};function Mhe(t){const e=t.map(r=>({data:r,offset:0,size:0}));let n=0;for(let r=0;r<e.length;r++){const i=e[r];let o=Dp[i.data.type].size;const s=Dp[i.data.type].align;if(!Dp[i.data.type])throw new Error(`[Pixi.js] WebGPU UniformBuffer: Unknown type ${i.data.type}`);i.data.size>1&&(o=Math.max(o,s)*i.data.size),n=Math.ceil(n/s)*s,i.size=o,i.offset=n,n+=o}return n=Math.ceil(n/16)*16,{uboElements:e,size:n}}function Dhe(t,e){const{size:n,align:r}=Dp[t.data.type],i=(r-n)/4,o=t.data.type.indexOf("i32")>=0?"dataInt32":"data";return`
         v = uv.${t.data.name};
         ${e!==0?`offset += ${e};`:""}

         arrayOffset = offset;

         t = 0;

         for(var i=0; i < ${t.data.size*(n/4)}; i++)
         {
             for(var j = 0; j < ${n/4}; j++)
             {
                 ${o}[arrayOffset++] = v[t++];
             }
             ${i!==0?`arrayOffset += ${i};`:""}
         }
     `}function Bhe(t){return o6(t,"uboWgsl",Dhe,Cde)}class X6 extends r6{constructor(){super({createUboElements:Mhe,generateUboSync:Bhe})}}X6.extension={type:[V.WebGPUSystem],name:"ubo"};const bs=128;class K6{constructor(e){this._bindGroupHash=Object.create(null),this._buffers=[],this._bindGroups=[],this._bufferResources=[],this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_bindGroupHash"),this._batchBuffer=new Rhe({minUniformOffsetAlignment:bs});const n=256/bs;for(let r=0;r<n;r++){let i=it.UNIFORM|it.COPY_DST;r===0&&(i|=it.COPY_SRC),this._buffers.push(new zr({data:this._batchBuffer.data,usage:i}))}}renderEnd(){this._uploadBindGroups(),this._resetBindGroups()}_resetBindGroups(){for(const e in this._bindGroupHash)this._bindGroupHash[e]=null;this._batchBuffer.clear()}getUniformBindGroup(e,n){if(!n&&this._bindGroupHash[e.uid])return this._bindGroupHash[e.uid];this._renderer.ubo.ensureUniformGroup(e);const r=e.buffer.data,i=this._batchBuffer.addEmptyGroup(r.length);return this._renderer.ubo.syncUniformGroup(e,this._batchBuffer.data,i/4),this._bindGroupHash[e.uid]=this._getBindGroup(i/bs),this._bindGroupHash[e.uid]}getUboResource(e){this._renderer.ubo.updateUniformGroup(e);const n=e.buffer.data,r=this._batchBuffer.addGroup(n);return this._getBufferResource(r/bs)}getArrayBindGroup(e){const n=this._batchBuffer.addGroup(e);return this._getBindGroup(n/bs)}getArrayBufferResource(e){const r=this._batchBuffer.addGroup(e)/bs;return this._getBufferResource(r)}_getBufferResource(e){if(!this._bufferResources[e]){const n=this._buffers[e%2];this._bufferResources[e]=new hE({buffer:n,offset:(e/2|0)*256,size:bs})}return this._bufferResources[e]}_getBindGroup(e){if(!this._bindGroups[e]){const n=new Xo({0:this._getBufferResource(e)});this._bindGroups[e]=n}return this._bindGroups[e]}_uploadBindGroups(){const e=this._renderer.buffer,n=this._buffers[0];n.update(this._batchBuffer.byteIndex),e.updateBuffer(n);const r=this._renderer.gpu.device.createCommandEncoder();for(let i=1;i<this._buffers.length;i++){const o=this._buffers[i];r.copyBufferToBuffer(e.getGPUBuffer(n),bs,e.getGPUBuffer(o),0,this._batchBuffer.byteIndex)}this._renderer.gpu.device.queue.submit([r.finish()])}destroy(){for(let e=0;e<this._bindGroups.length;e++)this._bindGroups[e].destroy();this._bindGroups=null,this._bindGroupHash=null;for(let e=0;e<this._buffers.length;e++)this._buffers[e].destroy();this._buffers=null;for(let e=0;e<this._bufferResources.length;e++)this._bufferResources[e].destroy();this._bufferResources=null,this._batchBuffer.destroy(),this._bindGroupHash=null,this._renderer=null}}K6.extension={type:[V.WebGPUPipes],name:"uniformBatch"};const khe={"point-list":0,"line-list":1,"line-strip":2,"triangle-list":3,"triangle-strip":4};function Nhe(t,e,n,r,i){return t<<24|e<<16|n<<10|r<<5|i}function Fhe(t,e,n,r){return n<<6|t<<3|r<<1|e}class q6{constructor(e){this._moduleCache=Object.create(null),this._bufferLayoutsCache=Object.create(null),this._bindingNamesCache=Object.create(null),this._pipeCache=Object.create(null),this._pipeStateCaches=Object.create(null),this._colorMask=15,this._multisampleCount=1,this._renderer=e}contextChange(e){this._gpu=e,this.setStencilMode(sn.DISABLED),this._updatePipeHash()}setMultisampleCount(e){this._multisampleCount!==e&&(this._multisampleCount=e,this._updatePipeHash())}setRenderTarget(e){this._multisampleCount=e.msaaSamples,this._depthStencilAttachment=e.descriptor.depthStencilAttachment?1:0,this._updatePipeHash()}setColorMask(e){this._colorMask!==e&&(this._colorMask=e,this._updatePipeHash())}setStencilMode(e){this._stencilMode!==e&&(this._stencilMode=e,this._stencilState=ha[e],this._updatePipeHash())}setPipeline(e,n,r,i){const o=this.getPipeline(e,n,r);i.setPipeline(o)}getPipeline(e,n,r,i){e._layoutKey||(Kk(e,n.attributeData),this._generateBufferKey(e)),i||(i=e.topology);const o=Nhe(e._layoutKey,n._layoutKey,r.data,r._blendModeId,khe[i]);return this._pipeCache[o]?this._pipeCache[o]:(this._pipeCache[o]=this._createPipeline(e,n,r,i),this._pipeCache[o])}_createPipeline(e,n,r,i){const o=this._gpu.device,s=this._createVertexBufferLayouts(e,n),a=this._renderer.state.getColorTargets(r);a[0].writeMask=this._stencilMode===sn.RENDERING_MASK_ADD?0:this._colorMask;const l=this._renderer.shader.getProgramData(n).pipeline,u={vertex:{module:this._getModule(n.vertex.source),entryPoint:n.vertex.entryPoint,buffers:s},fragment:{module:this._getModule(n.fragment.source),entryPoint:n.fragment.entryPoint,targets:a},primitive:{topology:i,cullMode:r.cullMode},layout:l,multisample:{count:this._multisampleCount},label:"PIXI Pipeline"};return this._depthStencilAttachment&&(u.depthStencil={...this._stencilState,format:"depth24plus-stencil8",depthWriteEnabled:r.depthTest,depthCompare:r.depthTest?"less":"always"}),o.createRenderPipeline(u)}_getModule(e){return this._moduleCache[e]||this._createModule(e)}_createModule(e){const n=this._gpu.device;return this._moduleCache[e]=n.createShaderModule({code:e}),this._moduleCache[e]}_generateBufferKey(e){const n=[];let r=0;const i=Object.keys(e.attributes).sort();for(let s=0;s<i.length;s++){const a=e.attributes[i[s]];n[r++]=a.offset,n[r++]=a.format,n[r++]=a.stride,n[r++]=a.instance}const o=n.join("|");return e._layoutKey=od(o,"geometry"),e._layoutKey}_generateAttributeLocationsKey(e){const n=[];let r=0;const i=Object.keys(e.attributeData).sort();for(let s=0;s<i.length;s++){const a=e.attributeData[i[s]];n[r++]=a.location}const o=n.join("|");return e._attributeLocationsKey=od(o,"programAttributes"),e._attributeLocationsKey}getBufferNamesToBind(e,n){const r=e._layoutKey<<16|n._attributeLocationsKey;if(this._bindingNamesCache[r])return this._bindingNamesCache[r];const i=this._createVertexBufferLayouts(e,n),o=Object.create(null),s=n.attributeData;for(let a=0;a<i.length;a++){const u=Object.values(i[a].attributes)[0].shaderLocation;for(const c in s)if(s[c].location===u){o[a]=c;break}}return this._bindingNamesCache[r]=o,o}_createVertexBufferLayouts(e,n){n._attributeLocationsKey||this._generateAttributeLocationsKey(n);const r=e._layoutKey<<16|n._attributeLocationsKey;if(this._bufferLayoutsCache[r])return this._bufferLayoutsCache[r];const i=[];return e.buffers.forEach(o=>{const s={arrayStride:0,stepMode:"vertex",attributes:[]},a=s.attributes;for(const l in n.attributeData){const u=e.attributes[l];(u.divisor??1)!==1&&Ne(`Attribute ${l} has an invalid divisor value of '${u.divisor}'. WebGPU only supports a divisor value of 1`),u.buffer===o&&(s.arrayStride=u.stride,s.stepMode=u.instance?"instance":"vertex",a.push({shaderLocation:n.attributeData[l].location,offset:u.offset,format:u.format}))}a.length&&i.push(s)}),this._bufferLayoutsCache[r]=i,i}_updatePipeHash(){const e=Fhe(this._stencilMode,this._multisampleCount,this._colorMask,this._depthStencilAttachment);this._pipeStateCaches[e]||(this._pipeStateCaches[e]=Object.create(null)),this._pipeCache=this._pipeStateCaches[e]}destroy(){this._renderer=null,this._bufferLayoutsCache=null}}q6.extension={type:[V.WebGPUSystem],name:"pipeline"};class Lhe{constructor(){this.contexts=[],this.msaaTextures=[],this.msaaSamples=1}}class $he{init(e,n){this._renderer=e,this._renderTargetSystem=n}copyToTexture(e,n,r,i,o){const s=this._renderer,a=this._getGpuColorTexture(e),l=s.texture.getGpuSource(n.source);return s.encoder.commandEncoder.copyTextureToTexture({texture:a,origin:r},{texture:l,origin:o},i),n}startRenderPass(e,n=!0,r,i){const s=this._renderTargetSystem.getGpuRenderTarget(e),a=this.getDescriptor(e,n,r);s.descriptor=a,this._renderer.pipeline.setRenderTarget(s),this._renderer.encoder.beginRenderPass(s),this._renderer.encoder.setViewport(i)}finishRenderPass(){this._renderer.encoder.endRenderPass()}_getGpuColorTexture(e){const n=this._renderTargetSystem.getGpuRenderTarget(e);return n.contexts[0]?n.contexts[0].getCurrentTexture():this._renderer.texture.getGpuSource(e.colorTextures[0].source)}getDescriptor(e,n,r){typeof n=="boolean"&&(n=n?Ur.ALL:Ur.NONE);const i=this._renderTargetSystem,o=i.getGpuRenderTarget(e),s=e.colorTextures.map((u,c)=>{const f=o.contexts[c];let d,h;f?d=f.getCurrentTexture().createView():d=this._renderer.texture.getGpuSource(u).createView({mipLevelCount:1}),o.msaaTextures[c]&&(h=d,d=this._renderer.texture.getTextureView(o.msaaTextures[c]));const p=n&Ur.COLOR?"clear":"load";return r??(r=i.defaultClearColor),{view:d,resolveTarget:h,clearValue:r,storeOp:"store",loadOp:p}});let a;if((e.stencil||e.depth)&&!e.depthStencilTexture&&(e.ensureDepthStencilTexture(),e.depthStencilTexture.source.sampleCount=o.msaa?4:1),e.depthStencilTexture){const u=n&Ur.STENCIL?"clear":"load",c=n&Ur.DEPTH?"clear":"load";a={view:this._renderer.texture.getGpuSource(e.depthStencilTexture.source).createView(),stencilStoreOp:"store",stencilLoadOp:u,depthClearValue:1,depthLoadOp:c,depthStoreOp:"store"}}return{colorAttachments:s,depthStencilAttachment:a}}clear(e,n=!0,r,i){if(!n)return;const{gpu:o,encoder:s}=this._renderer,a=o.device;if(s.commandEncoder===null){const u=a.createCommandEncoder(),c=this.getDescriptor(e,n,r),f=u.beginRenderPass(c);f.setViewport(i.x,i.y,i.width,i.height,0,1),f.end();const d=u.finish();a.queue.submit([d])}else this.startRenderPass(e,n,r,i)}initGpuRenderTarget(e){e.isRoot=!0;const n=new Lhe;return e.colorTextures.forEach((r,i)=>{if(r instanceof ao){const o=r.resource.getContext("webgpu"),s=r.transparent?"premultiplied":"opaque";try{o.configure({device:this._renderer.gpu.device,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,format:"bgra8unorm",alphaMode:s})}catch(a){console.error(a)}n.contexts[i]=o}if(n.msaa=r.source.antialias,r.source.antialias){const o=new Cn({width:0,height:0,sampleCount:4});n.msaaTextures[i]=o}}),n.msaa&&(n.msaaSamples=4,e.depthStencilTexture&&(e.depthStencilTexture.source.sampleCount=4)),n}destroyGpuRenderTarget(e){e.contexts.forEach(n=>{n.unconfigure()}),e.msaaTextures.forEach(n=>{n.destroy()}),e.msaaTextures.length=0,e.contexts.length=0}ensureDepthStencilTexture(e){const n=this._renderTargetSystem.getGpuRenderTarget(e);e.depthStencilTexture&&n.msaa&&(e.depthStencilTexture.source.sampleCount=4)}resizeGpuRenderTarget(e){const n=this._renderTargetSystem.getGpuRenderTarget(e);n.width=e.width,n.height=e.height,n.msaa&&e.colorTextures.forEach((r,i)=>{const o=n.msaaTextures[i];o==null||o.resize(r.source.width,r.source.height,r.source._resolution)})}}class Z6 extends f6{constructor(e){super(e),this.adaptor=new $he,this.adaptor.init(e,this)}}Z6.extension={type:[V.WebGPUSystem],name:"renderTarget"};class J6{constructor(){this._gpuProgramData=Object.create(null)}contextChange(e){this._gpu=e}getProgramData(e){return this._gpuProgramData[e._layoutKey]||this._createGPUProgramData(e)}_createGPUProgramData(e){const n=this._gpu.device,r=e.gpuLayout.map(o=>n.createBindGroupLayout({entries:o})),i={bindGroupLayouts:r};return this._gpuProgramData[e._layoutKey]={bindGroups:r,pipeline:n.createPipelineLayout(i)},this._gpuProgramData[e._layoutKey]}destroy(){this._gpu=null,this._gpuProgramData=null}}J6.extension={type:[V.WebGPUSystem],name:"shader"};const Dr={};Dr.normal={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"}};Dr.add={alpha:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one",operation:"add"}};Dr.multiply={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"dst",dstFactor:"one-minus-src-alpha",operation:"add"}};Dr.screen={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}};Dr.overlay={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}};Dr.none={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"zero",operation:"add"}};Dr["normal-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"}};Dr["add-npm"]={alpha:{srcFactor:"one",dstFactor:"one",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one",operation:"add"}};Dr["screen-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src",operation:"add"}};Dr.erase={alpha:{srcFactor:"zero",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"one-minus-src",operation:"add"}};Dr.min={alpha:{srcFactor:"one",dstFactor:"one",operation:"min"},color:{srcFactor:"one",dstFactor:"one",operation:"min"}};Dr.max={alpha:{srcFactor:"one",dstFactor:"one",operation:"max"},color:{srcFactor:"one",dstFactor:"one",operation:"max"}};class Q6{constructor(){this.defaultState=new Li,this.defaultState.blend=!0}contextChange(e){this.gpu=e}getColorTargets(e){return[{format:"bgra8unorm",writeMask:0,blend:Dr[e.blendMode]||Dr.normal}]}destroy(){this.gpu=null}}Q6.extension={type:[V.WebGPUSystem],name:"state"};const Uhe={type:"image",upload(t,e,n){const r=t.resource,i=(t.pixelWidth|0)*(t.pixelHeight|0),o=r.byteLength/i;n.device.queue.writeTexture({texture:e},r,{offset:0,rowsPerImage:t.pixelHeight,bytesPerRow:t.pixelHeight*o},{width:t.pixelWidth,height:t.pixelHeight,depthOrArrayLayers:1})}},eN={"bc1-rgba-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"bc2-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc3-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc7-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"etc1-rgb-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"etc2-rgba8unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"astc-4x4-unorm":{blockBytes:16,blockWidth:4,blockHeight:4}},Ghe={blockBytes:4,blockWidth:1,blockHeight:1},Hhe={type:"compressed",upload(t,e,n){let r=t.pixelWidth,i=t.pixelHeight;const o=eN[t.format]||Ghe;for(let s=0;s<t.resource.length;s++){const a=t.resource[s],l=Math.ceil(r/o.blockWidth)*o.blockBytes;n.device.queue.writeTexture({texture:e,mipLevel:s},a,{offset:0,bytesPerRow:l},{width:Math.ceil(r/o.blockWidth)*o.blockWidth,height:Math.ceil(i/o.blockHeight)*o.blockHeight,depthOrArrayLayers:1}),r=Math.max(r>>1,1),i=Math.max(i>>1,1)}}},tN={type:"image",upload(t,e,n){const r=t.resource;if(!r)return;if(globalThis.HTMLImageElement&&r instanceof HTMLImageElement){const a=je.get().createCanvas(r.width,r.height);a.getContext("2d").drawImage(r,0,0,r.width,r.height),t.resource=a,Ne("ImageSource: Image element passed, converting to canvas and replacing resource.")}const i=Math.min(e.width,t.resourceWidth||t.pixelWidth),o=Math.min(e.height,t.resourceHeight||t.pixelHeight),s=t.alphaMode==="premultiply-alpha-on-upload";n.device.queue.copyExternalImageToTexture({source:r},{texture:e,premultipliedAlpha:s},{width:i,height:o})}},Vhe={type:"video",upload(t,e,n){tN.upload(t,e,n)}};class zhe{constructor(e){this.device=e,this.sampler=e.createSampler({minFilter:"linear"}),this.pipelines={}}_getMipmapPipeline(e){let n=this.pipelines[e];return n||(this.mipmapShaderModule||(this.mipmapShaderModule=this.device.createShaderModule({code:`
                        var<private> pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(
                        vec2<f32>(-1.0, -1.0), vec2<f32>(-1.0, 3.0), vec2<f32>(3.0, -1.0));

                        struct VertexOutput {
                        @builtin(position) position : vec4<f32>,
                        @location(0) texCoord : vec2<f32>,
                        };

                        @vertex
                        fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {
                        var output : VertexOutput;
                        output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);
                        output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);
                        return output;
                        }

                        @group(0) @binding(0) var imgSampler : sampler;
                        @group(0) @binding(1) var img : texture_2d<f32>;

                        @fragment
                        fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {
                        return textureSample(img, imgSampler, texCoord);
                        }
                    `})),n=this.device.createRenderPipeline({layout:"auto",vertex:{module:this.mipmapShaderModule,entryPoint:"vertexMain"},fragment:{module:this.mipmapShaderModule,entryPoint:"fragmentMain",targets:[{format:e}]}}),this.pipelines[e]=n),n}generateMipmap(e){const n=this._getMipmapPipeline(e.format);if(e.dimension==="3d"||e.dimension==="1d")throw new Error("Generating mipmaps for non-2d textures is currently unsupported!");let r=e;const i=e.depthOrArrayLayers||1,o=e.usage&GPUTextureUsage.RENDER_ATTACHMENT;if(!o){const l={size:{width:Math.ceil(e.width/2),height:Math.ceil(e.height/2),depthOrArrayLayers:i},format:e.format,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_SRC|GPUTextureUsage.RENDER_ATTACHMENT,mipLevelCount:e.mipLevelCount-1};r=this.device.createTexture(l)}const s=this.device.createCommandEncoder({}),a=n.getBindGroupLayout(0);for(let l=0;l<i;++l){let u=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:"2d",baseArrayLayer:l,arrayLayerCount:1}),c=o?1:0;for(let f=1;f<e.mipLevelCount;++f){const d=r.createView({baseMipLevel:c++,mipLevelCount:1,dimension:"2d",baseArrayLayer:l,arrayLayerCount:1}),h=s.beginRenderPass({colorAttachments:[{view:d,storeOp:"store",loadOp:"clear",clearValue:{r:0,g:0,b:0,a:0}}]}),p=this.device.createBindGroup({layout:a,entries:[{binding:0,resource:this.sampler},{binding:1,resource:u}]});h.setPipeline(n),h.setBindGroup(0,p),h.draw(3,1,0,0),h.end(),u=d}}if(!o){const l={width:Math.ceil(e.width/2),height:Math.ceil(e.height/2),depthOrArrayLayers:i};for(let u=1;u<e.mipLevelCount;++u)s.copyTextureToTexture({texture:r,mipLevel:u-1},{texture:e,mipLevel:u},l),l.width=Math.ceil(l.width/2),l.height=Math.ceil(l.height/2)}return this.device.queue.submit([s.finish()]),o||r.destroy(),e}}class nN{constructor(e){this.managedTextures=[],this._gpuSources=Object.create(null),this._gpuSamplers=Object.create(null),this._bindGroupHash=Object.create(null),this._textureViewHash=Object.create(null),this._uploads={image:tN,buffer:Uhe,video:Vhe,compressed:Hhe},this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuSources"),e.renderableGC.addManagedHash(this,"_gpuSamplers"),e.renderableGC.addManagedHash(this,"_bindGroupHash"),e.renderableGC.addManagedHash(this,"_textureViewHash")}contextChange(e){this._gpu=e}initSource(e){return this._gpuSources[e.uid]?this._gpuSources[e.uid]:this._initSource(e)}_initSource(e){if(e.autoGenerateMipmaps){const l=Math.max(e.pixelWidth,e.pixelHeight);e.mipLevelCount=Math.floor(Math.log2(l))+1}let n=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST;e.uploadMethodId!=="compressed"&&(n|=GPUTextureUsage.RENDER_ATTACHMENT,n|=GPUTextureUsage.COPY_SRC);const r=eN[e.format]||{blockBytes:4,blockWidth:1,blockHeight:1},i=Math.ceil(e.pixelWidth/r.blockWidth)*r.blockWidth,o=Math.ceil(e.pixelHeight/r.blockHeight)*r.blockHeight,s={label:e.label,size:{width:i,height:o},format:e.format,sampleCount:e.sampleCount,mipLevelCount:e.mipLevelCount,dimension:e.dimension,usage:n},a=this._gpuSources[e.uid]=this._gpu.device.createTexture(s);return this.managedTextures.includes(e)||(e.on("update",this.onSourceUpdate,this),e.on("resize",this.onSourceResize,this),e.on("destroy",this.onSourceDestroy,this),e.on("unload",this.onSourceUnload,this),e.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(e)),this.onSourceUpdate(e),a}onSourceUpdate(e){const n=this.getGpuSource(e);n&&(this._uploads[e.uploadMethodId]&&this._uploads[e.uploadMethodId].upload(e,n,this._gpu),e.autoGenerateMipmaps&&e.mipLevelCount>1&&this.onUpdateMipmaps(e))}onSourceUnload(e){const n=this._gpuSources[e.uid];n&&(this._gpuSources[e.uid]=null,n.destroy())}onUpdateMipmaps(e){this._mipmapGenerator||(this._mipmapGenerator=new zhe(this._gpu.device));const n=this.getGpuSource(e);this._mipmapGenerator.generateMipmap(n)}onSourceDestroy(e){e.off("update",this.onSourceUpdate,this),e.off("unload",this.onSourceUnload,this),e.off("destroy",this.onSourceDestroy,this),e.off("resize",this.onSourceResize,this),e.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(e),1),this.onSourceUnload(e)}onSourceResize(e){const n=this._gpuSources[e.uid];n?(n.width!==e.pixelWidth||n.height!==e.pixelHeight)&&(this._textureViewHash[e.uid]=null,this._bindGroupHash[e.uid]=null,this.onSourceUnload(e),this.initSource(e)):this.initSource(e)}_initSampler(e){return this._gpuSamplers[e._resourceId]=this._gpu.device.createSampler(e),this._gpuSamplers[e._resourceId]}getGpuSampler(e){return this._gpuSamplers[e._resourceId]||this._initSampler(e)}getGpuSource(e){return this._gpuSources[e.uid]||this.initSource(e)}getTextureBindGroup(e){return this._bindGroupHash[e.uid]??this._createTextureBindGroup(e)}_createTextureBindGroup(e){const n=e.source;return this._bindGroupHash[e.uid]=new Xo({0:n,1:n.style,2:new gr({uTextureMatrix:{type:"mat3x3<f32>",value:e.textureMatrix.mapCoord}})}),this._bindGroupHash[e.uid]}getTextureView(e){const n=e.source;return this._textureViewHash[n.uid]??this._createTextureView(n)}_createTextureView(e){return this._textureViewHash[e.uid]=this.getGpuSource(e).createView(),this._textureViewHash[e.uid]}generateCanvas(e){const n=this._renderer,r=n.gpu.device.createCommandEncoder(),i=je.get().createCanvas();i.width=e.source.pixelWidth,i.height=e.source.pixelHeight;const o=i.getContext("webgpu");return o.configure({device:n.gpu.device,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC,format:je.get().getNavigator().gpu.getPreferredCanvasFormat(),alphaMode:"premultiplied"}),r.copyTextureToTexture({texture:n.texture.getGpuSource(e.source),origin:{x:0,y:0}},{texture:o.getCurrentTexture()},{width:i.width,height:i.height}),n.gpu.device.queue.submit([r.finish()]),i}getPixels(e){const n=this.generateCanvas(e),r=ia.getOptimalCanvasAndContext(n.width,n.height),i=r.context;i.drawImage(n,0,0);const{width:o,height:s}=n,a=i.getImageData(0,0,o,s),l=new Uint8ClampedArray(a.data.buffer);return ia.returnCanvasAndContext(r),{pixels:l,width:o,height:s}}destroy(){this.managedTextures.slice().forEach(e=>this.onSourceDestroy(e)),this.managedTextures=null;for(const e of Object.keys(this._bindGroupHash)){const n=Number(e),r=this._bindGroupHash[n];r==null||r.destroy(),this._bindGroupHash[n]=null}this._gpu=null,this._mipmapGenerator=null,this._gpuSources=null,this._bindGroupHash=null,this._textureViewHash=null,this._gpuSamplers=null}}nN.extension={type:[V.WebGPUSystem],name:"texture"};class rN{constructor(){this._maxTextures=0}contextChange(e){const n=new gr({uTransformMatrix:{value:new Oe,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}});this._maxTextures=e.limits.maxBatchableTextures;const r=jd({name:"graphics",bits:[Xw,qw(this._maxTextures),fde,Yd]});this.shader=new yi({gpuProgram:r,resources:{localUniforms:n}})}execute(e,n){const r=n.context,i=r.customShader||this.shader,o=e.renderer,s=o.graphicsContext,{batcher:a,instructions:l}=s.getContextRenderData(r),u=o.encoder;u.setGeometry(a.geometry,i.gpuProgram);const c=o.globalUniforms.bindGroup;u.setBindGroup(0,c,i.gpuProgram);const f=o.renderPipes.uniformBatch.getUniformBindGroup(i.resources.localUniforms,!0);u.setBindGroup(2,f,i.gpuProgram);const d=l.instructions;let h=null;for(let p=0;p<l.instructionSize;p++){const y=d[p];if(y.topology!==h&&(h=y.topology,u.setPipelineFromGeometryProgramAndState(a.geometry,i.gpuProgram,e.state,y.topology)),i.groups[1]=y.bindGroup,!y.gpuBindGroup){const v=y.textures;y.bindGroup=Yw(v.textures,v.count,this._maxTextures),y.gpuBindGroup=o.bindGroup.getBindGroup(y.bindGroup,i.gpuProgram,1)}u.setBindGroup(1,y.bindGroup,i.gpuProgram),u.renderPassEncoder.drawIndexed(y.size,1,y.start)}}destroy(){this.shader.destroy(!0),this.shader=null}}rN.extension={type:[V.WebGPUPipesAdaptor],name:"graphics"};class iN{init(){const e=jd({name:"mesh",bits:[Tf,dde,Yd]});this._shader=new yi({gpuProgram:e,resources:{uTexture:Ae.EMPTY._source,uSampler:Ae.EMPTY._source.style,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new Oe}}}})}execute(e,n){const r=e.renderer;let i=n._shader;if(!i)i=this._shader,i.groups[2]=r.texture.getTextureBindGroup(n.texture);else if(!i.gpuProgram){Ne("Mesh shader has no gpuProgram",n.shader);return}const o=i.gpuProgram;if(o.autoAssignGlobalUniforms&&(i.groups[0]=r.globalUniforms.bindGroup),o.autoAssignLocalUniforms){const s=e.localUniforms;i.groups[1]=r.renderPipes.uniformBatch.getUniformBindGroup(s,!0)}r.encoder.draw({geometry:n._geometry,shader:i,state:n.state})}destroy(){this._shader.destroy(!0),this._shader=null}}iN.extension={type:[V.WebGPUPipesAdaptor],name:"mesh"};const jhe=[...F6,X6,j6,xE,W6,V6,nN,Z6,J6,Q6,q6,z6,Y6,H6],Whe=[...L6,K6],Yhe=[Gk,iN,rN],oN=[],sN=[],aN=[];$e.handleByNamedList(V.WebGPUSystem,oN);$e.handleByNamedList(V.WebGPUPipes,sN);$e.handleByNamedList(V.WebGPUPipesAdaptor,aN);$e.add(...jhe,...Whe,...Yhe);class Xhe extends Yg{constructor(){const e={name:"webgpu",type:Kr.WEBGPU,systems:oN,renderPipes:sN,renderPipeAdaptors:aN};super(e)}}const Khe=Object.freeze(Object.defineProperty({__proto__:null,WebGPURenderer:Xhe},Symbol.toStringTag,{value:"Module"}));class qhe{constructor(){this.batches=[],this.batched=!1}destroy(){this.batches.forEach(e=>{Hn.return(e)}),this.batches.length=0}}class lN{constructor(e,n){this.state=Li.for2d(),this.renderer=e,this._adaptor=n,this.renderer.runners.contextChange.add(this)}contextChange(){this._adaptor.contextChange(this.renderer)}validateRenderable(e){const n=e.context,r=!!e._gpuData,i=this.renderer.graphicsContext.updateGpuContext(n);return!!(i.isBatchable||r!==i.isBatchable)}addRenderable(e,n){const r=this.renderer.graphicsContext.updateGpuContext(e.context);e.didViewUpdate&&this._rebuild(e),r.isBatchable?this._addToBatcher(e,n):(this.renderer.renderPipes.batch.break(n),n.add(e))}updateRenderable(e){const r=this._getGpuDataForRenderable(e).batches;for(let i=0;i<r.length;i++){const o=r[i];o._batcher.updateElement(o)}}execute(e){if(!e.isRenderable)return;const n=this.renderer,r=e.context;if(!n.graphicsContext.getGpuContext(r).batches.length)return;const o=r.customShader||this._adaptor.shader;this.state.blendMode=e.groupBlendMode;const s=o.resources.localUniforms.uniforms;s.uTransformMatrix=e.groupTransform,s.uRound=n._roundPixels|e._roundPixels,Kd(e.groupColorAlpha,s.uColor,0),this._adaptor.execute(this,e)}_rebuild(e){const n=this._getGpuDataForRenderable(e),r=this.renderer.graphicsContext.updateGpuContext(e.context);n.destroy(),r.isBatchable&&this._updateBatchesForRenderable(e,n)}_addToBatcher(e,n){const r=this.renderer.renderPipes.batch,i=this._getGpuDataForRenderable(e).batches;for(let o=0;o<i.length;o++){const s=i[o];r.addToBatch(s,n)}}_getGpuDataForRenderable(e){return e._gpuData[this.renderer.uid]||this._initGpuDataForRenderable(e)}_initGpuDataForRenderable(e){const n=new qhe;return e._gpuData[this.renderer.uid]=n,n}_updateBatchesForRenderable(e,n){const r=e.context,i=this.renderer.graphicsContext.getGpuContext(r),o=this.renderer._roundPixels|e._roundPixels;n.batches=i.batches.map(s=>{const a=Hn.get(eE);return s.copyTo(a),a.renderable=e,a.roundPixels=o,a})}destroy(){this.renderer=null,this._adaptor.destroy(),this._adaptor=null,this.state=null}}lN.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"graphics"};const uN=class cN extends lE{constructor(...e){super({});let n=e[0]??{};typeof n=="number"&&(Fe(rt,"PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead"),n={width:n,height:e[1],verticesX:e[2],verticesY:e[3]}),this.build(n)}build(e){e={...cN.defaultOptions,...e},this.verticesX=this.verticesX??e.verticesX,this.verticesY=this.verticesY??e.verticesY,this.width=this.width??e.width,this.height=this.height??e.height;const n=this.verticesX*this.verticesY,r=[],i=[],o=[],s=this.verticesX-1,a=this.verticesY-1,l=this.width/s,u=this.height/a;for(let f=0;f<n;f++){const d=f%this.verticesX,h=f/this.verticesX|0;r.push(d*l,h*u),i.push(d/s,h/a)}const c=s*a;for(let f=0;f<c;f++){const d=f%s,h=f/s|0,p=h*this.verticesX+d,y=h*this.verticesX+d+1,v=(h+1)*this.verticesX+d,g=(h+1)*this.verticesX+d+1;o.push(p,y,v,y,g,v)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint32Array(o),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}};uN.defaultOptions={width:100,height:100,verticesX:10,verticesY:10};let Zhe=uN;class wE{constructor(){this.batcherName="default",this.packAsQuad=!1,this.indexOffset=0,this.attributeOffset=0,this.roundPixels=0,this._batcher=null,this._batch=null,this._textureMatrixUpdateId=-1,this._uvUpdateId=-1}get blendMode(){return this.renderable.groupBlendMode}get topology(){return this._topology||this.geometry.topology}set topology(e){this._topology=e}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.geometry=null,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}setTexture(e){this.texture!==e&&(this.texture=e,this._textureMatrixUpdateId=-1)}get uvs(){const n=this.geometry.getBuffer("aUV"),r=n.data;let i=r;const o=this.texture.textureMatrix;return o.isSimple||(i=this._transformedUvs,(this._textureMatrixUpdateId!==o._updateID||this._uvUpdateId!==n._updateID)&&((!i||i.length<r.length)&&(i=this._transformedUvs=new Float32Array(r.length)),this._textureMatrixUpdateId=o._updateID,this._uvUpdateId=n._updateID,o.multiplyUvs(r,i))),i}get positions(){return this.geometry.positions}get indices(){return this.geometry.indices}get color(){return this.renderable.groupColorAlpha}get groupTransform(){return this.renderable.groupTransform}get attributeSize(){return this.geometry.positions.length/2}get indexSize(){return this.geometry.indices.length}}class fP{destroy(){}}class fN{constructor(e,n){this.localUniforms=new gr({uTransformMatrix:{value:new Oe,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),this.localUniformsBindGroup=new Xo({0:this.localUniforms}),this.renderer=e,this._adaptor=n,this._adaptor.init()}validateRenderable(e){const n=this._getMeshData(e),r=n.batched,i=e.batched;if(n.batched=i,r!==i)return!0;if(i){const o=e._geometry;if(o.indices.length!==n.indexSize||o.positions.length!==n.vertexSize)return n.indexSize=o.indices.length,n.vertexSize=o.positions.length,!0;const s=this._getBatchableMesh(e);return s.texture.uid!==e._texture.uid&&(s._textureMatrixUpdateId=-1),!s._batcher.checkAndUpdateTexture(s,e._texture)}return!1}addRenderable(e,n){var o,s;const r=this.renderer.renderPipes.batch,i=this._getMeshData(e);if(e.didViewUpdate&&(i.indexSize=(o=e._geometry.indices)==null?void 0:o.length,i.vertexSize=(s=e._geometry.positions)==null?void 0:s.length),i.batched){const a=this._getBatchableMesh(e);a.setTexture(e._texture),a.geometry=e._geometry,r.addToBatch(a,n)}else r.break(n),n.add(e)}updateRenderable(e){if(e.batched){const n=this._getBatchableMesh(e);n.setTexture(e._texture),n.geometry=e._geometry,n._batcher.updateElement(n)}}execute(e){if(!e.isRenderable)return;e.state.blendMode=ud(e.groupBlendMode,e.texture._source);const n=this.localUniforms;n.uniforms.uTransformMatrix=e.groupTransform,n.uniforms.uRound=this.renderer._roundPixels|e._roundPixels,n.update(),Kd(e.groupColorAlpha,n.uniforms.uColor,0),this._adaptor.execute(this,e)}_getMeshData(e){var n,r;return(n=e._gpuData)[r=this.renderer.uid]||(n[r]=new fP),e._gpuData[this.renderer.uid].meshData||this._initMeshData(e)}_initMeshData(e){return e._gpuData[this.renderer.uid].meshData={batched:e.batched,indexSize:0,vertexSize:0},e._gpuData[this.renderer.uid].meshData}_getBatchableMesh(e){var n,r;return(n=e._gpuData)[r=this.renderer.uid]||(n[r]=new fP),e._gpuData[this.renderer.uid].batchableMesh||this._initBatchableMesh(e)}_initBatchableMesh(e){const n=new wE;return n.renderable=e,n.setTexture(e._texture),n.transform=e.groupTransform,n.roundPixels=this.renderer._roundPixels|e._roundPixels,e._gpuData[this.renderer.uid].batchableMesh=n,n}destroy(){this.localUniforms=null,this.localUniformsBindGroup=null,this._adaptor.destroy(),this._adaptor=null,this.renderer=null}}fN.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"mesh"};class Jhe{execute(e,n){const r=e.state,i=e.renderer,o=n.shader||e.defaultShader;o.resources.uTexture=n.texture._source,o.resources.uniforms=e.localUniforms;const s=i.gl,a=e.getBuffers(n);i.shader.bind(o),i.state.set(r),i.geometry.bind(a.geometry,o.glProgram);const u=a.geometry.indexBuffer.data.BYTES_PER_ELEMENT===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;s.drawElements(s.TRIANGLES,n.particleChildren.length*6,u,0)}}class Qhe{execute(e,n){const r=e.renderer,i=n.shader||e.defaultShader;i.groups[0]=r.renderPipes.uniformBatch.getUniformBindGroup(e.localUniforms,!0),i.groups[1]=r.texture.getTextureBindGroup(n.texture);const o=e.state,s=e.getBuffers(n);r.encoder.draw({geometry:s.geometry,shader:n.shader||e.defaultShader,state:o,size:n.particleChildren.length*6})}}function dP(t,e=null){const n=t*6;if(n>65535?e||(e=new Uint32Array(n)):e||(e=new Uint16Array(n)),e.length!==n)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${n}`);for(let r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function epe(t){return{dynamicUpdate:hP(t,!0),staticUpdate:hP(t,!1)}}function hP(t,e){const n=[];n.push(`

        var index = 0;

        for (let i = 0; i < ps.length; ++i)
        {
            const p = ps[i];

            `);let r=0;for(const o in t){const s=t[o];if(e!==s.dynamic)continue;n.push(`offset = index + ${r}`),n.push(s.code);const a=ra(s.format);r+=a.stride/4}n.push(`
            index += stride * 4;
        }
    `),n.unshift(`
        var stride = ${r};
    `);const i=n.join(`
`);return new Function("ps","f32v","u32v",i)}class tpe{constructor(e){this._size=0,this._generateParticleUpdateCache={};const n=this._size=e.size??1e3,r=e.properties;let i=0,o=0;for(const c in r){const f=r[c],d=ra(f.format);f.dynamic?o+=d.stride:i+=d.stride}this._dynamicStride=o/4,this._staticStride=i/4,this.staticAttributeBuffer=new hu(n*4*i),this.dynamicAttributeBuffer=new hu(n*4*o),this.indexBuffer=dP(n);const s=new zd;let a=0,l=0;this._staticBuffer=new zr({data:new Float32Array(1),label:"static-particle-buffer",shrinkToFit:!1,usage:it.VERTEX|it.COPY_DST}),this._dynamicBuffer=new zr({data:new Float32Array(1),label:"dynamic-particle-buffer",shrinkToFit:!1,usage:it.VERTEX|it.COPY_DST});for(const c in r){const f=r[c],d=ra(f.format);f.dynamic?(s.addAttribute(f.attributeName,{buffer:this._dynamicBuffer,stride:this._dynamicStride*4,offset:a*4,format:f.format}),a+=d.size):(s.addAttribute(f.attributeName,{buffer:this._staticBuffer,stride:this._staticStride*4,offset:l*4,format:f.format}),l+=d.size)}s.addIndex(this.indexBuffer);const u=this.getParticleUpdate(r);this._dynamicUpload=u.dynamicUpdate,this._staticUpload=u.staticUpdate,this.geometry=s}getParticleUpdate(e){const n=npe(e);return this._generateParticleUpdateCache[n]?this._generateParticleUpdateCache[n]:(this._generateParticleUpdateCache[n]=this.generateParticleUpdate(e),this._generateParticleUpdateCache[n])}generateParticleUpdate(e){return epe(e)}update(e,n){e.length>this._size&&(n=!0,this._size=Math.max(e.length,this._size*1.5|0),this.staticAttributeBuffer=new hu(this._size*this._staticStride*4*4),this.dynamicAttributeBuffer=new hu(this._size*this._dynamicStride*4*4),this.indexBuffer=dP(this._size),this.geometry.indexBuffer.setDataWithSize(this.indexBuffer,this.indexBuffer.byteLength,!0));const r=this.dynamicAttributeBuffer;if(this._dynamicUpload(e,r.float32View,r.uint32View),this._dynamicBuffer.setDataWithSize(this.dynamicAttributeBuffer.float32View,e.length*this._dynamicStride*4,!0),n){const i=this.staticAttributeBuffer;this._staticUpload(e,i.float32View,i.uint32View),this._staticBuffer.setDataWithSize(i.float32View,e.length*this._staticStride*4,!0)}}destroy(){this._staticBuffer.destroy(),this._dynamicBuffer.destroy(),this.geometry.destroy()}}function npe(t){const e=[];for(const n in t){const r=t[n];e.push(n,r.code,r.dynamic?"d":"s")}return e.join("_")}var rpe=`varying vec2 vUV;
varying vec4 vColor;

uniform sampler2D uTexture;

void main(void){
    vec4 color = texture2D(uTexture, vUV) * vColor;
    gl_FragColor = color;
}`,ipe=`attribute vec2 aVertex;
attribute vec2 aUV;
attribute vec4 aColor;

attribute vec2 aPosition;
attribute float aRotation;

uniform mat3 uTranslationMatrix;
uniform float uRound;
uniform vec2 uResolution;
uniform vec4 uColor;

varying vec2 vUV;
varying vec4 vColor;

vec2 roundPixels(vec2 position, vec2 targetSize)
{       
    return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
}

void main(void){
    float cosRotation = cos(aRotation);
    float sinRotation = sin(aRotation);
    float x = aVertex.x * cosRotation - aVertex.y * sinRotation;
    float y = aVertex.x * sinRotation + aVertex.y * cosRotation;

    vec2 v = vec2(x, y);
    v = v + aPosition;

    gl_Position = vec4((uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    if(uRound == 1.0)
    {
        gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
    }

    vUV = aUV;
    vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uColor;
}
`,pP=`
struct ParticleUniforms {
  uProjectionMatrix:mat3x3<f32>,
  uColor:vec4<f32>,
  uResolution:vec2<f32>,
  uRoundPixels:f32,
};

@group(0) @binding(0) var<uniform> uniforms: ParticleUniforms;

@group(1) @binding(0) var uTexture: texture_2d<f32>;
@group(1) @binding(1) var uSampler : sampler;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) color : vec4<f32>,
  };
@vertex
fn mainVertex(
  @location(0) aVertex: vec2<f32>,
  @location(1) aPosition: vec2<f32>,
  @location(2) aUV: vec2<f32>,
  @location(3) aColor: vec4<f32>,
  @location(4) aRotation: f32,
) -> VSOutput {
  
   let v = vec2(
       aVertex.x * cos(aRotation) - aVertex.y * sin(aRotation),
       aVertex.x * sin(aRotation) + aVertex.y * cos(aRotation)
   ) + aPosition;

   let position = vec4((uniforms.uProjectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    let vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uniforms.uColor;

  return VSOutput(
   position,
   aUV,
   vColor,
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) color: vec4<f32>,
  @builtin(position) position: vec4<f32>,
) -> @location(0) vec4<f32> {

    var sample = textureSample(uTexture, uSampler, uv) * color;
   
    return sample;
}`;class ope extends yi{constructor(){const e=kl.from({vertex:ipe,fragment:rpe}),n=da.from({fragment:{source:pP,entryPoint:"mainFragment"},vertex:{source:pP,entryPoint:"mainVertex"}});super({glProgram:e,gpuProgram:n,resources:{uTexture:Ae.WHITE.source,uSampler:new vo({}),uniforms:{uTranslationMatrix:{value:new Oe,type:"mat3x3<f32>"},uColor:{value:new Rt(16777215),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}}})}}class dN{constructor(e,n){this.state=Li.for2d(),this.localUniforms=new gr({uTranslationMatrix:{value:new Oe,type:"mat3x3<f32>"},uColor:{value:new Float32Array(4),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}),this.renderer=e,this.adaptor=n,this.defaultShader=new ope,this.state=Li.for2d()}validateRenderable(e){return!1}addRenderable(e,n){this.renderer.renderPipes.batch.break(n),n.add(e)}getBuffers(e){return e._gpuData[this.renderer.uid]||this._initBuffer(e)}_initBuffer(e){return e._gpuData[this.renderer.uid]=new tpe({size:e.particleChildren.length,properties:e._properties}),e._gpuData[this.renderer.uid]}updateRenderable(e){}execute(e){const n=e.particleChildren;if(n.length===0)return;const r=this.renderer,i=this.getBuffers(e);e.texture||(e.texture=n[0].texture);const o=this.state;i.update(n,e._childrenDirty),e._childrenDirty=!1,o.blendMode=ud(e.blendMode,e.texture._source);const s=this.localUniforms.uniforms,a=s.uTranslationMatrix;e.worldTransform.copyTo(a),a.prepend(r.globalUniforms.globalUniformData.projectionMatrix),s.uResolution=r.globalUniforms.globalUniformData.resolution,s.uRound=r._roundPixels|e._roundPixels,Kd(e.groupColorAlpha,s.uColor,0),this.adaptor.execute(this,e)}destroy(){this.defaultShader&&(this.defaultShader.destroy(),this.defaultShader=null)}}class hN extends dN{constructor(e){super(e,new Jhe)}}hN.extension={type:[V.WebGLPipes],name:"particle"};class pN extends dN{constructor(e){super(e,new Qhe)}}pN.extension={type:[V.WebGPUPipes],name:"particle"};const gN=class K_{constructor(e){if(e instanceof Ae)this.texture=e,C_(this,K_.defaultOptions,{});else{const n={...K_.defaultOptions,...e};C_(this,n,{})}}get alpha(){return this._alpha}set alpha(e){this._alpha=Math.min(Math.max(e,0),1),this._updateColor()}get tint(){return xf(this._tint)}set tint(e){this._tint=Rt.shared.setValue(e??16777215).toBgrNumber(),this._updateColor()}_updateColor(){this.color=this._tint+((this._alpha*255|0)<<24)}};gN.defaultOptions={anchorX:0,anchorY:0,x:0,y:0,scaleX:1,scaleY:1,rotation:0,tint:16777215,alpha:1};let RPe=gN;const gP={vertex:{attributeName:"aVertex",format:"float32x2",code:`
            const texture = p.texture;
            const sx = p.scaleX;
            const sy = p.scaleY;
            const ax = p.anchorX;
            const ay = p.anchorY;
            const trim = texture.trim;
            const orig = texture.orig;

            if (trim)
            {
                w1 = trim.x - (ax * orig.width);
                w0 = w1 + trim.width;

                h1 = trim.y - (ay * orig.height);
                h0 = h1 + trim.height;
            }
            else
            {
                w1 = -ax * (orig.width);
                w0 = w1 + orig.width;

                h1 = -ay * (orig.height);
                h0 = h1 + orig.height;
            }

            f32v[offset] = w1 * sx;
            f32v[offset + 1] = h1 * sy;

            f32v[offset + stride] = w0 * sx;
            f32v[offset + stride + 1] = h1 * sy;

            f32v[offset + (stride * 2)] = w0 * sx;
            f32v[offset + (stride * 2) + 1] = h0 * sy;

            f32v[offset + (stride * 3)] = w1 * sx;
            f32v[offset + (stride * 3) + 1] = h0 * sy;
        `,dynamic:!1},position:{attributeName:"aPosition",format:"float32x2",code:`
            var x = p.x;
            var y = p.y;

            f32v[offset] = x;
            f32v[offset + 1] = y;

            f32v[offset + stride] = x;
            f32v[offset + stride + 1] = y;

            f32v[offset + (stride * 2)] = x;
            f32v[offset + (stride * 2) + 1] = y;

            f32v[offset + (stride * 3)] = x;
            f32v[offset + (stride * 3) + 1] = y;
        `,dynamic:!0},rotation:{attributeName:"aRotation",format:"float32",code:`
            var rotation = p.rotation;

            f32v[offset] = rotation;
            f32v[offset + stride] = rotation;
            f32v[offset + (stride * 2)] = rotation;
            f32v[offset + (stride * 3)] = rotation;
        `,dynamic:!1},uvs:{attributeName:"aUV",format:"float32x2",code:`
            var uvs = p.texture.uvs;

            f32v[offset] = uvs.x0;
            f32v[offset + 1] = uvs.y0;

            f32v[offset + stride] = uvs.x1;
            f32v[offset + stride + 1] = uvs.y1;

            f32v[offset + (stride * 2)] = uvs.x2;
            f32v[offset + (stride * 2) + 1] = uvs.y2;

            f32v[offset + (stride * 3)] = uvs.x3;
            f32v[offset + (stride * 3) + 1] = uvs.y3;
        `,dynamic:!1},color:{attributeName:"aColor",format:"unorm8x4",code:`
            const c = p.color;

            u32v[offset] = c;
            u32v[offset + stride] = c;
            u32v[offset + (stride * 2)] = c;
            u32v[offset + (stride * 3)] = c;
        `,dynamic:!1}},spe=new Vn(0,0,0,0),mN=class q_ extends Hd{constructor(e={}){e={...q_.defaultOptions,...e,dynamicProperties:{...q_.defaultOptions.dynamicProperties,...e==null?void 0:e.dynamicProperties}};const{dynamicProperties:n,shader:r,roundPixels:i,texture:o,particles:s,...a}=e;super({label:"ParticleContainer",...a}),this.renderPipeId="particle",this.batched=!1,this._childrenDirty=!1,this.texture=o||null,this.shader=r,this._properties={};for(const l in gP){const u=gP[l],c=n[l];this._properties[l]={...u,dynamic:c}}this.allowChildren=!0,this.roundPixels=i??!1,this.particleChildren=s??[]}addParticle(...e){for(let n=0;n<e.length;n++)this.particleChildren.push(e[n]);return this.onViewUpdate(),e[0]}removeParticle(...e){let n=!1;for(let r=0;r<e.length;r++){const i=this.particleChildren.indexOf(e[r]);i>-1&&(this.particleChildren.splice(i,1),n=!0)}return n&&this.onViewUpdate(),e[0]}update(){this._childrenDirty=!0}onViewUpdate(){this._childrenDirty=!0,super.onViewUpdate()}get bounds(){return spe}updateBounds(){}destroy(e=!1){var r,i;if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const o=typeof e=="boolean"?e:e==null?void 0:e.textureSource,s=this.texture??((r=this.particleChildren[0])==null?void 0:r.texture);s&&s.destroy(o)}this.texture=null,(i=this.shader)==null||i.destroy()}removeParticles(e,n){e??(e=0),n??(n=this.particleChildren.length);const r=this.particleChildren.splice(e,n-e);return this.onViewUpdate(),r}removeParticleAt(e){const n=this.particleChildren.splice(e,1);return this.onViewUpdate(),n[0]}addParticleAt(e,n){return this.particleChildren.splice(n,0,e),this.onViewUpdate(),e}addChild(...e){throw new Error("ParticleContainer.addChild() is not available. Please use ParticleContainer.addParticle()")}removeChild(...e){throw new Error("ParticleContainer.removeChild() is not available. Please use ParticleContainer.removeParticle()")}removeChildren(e,n){throw new Error("ParticleContainer.removeChildren() is not available. Please use ParticleContainer.removeParticles()")}removeChildAt(e){throw new Error("ParticleContainer.removeChildAt() is not available. Please use ParticleContainer.removeParticleAt()")}getChildAt(e){throw new Error("ParticleContainer.getChildAt() is not available. Please use ParticleContainer.getParticleAt()")}setChildIndex(e,n){throw new Error("ParticleContainer.setChildIndex() is not available. Please use ParticleContainer.setParticleIndex()")}getChildIndex(e){throw new Error("ParticleContainer.getChildIndex() is not available. Please use ParticleContainer.getParticleIndex()")}addChildAt(e,n){throw new Error("ParticleContainer.addChildAt() is not available. Please use ParticleContainer.addParticleAt()")}swapChildren(e,n){throw new Error("ParticleContainer.swapChildren() is not available. Please use ParticleContainer.swapParticles()")}reparentChild(...e){throw new Error("ParticleContainer.reparentChild() is not available with the particle container")}reparentChildAt(e,n){throw new Error("ParticleContainer.reparentChildAt() is not available with the particle container")}};mN.defaultOptions={dynamicProperties:{vertex:!1,position:!0,rotation:!1,uvs:!1,color:!1},roundPixels:!1};let MPe=mN;const vN=class yN extends Zhe{constructor(e={}){e={...yN.defaultOptions,...e},super({width:e.width,height:e.height,verticesX:4,verticesY:4}),this.update(e)}update(e){var n,r;this.width=e.width??this.width,this.height=e.height??this.height,this._originalWidth=e.originalWidth??this._originalWidth,this._originalHeight=e.originalHeight??this._originalHeight,this._leftWidth=e.leftWidth??this._leftWidth,this._rightWidth=e.rightWidth??this._rightWidth,this._topHeight=e.topHeight??this._topHeight,this._bottomHeight=e.bottomHeight??this._bottomHeight,this._anchorX=(n=e.anchor)==null?void 0:n.x,this._anchorY=(r=e.anchor)==null?void 0:r.y,this.updateUvs(),this.updatePositions()}updatePositions(){const e=this.positions,{width:n,height:r,_leftWidth:i,_rightWidth:o,_topHeight:s,_bottomHeight:a,_anchorX:l,_anchorY:u}=this,c=i+o,f=n>c?1:n/c,d=s+a,h=r>d?1:r/d,p=Math.min(f,h),y=l*n,v=u*r;e[0]=e[8]=e[16]=e[24]=-y,e[2]=e[10]=e[18]=e[26]=i*p-y,e[4]=e[12]=e[20]=e[28]=n-o*p-y,e[6]=e[14]=e[22]=e[30]=n-y,e[1]=e[3]=e[5]=e[7]=-v,e[9]=e[11]=e[13]=e[15]=s*p-v,e[17]=e[19]=e[21]=e[23]=r-a*p-v,e[25]=e[27]=e[29]=e[31]=r-v,this.getBuffer("aPosition").update()}updateUvs(){const e=this.uvs;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1;const n=1/this._originalWidth,r=1/this._originalHeight;e[2]=e[10]=e[18]=e[26]=n*this._leftWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[4]=e[12]=e[20]=e[28]=1-n*this._rightWidth,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.getBuffer("aUV").update()}};vN.defaultOptions={width:100,height:100,leftWidth:10,topHeight:10,rightWidth:10,bottomHeight:10,originalWidth:100,originalHeight:100};let ape=vN;class lpe extends wE{constructor(){super(),this.geometry=new ape}destroy(){this.geometry.destroy()}}class _N{constructor(e){this._renderer=e}addRenderable(e,n){const r=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,r),this._renderer.renderPipes.batch.addToBatch(r,n)}updateRenderable(e){const n=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,n),n._batcher.updateElement(n)}validateRenderable(e){const n=this._getGpuSprite(e);return!n._batcher.checkAndUpdateTexture(n,e._texture)}_updateBatchableSprite(e,n){n.geometry.update(e),n.setTexture(e._texture)}_getGpuSprite(e){return e._gpuData[this._renderer.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const n=e._gpuData[this._renderer.uid]=new lpe,r=n;return r.renderable=e,r.transform=e.groupTransform,r.texture=e._texture,r.roundPixels=this._renderer._roundPixels|e._roundPixels,e.didViewUpdate||this._updateBatchableSprite(e,r),n}destroy(){this._renderer=null}}_N.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"nineSliceSprite"};const upe={name:"tiling-bit",vertex:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`
            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;

            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;
        `},fragment:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`

            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);
            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;
            var unclamped = coord;
            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);

            var bias = 0.;

            if(unclamped.x == coord.x && unclamped.y == coord.y)
            {
                bias = -32.;
            }

            outColor = textureSampleBias(uTexture, uSampler, coord, bias);
        `}},cpe={name:"tiling-bit",vertex:{header:`
            uniform mat3 uTextureTransform;
            uniform vec4 uSizeAnchor;

        `,main:`
            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;

            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;
        `},fragment:{header:`
            uniform sampler2D uTexture;
            uniform mat3 uMapCoord;
            uniform vec4 uClampFrame;
            uniform vec2 uClampOffset;
        `,main:`

        vec2 coord = vUV + ceil(uClampOffset - vUV);
        coord = (uMapCoord * vec3(coord, 1.0)).xy;
        vec2 unclamped = coord;
        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0

        `}};let Vv,zv;class fpe extends yi{constructor(){Vv??(Vv=jd({name:"tiling-sprite-shader",bits:[Tf,upe,Yd]})),zv??(zv=Wd({name:"tiling-sprite-shader",bits:[cE,cpe,Xd]}));const e=new gr({uMapCoord:{value:new Oe,type:"mat3x3<f32>"},uClampFrame:{value:new Float32Array([0,0,1,1]),type:"vec4<f32>"},uClampOffset:{value:new Float32Array([0,0]),type:"vec2<f32>"},uTextureTransform:{value:new Oe,type:"mat3x3<f32>"},uSizeAnchor:{value:new Float32Array([100,100,.5,.5]),type:"vec4<f32>"}});super({glProgram:zv,gpuProgram:Vv,resources:{localUniforms:new gr({uTransformMatrix:{value:new Oe,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),tilingUniforms:e,uTexture:Ae.EMPTY.source,uSampler:Ae.EMPTY.source.style}})}updateUniforms(e,n,r,i,o,s){const a=this.resources.tilingUniforms,l=s.width,u=s.height,c=s.textureMatrix,f=a.uniforms.uTextureTransform;f.set(r.a*l/e,r.b*l/n,r.c*u/e,r.d*u/n,r.tx/e,r.ty/n),f.invert(),a.uniforms.uMapCoord=c.mapCoord,a.uniforms.uClampFrame=c.uClampFrame,a.uniforms.uClampOffset=c.uClampOffset,a.uniforms.uTextureTransform=f,a.uniforms.uSizeAnchor[0]=e,a.uniforms.uSizeAnchor[1]=n,a.uniforms.uSizeAnchor[2]=i,a.uniforms.uSizeAnchor[3]=o,s&&(this.resources.uTexture=s.source,this.resources.uSampler=s.source.style)}}class dpe extends lE{constructor(){super({positions:new Float32Array([0,0,1,0,1,1,0,1]),uvs:new Float32Array([0,0,1,0,1,1,0,1]),indices:new Uint32Array([0,1,2,0,2,3])})}}function hpe(t,e){const n=t.anchor.x,r=t.anchor.y;e[0]=-n*t.width,e[1]=-r*t.height,e[2]=(1-n)*t.width,e[3]=-r*t.height,e[4]=(1-n)*t.width,e[5]=(1-r)*t.height,e[6]=-n*t.width,e[7]=(1-r)*t.height}function ppe(t,e,n,r){let i=0;const o=t.length/(e||2),s=r.a,a=r.b,l=r.c,u=r.d,c=r.tx,f=r.ty;for(n*=e;i<o;){const d=t[n],h=t[n+1];t[n]=s*d+l*h+c,t[n+1]=a*d+u*h+f,n+=e,i++}}function gpe(t,e){const n=t.texture,r=n.frame.width,i=n.frame.height;let o=0,s=0;t.applyAnchorToTexture&&(o=t.anchor.x,s=t.anchor.y),e[0]=e[6]=-o,e[2]=e[4]=1-o,e[1]=e[3]=-s,e[5]=e[7]=1-s;const a=Oe.shared;a.copyFrom(t._tileTransform.matrix),a.tx/=t.width,a.ty/=t.height,a.invert(),a.scale(t.width/r,t.height/i),ppe(e,2,0,a)}const Bp=new dpe;class mpe{constructor(){this.canBatch=!0,this.geometry=new lE({indices:Bp.indices.slice(),positions:Bp.positions.slice(),uvs:Bp.uvs.slice()})}destroy(){var e;this.geometry.destroy(),(e=this.shader)==null||e.destroy()}}class bN{constructor(e){this._state=Li.default2d,this._renderer=e}validateRenderable(e){const n=this._getTilingSpriteData(e),r=n.canBatch;this._updateCanBatch(e);const i=n.canBatch;if(i&&i===r){const{batchableMesh:o}=n;return!o._batcher.checkAndUpdateTexture(o,e.texture)}return r!==i}addRenderable(e,n){const r=this._renderer.renderPipes.batch;this._updateCanBatch(e);const i=this._getTilingSpriteData(e),{geometry:o,canBatch:s}=i;if(s){i.batchableMesh||(i.batchableMesh=new wE);const a=i.batchableMesh;e.didViewUpdate&&(this._updateBatchableMesh(e),a.geometry=o,a.renderable=e,a.transform=e.groupTransform,a.setTexture(e._texture)),a.roundPixels=this._renderer._roundPixels|e._roundPixels,r.addToBatch(a,n)}else r.break(n),i.shader||(i.shader=new fpe),this.updateRenderable(e),n.add(e)}execute(e){const{shader:n}=this._getTilingSpriteData(e);n.groups[0]=this._renderer.globalUniforms.bindGroup;const r=n.resources.localUniforms.uniforms;r.uTransformMatrix=e.groupTransform,r.uRound=this._renderer._roundPixels|e._roundPixels,Kd(e.groupColorAlpha,r.uColor,0),this._state.blendMode=ud(e.groupBlendMode,e.texture._source),this._renderer.encoder.draw({geometry:Bp,shader:n,state:this._state})}updateRenderable(e){const n=this._getTilingSpriteData(e),{canBatch:r}=n;if(r){const{batchableMesh:i}=n;e.didViewUpdate&&this._updateBatchableMesh(e),i._batcher.updateElement(i)}else if(e.didViewUpdate){const{shader:i}=n;i.updateUniforms(e.width,e.height,e._tileTransform.matrix,e.anchor.x,e.anchor.y,e.texture)}}_getTilingSpriteData(e){return e._gpuData[this._renderer.uid]||this._initTilingSpriteData(e)}_initTilingSpriteData(e){const n=new mpe;return n.renderable=e,e._gpuData[this._renderer.uid]=n,n}_updateBatchableMesh(e){const n=this._getTilingSpriteData(e),{geometry:r}=n,i=e.texture.source.style;i.addressMode!=="repeat"&&(i.addressMode="repeat",i.update()),gpe(e,r.uvs),hpe(e,r.positions)}destroy(){this._renderer=null}_updateCanBatch(e){const n=this._getTilingSpriteData(e),r=e.texture;let i=!0;return this._renderer.type===Kr.WEBGL&&(i=this._renderer.context.supports.nonPowOf2wrapping),n.canBatch=r.textureMatrix.isSimple&&(i||r.source.isPowerOfTwo),n.canBatch}}bN.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"tilingSprite"};const vpe={name:"local-uniform-msdf-bit",vertex:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32,
                uRound:f32,
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `},fragment:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
         `,main:`
            outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));
        `}},ype={name:"local-uniform-msdf-bit",vertex:{header:`
            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix *= uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `},fragment:{header:`
            uniform float uDistance;
         `,main:`
            outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));
        `}},_pe={name:"msdf-bit",fragment:{header:`
            fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {

                // MSDF
                var median = msdfColor.r + msdfColor.g + msdfColor.b -
                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));

                // SDF
                median = min(median, msdfColor.a);

                var screenPxDistance = distance * (median - 0.5);
                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));
                var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);
                var coverage: f32 = pow(shapeColor.a * alpha, gamma);

                return coverage;

            }
        `}},bpe={name:"msdf-bit",fragment:{header:`
            float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {

                // MSDF
                float median = msdfColor.r + msdfColor.g + msdfColor.b -
                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));

                // SDF
                median = min(median, msdfColor.a);

                float screenPxDistance = distance * (median - 0.5);
                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);

                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));
                float gamma = mix(1.0, 1.0 / 2.2, luma);
                float coverage = pow(shapeColor.a * alpha, gamma);

                return coverage;
            }
        `}};let jv,Wv;class xpe extends yi{constructor(e){const n=new gr({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new Oe,type:"mat3x3<f32>"},uDistance:{value:4,type:"f32"},uRound:{value:0,type:"f32"}});jv??(jv=jd({name:"sdf-shader",bits:[Xw,qw(e),vpe,_pe,Yd]})),Wv??(Wv=Wd({name:"sdf-shader",bits:[Kw,Zw(e),ype,bpe,Xd]})),super({glProgram:Wv,gpuProgram:jv,resources:{localUniforms:n,batchSamplers:Jw(e)}})}}class wpe extends w0{destroy(){this.context.customShader&&this.context.customShader.destroy(),super.destroy()}}class xN{constructor(e){this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_gpuBitmapText")}validateRenderable(e){const n=this._getGpuBitmapText(e);return this._renderer.renderPipes.graphics.validateRenderable(n)}addRenderable(e,n){const r=this._getGpuBitmapText(e);mP(e,r),e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,r)),this._renderer.renderPipes.graphics.addRenderable(r,n),r.context.customShader&&this._updateDistanceField(e)}updateRenderable(e){const n=this._getGpuBitmapText(e);mP(e,n),this._renderer.renderPipes.graphics.updateRenderable(n),n.context.customShader&&this._updateDistanceField(e)}_updateContext(e,n){const{context:r}=n,i=G_.getFont(e.text,e._style);r.clear(),i.distanceField.type!=="none"&&(r.customShader||(r.customShader=new xpe(this._renderer.limits.maxBatchableTextures)));const o=Ii.graphemeSegmenter(e.text),s=e._style;let a=i.baseLineOffset;const l=Ek(o,s,i,!0),u=s.padding,c=l.scale;let f=l.width,d=l.height+l.offsetY;s._stroke&&(f+=s._stroke.width/c,d+=s._stroke.width/c),r.translate(-e._anchor._x*f-u,-e._anchor._y*d-u).scale(c,c);const h=i.applyFillAsTint?s._fill.color:16777215;let p=i.fontMetrics.fontSize,y=i.lineHeight;s.lineHeight&&(p=s.fontSize/c,y=s.lineHeight/c);let v=(y-p)/2;v-i.baseLineOffset<0&&(v=0);for(let g=0;g<l.lines.length;g++){const m=l.lines[g];for(let _=0;_<m.charPositions.length;_++){const b=m.chars[_],x=i.chars[b];if(x!=null&&x.texture){const w=x.texture;r.texture(w,h||"black",Math.round(m.charPositions[_]+x.xOffset),Math.round(a+x.yOffset+v),w.orig.width,w.orig.height)}}a+=y}}_getGpuBitmapText(e){return e._gpuData[this._renderer.uid]||this.initGpuText(e)}initGpuText(e){const n=new wpe;return e._gpuData[this._renderer.uid]=n,this._updateContext(e,n),n}_updateDistanceField(e){const n=this._getGpuBitmapText(e).context,r=e._style.fontFamily,i=xt.get(`${r}-bitmap`),{a:o,b:s,c:a,d:l}=e.groupTransform,u=Math.sqrt(o*o+s*s),c=Math.sqrt(a*a+l*l),f=(Math.abs(u)+Math.abs(c))/2,d=i.baseRenderedFontSize/e._style.fontSize,h=f*i.distanceField.range*(1/d);n.customShader.resources.localUniforms.uniforms.uDistance=h}destroy(){this._renderer=null}}xN.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"bitmapText"};function mP(t,e){e.groupTransform=t.groupTransform,e.groupColorAlpha=t.groupColorAlpha,e.groupColor=t.groupColor,e.groupBlendMode=t.groupBlendMode,e.globalDisplayStatus=t.globalDisplayStatus,e.groupTransform=t.groupTransform,e.localDisplayStatus=t.localDisplayStatus,e.groupAlpha=t.groupAlpha,e._roundPixels=t._roundPixels}class Epe extends Zg{constructor(e){super(),this.generatingTexture=!1,this._renderer=e,e.runners.resolutionChange.add(this)}resolutionChange(){const e=this.renderable;e._autoResolution&&e.onViewUpdate()}destroy(){this._renderer.htmlText.returnTexturePromise(this.texturePromise),this.texturePromise=null,this._renderer=null}}function Z_(t,e){const{texture:n,bounds:r}=t,i=e._style._getFinalPadding();f8(r,e._anchor,n);const o=e._anchor._x*i*2,s=e._anchor._y*i*2;r.minX-=i-o,r.minY-=i-s,r.maxX-=i-o,r.maxY-=i-s}class wN{constructor(e){this._renderer=e}validateRenderable(e){return e._didTextUpdate}addRenderable(e,n){const r=this._getGpuText(e);e._didTextUpdate&&(this._updateGpuText(e).catch(i=>{console.error(i)}),e._didTextUpdate=!1,Z_(r,e)),this._renderer.renderPipes.batch.addToBatch(r,n)}updateRenderable(e){const n=this._getGpuText(e);n._batcher.updateElement(n)}async _updateGpuText(e){e._didTextUpdate=!1;const n=this._getGpuText(e);if(n.generatingTexture)return;n.texturePromise&&(this._renderer.htmlText.returnTexturePromise(n.texturePromise),n.texturePromise=null),n.generatingTexture=!0,e._resolution=e._autoResolution?this._renderer.resolution:e.resolution;const r=this._renderer.htmlText.getTexturePromise(e);n.texturePromise=r,n.texture=await r;const i=e.renderGroup||e.parentRenderGroup;i&&(i.structureDidChange=!0),n.generatingTexture=!1,Z_(n,e)}_getGpuText(e){return e._gpuData[this._renderer.uid]||this.initGpuText(e)}initGpuText(e){const n=new Epe(this._renderer);return n.renderable=e,n.transform=e.groupTransform,n.texture=Ae.EMPTY,n.bounds={minX:0,maxX:1,minY:0,maxY:0},n.roundPixels=this._renderer._roundPixels|e._roundPixels,e._resolution=e._autoResolution?this._renderer.resolution:e.resolution,e._gpuData[this._renderer.uid]=n,n}destroy(){this._renderer=null}}wN.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"htmlText"};function Spe(){const{userAgent:t}=je.get().getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}const Cpe=new Vn;function EN(t,e,n,r){const i=Cpe;i.minX=0,i.minY=0,i.maxX=t.width/r|0,i.maxY=t.height/r|0;const o=un.getOptimalTexture(i.width,i.height,r,!1);return o.source.uploadMethodId="image",o.source.resource=t,o.source.alphaMode="premultiply-alpha-on-upload",o.frame.width=e/r,o.frame.height=n/r,o.source.emit("update",o.source),o.updateUvs(),o}function Ape(t,e){const n=e.fontFamily,r=[],i={},o=/font-family:([^;"\s]+)/g,s=t.match(o);function a(l){i[l]||(r.push(l),i[l]=!0)}if(Array.isArray(n))for(let l=0;l<n.length;l++)a(n[l]);else a(n);s&&s.forEach(l=>{const u=l.split(":")[1].trim();a(u)});for(const l in e.tagStyles){const u=e.tagStyles[l].fontFamily;a(u)}return r}async function Tpe(t){const n=await(await je.get().fetch(t)).blob(),r=new FileReader;return await new Promise((o,s)=>{r.onloadend=()=>o(r.result),r.onerror=s,r.readAsDataURL(n)})}async function Ppe(t,e){const n=await Tpe(e);return`@font-face {
        font-family: "${t.fontFamily}";
        font-weight: ${t.fontWeight};
        font-style: ${t.fontStyle};
        src: url('${n}');
    }`}const Yv=new Map;async function Ipe(t){const e=t.filter(n=>xt.has(`${n}-and-url`)).map(n=>{if(!Yv.has(n)){const{entries:r}=xt.get(`${n}-and-url`),i=[];r.forEach(o=>{const s=o.url,l=o.faces.map(u=>({weight:u.weight,style:u.style}));i.push(...l.map(u=>Ppe({fontWeight:u.weight,fontStyle:u.style,fontFamily:n},s)))}),Yv.set(n,Promise.all(i).then(o=>o.join(`
`)))}return Yv.get(n)});return(await Promise.all(e)).join(`
`)}function Ope(t,e,n,r,i){const{domElement:o,styleElement:s,svgRoot:a}=i;o.innerHTML=`<style>${e.cssStyle}</style><div style='padding:0;'>${t}</div>`,o.setAttribute("style",`transform: scale(${n});transform-origin: top left; display: inline-block`),s.textContent=r;const{width:l,height:u}=i.image;return a.setAttribute("width",l.toString()),a.setAttribute("height",u.toString()),new XMLSerializer().serializeToString(a)}function Rpe(t,e){const n=ia.getOptimalCanvasAndContext(t.width,t.height,e),{context:r}=n;return r.clearRect(0,0,t.width,t.height),r.drawImage(t,0,0),n}function Mpe(t,e,n){return new Promise(async r=>{n&&await new Promise(i=>setTimeout(i,100)),t.onload=()=>{r()},t.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(e)}`,t.crossOrigin="anonymous"})}class SN{constructor(e){this._renderer=e,this._createCanvas=e.type===Kr.WEBGPU}getTexture(e){return this.getTexturePromise(e)}getTexturePromise(e){return this._buildTexturePromise(e)}async _buildTexturePromise(e){const{text:n,style:r,resolution:i,textureStyle:o}=e,s=Hn.get($k),a=Ape(n,r),l=await Ipe(a),u=cde(n,r,l,s),c=Math.ceil(Math.ceil(Math.max(1,u.width)+r.padding*2)*i),f=Math.ceil(Math.ceil(Math.max(1,u.height)+r.padding*2)*i),d=s.image,h=2;d.width=(c|0)+h,d.height=(f|0)+h;const p=Ope(n,r,i,l,s);await Mpe(d,p,Spe()&&a.length>0);const y=d;let v;this._createCanvas&&(v=Rpe(d,i));const g=EN(v?v.canvas:y,d.width-h,d.height-h,i);return o&&(g.source.style=o),this._createCanvas&&(this._renderer.texture.initSource(g.source),ia.returnCanvasAndContext(v)),Hn.return(s),g}returnTexturePromise(e){e.then(n=>{this._cleanUp(n)}).catch(()=>{Ne("HTMLTextSystem: Failed to clean texture")})}_cleanUp(e){un.returnTexture(e,!0),e.source.resource=null,e.source.uploadMethodId="unknown"}destroy(){this._renderer=null}}SN.extension={type:[V.WebGLSystem,V.WebGPUSystem,V.CanvasSystem],name:"htmlText"};class Dpe extends Zg{constructor(e){super(),this._renderer=e,e.runners.resolutionChange.add(this)}resolutionChange(){const e=this.renderable;e._autoResolution&&e.onViewUpdate()}destroy(){this._renderer.canvasText.returnTexture(this.texture),this._renderer=null}}class CN{constructor(e){this._renderer=e}validateRenderable(e){return e._didTextUpdate}addRenderable(e,n){const r=this._getGpuText(e);e._didTextUpdate&&(this._updateGpuText(e),e._didTextUpdate=!1),this._renderer.renderPipes.batch.addToBatch(r,n)}updateRenderable(e){const n=this._getGpuText(e);n._batcher.updateElement(n)}_updateGpuText(e){const n=this._getGpuText(e);n.texture&&this._renderer.canvasText.returnTexture(n.texture),e._resolution=e._autoResolution?this._renderer.resolution:e.resolution,n.texture=this._renderer.canvasText.getTexture(e),Z_(n,e)}_getGpuText(e){return e._gpuData[this._renderer.uid]||this.initGpuText(e)}initGpuText(e){const n=new Dpe(this._renderer);return n.renderable=e,n.transform=e.groupTransform,n.bounds={minX:0,maxX:1,minY:0,maxY:0},n.roundPixels=this._renderer._roundPixels|e._roundPixels,e._gpuData[this._renderer.uid]=n,n}destroy(){this._renderer=null}}CN.extension={type:[V.WebGLPipes,V.WebGPUPipes,V.CanvasPipes],name:"text"};class AN{constructor(e){this._renderer=e}getTexture(e,n,r,i){typeof e=="string"&&(Fe("8.0.0","CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments"),e={text:e,style:r,resolution:n}),e.style instanceof _l||(e.style=new _l(e.style)),e.textureStyle instanceof vo||(e.textureStyle=new vo(e.textureStyle)),typeof e.text!="string"&&(e.text=e.text.toString());const{text:o,style:s,textureStyle:a}=e,l=e.resolution??this._renderer.resolution,{frame:u,canvasAndContext:c}=Af.getCanvasAndContext({text:o,style:s,resolution:l}),f=EN(c.canvas,u.width,u.height,l);if(a&&(f.source.style=a),s.trim&&(u.pad(s.padding),f.frame.copyFrom(u),f.frame.scale(1/l),f.updateUvs()),s.filters){const d=this._applyFilters(f,s.filters);return this.returnTexture(f),Af.returnCanvasAndContext(c),d}return this._renderer.texture.initSource(f._source),Af.returnCanvasAndContext(c),f}returnTexture(e){const n=e.source;n.resource=null,n.uploadMethodId="unknown",n.alphaMode="no-premultiply-alpha",un.returnTexture(e,!0)}renderTextToCanvas(){Fe("8.10.0","CanvasTextSystem.renderTextToCanvas: no longer supported, use CanvasTextSystem.getTexture instead")}_applyFilters(e,n){const r=this._renderer.renderTarget.renderTarget,i=this._renderer.filter.generateFilteredTexture({texture:e,filters:n});return this._renderer.renderTarget.bind(r,!1),i}destroy(){this._renderer=null}}AN.extension={type:[V.WebGLSystem,V.WebGPUSystem,V.CanvasSystem],name:"canvasText"};$e.add(rae,iae);var nl={},TN={},Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});Ko.loop=Ko.conditional=Ko.parse=void 0;var Bpe=function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r;if(Array.isArray(n))n.forEach(function(s){return t(e,s,r,i)});else if(typeof n=="function")n(e,r,i,t);else{var o=Object.keys(n)[0];Array.isArray(n[o])?(i[o]={},t(e,n[o],r,i[o])):i[o]=n[o](e,r,i,t)}return r};Ko.parse=Bpe;var kpe=function(e,n){return function(r,i,o,s){n(r,i,o)&&s(r,e,i,o)}};Ko.conditional=kpe;var Npe=function(e,n){return function(r,i,o,s){for(var a=[],l=r.pos;n(r,i,o);){var u={};if(s(r,e,i,u),r.pos===l)break;l=r.pos,a.push(u)}return a}};Ko.loop=Npe;var on={};Object.defineProperty(on,"__esModule",{value:!0});on.readBits=on.readArray=on.readUnsigned=on.readString=on.peekBytes=on.readBytes=on.peekByte=on.readByte=on.buildStream=void 0;var Fpe=function(e){return{data:e,pos:0}};on.buildStream=Fpe;var PN=function(){return function(e){return e.data[e.pos++]}};on.readByte=PN;var Lpe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(n){return n.data[n.pos+e]}};on.peekByte=Lpe;var Jg=function(e){return function(n){return n.data.subarray(n.pos,n.pos+=e)}};on.readBytes=Jg;var $pe=function(e){return function(n){return n.data.subarray(n.pos,n.pos+e)}};on.peekBytes=$pe;var Upe=function(e){return function(n){return Array.from(Jg(e)(n)).map(function(r){return String.fromCharCode(r)}).join("")}};on.readString=Upe;var Gpe=function(e){return function(n){var r=Jg(2)(n);return e?(r[1]<<8)+r[0]:(r[0]<<8)+r[1]}};on.readUnsigned=Gpe;var Hpe=function(e,n){return function(r,i,o){for(var s=typeof n=="function"?n(r,i,o):n,a=Jg(e),l=new Array(s),u=0;u<s;u++)l[u]=a(r);return l}};on.readArray=Hpe;var Vpe=function(e,n,r){for(var i=0,o=0;o<r;o++)i+=e[n+o]&&Math.pow(2,r-o-1);return i},zpe=function(e){return function(n){for(var r=PN()(n),i=new Array(8),o=0;o<8;o++)i[7-o]=!!(r&1<<o);return Object.keys(e).reduce(function(s,a){var l=e[a];return l.length?s[a]=Vpe(i,l.index,l.length):s[a]=i[l.index],s},{})}};on.readBits=zpe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=Ko,n=on,r={blocks:function(d){for(var h=0,p=[],y=d.data.length,v=0,g=(0,n.readByte)()(d);g!==h&&g;g=(0,n.readByte)()(d)){if(d.pos+g>=y){var m=y-d.pos;p.push((0,n.readBytes)(m)(d)),v+=m;break}p.push((0,n.readBytes)(g)(d)),v+=g}for(var _=new Uint8Array(v),b=0,x=0;x<p.length;x++)_.set(p[x],b),b+=p[x].length;return _}},i=(0,e.conditional)({gce:[{codes:(0,n.readBytes)(2)},{byteSize:(0,n.readByte)()},{extras:(0,n.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,n.readUnsigned)(!0)},{transparentColorIndex:(0,n.readByte)()},{terminator:(0,n.readByte)()}]},function(f){var d=(0,n.peekBytes)(2)(f);return d[0]===33&&d[1]===249}),o=(0,e.conditional)({image:[{code:(0,n.readByte)()},{descriptor:[{left:(0,n.readUnsigned)(!0)},{top:(0,n.readUnsigned)(!0)},{width:(0,n.readUnsigned)(!0)},{height:(0,n.readUnsigned)(!0)},{lct:(0,n.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,e.conditional)({lct:(0,n.readArray)(3,function(f,d,h){return Math.pow(2,h.descriptor.lct.size+1)})},function(f,d,h){return h.descriptor.lct.exists}),{data:[{minCodeSize:(0,n.readByte)()},r]}]},function(f){return(0,n.peekByte)()(f)===44}),s=(0,e.conditional)({text:[{codes:(0,n.readBytes)(2)},{blockSize:(0,n.readByte)()},{preData:function(d,h,p){return(0,n.readBytes)(p.text.blockSize)(d)}},r]},function(f){var d=(0,n.peekBytes)(2)(f);return d[0]===33&&d[1]===1}),a=(0,e.conditional)({application:[{codes:(0,n.readBytes)(2)},{blockSize:(0,n.readByte)()},{id:function(d,h,p){return(0,n.readString)(p.blockSize)(d)}},r]},function(f){var d=(0,n.peekBytes)(2)(f);return d[0]===33&&d[1]===255}),l=(0,e.conditional)({comment:[{codes:(0,n.readBytes)(2)},r]},function(f){var d=(0,n.peekBytes)(2)(f);return d[0]===33&&d[1]===254}),u=[{header:[{signature:(0,n.readString)(3)},{version:(0,n.readString)(3)}]},{lsd:[{width:(0,n.readUnsigned)(!0)},{height:(0,n.readUnsigned)(!0)},{gct:(0,n.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,n.readByte)()},{pixelAspectRatio:(0,n.readByte)()}]},(0,e.conditional)({gct:(0,n.readArray)(3,function(f,d){return Math.pow(2,d.lsd.gct.size+1)})},function(f,d){return d.lsd.gct.exists}),{frames:(0,e.loop)([i,a,l,o,s],function(f){var d=(0,n.peekByte)()(f);return d===33||d===44})}],c=u;t.default=c})(TN);var Qg={};Object.defineProperty(Qg,"__esModule",{value:!0});Qg.deinterlace=void 0;var jpe=function(e,n){for(var r=new Array(e.length),i=e.length/n,o=function(d,h){var p=e.slice(h*n,(h+1)*n);r.splice.apply(r,[d*n,n].concat(p))},s=[0,4,2,1],a=[8,8,4,2],l=0,u=0;u<4;u++)for(var c=s[u];c<i;c+=a[u])o(c,l),l++;return r};Qg.deinterlace=jpe;var em={};Object.defineProperty(em,"__esModule",{value:!0});em.lzw=void 0;var Wpe=function(e,n,r){var i=4096,o=-1,s=r,a,l,u,c,f,d,h,w,p,y,x,v,E,S,C,P,g=new Array(r),m=new Array(i),_=new Array(i),b=new Array(i+1);for(v=e,l=1<<v,f=l+1,a=l+2,h=o,c=v+1,u=(1<<c)-1,p=0;p<l;p++)m[p]=0,_[p]=p;var x,w,E,S,P,C;for(x=w=E=S=P=C=0,y=0;y<s;){if(S===0){if(w<c){x+=n[C]<<w,w+=8,C++;continue}if(p=x&u,x>>=c,w-=c,p>a||p==f)break;if(p==l){c=v+1,u=(1<<c)-1,a=l+2,h=o;continue}if(h==o){b[S++]=_[p],h=p,E=p;continue}for(d=p,p==a&&(b[S++]=E,p=h);p>l;)b[S++]=_[p],p=m[p];E=_[p]&255,b[S++]=E,a<i&&(m[a]=h,_[a]=E,a++,!(a&u)&&a<i&&(c++,u+=a)),h=d}S--,g[P++]=b[S],y++}for(y=P;y<s;y++)g[y]=0;return g};em.lzw=Wpe;Object.defineProperty(nl,"__esModule",{value:!0});var IN=nl.decompressFrames=nl.decompressFrame=ON=nl.parseGIF=void 0,Ype=Jpe(TN),Xpe=Ko,Kpe=on,qpe=Qg,Zpe=em;function Jpe(t){return t&&t.__esModule?t:{default:t}}var Qpe=function(e){var n=new Uint8Array(e);return(0,Xpe.parse)((0,Kpe.buildStream)(n),Ype.default)},ON=nl.parseGIF=Qpe,e0e=function(e){for(var n=e.pixels.length,r=new Uint8ClampedArray(n*4),i=0;i<n;i++){var o=i*4,s=e.pixels[i],a=e.colorTable[s]||[0,0,0];r[o]=a[0],r[o+1]=a[1],r[o+2]=a[2],r[o+3]=s!==e.transparentIndex?255:0}return r},RN=function(e,n,r){if(!e.image){console.warn("gif frame does not have associated image.");return}var i=e.image,o=i.descriptor.width*i.descriptor.height,s=(0,Zpe.lzw)(i.data.minCodeSize,i.data.blocks,o);i.descriptor.lct.interlaced&&(s=(0,qpe.deinterlace)(s,i.descriptor.width));var a={pixels:s,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height}};return i.descriptor.lct&&i.descriptor.lct.exists?a.colorTable=i.lct:a.colorTable=n,e.gce&&(a.delay=(e.gce.delay||10)*10,a.disposalType=e.gce.extras.disposal,e.gce.extras.transparentColorGiven&&(a.transparentIndex=e.gce.transparentColorIndex)),r&&(a.patch=e0e(a)),a};nl.decompressFrame=RN;var t0e=function(e,n){return e.frames.filter(function(r){return r.image}).map(function(r){return RN(r,e.gct,n)})};IN=nl.decompressFrames=t0e;class tm{constructor(e){if(!e||!e.length)throw new Error("Invalid frames");const[{texture:{width:n,height:r}}]=e;this.width=n,this.height=r,this.frames=e,this.textures=this.frames.map(i=>i.texture),this.totalFrames=this.frames.length,this.duration=this.frames[this.totalFrames-1].end}destroy(){for(const e of this.textures)e.destroy(!0);for(const e of this.frames)e.texture=null;this.frames.length=0,this.textures.length=0,Object.assign(this,{frames:null,textures:null,width:0,height:0,duration:0,totalFrames:0})}static from(e,n){if(!e||e.byteLength===0)throw new Error("Invalid buffer");const r=v=>{let g=null;for(const m of v.frames)g=m.gce??g,"image"in m&&!("gce"in m)&&(m.gce=g)},i=ON(e);r(i);const o=IN(i,!0),s=[],a=i.lsd.width,l=i.lsd.height,u=je.get().createCanvas(a,l),c=u.getContext("2d",{willReadFrequently:!0}),f=je.get().createCanvas(),d=f.getContext("2d");let h=0,p=null;const y=1e3/((n==null?void 0:n.fps)??30);for(let v=0;v<o.length;v++){const{disposalType:g=2,delay:m=y,patch:_,dims:{width:b,height:x,left:w,top:E}}=o[v];f.width=b,f.height=x,d.clearRect(0,0,b,x);const S=d.createImageData(b,x);S.data.set(_),d.putImageData(S,0,0),g===3&&(p=c.getImageData(0,0,a,l)),c.drawImage(f,w,E);const P=c.getImageData(0,0,a,l);g===2?c.clearRect(0,0,a,l):g===3&&c.putImageData(p,0,0);const C=je.get().createCanvas(P.width,P.height);C.getContext("2d").putImageData(P,0,0),s.push({start:h,end:h+m,texture:new Ae({source:new ao({resource:C})})}),h+=m}return u.width=u.height=0,f.width=f.height=0,new tm(s)}}const n0e={extension:V.Asset,detection:{test:async()=>!0,add:async t=>[...t,"gif"],remove:async t=>t.filter(e=>e!=="gif")},loader:{name:"gifLoader",id:"gif",test:t=>Pr.extname(t)===".gif"||t.startsWith("data:image/gif"),load:async(t,e)=>{const r=await(await je.get().fetch(t)).arrayBuffer();return tm.from(r,e==null?void 0:e.data)},unload:async t=>{t.destroy()}}},MN=class J_ extends gl{constructor(...e){const n=e[0]instanceof tm?{source:e[0]}:e[0],{scaleMode:r,source:i,fps:o,loop:s,animationSpeed:a,autoPlay:l,autoUpdate:u,onComplete:c,onFrameChange:f,onLoop:d,...h}=Object.assign({},J_.defaultOptions,n);super({texture:Ae.EMPTY,...h}),this.animationSpeed=1,this.loop=!0,this.duration=0,this.autoPlay=!0,this.dirty=!1,this._currentFrame=0,this._autoUpdate=!1,this._isConnectedToTicker=!1,this._playing=!1,this._currentTime=0,this.onRender=()=>this._updateFrame(),this.texture=i.textures[0],this.duration=i.frames[i.frames.length-1].end,this._source=i,this._playing=!1,this._currentTime=0,this._isConnectedToTicker=!1,Object.assign(this,{fps:o,loop:s,animationSpeed:a,autoPlay:l,autoUpdate:u,onComplete:c,onFrameChange:f,onLoop:d}),this.currentFrame=0,l&&this.play()}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Un.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Un.shared.add(this.update,this,vl.HIGH),this._isConnectedToTicker=!0),!this.loop&&this.currentFrame===this._source.frames.length-1&&(this._currentTime=0))}get progress(){return this._currentTime/this.duration}get playing(){return this._playing}update(e){var s,a;if(!this._playing)return;const n=this.animationSpeed*e.deltaTime/Un.targetFPMS,r=this._currentTime+n,i=r%this.duration,o=this._source.frames.findIndex(l=>l.start<=i&&l.end>i);r>=this.duration?this.loop?(this._currentTime=i,this._updateFrameIndex(o),(s=this.onLoop)==null||s.call(this)):(this._currentTime=this.duration,this._updateFrameIndex(this.totalFrames-1),(a=this.onComplete)==null||a.call(this),this.stop()):(this._currentTime=i,this._updateFrameIndex(o))}_updateFrame(){this.dirty&&(this.texture=this._source.frames[this._currentFrame].texture,this.dirty=!1)}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Un.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Un.shared.add(this.update,this),this._isConnectedToTicker=!0))}get currentFrame(){return this._currentFrame}set currentFrame(e){this._updateFrameIndex(e),this._currentTime=this._source.frames[e].start}get source(){return this._source}_updateFrameIndex(e){var n;if(e<0||e>=this.totalFrames)throw new Error(`Frame index out of range, expecting 0 to ${this.totalFrames}, got ${e}`);this._currentFrame!==e&&(this._currentFrame=e,this.dirty=!0,(n=this.onFrameChange)==null||n.call(this,e))}get totalFrames(){return this._source.totalFrames}destroy(e=!1){this.stop(),super.destroy(),e&&this._source.destroy();const n=null;this._source=n,this.onComplete=n,this.onFrameChange=n,this.onLoop=n}clone(){const e=new J_({source:this._source,autoUpdate:this._autoUpdate,loop:this.loop,autoPlay:this.autoPlay,scaleMode:this.texture.source.scaleMode,animationSpeed:this.animationSpeed,onComplete:this.onComplete,onFrameChange:this.onFrameChange,onLoop:this.onLoop});return e.dirty=!0,e}};MN.defaultOptions={scaleMode:"linear",fps:30,loop:!0,animationSpeed:1,autoPlay:!0,autoUpdate:!0,onComplete:null,onFrameChange:null,onLoop:null};let DPe=MN;$e.add(n0e);var DN={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ul,function(){return function(n,r,i){n=n||{};var o=r.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(u,c,f,d){return o.fromToBase(u,c,f,d)}i.en.relativeTime=s,o.fromToBase=function(u,c,f,d,h){for(var p,y,v,g=f.$locale().relativeTime||s,m=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],_=m.length,b=0;b<_;b+=1){var x=m[b];x.d&&(p=d?i(u).diff(f,x.d,!0):f.diff(u,x.d,!0));var w=(n.rounding||Math.round)(Math.abs(p));if(v=p>0,w<=x.r||!x.r){w<=1&&b>0&&(x=m[b-1]);var E=g[x.l];h&&(w=h(""+w)),y=typeof E=="string"?E.replace("%d",w):E(w,c,x.l,v);break}}if(c)return y;var S=v?g.future:g.past;return typeof S=="function"?S(y):S.replace("%s",y)},o.to=function(u,c){return a(u,c,this,!0)},o.from=function(u,c){return a(u,c,this)};var l=function(u){return u.$u?i.utc():i()};o.toNow=function(u){return this.to(l(this),u)},o.fromNow=function(u){return this.from(l(this),u)}}})})(DN);var r0e=DN.exports;const BPe=lc(r0e);var i0e={exports:{}};(function(t,e){(function(n,r){t.exports=r(Kx())})(ul,function(n){function r(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var i=r(n),o={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(s,a){return a==="W"?s+"周":s+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(s,a){var l=100*s+a;return l<600?"凌晨":l<900?"早上":l<1100?"上午":l<1300?"中午":l<1800?"下午":"晚上"}};return i.default.locale(o,null,!0),o})})(i0e);var o0e={exports:{}};(function(t,e){(function(n,r){t.exports=r(Kx())})(ul,function(n){function r(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var i=r(n),o={name:"zh-tw",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(s,a){return a==="W"?s+"週":s+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"},meridiem:function(s,a){var l=100*s+a;return l<600?"凌晨":l<900?"早上":l<1100?"上午":l<1300?"中午":l<1800?"下午":"晚上"}};return i.default.locale(o,null,!0),o})})(o0e);var s0e={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ul,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var r=["th","st","nd","rd"],i=n%100;return"["+n+(r[(i-20)%10]||r[i]||r[0])+"]"}}})})(s0e);const a0e=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},l0e=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},kN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):l0e(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new u0e;const d=o<<2|a>>4;if(r.push(d),u!==64){const h=a<<4&240|u>>2;if(r.push(h),f!==64){const p=u<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class u0e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c0e=function(t){const e=BN(t);return kN.encodeByteArray(e,!0)},NN=function(t){return c0e(t).replace(/\./g,"")},f0e=function(t){try{return kN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0e=()=>d0e().__FIREBASE_DEFAULTS__,p0e=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},g0e=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&f0e(t[1]);return e&&JSON.parse(e)},m0e=()=>{try{return a0e()||h0e()||p0e()||g0e()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FN=()=>{var t;return(t=m0e())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function y0e(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EE(){try{return typeof indexedDB=="object"}catch{return!1}}function SE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function LN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0e="FirebaseError";class Nl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_0e,Object.setPrototypeOf(this,Nl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qd.prototype.create)}}class qd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?b0e(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Nl(i,a,r)}}function b0e(t,e){return t.replace(x0e,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const x0e=/\{\$([^}]+)}/g;function E0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(vP(o)&&vP(s)){if(!E0(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0e=1e3,E0e=2,S0e=4*60*60*1e3,C0e=.5;function yP(t,e=w0e,n=E0e){const r=e*Math.pow(n,t),i=Math.round(C0e*r*(Math.random()-.5)*2);return Math.min(S0e,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t){return t&&t._delegate?t._delegate:t}class yo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0e{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new v0e;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P0e(e))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ra){return this.instances.has(e)}getOptions(e=Ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:T0e(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ra){return this.component?this.component.multipleInstances?e:Ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T0e(t){return t===Ra?void 0:t}function P0e(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new A0e(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Nt||(Nt={}));const O0e={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},R0e=Nt.INFO,M0e={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},D0e=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=M0e[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $N{constructor(e){this.name=e,this._logLevel=R0e,this._logHandler=D0e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?O0e[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}const B0e=(t,e)=>e.some(n=>t instanceof n);let _P,bP;function k0e(){return _P||(_P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N0e(){return bP||(bP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UN=new WeakMap,Q_=new WeakMap,GN=new WeakMap,Xv=new WeakMap,CE=new WeakMap;function F0e(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(qo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&UN.set(n,t)}).catch(()=>{}),CE.set(e,t),e}function L0e(t){if(Q_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Q_.set(t,e)}let eb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Q_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $0e(t){eb=t(eb)}function U0e(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kv(this),e,...n);return GN.set(r,e.sort?e.sort():[e]),qo(r)}:N0e().includes(t)?function(...e){return t.apply(Kv(this),e),qo(UN.get(this))}:function(...e){return qo(t.apply(Kv(this),e))}}function G0e(t){return typeof t=="function"?U0e(t):(t instanceof IDBTransaction&&L0e(t),B0e(t,k0e())?new Proxy(t,eb):t)}function qo(t){if(t instanceof IDBRequest)return F0e(t);if(Xv.has(t))return Xv.get(t);const e=G0e(t);return e!==t&&(Xv.set(t,e),CE.set(e,t)),e}const Kv=t=>CE.get(t);function nm(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=qo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(qo(s.result),l.oldVersion,l.newVersion,qo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function qv(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),qo(n).then(()=>{})}const H0e=["get","getKey","getAll","getAllKeys","count"],V0e=["put","add","delete","clear"],Zv=new Map;function xP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zv.get(e))return Zv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=V0e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||H0e.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Zv.set(e,o),o}$0e(t=>({...t,get:(e,n,r)=>xP(e,n)||t.get(e,n,r),has:(e,n)=>!!xP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(j0e(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function j0e(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tb="@firebase/app",wP="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new $N("@firebase/app"),W0e="@firebase/app-compat",Y0e="@firebase/analytics-compat",X0e="@firebase/analytics",K0e="@firebase/app-check-compat",q0e="@firebase/app-check",Z0e="@firebase/auth",J0e="@firebase/auth-compat",Q0e="@firebase/database",ege="@firebase/data-connect",tge="@firebase/database-compat",nge="@firebase/functions",rge="@firebase/functions-compat",ige="@firebase/installations",oge="@firebase/installations-compat",sge="@firebase/messaging",age="@firebase/messaging-compat",lge="@firebase/performance",uge="@firebase/performance-compat",cge="@firebase/remote-config",fge="@firebase/remote-config-compat",dge="@firebase/storage",hge="@firebase/storage-compat",pge="@firebase/firestore",gge="@firebase/ai",mge="@firebase/firestore-compat",vge="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="[DEFAULT]",yge={[tb]:"fire-core",[W0e]:"fire-core-compat",[X0e]:"fire-analytics",[Y0e]:"fire-analytics-compat",[q0e]:"fire-app-check",[K0e]:"fire-app-check-compat",[Z0e]:"fire-auth",[J0e]:"fire-auth-compat",[Q0e]:"fire-rtdb",[ege]:"fire-data-connect",[tge]:"fire-rtdb-compat",[nge]:"fire-fn",[rge]:"fire-fn-compat",[ige]:"fire-iid",[oge]:"fire-iid-compat",[sge]:"fire-fcm",[age]:"fire-fcm-compat",[lge]:"fire-perf",[uge]:"fire-perf-compat",[cge]:"fire-rc",[fge]:"fire-rc-compat",[dge]:"fire-gcs",[hge]:"fire-gcs-compat",[pge]:"fire-fst",[mge]:"fire-fst-compat",[gge]:"fire-vertex","fire-js":"fire-js",[vge]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=new Map,_ge=new Map,rb=new Map;function EP(t,e){try{t.container.addComponent(e)}catch(n){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function as(t){const e=t.name;if(rb.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;rb.set(e,t);for(const n of S0.values())EP(n,t);for(const n of _ge.values())EP(n,t);return!0}function Jd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bge={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new qd("app","Firebase",bge);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xge{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}function wge(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:nb,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ws.create("bad-app-name",{appName:String(i)});if(n||(n=FN()),!n)throw Ws.create("no-options");const o=S0.get(i);if(o){if(E0(n,o.options)&&E0(r,o.config))return o;throw Ws.create("duplicate-app",{appName:i})}const s=new I0e(i);for(const l of rb.values())s.addComponent(l);const a=new xge(n,r,s);return S0.set(i,a),a}function HN(t=nb){const e=S0.get(t);if(!e&&t===nb&&FN())return wge();if(!e)throw Ws.create("no-app",{appName:t});return e}function lo(t,e,n){var r;let i=(r=yge[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(a.join(" "));return}as(new yo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ege="firebase-heartbeat-database",Sge=1,fd="firebase-heartbeat-store";let Jv=null;function VN(){return Jv||(Jv=nm(Ege,Sge,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ws.create("idb-open",{originalErrorMessage:t.message})})),Jv}async function Cge(t){try{const n=(await VN()).transaction(fd),r=await n.objectStore(fd).get(zN(t));return await n.done,r}catch(e){if(e instanceof Nl)ss.warn(e.message);else{const n=Ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ss.warn(n.message)}}}async function SP(t,e){try{const r=(await VN()).transaction(fd,"readwrite");await r.objectStore(fd).put(e,zN(t)),await r.done}catch(n){if(n instanceof Nl)ss.warn(n.message);else{const r=Ws.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ss.warn(r.message)}}}function zN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Age=1024,Tge=30;class Pge{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Oge(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=CP();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Tge){const s=Rge(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ss.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=CP(),{heartbeatsToSend:r,unsentEntries:i}=Ige(this._heartbeatsCache.heartbeats),o=NN(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ss.warn(n),""}}}function CP(){return new Date().toISOString().substring(0,10)}function Ige(t,e=Age){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),AP(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Oge{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EE()?SE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Cge(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return SP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return SP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function AP(t){return NN(JSON.stringify({version:2,heartbeats:t})).length}function Rge(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mge(t){as(new yo("platform-logger",e=>new z0e(e),"PRIVATE")),as(new yo("heartbeat",e=>new Pge(e),"PRIVATE")),lo(tb,wP,t),lo(tb,wP,"esm2017"),lo("fire-js","")}Mge("");var Dge="firebase",Bge="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lo(Dge,Bge,"app");const jN="@firebase/installations",AE="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=1e4,YN=`w:${AE}`,XN="FIS_v2",kge="https://firebaseinstallations.googleapis.com/v1",Nge=60*60*1e3,Fge="installations",Lge="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ge={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bl=new qd(Fge,Lge,$ge);function KN(t){return t instanceof Nl&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN({projectId:t}){return`${kge}/projects/${t}/installations`}function ZN(t){return{token:t.token,requestStatus:2,expiresIn:Gge(t.expiresIn),creationTime:Date.now()}}async function JN(t,e){const r=(await e.json()).error;return bl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function QN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Uge(t,{refreshToken:e}){const n=QN(t);return n.append("Authorization",Hge(e)),n}async function eF(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Gge(t){return Number(t.replace("s","000"))}function Hge(t){return`${XN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vge({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=qN(t),i=QN(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={fid:n,authVersion:XN,appId:t.appId,sdkVersion:YN},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await eF(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:ZN(u.authToken)}}else throw await JN("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zge(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jge=/^[cdef][\w-]{21}$/,ib="";function Wge(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Yge(t);return jge.test(n)?n:ib}catch{return ib}}function Yge(t){return zge(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=new Map;function rF(t,e){const n=rm(t);iF(n,e),Xge(n,e)}function iF(t,e){const n=nF.get(t);if(n)for(const r of n)r(e)}function Xge(t,e){const n=Kge();n&&n.postMessage({key:t,fid:e}),qge()}let za=null;function Kge(){return!za&&"BroadcastChannel"in self&&(za=new BroadcastChannel("[Firebase] FID Change"),za.onmessage=t=>{iF(t.data.key,t.data.fid)}),za}function qge(){nF.size===0&&za&&(za.close(),za=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zge="firebase-installations-database",Jge=1,xl="firebase-installations-store";let Qv=null;function TE(){return Qv||(Qv=nm(Zge,Jge,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(xl)}}})),Qv}async function C0(t,e){const n=rm(t),i=(await TE()).transaction(xl,"readwrite"),o=i.objectStore(xl),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&rF(t,e.fid),e}async function oF(t){const e=rm(t),r=(await TE()).transaction(xl,"readwrite");await r.objectStore(xl).delete(e),await r.done}async function im(t,e){const n=rm(t),i=(await TE()).transaction(xl,"readwrite"),o=i.objectStore(xl),s=await o.get(n),a=e(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&rF(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PE(t){let e;const n=await im(t.appConfig,r=>{const i=Qge(r),o=eme(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===ib?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Qge(t){const e=t||{fid:Wge(),registrationStatus:0};return sF(e)}function eme(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(bl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=tme(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:nme(t)}:{installationEntry:e}}async function tme(t,e){try{const n=await Vge(t,e);return C0(t.appConfig,n)}catch(n){throw KN(n)&&n.customData.serverCode===409?await oF(t.appConfig):await C0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function nme(t){let e=await TP(t.appConfig);for(;e.registrationStatus===1;)await tF(100),e=await TP(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await PE(t);return r||n}return e}function TP(t){return im(t,e=>{if(!e)throw bl.create("installation-not-found");return sF(e)})}function sF(t){return rme(t)?{fid:t.fid,registrationStatus:0}:t}function rme(t){return t.registrationStatus===1&&t.registrationTime+WN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ime({appConfig:t,heartbeatServiceProvider:e},n){const r=ome(t,n),i=Uge(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={installation:{sdkVersion:YN,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await eF(()=>fetch(r,a));if(l.ok){const u=await l.json();return ZN(u)}else throw await JN("Generate Auth Token",l)}function ome(t,{fid:e}){return`${qN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IE(t,e=!1){let n;const r=await im(t.appConfig,o=>{if(!aF(o))throw bl.create("not-registered");const s=o.authToken;if(!e&&lme(s))return o;if(s.requestStatus===1)return n=sme(t,e),o;{if(!navigator.onLine)throw bl.create("app-offline");const a=cme(o);return n=ame(t,a),a}});return n?await n:r.authToken}async function sme(t,e){let n=await PP(t.appConfig);for(;n.authToken.requestStatus===1;)await tF(100),n=await PP(t.appConfig);const r=n.authToken;return r.requestStatus===0?IE(t,e):r}function PP(t){return im(t,e=>{if(!aF(e))throw bl.create("not-registered");const n=e.authToken;return fme(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function ame(t,e){try{const n=await ime(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await C0(t.appConfig,r),n}catch(n){if(KN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await oF(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await C0(t.appConfig,r)}throw n}}function aF(t){return t!==void 0&&t.registrationStatus===2}function lme(t){return t.requestStatus===2&&!ume(t)}function ume(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Nge}function cme(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function fme(t){return t.requestStatus===1&&t.requestTime+WN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dme(t){const e=t,{installationEntry:n,registrationPromise:r}=await PE(e);return r?r.catch(console.error):IE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hme(t,e=!1){const n=t;return await pme(n),(await IE(n,e)).token}async function pme(t){const{registrationPromise:e}=await PE(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gme(t){if(!t||!t.options)throw e1("App Configuration");if(!t.name)throw e1("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw e1(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function e1(t){return bl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF="installations",mme="installations-internal",vme=t=>{const e=t.getProvider("app").getImmediate(),n=gme(e),r=Jd(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},yme=t=>{const e=t.getProvider("app").getImmediate(),n=Jd(e,lF).getImmediate();return{getId:()=>dme(n),getToken:i=>hme(n,i)}};function _me(){as(new yo(lF,vme,"PUBLIC")),as(new yo(mme,yme,"PRIVATE"))}_me();lo(jN,AE);lo(jN,AE,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="analytics",bme="firebase_id",xme="origin",wme=60*1e3,Eme="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",OE="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new $N("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sme={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},jr=new qd("analytics","Analytics",Sme);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cme(t){if(!t.startsWith(OE)){const e=jr.create("invalid-gtag-resource",{gtagURL:t});return Ir.warn(e.message),""}return t}function uF(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Ame(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Tme(t,e){const n=Ame("firebase-js-sdk-policy",{createScriptURL:Cme}),r=document.createElement("script"),i=`${OE}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Pme(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Ime(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const l=(await uF(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Ir.error(a)}t("config",i,o)}async function Ome(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=await uF(n);for(const l of s){const u=a.find(f=>f.measurementId===l),c=u&&e[u.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){Ir.error(o)}}function Rme(t,e,n,r){async function i(o,...s){try{if(o==="event"){const[a,l]=s;await Ome(t,e,n,a,l)}else if(o==="config"){const[a,l]=s;await Ime(t,e,n,r,a,l)}else if(o==="consent"){const[a,l]=s;t("consent",a,l)}else if(o==="get"){const[a,l,u]=s;t("get",a,l,u)}else if(o==="set"){const[a]=s;t("set",a)}else t(o,...s)}catch(a){Ir.error(a)}}return i}function Mme(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=Rme(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function Dme(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(OE)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bme=30,kme=1e3;class Nme{constructor(e={},n=kme){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const cF=new Nme;function Fme(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Lme(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Fme(r)},o=Eme.replace("{app-id}",n),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw jr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function $me(t,e=cF,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw jr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw jr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Hme;return setTimeout(async()=>{a.abort()},n!==void 0?n:wme),fF({appId:r,apiKey:i,measurementId:o},s,a,e)}async function fF(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=cF){var o;const{appId:s,measurementId:a}=t;try{await Ume(r,e)}catch(l){if(a)return Ir.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await Lme(t);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!Gme(u)){if(i.deleteThrottleMetadata(s),a)return Ir.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:a};throw l}const c=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?yP(n,i.intervalMillis,Bme):yP(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(s,f),Ir.debug(`Calling attemptFetch again in ${c} millis`),fF(t,f,r,i)}}function Ume(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(jr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Gme(t){if(!(t instanceof Nl)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Hme{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Vme(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zme(){if(EE())try{await SE()}catch(t){return Ir.warn(jr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ir.warn(jr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function jme(t,e,n,r,i,o,s){var a;const l=$me(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Ir.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Ir.error(h)),e.push(l);const u=zme().then(h=>{if(h)return r.getId()}),[c,f]=await Promise.all([l,u]);Dme(o)||Tme(o,c.measurementId),i("js",new Date);const d=(a=s==null?void 0:s.config)!==null&&a!==void 0?a:{};return d[xme]="firebase",d.update=!0,f!=null&&(d[bme]=f),i("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wme{constructor(e){this.app=e}_delete(){return delete If[this.app.options.appId],Promise.resolve()}}let If={},IP=[];const OP={};let t1="dataLayer",Yme="gtag",RP,dF,MP=!1;function Xme(){const t=[];if(y0e()&&t.push("This is a browser extension environment."),LN()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=jr.create("invalid-analytics-context",{errorInfo:e});Ir.warn(n.message)}}function Kme(t,e,n){Xme();const r=t.options.appId;if(!r)throw jr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ir.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jr.create("no-api-key");if(If[r]!=null)throw jr.create("already-exists",{id:r});if(!MP){Pme(t1);const{wrappedGtag:o,gtagCore:s}=Mme(If,IP,OP,t1,Yme);dF=o,RP=s,MP=!0}return If[r]=jme(t,IP,OP,e,RP,t1,n),new Wme(t)}function kPe(t=HN()){t=Zd(t);const e=Jd(t,A0);return e.isInitialized()?e.getImmediate():qme(t)}function qme(t,e={}){const n=Jd(t,A0);if(n.isInitialized()){const i=n.getImmediate();if(E0(e,n.getOptions()))return i;throw jr.create("already-initialized")}return n.initialize({options:e})}function Zme(t,e,n,r){t=Zd(t),Vme(dF,If[t.app.options.appId],e,n,r).catch(i=>Ir.error(i))}const DP="@firebase/analytics",BP="0.10.17";function Jme(){as(new yo(A0,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Kme(r,i,n)},"PUBLIC")),as(new yo("analytics-internal",t,"PRIVATE")),lo(DP,BP),lo(DP,BP,"esm2017");function t(e){try{const n=e.getProvider(A0).getImmediate();return{logEvent:(r,i,o)=>Zme(n,r,i,o)}}catch(n){throw jr.create("interop-component-reg-failed",{reason:n})}}}Jme();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qme="/firebase-messaging-sw.js",eve="/firebase-cloud-messaging-push-scope",hF="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",tve="https://fcmregistrations.googleapis.com/v1",pF="google.c.a.c_id",nve="google.c.a.c_l",rve="google.c.a.ts",ive="google.c.a.e",kP=1e4;var NP;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(NP||(NP={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var dd;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(dd||(dd={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ove(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="fcm_token_details_db",sve=5,FP="fcm_token_object_Store";async function ave(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(n1))return null;let e=null;return(await nm(n1,sve,{upgrade:async(r,i,o,s)=>{var a;if(i<2||!r.objectStoreNames.contains(FP))return;const l=s.objectStore(FP),u=await l.index("fcmSenderId").get(t);if(await l.clear(),!!u){if(i===2){const c=u;if(!c.auth||!c.p256dh||!c.endpoint)return;e={token:c.fcmToken,createTime:(a=c.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:ko(c.vapidKey)}}}else if(i===3){const c=u;e={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:ko(c.auth),p256dh:ko(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:ko(c.vapidKey)}}}else if(i===4){const c=u;e={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:ko(c.auth),p256dh:ko(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:ko(c.vapidKey)}}}}}})).close(),await qv(n1),await qv("fcm_vapid_details_db"),await qv("undefined"),lve(e)?e:null}function lve(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uve="firebase-messaging-database",cve=1,hd="firebase-messaging-store";let r1=null;function gF(){return r1||(r1=nm(uve,cve,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(hd)}}})),r1}async function fve(t){const e=mF(t),r=await(await gF()).transaction(hd).objectStore(hd).get(e);if(r)return r;{const i=await ave(t.appConfig.senderId);if(i)return await RE(t,i),i}}async function RE(t,e){const n=mF(t),i=(await gF()).transaction(hd,"readwrite");return await i.objectStore(hd).put(e,n),await i.done,e}function mF({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dve={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Jn=new qd("messaging","Messaging",dve);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hve(t,e){const n=await DE(t),r=vF(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(ME(t.appConfig),i)).json()}catch(s){throw Jn.create("token-subscribe-failed",{errorInfo:s==null?void 0:s.toString()})}if(o.error){const s=o.error.message;throw Jn.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw Jn.create("token-subscribe-no-token");return o.token}async function pve(t,e){const n=await DE(t),r=vF(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(`${ME(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw Jn.create("token-update-failed",{errorInfo:s==null?void 0:s.toString()})}if(o.error){const s=o.error.message;throw Jn.create("token-update-failed",{errorInfo:s})}if(!o.token)throw Jn.create("token-update-no-token");return o.token}async function gve(t,e){const r={method:"DELETE",headers:await DE(t)};try{const o=await(await fetch(`${ME(t.appConfig)}/${e}`,r)).json();if(o.error){const s=o.error.message;throw Jn.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw Jn.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function ME({projectId:t}){return`${tve}/projects/${t}/registrations`}async function DE({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function vF({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==hF&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mve=7*24*60*60*1e3;async function vve(t){const e=await _ve(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ko(e.getKey("auth")),p256dh:ko(e.getKey("p256dh"))},r=await fve(t.firebaseDependencies);if(r){if(bve(r.subscriptionOptions,n))return Date.now()>=r.createTime+mve?yve(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await gve(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return LP(t.firebaseDependencies,n)}else return LP(t.firebaseDependencies,n)}async function yve(t,e){try{const n=await pve(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await RE(t.firebaseDependencies,r),n}catch(n){throw n}}async function LP(t,e){const r={token:await hve(t,e),createTime:Date.now(),subscriptionOptions:e};return await RE(t,r),r.token}async function _ve(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ove(e)})}function bve(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return xve(e,t),wve(e,t),Eve(e,t),e}function xve(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}function wve(t,e){e.data&&(t.data=e.data)}function Eve(t,e){var n,r,i,o,s;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(t.fcmOptions.link=a);const l=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sve(t){return typeof t=="object"&&!!t&&pF in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cve("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function Cve(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ave(t){if(!t||!t.options)throw i1("App Configuration Object");if(!t.name)throw i1("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw i1(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function i1(t){return Jn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tve{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=Ave(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pve(t){try{t.swRegistration=await navigator.serviceWorker.register(Qme,{scope:eve}),t.swRegistration.update().catch(()=>{}),await Ive(t.swRegistration)}catch(e){throw Jn.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function Ive(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${kP} ms`)),kP),i=t.installing||t.waiting;t.active?(clearTimeout(r),e()):i?i.onstatechange=o=>{var s;((s=o.target)===null||s===void 0?void 0:s.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ove(t,e){if(!e&&!t.swRegistration&&await Pve(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Jn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rve(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=hF)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yF(t,e){if(!navigator)throw Jn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Jn.create("permission-blocked");return await Rve(t,e==null?void 0:e.vapidKey),await Ove(t,e==null?void 0:e.serviceWorkerRegistration),vve(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mve(t,e,n){const r=Dve(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[pF],message_name:n[nve],message_time:n[rve],message_device_time:Math.floor(Date.now()/1e3)})}function Dve(t){switch(t){case dd.NOTIFICATION_CLICKED:return"notification_open";case dd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bve(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===dd.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler($P(n)):t.onMessageHandler.next($P(n)));const r=n.data;Sve(r)&&r[ive]==="1"&&await Mve(t,n.messageType,r)}const UP="@firebase/messaging",GP="0.12.22";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kve=t=>{const e=new Tve(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>Bve(e,n)),e},Nve=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>yF(e,r)}};function Fve(){as(new yo("messaging",kve,"PUBLIC")),as(new yo("messaging-internal",Nve,"PRIVATE")),lo(UP,GP),lo(UP,GP,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lve(){try{await SE()}catch{return!1}return typeof window<"u"&&EE()&&LN()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ve(t,e){if(!navigator)throw Jn.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NPe(t=HN()){return Lve().then(e=>{if(!e)throw Jn.create("unsupported-browser")},e=>{throw Jn.create("indexed-db-unsupported")}),Jd(Zd(t),"messaging").getImmediate()}async function FPe(t,e){return t=Zd(t),yF(t,e)}function LPe(t,e){return t=Zd(t),$ve(t,e)}Fve();$e.add(cle);$e.mixin(Xr,fle);$e.add(ek);$e.add(tk);$e.add(Ok);$e.mixin(Xr,Vfe);$e.add(Ik);$e.add(lN);$e.add(nE);$e.add(fN);$e.add(hN);$e.add(pN);$e.add(AN);$e.add(CN);$e.add(xN);$e.add(SN);$e.add(wN);$e.add(bN);$e.add(_N);$e.add(kk);$e.add(Bk);const Uve=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Gve=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Qd={},Hve=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},_F={},Qr={};let BE;const Vve=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Qr.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Qr.getSymbolTotalCodewords=function(e){return Vve[e]};Qr.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Qr.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');BE=e};Qr.isKanjiModeEnabled=function(){return typeof BE<"u"};Qr.toSJIS=function(e){return BE(e)};var om={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(om);function bF(){this.buffer=[],this.length=0}bF.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var zve=bF;function eh(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}eh.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};eh.prototype.get=function(t,e){return this.data[t*this.size+e]};eh.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};eh.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var jve=eh,xF={};(function(t){const e=Qr.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,o=e(r),s=o===145?26:Math.ceil((o-13)/(2*i-2))*2,a=[o-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-s;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],o=t.getRowColCoords(r),s=o.length;for(let a=0;a<s;a++)for(let l=0;l<s;l++)a===0&&l===0||a===0&&l===s-1||a===s-1&&l===0||i.push([o[a],o[l]]);return i}})(xF);var wF={};const Wve=Qr.getSymbolSize,HP=7;wF.getPositions=function(e){const n=Wve(e);return[[0,0],[n-HP,0],[0,n-HP]]};var EF={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const o=i.size;let s=0,a=0,l=0,u=null,c=null;for(let f=0;f<o;f++){a=l=0,u=c=null;for(let d=0;d<o;d++){let h=i.get(f,d);h===u?a++:(a>=5&&(s+=e.N1+(a-5)),u=h,a=1),h=i.get(d,f),h===c?l++:(l>=5&&(s+=e.N1+(l-5)),c=h,l=1)}a>=5&&(s+=e.N1+(a-5)),l>=5&&(s+=e.N1+(l-5))}return s},t.getPenaltyN2=function(i){const o=i.size;let s=0;for(let a=0;a<o-1;a++)for(let l=0;l<o-1;l++){const u=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(u===4||u===0)&&s++}return s*e.N2},t.getPenaltyN3=function(i){const o=i.size;let s=0,a=0,l=0;for(let u=0;u<o;u++){a=l=0;for(let c=0;c<o;c++)a=a<<1&2047|i.get(u,c),c>=10&&(a===1488||a===93)&&s++,l=l<<1&2047|i.get(c,u),c>=10&&(l===1488||l===93)&&s++}return s*e.N3},t.getPenaltyN4=function(i){let o=0;const s=i.data.length;for(let l=0;l<s;l++)o+=i.data[l];return Math.abs(Math.ceil(o*100/s/5)-10)*e.N4};function n(r,i,o){switch(r){case t.Patterns.PATTERN000:return(i+o)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(i+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return i*o%2+i*o%3===0;case t.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case t.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,o){const s=o.size;for(let a=0;a<s;a++)for(let l=0;l<s;l++)o.isReserved(l,a)||o.xor(l,a,n(i,l,a))},t.getBestMask=function(i,o){const s=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let u=0;u<s;u++){o(u),t.applyMask(u,i);const c=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),c<l&&(l=c,a=u)}return a}})(EF);var sm={};const ks=om,ip=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],op=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];sm.getBlocksCount=function(e,n){switch(n){case ks.L:return ip[(e-1)*4+0];case ks.M:return ip[(e-1)*4+1];case ks.Q:return ip[(e-1)*4+2];case ks.H:return ip[(e-1)*4+3];default:return}};sm.getTotalCodewordsCount=function(e,n){switch(n){case ks.L:return op[(e-1)*4+0];case ks.M:return op[(e-1)*4+1];case ks.Q:return op[(e-1)*4+2];case ks.H:return op[(e-1)*4+3];default:return}};var SF={},am={};const Of=new Uint8Array(512),T0=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)Of[n]=e,T0[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)Of[n]=Of[n-255]})();am.log=function(e){if(e<1)throw new Error("log("+e+")");return T0[e]};am.exp=function(e){return Of[e]};am.mul=function(e,n){return e===0||n===0?0:Of[T0[e]+T0[n]]};(function(t){const e=am;t.mul=function(r,i){const o=new Uint8Array(r.length+i.length-1);for(let s=0;s<r.length;s++)for(let a=0;a<i.length;a++)o[s+a]^=e.mul(r[s],i[a]);return o},t.mod=function(r,i){let o=new Uint8Array(r);for(;o.length-i.length>=0;){const s=o[0];for(let l=0;l<i.length;l++)o[l]^=e.mul(i[l],s);let a=0;for(;a<o.length&&o[a]===0;)a++;o=o.slice(a)}return o},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let o=0;o<r;o++)i=t.mul(i,new Uint8Array([1,e.exp(o)]));return i}})(SF);const CF=SF;function kE(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}kE.prototype.initialize=function(e){this.degree=e,this.genPoly=CF.generateECPolynomial(this.degree)};kE.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=CF.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const o=new Uint8Array(this.degree);return o.set(r,i),o}return r};var Yve=kE,AF={},pa={},NE={};NE.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var So={};const TF="[0-9]+",Xve="[A-Z $%*+\\-./:]+";let pd="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";pd=pd.replace(/u/g,"\\u");const Kve="(?:(?![A-Z0-9 $%*+\\-./:]|"+pd+`)(?:.|[\r
]))+`;So.KANJI=new RegExp(pd,"g");So.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");So.BYTE=new RegExp(Kve,"g");So.NUMERIC=new RegExp(TF,"g");So.ALPHANUMERIC=new RegExp(Xve,"g");const qve=new RegExp("^"+pd+"$"),Zve=new RegExp("^"+TF+"$"),Jve=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");So.testKanji=function(e){return qve.test(e)};So.testNumeric=function(e){return Zve.test(e)};So.testAlphanumeric=function(e){return Jve.test(e)};(function(t){const e=NE,n=So;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,s){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?o.ccBits[0]:s<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return n.testNumeric(o)?t.NUMERIC:n.testAlphanumeric(o)?t.ALPHANUMERIC:n.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(o,s){if(t.isValid(o))return o;try{return r(o)}catch{return s}}})(pa);(function(t){const e=Qr,n=sm,r=om,i=pa,o=NE,s=7973,a=e.getBCHDigit(s);function l(d,h,p){for(let y=1;y<=40;y++)if(h<=t.getCapacity(y,p,d))return y}function u(d,h){return i.getCharCountIndicator(d,h)+4}function c(d,h){let p=0;return d.forEach(function(y){const v=u(y.mode,h);p+=v+y.getBitsLength()}),p}function f(d,h){for(let p=1;p<=40;p++)if(c(d,p)<=t.getCapacity(p,h,i.MIXED))return p}t.from=function(h,p){return o.isValid(h)?parseInt(h,10):p},t.getCapacity=function(h,p,y){if(!o.isValid(h))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=i.BYTE);const v=e.getSymbolTotalCodewords(h),g=n.getTotalCodewordsCount(h,p),m=(v-g)*8;if(y===i.MIXED)return m;const _=m-u(y,h);switch(y){case i.NUMERIC:return Math.floor(_/10*3);case i.ALPHANUMERIC:return Math.floor(_/11*2);case i.KANJI:return Math.floor(_/13);case i.BYTE:default:return Math.floor(_/8)}},t.getBestVersionForData=function(h,p){let y;const v=r.from(p,r.M);if(Array.isArray(h)){if(h.length>1)return f(h,v);if(h.length===0)return 1;y=h[0]}else y=h;return l(y.mode,y.getLength(),v)},t.getEncodedBits=function(h){if(!o.isValid(h)||h<7)throw new Error("Invalid QR Code version");let p=h<<12;for(;e.getBCHDigit(p)-a>=0;)p^=s<<e.getBCHDigit(p)-a;return h<<12|p}})(AF);var PF={};const ob=Qr,IF=1335,Qve=21522,VP=ob.getBCHDigit(IF);PF.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;ob.getBCHDigit(i)-VP>=0;)i^=IF<<ob.getBCHDigit(i)-VP;return(r<<10|i)^Qve};var OF={};const e1e=pa;function Xu(t){this.mode=e1e.NUMERIC,this.data=t.toString()}Xu.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Xu.prototype.getLength=function(){return this.data.length};Xu.prototype.getBitsLength=function(){return Xu.getBitsLength(this.data.length)};Xu.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const o=this.data.length-n;o>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,o*3+1))};var t1e=Xu;const n1e=pa,o1=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ku(t){this.mode=n1e.ALPHANUMERIC,this.data=t}Ku.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Ku.prototype.getLength=function(){return this.data.length};Ku.prototype.getBitsLength=function(){return Ku.getBitsLength(this.data.length)};Ku.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=o1.indexOf(this.data[n])*45;r+=o1.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(o1.indexOf(this.data[n]),6)};var r1e=Ku;const i1e=pa;function qu(t){this.mode=i1e.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}qu.getBitsLength=function(e){return e*8};qu.prototype.getLength=function(){return this.data.length};qu.prototype.getBitsLength=function(){return qu.getBitsLength(this.data.length)};qu.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var o1e=qu;const s1e=pa,a1e=Qr;function Zu(t){this.mode=s1e.KANJI,this.data=t}Zu.getBitsLength=function(e){return e*13};Zu.prototype.getLength=function(){return this.data.length};Zu.prototype.getBitsLength=function(){return Zu.getBitsLength(this.data.length)};Zu.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=a1e.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var l1e=Zu,RF={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var o={},s={};s[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,u,c,f,d,h,p,y,v;!a.empty();){l=a.pop(),u=l.value,f=l.cost,d=n[u]||{};for(c in d)d.hasOwnProperty(c)&&(h=d[c],p=f+h,y=s[c],v=typeof s[c]>"u",(v||y>p)&&(s[c]=p,a.push(c,p),o[c]=u))}if(typeof i<"u"&&typeof s[i]>"u"){var g=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(g)}return o},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],o=r;o;)i.push(o),n[o],o=n[o];return i.reverse(),i},find_path:function(n,r,i){var o=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},o;n=n||{};for(o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(RF);var u1e=RF.exports;(function(t){const e=pa,n=t1e,r=r1e,i=o1e,o=l1e,s=So,a=Qr,l=u1e;function u(g){return unescape(encodeURIComponent(g)).length}function c(g,m,_){const b=[];let x;for(;(x=g.exec(_))!==null;)b.push({data:x[0],index:x.index,mode:m,length:x[0].length});return b}function f(g){const m=c(s.NUMERIC,e.NUMERIC,g),_=c(s.ALPHANUMERIC,e.ALPHANUMERIC,g);let b,x;return a.isKanjiModeEnabled()?(b=c(s.BYTE,e.BYTE,g),x=c(s.KANJI,e.KANJI,g)):(b=c(s.BYTE_KANJI,e.BYTE,g),x=[]),m.concat(_,b,x).sort(function(E,S){return E.index-S.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function d(g,m){switch(m){case e.NUMERIC:return n.getBitsLength(g);case e.ALPHANUMERIC:return r.getBitsLength(g);case e.KANJI:return o.getBitsLength(g);case e.BYTE:return i.getBitsLength(g)}}function h(g){return g.reduce(function(m,_){const b=m.length-1>=0?m[m.length-1]:null;return b&&b.mode===_.mode?(m[m.length-1].data+=_.data,m):(m.push(_),m)},[])}function p(g){const m=[];for(let _=0;_<g.length;_++){const b=g[_];switch(b.mode){case e.NUMERIC:m.push([b,{data:b.data,mode:e.ALPHANUMERIC,length:b.length},{data:b.data,mode:e.BYTE,length:b.length}]);break;case e.ALPHANUMERIC:m.push([b,{data:b.data,mode:e.BYTE,length:b.length}]);break;case e.KANJI:m.push([b,{data:b.data,mode:e.BYTE,length:u(b.data)}]);break;case e.BYTE:m.push([{data:b.data,mode:e.BYTE,length:u(b.data)}])}}return m}function y(g,m){const _={},b={start:{}};let x=["start"];for(let w=0;w<g.length;w++){const E=g[w],S=[];for(let P=0;P<E.length;P++){const C=E[P],A=""+w+P;S.push(A),_[A]={node:C,lastCount:0},b[A]={};for(let T=0;T<x.length;T++){const R=x[T];_[R]&&_[R].node.mode===C.mode?(b[R][A]=d(_[R].lastCount+C.length,C.mode)-d(_[R].lastCount,C.mode),_[R].lastCount+=C.length):(_[R]&&(_[R].lastCount=C.length),b[R][A]=d(C.length,C.mode)+4+e.getCharCountIndicator(C.mode,m))}}x=S}for(let w=0;w<x.length;w++)b[x[w]].end=0;return{map:b,table:_}}function v(g,m){let _;const b=e.getBestModeForData(g);if(_=e.from(m,b),_!==e.BYTE&&_.bit<b.bit)throw new Error('"'+g+'" cannot be encoded with mode '+e.toString(_)+`.
 Suggested mode is: `+e.toString(b));switch(_===e.KANJI&&!a.isKanjiModeEnabled()&&(_=e.BYTE),_){case e.NUMERIC:return new n(g);case e.ALPHANUMERIC:return new r(g);case e.KANJI:return new o(g);case e.BYTE:return new i(g)}}t.fromArray=function(m){return m.reduce(function(_,b){return typeof b=="string"?_.push(v(b,null)):b.data&&_.push(v(b.data,b.mode)),_},[])},t.fromString=function(m,_){const b=f(m,a.isKanjiModeEnabled()),x=p(b),w=y(x,_),E=l.find_path(w.map,"start","end"),S=[];for(let P=1;P<E.length-1;P++)S.push(w.table[E[P]].node);return t.fromArray(h(S))},t.rawSplit=function(m){return t.fromArray(f(m,a.isKanjiModeEnabled()))}})(OF);const lm=Qr,s1=om,c1e=zve,f1e=jve,d1e=xF,h1e=wF,sb=EF,ab=sm,p1e=Yve,P0=AF,g1e=PF,m1e=pa,a1=OF;function v1e(t,e){const n=t.size,r=h1e.getPositions(e);for(let i=0;i<r.length;i++){const o=r[i][0],s=r[i][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||n<=o+a))for(let l=-1;l<=7;l++)s+l<=-1||n<=s+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(o+a,s+l,!0,!0):t.set(o+a,s+l,!1,!0))}}function y1e(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function _1e(t,e){const n=d1e.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],o=n[r][1];for(let s=-2;s<=2;s++)for(let a=-2;a<=2;a++)s===-2||s===2||a===-2||a===2||s===0&&a===0?t.set(i+s,o+a,!0,!0):t.set(i+s,o+a,!1,!0)}}function b1e(t,e){const n=t.size,r=P0.getEncodedBits(e);let i,o,s;for(let a=0;a<18;a++)i=Math.floor(a/3),o=a%3+n-8-3,s=(r>>a&1)===1,t.set(i,o,s,!0),t.set(o,i,s,!0)}function l1(t,e,n){const r=t.size,i=g1e.getEncodedBits(e,n);let o,s;for(o=0;o<15;o++)s=(i>>o&1)===1,o<6?t.set(o,8,s,!0):o<8?t.set(o+1,8,s,!0):t.set(r-15+o,8,s,!0),o<8?t.set(8,r-o-1,s,!0):o<9?t.set(8,15-o-1+1,s,!0):t.set(8,15-o-1,s,!0);t.set(r-8,8,1,!0)}function x1e(t,e){const n=t.size;let r=-1,i=n-1,o=7,s=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let u=!1;s<e.length&&(u=(e[s]>>>o&1)===1),t.set(i,a-l,u),o--,o===-1&&(s++,o=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function w1e(t,e,n){const r=new c1e;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),m1e.getCharCountIndicator(l.mode,t)),l.write(r)});const i=lm.getSymbolTotalCodewords(t),o=ab.getTotalCodewordsCount(t,e),s=(i-o)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(s-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return E1e(r,t,e)}function E1e(t,e,n){const r=lm.getSymbolTotalCodewords(e),i=ab.getTotalCodewordsCount(e,n),o=r-i,s=ab.getBlocksCount(e,n),a=r%s,l=s-a,u=Math.floor(r/s),c=Math.floor(o/s),f=c+1,d=u-c,h=new p1e(d);let p=0;const y=new Array(s),v=new Array(s);let g=0;const m=new Uint8Array(t.buffer);for(let E=0;E<s;E++){const S=E<l?c:f;y[E]=m.slice(p,p+S),v[E]=h.encode(y[E]),p+=S,g=Math.max(g,S)}const _=new Uint8Array(r);let b=0,x,w;for(x=0;x<g;x++)for(w=0;w<s;w++)x<y[w].length&&(_[b++]=y[w][x]);for(x=0;x<d;x++)for(w=0;w<s;w++)_[b++]=v[w][x];return _}function S1e(t,e,n,r){let i;if(Array.isArray(t))i=a1.fromArray(t);else if(typeof t=="string"){let u=e;if(!u){const c=a1.rawSplit(t);u=P0.getBestVersionForData(c,n)}i=a1.fromString(t,u||40)}else throw new Error("Invalid data");const o=P0.getBestVersionForData(i,n);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const s=w1e(e,n,i),a=lm.getSymbolSize(e),l=new f1e(a);return v1e(l,e),y1e(l),_1e(l,e),l1(l,n,0),e>=7&&b1e(l,e),x1e(l,s),isNaN(r)&&(r=sb.getBestMask(l,l1.bind(null,l,n))),sb.applyMask(r,l),l1(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}_F.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=s1.M,i,o;return typeof n<"u"&&(r=s1.from(n.errorCorrectionLevel,s1.M),i=P0.from(n.version),o=sb.from(n.maskPattern),n.toSJISFunc&&lm.setToSJISFunction(n.toSJISFunc)),S1e(e,i,r,o)};var MF={},FE={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:o,scale:o?4:s,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const o=t.getScale(r,i);return Math.floor((r+i.margin*2)*o)},t.qrToImageData=function(r,i,o){const s=i.modules.size,a=i.modules.data,l=t.getScale(s,o),u=Math.floor((s+o.margin*2)*l),c=o.margin*l,f=[o.color.light,o.color.dark];for(let d=0;d<u;d++)for(let h=0;h<u;h++){let p=(d*u+h)*4,y=o.color.light;if(d>=c&&h>=c&&d<u-c&&h<u-c){const v=Math.floor((d-c)/l),g=Math.floor((h-c)/l);y=f[a[v*s+g]?1:0]}r[p++]=y.r,r[p++]=y.g,r[p++]=y.b,r[p]=y.a}}})(FE);(function(t){const e=FE;function n(i,o,s){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=s,o.width=s,o.style.height=s+"px",o.style.width=s+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,s,a){let l=a,u=s;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),s||(u=r()),l=e.getOptions(l);const c=e.getImageWidth(o.modules.size,l),f=u.getContext("2d"),d=f.createImageData(c,c);return e.qrToImageData(d.data,o,l),n(f,u,c),f.putImageData(d,0,0),u},t.renderToDataURL=function(o,s,a){let l=a;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),l||(l={});const u=t.render(o,s,l),c=l.type||"image/png",f=l.rendererOpts||{};return u.toDataURL(c,f.quality)}})(MF);var DF={};const C1e=FE;function zP(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function u1(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function A1e(t,e,n){let r="",i=0,o=!1,s=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),u=Math.floor(a/e);!l&&!o&&(o=!0),t[a]?(s++,a>0&&l>0&&t[a-1]||(r+=o?u1("M",l+n,.5+u+n):u1("m",i,0),i=0,o=!1),l+1<e&&t[a+1]||(r+=u1("h",s),s=0)):i++}return r}DF.render=function(e,n,r){const i=C1e.getOptions(n),o=e.modules.size,s=e.modules.data,a=o+i.margin*2,l=i.color.light.a?"<path "+zP(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+zP(i.color.dark,"stroke")+' d="'+A1e(s,o,i.margin)+'"/>',c='viewBox="0 0 '+a+" "+a+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+c+' shape-rendering="crispEdges">'+l+u+`</svg>
`;return typeof r=="function"&&r(null,d),d};const T1e=Hve,lb=_F,BF=MF,P1e=DF;function LE(t,e,n,r,i){const o=[].slice.call(arguments,1),s=o.length,a=typeof o[s-1]=="function";if(!a&&!T1e())throw new Error("Callback required as last argument");if(a){if(s<2)throw new Error("Too few arguments provided");s===2?(i=n,n=e,e=r=void 0):s===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(n=e,e=r=void 0):s===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,u){try{const c=lb.create(n,r);l(t(c,e,r))}catch(c){u(c)}})}try{const l=lb.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}Qd.create=lb.create;Qd.toCanvas=LE.bind(null,BF.render);Qd.toDataURL=LE.bind(null,BF.renderToDataURL);Qd.toString=LE.bind(null,function(t,e,n){return P1e.render(t,n)});function $Pe(t,e){const n=sB(t),r=Z("");return ve(n,async i=>{n.value&&ta&&(r.value=await Qd.toDataURL(i,e))},{immediate:!0}),r}function jP(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function $E(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:jP(e[n])&&jP(t[n])&&Object.keys(e[n]).length>0&&$E(t[n],e[n])})}const kF={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Qn(){const t=typeof document<"u"?document:{};return $E(t,kF),t}const I1e={document:kF,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function kn(){const t=typeof window<"u"?window:{};return $E(t,I1e),t}function O1e(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get(){return e},set(n){e.__proto__=n}})}class Ns extends Array{constructor(e){typeof e=="number"?super(e):(super(...e||[]),O1e(this))}}function th(t=[]){const e=[];return t.forEach(n=>{Array.isArray(n)?e.push(...th(n)):e.push(n)}),e}function NF(t,e){return Array.prototype.filter.call(t,e)}function R1e(t){const e=[];for(let n=0;n<t.length;n+=1)e.indexOf(t[n])===-1&&e.push(t[n]);return e}function M1e(t,e){if(typeof t!="string")return[t];const n=[],r=e.querySelectorAll(t);for(let i=0;i<r.length;i+=1)n.push(r[i]);return n}function Ie(t,e){const n=kn(),r=Qn();let i=[];if(!e&&t instanceof Ns)return t;if(!t)return new Ns(i);if(typeof t=="string"){const o=t.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){let s="div";o.indexOf("<li")===0&&(s="ul"),o.indexOf("<tr")===0&&(s="tbody"),(o.indexOf("<td")===0||o.indexOf("<th")===0)&&(s="tr"),o.indexOf("<tbody")===0&&(s="table"),o.indexOf("<option")===0&&(s="select");const a=r.createElement(s);a.innerHTML=o;for(let l=0;l<a.childNodes.length;l+=1)i.push(a.childNodes[l])}else i=M1e(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)i.push(t);else if(Array.isArray(t)){if(t instanceof Ns)return t;i=t}return new Ns(R1e(i))}Ie.fn=Ns.prototype;function D1e(...t){const e=th(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.add(...e)}),this}function B1e(...t){const e=th(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.remove(...e)}),this}function k1e(...t){const e=th(t.map(n=>n.split(" ")));this.forEach(n=>{e.forEach(r=>{n.classList.toggle(r)})})}function N1e(...t){const e=th(t.map(n=>n.split(" ")));return NF(this,n=>e.filter(r=>n.classList.contains(r)).length>0).length>0}function F1e(t,e){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(let n=0;n<this.length;n+=1)if(arguments.length===2)this[n].setAttribute(t,e);else for(const r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this}function L1e(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this}function $1e(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this}function U1e(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof t!="string"?`${t}ms`:t;return this}function G1e(...t){let[e,n,r,i]=t;typeof t[1]=="function"&&([e,r,i]=t,n=void 0),i||(i=!1);function o(u){const c=u.target;if(!c)return;const f=u.target.dom7EventData||[];if(f.indexOf(u)<0&&f.unshift(u),Ie(c).is(n))r.apply(c,f);else{const d=Ie(c).parents();for(let h=0;h<d.length;h+=1)Ie(d[h]).is(n)&&r.apply(d[h],f)}}function s(u){const c=u&&u.target?u.target.dom7EventData||[]:[];c.indexOf(u)<0&&c.unshift(u),r.apply(this,c)}const a=e.split(" ");let l;for(let u=0;u<this.length;u+=1){const c=this[u];if(n)for(l=0;l<a.length;l+=1){const f=a[l];c.dom7LiveListeners||(c.dom7LiveListeners={}),c.dom7LiveListeners[f]||(c.dom7LiveListeners[f]=[]),c.dom7LiveListeners[f].push({listener:r,proxyListener:o}),c.addEventListener(f,o,i)}else for(l=0;l<a.length;l+=1){const f=a[l];c.dom7Listeners||(c.dom7Listeners={}),c.dom7Listeners[f]||(c.dom7Listeners[f]=[]),c.dom7Listeners[f].push({listener:r,proxyListener:s}),c.addEventListener(f,s,i)}}return this}function H1e(...t){let[e,n,r,i]=t;typeof t[1]=="function"&&([e,r,i]=t,n=void 0),i||(i=!1);const o=e.split(" ");for(let s=0;s<o.length;s+=1){const a=o[s];for(let l=0;l<this.length;l+=1){const u=this[l];let c;if(!n&&u.dom7Listeners?c=u.dom7Listeners[a]:n&&u.dom7LiveListeners&&(c=u.dom7LiveListeners[a]),c&&c.length)for(let f=c.length-1;f>=0;f-=1){const d=c[f];r&&d.listener===r||r&&d.listener&&d.listener.dom7proxy&&d.listener.dom7proxy===r?(u.removeEventListener(a,d.proxyListener,i),c.splice(f,1)):r||(u.removeEventListener(a,d.proxyListener,i),c.splice(f,1))}}}return this}function V1e(...t){const e=kn(),n=t[0].split(" "),r=t[1];for(let i=0;i<n.length;i+=1){const o=n[i];for(let s=0;s<this.length;s+=1){const a=this[s];if(e.CustomEvent){const l=new e.CustomEvent(o,{detail:r,bubbles:!0,cancelable:!0});a.dom7EventData=t.filter((u,c)=>c>0),a.dispatchEvent(l),a.dom7EventData=[],delete a.dom7EventData}}}return this}function z1e(t){const e=this;function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))}return t&&e.on("transitionend",n),this}function j1e(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function W1e(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function Y1e(){if(this.length>0){const t=kn(),e=Qn(),n=this[0],r=n.getBoundingClientRect(),i=e.body,o=n.clientTop||i.clientTop||0,s=n.clientLeft||i.clientLeft||0,a=n===t?t.scrollY:n.scrollTop,l=n===t?t.scrollX:n.scrollLeft;return{top:r.top+a-o,left:r.left+l-s}}return null}function X1e(){const t=kn();return this[0]?t.getComputedStyle(this[0],null):{}}function K1e(t,e){const n=kn();let r;if(arguments.length===1)if(typeof t=="string"){if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(t)}else{for(r=0;r<this.length;r+=1)for(const i in t)this[r].style[i]=t[i];return this}if(arguments.length===2&&typeof t=="string"){for(r=0;r<this.length;r+=1)this[r].style[t]=e;return this}return this}function q1e(t){return t?(this.forEach((e,n)=>{t.apply(e,[e,n])}),this):this}function Z1e(t){const e=NF(this,t);return Ie(e)}function J1e(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this}function Q1e(t){if(typeof t>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this}function eye(t){const e=kn(),n=Qn(),r=this[0];let i,o;if(!r||typeof t>"u")return!1;if(typeof t=="string"){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(i=Ie(t),o=0;o<i.length;o+=1)if(i[o]===r)return!0;return!1}if(t===n)return r===n;if(t===e)return r===e;if(t.nodeType||t instanceof Ns){for(i=t.nodeType?[t]:t,o=0;o<i.length;o+=1)if(i[o]===r)return!0;return!1}return!1}function tye(){let t=this[0],e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function nye(t){if(typeof t>"u")return this;const e=this.length;if(t>e-1)return Ie([]);if(t<0){const n=e+t;return n<0?Ie([]):Ie([this[n]])}return Ie([this[t]])}function rye(...t){let e;const n=Qn();for(let r=0;r<t.length;r+=1){e=t[r];for(let i=0;i<this.length;i+=1)if(typeof e=="string"){const o=n.createElement("div");for(o.innerHTML=e;o.firstChild;)this[i].appendChild(o.firstChild)}else if(e instanceof Ns)for(let o=0;o<e.length;o+=1)this[i].appendChild(e[o]);else this[i].appendChild(e)}return this}function iye(t){const e=Qn();let n,r;for(n=0;n<this.length;n+=1)if(typeof t=="string"){const i=e.createElement("div");for(i.innerHTML=t,r=i.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(i.childNodes[r],this[n].childNodes[0])}else if(t instanceof Ns)for(r=0;r<t.length;r+=1)this[n].insertBefore(t[r],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this}function oye(t){return this.length>0?t?this[0].nextElementSibling&&Ie(this[0].nextElementSibling).is(t)?Ie([this[0].nextElementSibling]):Ie([]):this[0].nextElementSibling?Ie([this[0].nextElementSibling]):Ie([]):Ie([])}function sye(t){const e=[];let n=this[0];if(!n)return Ie([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;t?Ie(r).is(t)&&e.push(r):e.push(r),n=r}return Ie(e)}function aye(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&Ie(e.previousElementSibling).is(t)?Ie([e.previousElementSibling]):Ie([]):e.previousElementSibling?Ie([e.previousElementSibling]):Ie([])}return Ie([])}function lye(t){const e=[];let n=this[0];if(!n)return Ie([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;t?Ie(r).is(t)&&e.push(r):e.push(r),n=r}return Ie(e)}function uye(t){const e=[];for(let n=0;n<this.length;n+=1)this[n].parentNode!==null&&(t?Ie(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return Ie(e)}function cye(t){const e=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)t?Ie(r).is(t)&&e.push(r):e.push(r),r=r.parentNode}return Ie(e)}function fye(t){let e=this;return typeof t>"u"?Ie([]):(e.is(t)||(e=e.parents(t).eq(0)),e)}function dye(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(t);for(let i=0;i<r.length;i+=1)e.push(r[i])}return Ie(e)}function hye(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let i=0;i<r.length;i+=1)(!t||Ie(r[i]).is(t))&&e.push(r[i])}return Ie(e)}function pye(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}const WP={addClass:D1e,removeClass:B1e,hasClass:N1e,toggleClass:k1e,attr:F1e,removeAttr:L1e,transform:$1e,transition:U1e,on:G1e,off:H1e,trigger:V1e,transitionEnd:z1e,outerWidth:j1e,outerHeight:W1e,styles:X1e,offset:Y1e,css:K1e,each:q1e,html:J1e,text:Q1e,is:eye,index:tye,eq:nye,append:rye,prepend:iye,next:oye,nextAll:sye,prev:aye,prevAll:lye,parent:uye,parents:cye,closest:fye,find:dye,children:hye,filter:Z1e,remove:pye};Object.keys(WP).forEach(t=>{Object.defineProperty(Ie.fn,t,{value:WP[t],writable:!0})});function gye(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function I0(t,e=0){return setTimeout(t,e)}function gd(){return Date.now()}function mye(t){const e=kn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function vye(t,e="x"){const n=kn();let r,i,o;const s=mye(t);return n.WebKitCSSMatrix?(i=s.transform||s.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),o=new n.WebKitCSSMatrix(i==="none"?"":i)):(o=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=o.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=o.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function sp(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function yye(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function $r(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const i=t[r];if(i!=null&&!yye(i)){const o=Object.keys(Object(i)).filter(s=>n.indexOf(s)<0);for(let s=0,a=o.length;s<a;s+=1){const l=o[s],u=Object.getOwnPropertyDescriptor(i,l);u!==void 0&&u.enumerable&&(sp(e[l])&&sp(i[l])?i[l].__swiper__?e[l]=i[l]:$r(e[l],i[l]):!sp(e[l])&&sp(i[l])?(e[l]={},i[l].__swiper__?e[l]=i[l]:$r(e[l],i[l])):e[l]=i[l])}}}return e}function ap(t,e,n){t.style.setProperty(e,n)}function FF({swiper:t,targetPosition:e,side:n}){const r=kn(),i=-t.translate;let o=null,s;const a=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const l=e>i?"next":"prev",u=(f,d)=>l==="next"&&f>=d||l==="prev"&&f<=d,c=()=>{s=new Date().getTime(),o===null&&(o=s);const f=Math.max(Math.min((s-o)/a,1),0),d=.5-Math.cos(f*Math.PI)/2;let h=i+d*(e-i);if(u(h,e)&&(h=e),t.wrapperEl.scrollTo({[n]:h}),u(h,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:h})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(c)};c()}let c1;function _ye(){const t=kn(),e=Qn();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let r=!1;try{const i=Object.defineProperty({},"passive",{get(){r=!0}});t.addEventListener("testPassiveListener",null,i)}catch{}return r}(),gestures:function(){return"ongesturestart"in t}()}}function LF(){return c1||(c1=_ye()),c1}let f1;function bye({userAgent:t}={}){const e=LF(),n=kn(),r=n.navigator.platform,i=t||n.navigator.userAgent,o={ios:!1,android:!1},s=n.screen.width,a=n.screen.height,l=i.match(/(Android);?[\s\/]+([\d.]+)?/);let u=i.match(/(iPad).*OS\s([\d_]+)/);const c=i.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d=r==="Win32";let h=r==="MacIntel";const p=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&h&&e.touch&&p.indexOf(`${s}x${a}`)>=0&&(u=i.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),h=!1),l&&!d&&(o.os="android",o.android=!0),(u||f||c)&&(o.os="ios",o.ios=!0),o}function xye(t={}){return f1||(f1=bye(t)),f1}let d1;function wye(){const t=kn();function e(){const n=t.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function Eye(){return d1||(d1=wye()),d1}function Sye({swiper:t,on:e,emit:n}){const r=kn();let i=null,o=null;const s=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},a=()=>{!t||t.destroyed||!t.initialized||(i=new ResizeObserver(c=>{o=r.requestAnimationFrame(()=>{const{width:f,height:d}=t;let h=f,p=d;c.forEach(({contentBoxSize:y,contentRect:v,target:g})=>{g&&g!==t.el||(h=v?v.width:(y[0]||y).inlineSize,p=v?v.height:(y[0]||y).blockSize)}),(h!==f||p!==d)&&s()})}),i.observe(t.el))},l=()=>{o&&r.cancelAnimationFrame(o),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null)},u=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){a();return}r.addEventListener("resize",s),r.addEventListener("orientationchange",u)}),e("destroy",()=>{l(),r.removeEventListener("resize",s),r.removeEventListener("orientationchange",u)})}function Cye({swiper:t,extendParams:e,on:n,emit:r}){const i=[],o=kn(),s=(u,c={})=>{const f=o.MutationObserver||o.WebkitMutationObserver,d=new f(h=>{if(h.length===1){r("observerUpdate",h[0]);return}const p=function(){r("observerUpdate",h[0])};o.requestAnimationFrame?o.requestAnimationFrame(p):o.setTimeout(p,0)});d.observe(u,{attributes:typeof c.attributes>"u"?!0:c.attributes,childList:typeof c.childList>"u"?!0:c.childList,characterData:typeof c.characterData>"u"?!0:c.characterData}),i.push(d)},a=()=>{if(t.params.observer){if(t.params.observeParents){const u=t.$el.parents();for(let c=0;c<u.length;c+=1)s(u[c])}s(t.$el[0],{childList:t.params.observeSlideChildren}),s(t.$wrapperEl[0],{attributes:!1})}},l=()=>{i.forEach(u=>{u.disconnect()}),i.splice(0,i.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",a),n("destroy",l)}const Aye={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(...o){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy,e.apply(r,o)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,o)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(o,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,i;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),i=e):(n=t[0].events,r=t[0].data,i=t[0].context||e),r.unshift(i),(Array.isArray(n)?n:n.split(" ")).forEach(s=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(a=>{a.apply(i,[s,...r])}),e.eventsListeners&&e.eventsListeners[s]&&e.eventsListeners[s].forEach(a=>{a.apply(i,r)})}),e}};function Tye(){const t=this;let e,n;const r=t.$el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r[0].clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r[0].clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function Pye(){const t=this;function e(C){return t.isHorizontal()?C:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[C]}function n(C,A){return parseFloat(C.getPropertyValue(e(A))||0)}const r=t.params,{$wrapperEl:i,size:o,rtlTranslate:s,wrongRTL:a}=t,l=t.virtual&&r.virtual.enabled,u=l?t.virtual.slides.length:t.slides.length,c=i.children(`.${t.params.slideClass}`),f=l?t.virtual.slides.length:c.length;let d=[];const h=[],p=[];let y=r.slidesOffsetBefore;typeof y=="function"&&(y=r.slidesOffsetBefore.call(t));let v=r.slidesOffsetAfter;typeof v=="function"&&(v=r.slidesOffsetAfter.call(t));const g=t.snapGrid.length,m=t.slidesGrid.length;let _=r.spaceBetween,b=-y,x=0,w=0;if(typeof o>"u")return;typeof _=="string"&&_.indexOf("%")>=0&&(_=parseFloat(_.replace("%",""))/100*o),t.virtualSize=-_,s?c.css({marginLeft:"",marginBottom:"",marginTop:""}):c.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(ap(t.wrapperEl,"--swiper-centered-offset-before",""),ap(t.wrapperEl,"--swiper-centered-offset-after",""));const E=r.grid&&r.grid.rows>1&&t.grid;E&&t.grid.initSlides(f);let S;const P=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(C=>typeof r.breakpoints[C].slidesPerView<"u").length>0;for(let C=0;C<f;C+=1){S=0;const A=c.eq(C);if(E&&t.grid.updateSlide(C,A,f,e),A.css("display")!=="none"){if(r.slidesPerView==="auto"){P&&(c[C].style[e("width")]="");const T=getComputedStyle(A[0]),R=A[0].style.transform,N=A[0].style.webkitTransform;if(R&&(A[0].style.transform="none"),N&&(A[0].style.webkitTransform="none"),r.roundLengths)S=t.isHorizontal()?A.outerWidth(!0):A.outerHeight(!0);else{const G=n(T,"width"),k=n(T,"padding-left"),U=n(T,"padding-right"),W=n(T,"margin-left"),K=n(T,"margin-right"),fe=T.getPropertyValue("box-sizing");if(fe&&fe==="border-box")S=G+W+K;else{const{clientWidth:ce,offsetWidth:X}=A[0];S=G+k+U+W+K+(X-ce)}}R&&(A[0].style.transform=R),N&&(A[0].style.webkitTransform=N),r.roundLengths&&(S=Math.floor(S))}else S=(o-(r.slidesPerView-1)*_)/r.slidesPerView,r.roundLengths&&(S=Math.floor(S)),c[C]&&(c[C].style[e("width")]=`${S}px`);c[C]&&(c[C].swiperSlideSize=S),p.push(S),r.centeredSlides?(b=b+S/2+x/2+_,x===0&&C!==0&&(b=b-o/2-_),C===0&&(b=b-o/2-_),Math.abs(b)<1/1e3&&(b=0),r.roundLengths&&(b=Math.floor(b)),w%r.slidesPerGroup===0&&d.push(b),h.push(b)):(r.roundLengths&&(b=Math.floor(b)),(w-Math.min(t.params.slidesPerGroupSkip,w))%t.params.slidesPerGroup===0&&d.push(b),h.push(b),b=b+S+_),t.virtualSize+=S+_,x=S,w+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+v,s&&a&&(r.effect==="slide"||r.effect==="coverflow")&&i.css({width:`${t.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&i.css({[e("width")]:`${t.virtualSize+r.spaceBetween}px`}),E&&t.grid.updateWrapperSize(S,d,e),!r.centeredSlides){const C=[];for(let A=0;A<d.length;A+=1){let T=d[A];r.roundLengths&&(T=Math.floor(T)),d[A]<=t.virtualSize-o&&C.push(T)}d=C,Math.floor(t.virtualSize-o)-Math.floor(d[d.length-1])>1&&d.push(t.virtualSize-o)}if(d.length===0&&(d=[0]),r.spaceBetween!==0){const C=t.isHorizontal()&&s?"marginLeft":e("marginRight");c.filter((A,T)=>r.cssMode?T!==c.length-1:!0).css({[C]:`${_}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let C=0;p.forEach(T=>{C+=T+(r.spaceBetween?r.spaceBetween:0)}),C-=r.spaceBetween;const A=C-o;d=d.map(T=>T<0?-y:T>A?A+v:T)}if(r.centerInsufficientSlides){let C=0;if(p.forEach(A=>{C+=A+(r.spaceBetween?r.spaceBetween:0)}),C-=r.spaceBetween,C<o){const A=(o-C)/2;d.forEach((T,R)=>{d[R]=T-A}),h.forEach((T,R)=>{h[R]=T+A})}}if(Object.assign(t,{slides:c,snapGrid:d,slidesGrid:h,slidesSizesGrid:p}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){ap(t.wrapperEl,"--swiper-centered-offset-before",`${-d[0]}px`),ap(t.wrapperEl,"--swiper-centered-offset-after",`${t.size/2-p[p.length-1]/2}px`);const C=-t.snapGrid[0],A=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(T=>T+C),t.slidesGrid=t.slidesGrid.map(T=>T+A)}if(f!==u&&t.emit("slidesLengthChange"),d.length!==g&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),h.length!==m&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!l&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const C=`${r.containerModifierClass}backface-hidden`,A=t.$el.hasClass(C);f<=r.maxBackfaceHiddenSlides?A||t.$el.addClass(C):A&&t.$el.removeClass(C)}}function Iye(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,o;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const s=a=>r?e.slides.filter(l=>parseInt(l.getAttribute("data-swiper-slide-index"),10)===a)[0]:e.slides.eq(a)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||Ie([])).each(a=>{n.push(a)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const a=e.activeIndex+o;if(a>e.slides.length&&!r)break;n.push(s(a))}else n.push(s(e.activeIndex));for(o=0;o<n.length;o+=1)if(typeof n[o]<"u"){const a=n[o].offsetHeight;i=a>i?a:i}(i||i===0)&&e.$wrapperEl.css("height",`${i}px`)}function Oye(){const t=this,e=t.slides;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop}function Rye(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let s=-t;i&&(s=t),r.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let a=0;a<r.length;a+=1){const l=r[a];let u=l.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=r[0].swiperSlideOffset);const c=(s+(n.centeredSlides?e.minTranslate():0)-u)/(l.swiperSlideSize+n.spaceBetween),f=(s-o[0]+(n.centeredSlides?e.minTranslate():0)-u)/(l.swiperSlideSize+n.spaceBetween),d=-(s-u),h=d+e.slidesSizesGrid[a];(d>=0&&d<e.size-1||h>1&&h<=e.size||d<=0&&h>=e.size)&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(a),r.eq(a).addClass(n.slideVisibleClass)),l.progress=i?-c:c,l.originalProgress=i?-f:f}e.visibleSlides=Ie(e.visibleSlides)}function Mye(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:o,isEnd:s}=e;const a=o,l=s;r===0?(i=0,o=!0,s=!0):(i=(t-e.minTranslate())/r,o=i<=0,s=i>=1),Object.assign(e,{progress:i,isBeginning:o,isEnd:s}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),o&&!a&&e.emit("reachBeginning toEdge"),s&&!l&&e.emit("reachEnd toEdge"),(a&&!o||l&&!s)&&e.emit("fromEdge"),e.emit("progress",i)}function Dye(){const t=this,{slides:e,params:n,$wrapperEl:r,activeIndex:i,realIndex:o}=t,s=t.virtual&&n.virtual.enabled;e.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`);let a;s?a=t.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${i}"]`):a=e.eq(i),a.addClass(n.slideActiveClass),n.loop&&(a.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${o}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${o}"]`).addClass(n.slideDuplicateActiveClass));let l=a.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&l.length===0&&(l=e.eq(0),l.addClass(n.slideNextClass));let u=a.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&u.length===0&&(u=e.eq(-1),u.addClass(n.slidePrevClass)),n.loop&&(l.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),u.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${u.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${u.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),t.emitSlidesClasses()}function Bye(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:r,snapGrid:i,params:o,activeIndex:s,realIndex:a,snapIndex:l}=e;let u=t,c;if(typeof u>"u"){for(let d=0;d<r.length;d+=1)typeof r[d+1]<"u"?n>=r[d]&&n<r[d+1]-(r[d+1]-r[d])/2?u=d:n>=r[d]&&n<r[d+1]&&(u=d+1):n>=r[d]&&(u=d);o.normalizeSlideIndex&&(u<0||typeof u>"u")&&(u=0)}if(i.indexOf(n)>=0)c=i.indexOf(n);else{const d=Math.min(o.slidesPerGroupSkip,u);c=d+Math.floor((u-d)/o.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),u===s){c!==l&&(e.snapIndex=c,e.emit("snapIndexChange"));return}const f=parseInt(e.slides.eq(u).attr("data-swiper-slide-index")||u,10);Object.assign(e,{snapIndex:c,realIndex:f,previousIndex:s,activeIndex:u}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),a!==f&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function kye(t){const e=this,n=e.params,r=Ie(t).closest(`.${n.slideClass}`)[0];let i=!1,o;if(r){for(let s=0;s<e.slides.length;s+=1)if(e.slides[s]===r){i=!0,o=s;break}}if(r&&i)e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(Ie(r).attr("data-swiper-slide-index"),10):e.clickedIndex=o;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const Nye={updateSize:Tye,updateSlides:Pye,updateAutoHeight:Iye,updateSlidesOffset:Oye,updateSlidesProgress:Rye,updateProgress:Mye,updateSlidesClasses:Dye,updateActiveIndex:Bye,updateClickedSlide:kye};function Fye(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:i,$wrapperEl:o}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let s=vye(o[0],t);return r&&(s=-s),s||0}function Lye(t,e){const n=this,{rtlTranslate:r,params:i,$wrapperEl:o,wrapperEl:s,progress:a}=n;let l=0,u=0;const c=0;n.isHorizontal()?l=r?-t:t:u=t,i.roundLengths&&(l=Math.floor(l),u=Math.floor(u)),i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-u:i.virtualTranslate||o.transform(`translate3d(${l}px, ${u}px, ${c}px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:u;let f;const d=n.maxTranslate()-n.minTranslate();d===0?f=0:f=(t-n.minTranslate())/d,f!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function $ye(){return-this.snapGrid[0]}function Uye(){return-this.snapGrid[this.snapGrid.length-1]}function Gye(t=0,e=this.params.speed,n=!0,r=!0,i){const o=this,{params:s,wrapperEl:a}=o;if(o.animating&&s.preventInteractionOnTransition)return!1;const l=o.minTranslate(),u=o.maxTranslate();let c;if(r&&t>l?c=l:r&&t<u?c=u:c=t,o.updateProgress(c),s.cssMode){const f=o.isHorizontal();if(e===0)a[f?"scrollLeft":"scrollTop"]=-c;else{if(!o.support.smoothScroll)return FF({swiper:o,targetPosition:-c,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-c,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(c),n&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(c),n&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(d){!o||o.destroyed||d.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.$wrapperEl[0].addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd))),!0}const Hye={getTranslate:Fye,setTranslate:Lye,minTranslate:$ye,maxTranslate:Uye,translateTo:Gye};function Vye(t,e){const n=this;n.params.cssMode||n.$wrapperEl.transition(t),n.emit("setTransition",t,e)}function $F({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:i,previousIndex:o}=t;let s=n;if(s||(i>o?s="next":i<o?s="prev":s="reset"),t.emit(`transition${r}`),e&&i!==o){if(s==="reset"){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),s==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function zye(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),$F({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function jye(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),$F({swiper:n,runCallbacks:t,direction:e,step:"End"}))}const Wye={setTransition:Vye,transitionStart:zye,transitionEnd:jye};function Yye(t=0,e=this.params.speed,n=!0,r,i){if(typeof t!="number"&&typeof t!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if(typeof t=="string"){const _=parseInt(t,10);if(!isFinite(_))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=_}const o=this;let s=t;s<0&&(s=0);const{params:a,snapGrid:l,slidesGrid:u,previousIndex:c,activeIndex:f,rtlTranslate:d,wrapperEl:h,enabled:p}=o;if(o.animating&&a.preventInteractionOnTransition||!p&&!r&&!i)return!1;const y=Math.min(o.params.slidesPerGroupSkip,s);let v=y+Math.floor((s-y)/o.params.slidesPerGroup);v>=l.length&&(v=l.length-1);const g=-l[v];if(a.normalizeSlideIndex)for(let _=0;_<u.length;_+=1){const b=-Math.floor(g*100),x=Math.floor(u[_]*100),w=Math.floor(u[_+1]*100);typeof u[_+1]<"u"?b>=x&&b<w-(w-x)/2?s=_:b>=x&&b<w&&(s=_+1):b>=x&&(s=_)}if(o.initialized&&s!==f&&(!o.allowSlideNext&&g<o.translate&&g<o.minTranslate()||!o.allowSlidePrev&&g>o.translate&&g>o.maxTranslate()&&(f||0)!==s))return!1;s!==(c||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(g);let m;if(s>f?m="next":s<f?m="prev":m="reset",d&&-g===o.translate||!d&&g===o.translate)return o.updateActiveIndex(s),a.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),a.effect!=="slide"&&o.setTranslate(g),m!=="reset"&&(o.transitionStart(n,m),o.transitionEnd(n,m)),!1;if(a.cssMode){const _=o.isHorizontal(),b=d?g:-g;if(e===0){const x=o.virtual&&o.params.virtual.enabled;x&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),h[_?"scrollLeft":"scrollTop"]=b,x&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._swiperImmediateVirtual=!1})}else{if(!o.support.smoothScroll)return FF({swiper:o,targetPosition:b,side:_?"left":"top"}),!0;h.scrollTo({[_?"left":"top"]:b,behavior:"smooth"})}return!0}return o.setTransition(e),o.setTranslate(g),o.updateActiveIndex(s),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(n,m),e===0?o.transitionEnd(n,m):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(b){!o||o.destroyed||b.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,m))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd)),!0}function Xye(t=0,e=this.params.speed,n=!0,r){if(typeof t=="string"){const s=parseInt(t,10);if(!isFinite(s))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=s}const i=this;let o=t;return i.params.loop&&(o+=i.loopedSlides),i.slideTo(o,e,n,r)}function Kye(t=this.params.speed,e=!0,n){const r=this,{animating:i,enabled:o,params:s}=r;if(!o)return r;let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<s.slidesPerGroupSkip?1:a;if(s.loop){if(i&&s.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function qye(t=this.params.speed,e=!0,n){const r=this,{params:i,animating:o,snapGrid:s,slidesGrid:a,rtlTranslate:l,enabled:u}=r;if(!u)return r;if(i.loop){if(o&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}const c=l?r.translate:-r.translate;function f(v){return v<0?-Math.floor(Math.abs(v)):Math.floor(v)}const d=f(c),h=s.map(v=>f(v));let p=s[h.indexOf(d)-1];if(typeof p>"u"&&i.cssMode){let v;s.forEach((g,m)=>{d>=g&&(v=m)}),typeof v<"u"&&(p=s[v>0?v-1:v])}let y=0;if(typeof p<"u"&&(y=a.indexOf(p),y<0&&(y=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(y=y-r.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),i.rewind&&r.isBeginning){const v=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(v,t,e,n)}return r.slideTo(y,t,e,n)}function Zye(t=this.params.speed,e=!0,n){const r=this;return r.slideTo(r.activeIndex,t,e,n)}function Jye(t=this.params.speed,e=!0,n,r=.5){const i=this;let o=i.activeIndex;const s=Math.min(i.params.slidesPerGroupSkip,o),a=s+Math.floor((o-s)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const u=i.snapGrid[a],c=i.snapGrid[a+1];l-u>(c-u)*r&&(o+=i.params.slidesPerGroup)}else{const u=i.snapGrid[a-1],c=i.snapGrid[a];l-u<=(c-u)*r&&(o-=i.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,i.slidesGrid.length-1),i.slideTo(o,t,e,n)}function Qye(){const t=this,{params:e,$wrapperEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,o;if(e.loop){if(t.animating)return;o=parseInt(Ie(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=n.children(`.${e.slideClass}[data-swiper-slide-index="${o}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),I0(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=n.children(`.${e.slideClass}[data-swiper-slide-index="${o}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),I0(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}const e_e={slideTo:Yye,slideToLoop:Xye,slideNext:Kye,slidePrev:qye,slideReset:Zye,slideToClosest:Jye,slideToClickedSlide:Qye};function t_e(){const t=this,e=Qn(),{params:n,$wrapperEl:r}=t,i=r.children().length>0?Ie(r.children()[0].parentNode):r;i.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let o=i.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const l=n.slidesPerGroup-o.length%n.slidesPerGroup;if(l!==n.slidesPerGroup){for(let u=0;u<l;u+=1){const c=Ie(e.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);i.append(c)}o=i.children(`.${n.slideClass}`)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=o.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>o.length&&t.params.loopedSlidesLimit&&(t.loopedSlides=o.length);const s=[],a=[];o.each((l,u)=>{Ie(l).attr("data-swiper-slide-index",u)});for(let l=0;l<t.loopedSlides;l+=1){const u=l-Math.floor(l/o.length)*o.length;a.push(o.eq(u)[0]),s.unshift(o.eq(o.length-u-1)[0])}for(let l=0;l<a.length;l+=1)i.append(Ie(a[l].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let l=s.length-1;l>=0;l-=1)i.prepend(Ie(s[l].cloneNode(!0)).addClass(n.slideDuplicateClass))}function n_e(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:n,loopedSlides:r,allowSlidePrev:i,allowSlideNext:o,snapGrid:s,rtlTranslate:a}=t;let l;t.allowSlidePrev=!0,t.allowSlideNext=!0;const c=-s[e]-t.getTranslate();e<r?(l=n.length-r*3+e,l+=r,t.slideTo(l,0,!1,!0)&&c!==0&&t.setTranslate((a?-t.translate:t.translate)-c)):e>=n.length-r&&(l=-n.length+e+r,l+=r,t.slideTo(l,0,!1,!0)&&c!==0&&t.setTranslate((a?-t.translate:t.translate)-c)),t.allowSlidePrev=i,t.allowSlideNext=o,t.emit("loopFix")}function r_e(){const t=this,{$wrapperEl:e,params:n,slides:r}=t;e.children(`.${n.slideClass}.${n.slideDuplicateClass},.${n.slideClass}.${n.slideBlankClass}`).remove(),r.removeAttr("data-swiper-slide-index")}const i_e={loopCreate:t_e,loopFix:n_e,loopDestroy:r_e};function o_e(t){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;n.style.cursor="move",n.style.cursor=t?"grabbing":"grab"}function s_e(){const t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}const a_e={setGrabCursor:o_e,unsetGrabCursor:s_e};function l_e(t,e=this){function n(r){if(!r||r===Qn()||r===kn())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function u_e(t){const e=this,n=Qn(),r=kn(),i=e.touchEventsData,{params:o,touches:s,enabled:a}=e;if(!a||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let l=t;l.originalEvent&&(l=l.originalEvent);let u=Ie(l.target);if(o.touchEventsTarget==="wrapper"&&!u.closest(e.wrapperEl).length||(i.isTouchEvent=l.type==="touchstart",!i.isTouchEvent&&"which"in l&&l.which===3)||!i.isTouchEvent&&"button"in l&&l.button>0||i.isTouched&&i.isMoved)return;const c=!!o.noSwipingClass&&o.noSwipingClass!=="",f=t.composedPath?t.composedPath():t.path;c&&l.target&&l.target.shadowRoot&&f&&(u=Ie(f[0]));const d=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,h=!!(l.target&&l.target.shadowRoot);if(o.noSwiping&&(h?l_e(d,u[0]):u.closest(d)[0])){e.allowClick=!0;return}if(o.swipeHandler&&!u.closest(o.swipeHandler)[0])return;s.currentX=l.type==="touchstart"?l.targetTouches[0].pageX:l.pageX,s.currentY=l.type==="touchstart"?l.targetTouches[0].pageY:l.pageY;const p=s.currentX,y=s.currentY,v=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,g=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(v&&(p<=g||p>=r.innerWidth-g))if(v==="prevent")t.preventDefault();else return;if(Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=p,s.startY=y,i.touchStartTime=gd(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(i.allowThresholdMove=!1),l.type!=="touchstart"){let m=!0;u.is(i.focusableElements)&&(m=!1,u[0].nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&Ie(n.activeElement).is(i.focusableElements)&&n.activeElement!==u[0]&&n.activeElement.blur();const _=m&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||_)&&!u[0].isContentEditable&&l.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function c_e(t){const e=Qn(),n=this,r=n.touchEventsData,{params:i,touches:o,rtlTranslate:s,enabled:a}=n;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}if(r.isTouchEvent&&l.type!=="touchmove")return;const u=l.type==="touchmove"&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),c=l.type==="touchmove"?u.pageX:l.pageX,f=l.type==="touchmove"?u.pageY:l.pageY;if(l.preventedByNestedSwiper){o.startX=c,o.startY=f;return}if(!n.allowTouchMove){Ie(l.target).is(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:c,startY:f,currentX:c,currentY:f}),r.touchStartTime=gd());return}if(r.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(f<o.startY&&n.translate<=n.maxTranslate()||f>o.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(c<o.startX&&n.translate<=n.maxTranslate()||c>o.startX&&n.translate>=n.minTranslate())return}if(r.isTouchEvent&&e.activeElement&&l.target===e.activeElement&&Ie(l.target).is(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;o.currentX=c,o.currentY=f;const d=o.currentX-o.startX,h=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(d**2+h**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let g;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:d*d+h*h>=25&&(g=Math.atan2(Math.abs(h),Math.abs(d))*180/Math.PI,r.isScrolling=n.isHorizontal()?g>i.touchAngle:90-g>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation(),r.isMoved||(i.loop&&!i.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)),n.emit("sliderMove",l),r.isMoved=!0;let p=n.isHorizontal()?d:h;o.diff=p,p*=i.touchRatio,s&&(p=-p),n.swipeDirection=p>0?"prev":"next",r.currentTranslate=p+r.startTranslate;let y=!0,v=i.resistanceRatio;if(i.touchReleaseOnEdges&&(v=0),p>0&&r.currentTranslate>n.minTranslate()?(y=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+p)**v)):p<0&&r.currentTranslate<n.maxTranslate()&&(y=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-p)**v)),y&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(p)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function f_e(t){const e=this,n=e.touchEventsData,{params:r,touches:i,rtlTranslate:o,slidesGrid:s,enabled:a}=e;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",l),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}r.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const u=gd(),c=u-n.touchStartTime;if(e.allowClick){const m=l.path||l.composedPath&&l.composedPath();e.updateClickedSlide(m&&m[0]||l.target),e.emit("tap click",l),c<300&&u-n.lastClickTime<300&&e.emit("doubleTap doubleClick",l)}if(n.lastClickTime=gd(),I0(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||i.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let f;if(r.followFinger?f=o?e.translate:-e.translate:f=-n.currentTranslate,r.cssMode)return;if(e.params.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:f});return}let d=0,h=e.slidesSizesGrid[0];for(let m=0;m<s.length;m+=m<r.slidesPerGroupSkip?1:r.slidesPerGroup){const _=m<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof s[m+_]<"u"?f>=s[m]&&f<s[m+_]&&(d=m,h=s[m+_]-s[m]):f>=s[m]&&(d=m,h=s[s.length-1]-s[s.length-2])}let p=null,y=null;r.rewind&&(e.isBeginning?y=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(p=0));const v=(f-s[d])/h,g=d<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(c>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(v>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?p:d+g):e.slideTo(d)),e.swipeDirection==="prev"&&(v>1-r.longSwipesRatio?e.slideTo(d+g):y!==null&&v<0&&Math.abs(v)>r.longSwipesRatio?e.slideTo(y):e.slideTo(d))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(l.target===e.navigation.nextEl||l.target===e.navigation.prevEl)?l.target===e.navigation.nextEl?e.slideTo(d+g):e.slideTo(d):(e.swipeDirection==="next"&&e.slideTo(p!==null?p:d+g),e.swipeDirection==="prev"&&e.slideTo(y!==null?y:d))}}function YP(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:o}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&o!==t.snapGrid&&t.checkOverflow()}function d_e(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function h_e(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const o=t.maxTranslate()-t.minTranslate();o===0?i=0:i=(t.translate-t.minTranslate())/o,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let XP=!1;function p_e(){}const UF=(t,e)=>{const n=Qn(),{params:r,touchEvents:i,el:o,wrapperEl:s,device:a,support:l}=t,u=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",f=e;if(!l.touch)o[c](i.start,t.onTouchStart,!1),n[c](i.move,t.onTouchMove,u),n[c](i.end,t.onTouchEnd,!1);else{const d=i.start==="touchstart"&&l.passiveListener&&r.passiveListeners?{passive:!0,capture:!1}:!1;o[c](i.start,t.onTouchStart,d),o[c](i.move,t.onTouchMove,l.passiveListener?{passive:!1,capture:u}:u),o[c](i.end,t.onTouchEnd,d),i.cancel&&o[c](i.cancel,t.onTouchEnd,d)}(r.preventClicks||r.preventClicksPropagation)&&o[c]("click",t.onClick,!0),r.cssMode&&s[c]("scroll",t.onScroll),r.updateOnWindowResize?t[f](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",YP,!0):t[f]("observerUpdate",YP,!0)};function g_e(){const t=this,e=Qn(),{params:n,support:r}=t;t.onTouchStart=u_e.bind(t),t.onTouchMove=c_e.bind(t),t.onTouchEnd=f_e.bind(t),n.cssMode&&(t.onScroll=h_e.bind(t)),t.onClick=d_e.bind(t),r.touch&&!XP&&(e.addEventListener("touchstart",p_e),XP=!0),UF(t,"on")}function m_e(){UF(this,"off")}const v_e={attachEvents:g_e,detachEvents:m_e},KP=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function y_e(){const t=this,{activeIndex:e,initialized:n,loopedSlides:r=0,params:i,$el:o}=t,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const a=t.getBreakpoint(s,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const u=(a in s?s[a]:void 0)||t.originalParams,c=KP(t,i),f=KP(t,u),d=i.enabled;c&&!f?(o.removeClass(`${i.containerModifierClass}grid ${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!c&&f&&(o.addClass(`${i.containerModifierClass}grid`),(u.grid.fill&&u.grid.fill==="column"||!u.grid.fill&&i.grid.fill==="column")&&o.addClass(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(v=>{const g=i[v]&&i[v].enabled,m=u[v]&&u[v].enabled;g&&!m&&t[v].disable(),!g&&m&&t[v].enable()});const h=u.direction&&u.direction!==i.direction,p=i.loop&&(u.slidesPerView!==i.slidesPerView||h);h&&n&&t.changeDirection(),$r(t.params,u);const y=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),d&&!y?t.disable():!d&&y&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",u),p&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-r+t.loopedSlides,0,!1)),t.emit("breakpoint",u)}function __e(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const i=kn(),o=e==="window"?i.innerHeight:n.clientHeight,s=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:o*l,point:a}}return{value:a,point:a}});s.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<s.length;a+=1){const{point:l,value:u}=s[a];e==="window"?i.matchMedia(`(min-width: ${u}px)`).matches&&(r=l):u<=n.clientWidth&&(r=l)}return r||"max"}const b_e={setBreakpoint:y_e,getBreakpoint:__e};function x_e(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function w_e(){const t=this,{classNames:e,params:n,rtl:r,$el:i,device:o,support:s}=t,a=x_e(["initialized",n.direction,{"pointer-events":!s.touch},{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),i.addClass([...e].join(" ")),t.emitContainerClasses()}function E_e(){const t=this,{$el:e,classNames:n}=t;e.removeClass(n.join(" ")),t.emitContainerClasses()}const S_e={addClasses:w_e,removeClasses:E_e};function C_e(t,e,n,r,i,o){const s=kn();let a;function l(){o&&o()}!Ie(t).parent("picture")[0]&&(!t.complete||!i)&&e?(a=new s.Image,a.onload=l,a.onerror=l,r&&(a.sizes=r),n&&(a.srcset=n),e&&(a.src=e)):l()}function A_e(){const t=this;t.imagesToLoad=t.$el.find("img");function e(){typeof t>"u"||t===null||!t||t.destroyed||(t.imagesLoaded!==void 0&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}for(let n=0;n<t.imagesToLoad.length;n+=1){const r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}const T_e={loadImage:C_e,preloadImages:A_e};function P_e(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,o=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>o}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const I_e={checkOverflow:P_e},qP={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function O_e(t,e){return function(r={}){const i=Object.keys(r)[0],o=r[i];if(typeof o!="object"||o===null){$r(e,r);return}if(["navigation","pagination","scrollbar"].indexOf(i)>=0&&t[i]===!0&&(t[i]={auto:!0}),!(i in t&&"enabled"in o)){$r(e,r);return}t[i]===!0&&(t[i]={enabled:!0}),typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),$r(e,r)}}const h1={eventsEmitter:Aye,update:Nye,translate:Hye,transition:Wye,slide:e_e,loop:i_e,grabCursor:a_e,events:v_e,breakpoints:b_e,checkOverflow:I_e,classes:S_e,images:T_e},p1={};let Ju=class Bo{constructor(...e){let n,r;if(e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=$r({},r),n&&!r.el&&(r.el=n),r.el&&Ie(r.el).length>1){const a=[];return Ie(r.el).each(l=>{const u=$r({},r,{el:l});a.push(new Bo(u))}),a}const i=this;i.__swiper__=!0,i.support=LF(),i.device=xye({userAgent:r.userAgent}),i.browser=Eye(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],r.modules&&Array.isArray(r.modules)&&i.modules.push(...r.modules);const o={};i.modules.forEach(a=>{a({swiper:i,extendParams:O_e(r,o),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const s=$r({},qP,o);return i.params=$r({},s,p1,r),i.originalParams=$r({},i.params),i.passedParams=$r({},r),i.params&&i.params.on&&Object.keys(i.params.on).forEach(a=>{i.on(a,i.params.on[a])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),i.$=Ie,Object.assign(i,{enabled:i.params.enabled,el:n,classNames:[],slides:Ie(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return i.params.direction==="horizontal"},isVertical(){return i.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEvents:function(){const l=["touchstart","touchmove","touchend","touchcancel"],u=["pointerdown","pointermove","pointerup"];return i.touchEventsTouch={start:l[0],move:l[1],end:l[2],cancel:l[3]},i.touchEventsDesktop={start:u[0],move:u[1],end:u[2]},i.support.touch||!i.params.simulateTouch?i.touchEventsTouch:i.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:gd(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),s=(r.maxTranslate()-i)*e+i;r.translateTo(s,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.each(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:i,slides:o,slidesGrid:s,slidesSizesGrid:a,size:l,activeIndex:u}=r;let c=1;if(i.centeredSlides){let f=o[u].swiperSlideSize,d;for(let h=u+1;h<o.length;h+=1)o[h]&&!d&&(f+=o[h].swiperSlideSize,c+=1,f>l&&(d=!0));for(let h=u-1;h>=0;h-=1)o[h]&&!d&&(f+=o[h].swiperSlideSize,c+=1,f>l&&(d=!0))}else if(e==="current")for(let f=u+1;f<o.length;f+=1)(n?s[f]+a[f]-s[u]<l:s[f]-s[u]<l)&&(c+=1);else for(let f=u-1;f>=0;f-=1)s[u]-s[f]<l&&(c+=1);return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const s=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(s,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let o;e.params.freeMode&&e.params.freeMode.enabled?(i(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?o=e.slideTo(e.slides.length-1,0,!1,!0):o=e.slideTo(e.activeIndex,0,!1,!0),o||i()),r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.$el.removeClass(`${r.params.containerModifierClass}${i}`).addClass(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.each(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.$el.addClass(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.$el.removeClass(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;const r=Ie(e||n.params.el);if(e=r[0],!e)return!1;e.swiper=n;const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const a=Ie(e.shadowRoot.querySelector(i()));return a.children=l=>r.children(l),a}return r.children?r.children(i()):Ie(r).children(i())})();if(s.length===0&&n.params.createElements){const l=Qn().createElement("div");s=Ie(l),l.className=n.params.wrapperClass,r.append(l),r.children(`.${n.params.slideClass}`).each(u=>{s.append(u)})}return Object.assign(n,{$el:r,el:e,$wrapperEl:s,wrapperEl:s[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl"),wrongRTL:s.css("display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.params.loop&&n.loopCreate(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.preloadImages&&n.preloadImages(),n.params.loop?n.slideTo(n.params.initialSlide+n.loopedSlides,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.attachEvents(),n.initialized=!0,n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const r=this,{params:i,$el:o,$wrapperEl:s,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),o.removeAttr("style"),s.removeAttr("style"),a&&a.length&&a.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.$el[0].swiper=null,gye(r)),r.destroyed=!0),null}static extendDefaults(e){$r(p1,e)}static get extendedDefaults(){return p1}static get defaults(){return qP}static installModule(e){Bo.prototype.__modules__||(Bo.prototype.__modules__=[]);const n=Bo.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Bo.installModule(n)),Bo):(Bo.installModule(e),Bo)}};Object.keys(h1).forEach(t=>{Object.keys(h1[t]).forEach(e=>{Ju.prototype[e]=h1[t][e]})});Ju.use([Sye,Cye]);function UPe({swiper:t,extendParams:e,on:n,emit:r}){let i;t.autoplay={running:!1,paused:!1},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function o(){if(!t.size){t.autoplay.running=!1,t.autoplay.paused=!1;return}const y=t.slides.eq(t.activeIndex);let v=t.params.autoplay.delay;y.attr("data-swiper-autoplay")&&(v=y.attr("data-swiper-autoplay")||t.params.autoplay.delay),clearTimeout(i),i=I0(()=>{let g;t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),g=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?a():(g=t.slideTo(t.slides.length-1,t.params.speed,!0,!0),r("autoplay")):(g=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.params.loop?(t.loopFix(),g=t.slideNext(t.params.speed,!0,!0),r("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?a():(g=t.slideTo(0,t.params.speed,!0,!0),r("autoplay")):(g=t.slideNext(t.params.speed,!0,!0),r("autoplay")),(t.params.cssMode&&t.autoplay.running||g===!1)&&o()},v)}function s(){return typeof i<"u"||t.autoplay.running?!1:(t.autoplay.running=!0,r("autoplayStart"),o(),!0)}function a(){return!t.autoplay.running||typeof i>"u"?!1:(i&&(clearTimeout(i),i=void 0),t.autoplay.running=!1,r("autoplayStop"),!0)}function l(y){t.autoplay.running&&(t.autoplay.paused||(i&&clearTimeout(i),t.autoplay.paused=!0,y===0||!t.params.autoplay.waitForTransition?(t.autoplay.paused=!1,o()):["transitionend","webkitTransitionEnd"].forEach(v=>{t.$wrapperEl[0].addEventListener(v,c)})))}function u(){const y=Qn();y.visibilityState==="hidden"&&t.autoplay.running&&l(),y.visibilityState==="visible"&&t.autoplay.paused&&(o(),t.autoplay.paused=!1)}function c(y){!t||t.destroyed||!t.$wrapperEl||y.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(v=>{t.$wrapperEl[0].removeEventListener(v,c)}),t.autoplay.paused=!1,t.autoplay.running?o():a())}function f(){t.params.autoplay.disableOnInteraction?a():(r("autoplayPause"),l()),["transitionend","webkitTransitionEnd"].forEach(y=>{t.$wrapperEl[0].removeEventListener(y,c)})}function d(){t.params.autoplay.disableOnInteraction||(t.autoplay.paused=!1,r("autoplayResume"),o())}function h(){t.params.autoplay.pauseOnMouseEnter&&(t.$el.on("mouseenter",f),t.$el.on("mouseleave",d))}function p(){t.$el.off("mouseenter",f),t.$el.off("mouseleave",d)}n("init",()=>{t.params.autoplay.enabled&&(s(),Qn().addEventListener("visibilitychange",u),h())}),n("beforeTransitionStart",(y,v,g)=>{t.autoplay.running&&(g||!t.params.autoplay.disableOnInteraction?t.autoplay.pause(v):a())}),n("sliderFirstMove",()=>{t.autoplay.running&&(t.params.autoplay.disableOnInteraction?a():l())}),n("touchEnd",()=>{t.params.cssMode&&t.autoplay.paused&&!t.params.autoplay.disableOnInteraction&&o()}),n("destroy",()=>{p(),t.autoplay.running&&a(),Qn().removeEventListener("visibilitychange",u)}),Object.assign(t.autoplay,{pause:l,run:o,start:s,stop:a})}function wl(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Fs(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:wl(e[r])&&wl(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Fs(t[r],e[r]):t[r]=e[r]})}function GF(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function HF(t={}){return t.pagination&&typeof t.pagination.el>"u"}function VF(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function zF(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}const jF=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function ZP(t={},e=!0){const n={on:{}},r={},i={};Fs(n,Ju.defaults),Fs(n,Ju.extendedDefaults),n._emitClasses=!0,n.init=!1;const o={},s=jF.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(s.indexOf(l)>=0?wl(t[l])?(n[l]={},i[l]={},Fs(n[l],t[l]),Fs(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:o[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:o,events:r}}function R_e({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:i,swiper:o},s){GF(s)&&e&&n&&(o.params.navigation.nextEl=e,o.originalParams.navigation.nextEl=e,o.params.navigation.prevEl=n,o.originalParams.navigation.prevEl=n),HF(s)&&r&&(o.params.pagination.el=r,o.originalParams.pagination.el=r),VF(s)&&i&&(o.params.scrollbar.el=i,o.originalParams.scrollbar.el=i),o.init(t)}const WF=(t,e)=>{let n=e.slidesPerView;if(e.breakpoints){const i=Ju.prototype.getBreakpoint(e.breakpoints),o=i in e.breakpoints?e.breakpoints[i]:void 0;o&&o.slidesPerView&&(n=o.slidesPerView)}let r=Math.ceil(parseFloat(e.loopedSlides||n,10));return r+=e.loopAdditionalSlides,r>t.length&&e.loopedSlidesLimit&&(r=t.length),r};function M_e(t,e,n){const r=e.map((l,u)=>(l.props||(l.props={}),l.props.swiperRef=t,l.props["data-swiper-slide-index"]=u,l));function i(l,u,c){return l.props||(l.props={}),Mn(l.type,{...l.props,key:`${l.key}-duplicate-${u}-${c}`,class:`${l.props.className||""} ${n.slideDuplicateClass} ${l.props.class||""}`},l.children)}if(n.loopFillGroupWithBlank){const l=n.slidesPerGroup-r.length%n.slidesPerGroup;if(l!==n.slidesPerGroup)for(let u=0;u<l;u+=1){const c=Mn("div",{class:`${n.slideClass} ${n.slideBlankClass}`});r.push(c)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=r.length);const o=WF(r,n),s=[],a=[];for(let l=0;l<o;l+=1){const u=l-Math.floor(l/r.length)*r.length;a.push(i(r[u],l,"append")),s.unshift(i(r[r.length-u-1],l,"prepend"))}return t.value&&(t.value.loopedSlides=o),[...s,...r,...a]}function D_e(t,e,n,r,i){const o=[];if(!e)return o;const s=l=>{o.indexOf(l)<0&&o.push(l)};if(n&&r){const l=r.map(i),u=n.map(i);l.join("")!==u.join("")&&s("children"),r.length!==n.length&&s("children")}return jF.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(wl(t[l])&&wl(e[l])){const u=Object.keys(t[l]),c=Object.keys(e[l]);u.length!==c.length?s(l):(u.forEach(f=>{t[l][f]!==e[l][f]&&s(l)}),c.forEach(f=>{t[l][f]!==e[l][f]&&s(l)}))}else t[l]!==e[l]&&s(l)}),o}function g1(t,e,n){t===void 0&&(t={});const r=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},o=(s,a)=>{Array.isArray(s)&&s.forEach(l=>{const u=typeof l.type=="symbol";a==="default"&&(a="container-end"),u&&l.children?o(l.children,"default"):l.type&&(l.type.name==="SwiperSlide"||l.type.name==="AsyncComponentWrapper")?r.push(l):i[a]&&i[a].push(l)})};return Object.keys(t).forEach(s=>{if(typeof t[s]!="function")return;const a=t[s]();o(a,s)}),n.value=e.value,e.value=r,{slides:r,slots:i}}function B_e({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:i,prevEl:o,scrollbarEl:s,paginationEl:a}){const l=r.filter(x=>x!=="children"&&x!=="direction"),{params:u,pagination:c,navigation:f,scrollbar:d,virtual:h,thumbs:p}=t;let y,v,g,m,_;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(y=!0),r.includes("controller")&&n.controller&&n.controller.control&&u.controller&&!u.controller.control&&(v=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||a)&&(u.pagination||u.pagination===!1)&&c&&!c.el&&(g=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||s)&&(u.scrollbar||u.scrollbar===!1)&&d&&!d.el&&(m=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||o)&&(n.navigation.nextEl||i)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(_=!0);const b=x=>{t[x]&&(t[x].destroy(),x==="navigation"?(u[x].prevEl=void 0,u[x].nextEl=void 0,t[x].prevEl=void 0,t[x].nextEl=void 0):(u[x].el=void 0,t[x].el=void 0))};l.forEach(x=>{if(wl(u[x])&&wl(n[x]))Fs(u[x],n[x]);else{const w=n[x];(w===!0||w===!1)&&(x==="navigation"||x==="pagination"||x==="scrollbar")?w===!1&&b(x):u[x]=n[x]}}),l.includes("controller")&&!v&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),r.includes("children")&&e&&h&&u.virtual.enabled?(h.slides=e,h.update(!0)):r.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),y&&p.init()&&p.update(!0),v&&(t.controller.control=u.controller.control),g&&(a&&(u.pagination.el=a),c.init(),c.render(),c.update()),m&&(s&&(u.scrollbar.el=s),d.init(),d.updateSize(),d.setTranslate()),_&&(i&&(u.navigation.nextEl=i),o&&(u.navigation.prevEl=o),f.init(),f.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),t.update()}function k_e(t,e,n){if(!n)return null;const r=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`};return e.filter((i,o)=>o>=n.from&&o<=n.to).map(i=>(i.props||(i.props={}),i.props.style||(i.props.style={}),i.props.swiperRef=t,i.props.style=r,Mn(i.type,{...i.props},i.children)))}const N_e=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())},GPe={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:Number,default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},preloadImages:{type:Boolean,default:void 0},updateOnImagesReady:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopAdditionalSlides:{type:Number,default:void 0},loopedSlides:{type:Number,default:void 0},loopedSlidesLimit:{type:Boolean,default:!0},loopFillGroupWithBlank:{type:Boolean,default:void 0},loopPreventsSlide:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideDuplicateActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideDuplicateClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slideDuplicateNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},slideDuplicatePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},lazy:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","imagesReady","init","keyPress","lazyImageLoad","lazyImageReady","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:n,emit:r}=e;const{tag:i,wrapperTag:o}=t,s=Z("swiper"),a=Z(null),l=Z(!1),u=Z(!1),c=Z(null),f=Z(null),d=Z(null),h={value:[]},p={value:[]},y=Z(null),v=Z(null),g=Z(null),m=Z(null),{params:_,passedParams:b}=ZP(t,!1);g1(n,h,p),d.value=b,p.value=h.value;const x=()=>{g1(n,h,p),l.value=!0};if(_.onAny=function(E){for(var S=arguments.length,P=new Array(S>1?S-1:0),C=1;C<S;C++)P[C-1]=arguments[C];r(E,...P)},Object.assign(_.on,{_beforeBreakpoint:x,_containerClasses(E,S){s.value=S}}),f.value=new Ju(_),f.value.loopCreate=()=>{},f.value.loopDestroy=()=>{},_.loop&&(f.value.loopedSlides=WF(h.value,_)),f.value.virtual&&f.value.params.virtual.enabled){f.value.virtual.slides=h.value;const E={cache:!1,slides:h.value,renderExternal:S=>{a.value=S},renderExternalUpdate:!1};Fs(f.value.params.virtual,E),Fs(f.value.originalParams.virtual,E)}Il(()=>{!u.value&&f.value&&(f.value.emitSlidesClasses(),u.value=!0);const{passedParams:E}=ZP(t,!1),S=D_e(E,d.value,h.value,p.value,P=>P.props&&P.props.key);d.value=E,(S.length||l.value)&&f.value&&!f.value.destroyed&&B_e({swiper:f.value,slides:h.value,passedParams:E,changedParams:S,nextEl:y.value,prevEl:v.value,scrollbarEl:m.value,paginationEl:g.value}),l.value=!1}),hi("swiper",f),ve(a,()=>{Xe(()=>{N_e(f.value)})}),Ht(()=>{c.value&&(R_e({el:c.value,nextEl:y.value,prevEl:v.value,paginationEl:g.value,scrollbarEl:m.value,swiper:f.value},_),r("swiper",f.value))}),qr(()=>{f.value&&!f.value.destroyed&&f.value.destroy(!0,!1)});function w(E){return _.virtual?k_e(f,E,a.value):!_.loop||f.value&&f.value.destroyed?(E.forEach(S=>{S.props||(S.props={}),S.props.swiperRef=f}),E):M_e(f,E,_)}return()=>{const{slides:E,slots:S}=g1(n,h,p);return Mn(i,{ref:c,class:zF(s.value)},[S["container-start"],Mn(o,{class:"swiper-wrapper"},[S["wrapper-start"],w(E),S["wrapper-end"]]),GF(t)&&[Mn("div",{ref:v,class:"swiper-button-prev"}),Mn("div",{ref:y,class:"swiper-button-next"})],VF(t)&&Mn("div",{ref:m,class:"swiper-scrollbar"}),HF(t)&&Mn("div",{ref:g,class:"swiper-pagination"}),S["container-end"]])}}},HPe={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},zoom:{type:Boolean,default:void 0},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:n}=e,r=!1;const{swiperRef:i}=t,o=Z(null),s=Z("swiper-slide");function a(u,c,f){c===o.value&&(s.value=f)}Ht(()=>{!i||!i.value||(i.value.on("_slideClass",a),r=!0)}),ig(()=>{r||!i||!i.value||(i.value.on("_slideClass",a),r=!0)}),Il(()=>{!o.value||!i||!i.value||i.value.destroyed&&s.value!=="swiper-slide"&&(s.value="swiper-slide")}),qr(()=>{!i||!i.value||i.value.off("_slideClass",a)});const l=re(()=>({isActive:s.value.indexOf("swiper-slide-active")>=0||s.value.indexOf("swiper-slide-duplicate-active")>=0,isVisible:s.value.indexOf("swiper-slide-visible")>=0,isDuplicate:s.value.indexOf("swiper-slide-duplicate")>=0,isPrev:s.value.indexOf("swiper-slide-prev")>=0||s.value.indexOf("swiper-slide-duplicate-prev")>=0,isNext:s.value.indexOf("swiper-slide-next")>=0||s.value.indexOf("swiper-slide-duplicate-next")>=0}));return hi("swiperSlide",l),()=>Mn(t.tag,{class:zF(`${s.value}`),ref:o,"data-swiper-slide-index":t.virtualIndex},t.zoom?Mn("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},n.default&&n.default(l.value)):n.default&&n.default(l.value))}};var xe={pullStartY:null,pullMoveY:null,handlers:[],styleEl:null,events:null,dist:0,state:"pending",timeout:null,distResisted:0,supportsPassive:!1,supportsPointerEvents:typeof window<"u"&&!!window.PointerEvent};try{window.addEventListener("test",null,{get passive(){xe.supportsPassive=!0}})}catch{}function F_e(t){if(!t.ptrElement){var e=document.createElement("div");t.mainElement!==document.body?t.mainElement.parentNode.insertBefore(e,t.mainElement):document.body.insertBefore(e,document.body.firstChild),e.classList.add(t.classPrefix+"ptr"),e.innerHTML=t.getMarkup().replace(/__PREFIX__/g,t.classPrefix),t.ptrElement=e,typeof t.onInit=="function"&&t.onInit(t),xe.styleEl||(xe.styleEl=document.createElement("style"),xe.styleEl.setAttribute("id","pull-to-refresh-js-style"),document.head.appendChild(xe.styleEl)),xe.styleEl.textContent=t.getStyles().replace(/__PREFIX__/g,t.classPrefix).replace(/\s+/g," ")}return t}function L_e(t){t.ptrElement&&(t.ptrElement.classList.remove(t.classPrefix+"refresh"),t.ptrElement.style[t.cssProp]="0px",setTimeout(function(){t.ptrElement&&t.ptrElement.parentNode&&(t.ptrElement.parentNode.removeChild(t.ptrElement),t.ptrElement=null),xe.state="pending"},t.refreshTimeout))}function $_e(t){var e=t.ptrElement.querySelector("."+t.classPrefix+"icon"),n=t.ptrElement.querySelector("."+t.classPrefix+"text");e&&(xe.state==="refreshing"?e.innerHTML=t.iconRefreshing:e.innerHTML=t.iconArrow),n&&(xe.state==="releasing"&&(n.innerHTML=t.instructionsReleaseToRefresh),(xe.state==="pulling"||xe.state==="pending")&&(n.innerHTML=t.instructionsPullToRefresh),xe.state==="refreshing"&&(n.innerHTML=t.instructionsRefreshing))}var Fr={setupDOM:F_e,onReset:L_e,update:$_e},JP,m1=function(e){return xe.pointerEventsEnabled&&xe.supportsPointerEvents?e.screenY:e.touches[0].screenY},YF=function(){var t;function e(s){var a=xe.handlers.filter(function(l){return l.contains(s.target)})[0];xe.enable=!!a,a&&xe.state==="pending"&&(t=Fr.setupDOM(a),a.shouldPullToRefresh()&&(xe.pullStartY=m1(s)),clearTimeout(xe.timeout),Fr.update(a))}function n(s){if(t&&t.ptrElement&&xe.enable){if(xe.pullStartY?xe.pullMoveY=m1(s):t.shouldPullToRefresh()&&(xe.pullStartY=m1(s)),xe.state==="refreshing"){s.cancelable&&t.shouldPullToRefresh()&&xe.pullStartY<xe.pullMoveY&&s.preventDefault();return}xe.state==="pending"&&(t.ptrElement.classList.add(t.classPrefix+"pull"),xe.state="pulling",Fr.update(t)),xe.pullStartY&&xe.pullMoveY&&(xe.dist=xe.pullMoveY-xe.pullStartY),xe.distExtra=xe.dist-t.distIgnore,xe.distExtra>0&&(s.cancelable&&s.preventDefault(),t.ptrElement.style[t.cssProp]=xe.distResisted+"px",xe.distResisted=t.resistanceFunction(xe.distExtra/t.distThreshold)*Math.min(t.distMax,xe.distExtra),xe.state==="pulling"&&xe.distResisted>t.distThreshold&&(t.ptrElement.classList.add(t.classPrefix+"release"),xe.state="releasing",Fr.update(t)),xe.state==="releasing"&&xe.distResisted<t.distThreshold&&(t.ptrElement.classList.remove(t.classPrefix+"release"),xe.state="pulling",Fr.update(t)))}}function r(){if(t&&t.ptrElement&&xe.enable){if(clearTimeout(JP),JP=setTimeout(function(){t&&t.ptrElement&&xe.state==="pending"&&Fr.onReset(t)},500),xe.state==="releasing"&&xe.distResisted>t.distThreshold)xe.state="refreshing",t.ptrElement.style[t.cssProp]=t.distReload+"px",t.ptrElement.classList.add(t.classPrefix+"refresh"),xe.timeout=setTimeout(function(){var s=t.onRefresh(function(){return Fr.onReset(t)});s&&typeof s.then=="function"&&s.then(function(){return Fr.onReset(t)}),!s&&!t.onRefresh.length&&Fr.onReset(t)},t.refreshTimeout);else{if(xe.state==="refreshing")return;t.ptrElement.style[t.cssProp]="0px",xe.state="pending"}Fr.update(t),t.ptrElement.classList.remove(t.classPrefix+"release"),t.ptrElement.classList.remove(t.classPrefix+"pull"),xe.pullStartY=xe.pullMoveY=null,xe.dist=xe.distResisted=0}}function i(){t&&t.mainElement.classList.toggle(t.classPrefix+"top",t.shouldPullToRefresh())}var o=xe.supportsPassive?{passive:xe.passive||!1}:void 0;return xe.pointerEventsEnabled&&xe.supportsPointerEvents?(window.addEventListener("pointerup",r),window.addEventListener("pointerdown",e),window.addEventListener("pointermove",n,o)):(window.addEventListener("touchend",r),window.addEventListener("touchstart",e),window.addEventListener("touchmove",n,o)),window.addEventListener("scroll",i),{onTouchEnd:r,onTouchStart:e,onTouchMove:n,onScroll:i,destroy:function(){xe.pointerEventsEnabled&&xe.supportsPointerEvents?(window.removeEventListener("pointerdown",e),window.removeEventListener("pointerup",r),window.removeEventListener("pointermove",n,o)):(window.removeEventListener("touchstart",e),window.removeEventListener("touchend",r),window.removeEventListener("touchmove",n,o)),window.removeEventListener("scroll",i)}}},U_e=`
<div class="__PREFIX__box">
  <div class="__PREFIX__content">
    <div class="__PREFIX__icon"></div>
    <div class="__PREFIX__text"></div>
  </div>
</div>
`,G_e=`
.__PREFIX__ptr {
  box-shadow: inset 0 -3px 5px rgba(0, 0, 0, 0.12);
  pointer-events: none;
  font-size: 0.85em;
  font-weight: bold;
  top: 0;
  height: 0;
  transition: height 0.3s, min-height 0.3s;
  text-align: center;
  width: 100%;
  overflow: hidden;
  display: flex;
  align-items: flex-end;
  align-content: stretch;
}

.__PREFIX__box {
  padding: 10px;
  flex-basis: 100%;
}

.__PREFIX__pull {
  transition: none;
}

.__PREFIX__text {
  margin-top: .33em;
  color: rgba(0, 0, 0, 0.3);
}

.__PREFIX__icon {
  color: rgba(0, 0, 0, 0.3);
  transition: transform .3s;
}

/*
When at the top of the page, disable vertical overscroll so passive touch
listeners can take over.
*/
.__PREFIX__top {
  touch-action: pan-x pan-down pinch-zoom;
}

.__PREFIX__release .__PREFIX__icon {
  transform: rotate(180deg);
}
`,v1={distThreshold:60,distMax:80,distReload:50,distIgnore:0,mainElement:"body",triggerElement:"body",ptrElement:".ptr",classPrefix:"ptr--",cssProp:"min-height",iconArrow:"&#8675;",iconRefreshing:"&hellip;",instructionsPullToRefresh:"Pull down to refresh",instructionsReleaseToRefresh:"Release to refresh",instructionsRefreshing:"Refreshing",refreshTimeout:500,getMarkup:function(){return U_e},getStyles:function(){return G_e},onInit:function(){},onRefresh:function(){return location.reload()},resistanceFunction:function(t){return Math.min(1,t/2.5)},shouldPullToRefresh:function(){return!window.scrollY}},H_e=["mainElement","ptrElement","triggerElement"],QP=function(t){var e={};return Object.keys(v1).forEach(function(n){e[n]=t[n]||v1[n]}),e.refreshTimeout=typeof t.refreshTimeout=="number"?t.refreshTimeout:v1.refreshTimeout,H_e.forEach(function(n){typeof e[n]=="string"&&(e[n]=document.querySelector(e[n]))}),xe.events||(xe.events=YF()),e.contains=function(n){return e.triggerElement.contains(n)},e.destroy=function(){clearTimeout(xe.timeout);var n=xe.handlers.indexOf(e);xe.handlers.splice(n,1)},e},V_e={setPassiveMode:function(e){xe.passive=e},setPointerEventsMode:function(e){xe.pointerEventsEnabled=e},destroyAll:function(){xe.events&&(xe.events.destroy(),xe.events=null),xe.handlers.forEach(function(e){e.destroy()})},init:function(e){e===void 0&&(e={});var n=QP(e);return xe.handlers.push(n),n},_:{setupHandler:QP,setupEvents:YF,setupDOM:Fr.setupDOM,onReset:Fr.onReset,update:Fr.update}};const VPe=V_e;var XF=!1;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Er=function(){return Er=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Er.apply(this,arguments)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ub=function(t,e){return ub=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ub(t,e)};function UE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ub(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Zo=function(){return Zo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Zo.apply(this,arguments)};function Jo(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(u){try{l(r.next(u))}catch(c){o(c)}}function a(u){try{l(r.throw(u))}catch(c){o(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof n?c:new n(function(f){f(c)})).then(s,a)}l((r=r.apply(t,e||[])).next())})}function Qo(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||c[0]!==6&&c[0]!==2)){s=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(c[0]===6&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(f){c=[6,f],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([l,u])}}}function pu(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(this==null)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(r===0)return!1;for(var i,o,s=0|e,a=Math.max(s>=0?s:r-Math.abs(s),0);a<r;){if((i=n[a])===(o=t)||typeof i=="number"&&typeof o=="number"&&isNaN(i)&&isNaN(o))return!0;a++}return!1}}),String.prototype.includes||(String.prototype.includes=function(t,e){return typeof e!="number"&&(e=0),!(e+t.length>this.length)&&this.indexOf(t,e)!==-1}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(this==null)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if(typeof t!="function")throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=e[i];if(t.call(r,o,i,e))return o;i++}}});var md=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.some(function(r){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()===r})},Qu=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},GE=function(t){return[].filter.call(t,function(e){return e!==`
`}).join("")},Ls=function(t){if(typeof t!="string"||(t=t.toLocaleLowerCase().trim())==="transparent")return!1;var e;return!(/^rgba/.test(t)&&((e=/([^\s,]+)\)$/.exec(t))===null?0:typeof e=="object"?NaN:typeof e=="number"?e:typeof e=="string"?e[e.length-1]==="%"?Number(e.slice(0,-1))/100:Number(e):NaN)===0)},KF=function(t,e){var n,r=((n=t.padding)===null||n===void 0?void 0:n.split(" ").map(function(c){return e(c)}))||[0],i=0,o=0,s=0,a=0;switch(r.length){case 1:i=o=s=a=r[0];break;case 2:i=o=r[0],s=a=r[1];break;case 3:i=r[0],s=a=r[1],o=r[2];break;default:i=r[0],o=r[1],s=r[2],a=r[3]}var l={paddingTop:i,paddingBottom:o,paddingLeft:s,paddingRight:a};for(var u in l)l[u]=Qu(t,u)&&md(t[u],"string","number")?e(t[u]):l[u];return[i,o,s,a]},qF=function(t){var e=[],n=t.map(function(i){return Number(i)}).reduce(function(i,o){if(o>0){var s=i+o;return e.push(s),s}return e.push(NaN),i},0),r=Math.random()*n;return e.findIndex(function(i){return r<=i})},HE=function(t,e,n,r){r===void 0&&(r=1/0),r<=0&&(r=1/0);for(var i="",o=[],s=t.measureText("...").width,a=0;a<e.length;a++){i+=e[a];var l=t.measureText(i).width,u=n(o);if(r===o.length+1&&(l+=s),u<0)return o;if(l>u&&(o.push(i.slice(0,-1)),i=e[a]),r===o.length)return o[o.length-1]+="...",o}return i&&o.push(i),o.length||o.push(e),o},ja=function(){function t(){this.subs=[]}return t.prototype.addSub=function(e){this.subs.includes(e)||this.subs.push(e)},t.prototype.notify=function(){this.subs.forEach(function(e){e.update()})},t}(),z_e="__proto__"in{};function e3(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var ZF=Array.prototype,kp=Object.create(ZF);["push","pop","shift","unshift","sort","splice","reverse"].forEach(function(t){kp[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ZF[t].apply(this,e),i=this.__luckyOb__;return["push","unshift","splice"].includes(t)&&i.walk(this),i.dep.notify(),r}});var j_e=function(){function t(e){this.dep=new ja,e3(e,"__luckyOb__",this),Array.isArray(e)&&(z_e?e.__proto__=kp:Object.getOwnPropertyNames(kp).forEach(function(n){e3(e,n,kp[n])})),this.walk(e)}return t.prototype.walk=function(e){Object.keys(e).forEach(function(n){JF(e,n,e[n])})},t}();function t3(t){if(t&&typeof t=="object")return"__luckyOb__"in t?t.__luckyOb__:new j_e(t)}function JF(t,e,n){var r=new ja,i=Object.getOwnPropertyDescriptor(t,e);if(!i||i.configurable!==!1){var o=i&&i.get,s=i&&i.set;o&&!s||arguments.length!==2||(n=t[e]);var a=t3(n);Object.defineProperty(t,e,{get:function(){var l=o?o.call(t):n;return ja.target&&(r.addSub(ja.target),a&&a.dep.addSub(ja.target)),l},set:function(l){l!==n&&(n=l,o&&!s||(s?s.call(t,l):n=l,a=t3(l),r.notify()))}})}}var W_e=0,Y_e=function(){function t(e,n,r,i){i===void 0&&(i={}),this.id=W_e++,this.$lucky=e,this.expr=n,this.deep=!!i.deep,this.getter=typeof n=="function"?n:function(o){o+=".";for(var s=[],a="",l=0;l<o.length;l++){var u=o[l];if(/\[|\./.test(u))s.push(a),a="";else{if(/\W/.test(u))continue;a+=u}}return function(c){return s.reduce(function(f,d){return f[d]},c)}}(n),this.cb=r,this.value=this.get()}return t.prototype.get=function(){ja.target=this;var e=this.getter.call(this.$lucky,this.$lucky);return this.deep&&function(n){var r=function(i){md(i,"array","object")&&Object.keys(i).forEach(function(o){var s=i[o];r(s)})};r(n)}(e),ja.target=null,e},t.prototype.update=function(){var e=this.get(),n=this.value;this.value=e,this.cb.call(this.$lucky,e,n)},t}(),VE=function(){function t(e,n){var r=this;this.version="1.7.21",this.htmlFontSize=16,this.rAF=function(){},this.boxWidth=0,this.boxHeight=0,typeof e=="string"?e={el:e}:e.nodeType===1&&(e={el:"",divElement:e}),e=e,this.config=e,this.data=n,e.flag||(e.flag="WEB"),e.el&&(e.divElement=document.querySelector(e.el)),e.divElement&&(e.canvasElement=document.createElement("canvas"),e.divElement.appendChild(e.canvasElement)),e.canvasElement&&(e.ctx=e.canvasElement.getContext("2d"),e.canvasElement.setAttribute("package","lucky-canvas@1.7.21"),e.canvasElement.addEventListener("click",function(i){return r.handleClick(i)})),this.ctx=e.ctx,this.initWindowFunction(),this.config.ctx||console.error("无法获取到 CanvasContext2D"),window&&typeof window.addEventListener=="function"&&window.addEventListener("resize",function(i,o){o===void 0&&(o=300);var s=null;return function(){for(var a=this,l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];s||(s=setTimeout(function(){i.apply(a,l),clearTimeout(s),s=null},o))}}(function(){return r.resize()},300)),window&&typeof window.MutationObserver=="function"&&new window.MutationObserver(function(){r.resize()}).observe(document.documentElement,{attributes:!0})}return t.prototype.resize=function(){var e,n;(n=(e=this.config).beforeResize)===null||n===void 0||n.call(e),this.setHTMLFontSize(),this.setDpr(),this.resetWidthAndHeight(),this.zoomCanvas()},t.prototype.initLucky=function(){if(this.resize(),!this.boxWidth||!this.boxHeight)return console.error("无法获取到宽度或高度")},t.prototype.handleClick=function(e){},t.prototype.setHTMLFontSize=function(){window&&(this.htmlFontSize=+window.getComputedStyle(document.documentElement).fontSize.slice(0,-2))},t.prototype.clearCanvas=function(){var e=[this.boxWidth,this.boxHeight],n=e[0],r=e[1];this.ctx.clearRect(-n,-r,2*n,2*r)},t.prototype.setDpr=function(){var e=this.config;e.dpr||(window?window.dpr=e.dpr=window.devicePixelRatio||1:e.dpr||console.error(e,"未传入 dpr 可能会导致绘制异常"))},t.prototype.resetWidthAndHeight=function(){var e=this.config,n=this.data,r=0,i=0;e.divElement&&(r=e.divElement.offsetWidth,i=e.divElement.offsetHeight),this.boxWidth=this.getLength(n.width||e.width)||r,this.boxHeight=this.getLength(n.height||e.height)||i,e.divElement&&(e.divElement.style.overflow="hidden",e.divElement.style.width=this.boxWidth+"px",e.divElement.style.height=this.boxHeight+"px")},t.prototype.zoomCanvas=function(){var e=this.config,n=this.ctx,r=e.canvasElement,i=e.dpr,o=[this.boxWidth*i,this.boxHeight*i],s=o[0],a=o[1];r&&(r.width=s,r.height=a,r.style.width=s+"px",r.style.height=a+"px",r.style["transform-origin"]="left top",r.style.transform="scale("+1/i+")",n.scale(i,i))},t.prototype.initWindowFunction=function(){var e=this.config;if(window)return this.rAF=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(r){window.setTimeout(r,1e3/60)},e.setTimeout=window.setTimeout,e.setInterval=window.setInterval,e.clearTimeout=window.clearTimeout,void(e.clearInterval=window.clearInterval);if(e.rAF)this.rAF=e.rAF;else if(e.setTimeout){var n=e.setTimeout;this.rAF=function(r){return n(r,16.7)}}else this.rAF=function(r){return setTimeout(r,16.7)}},t.prototype.loadImg=function(e,n,r){var i=this;return r===void 0&&(r="$resolve"),new Promise(function(o,s){if(e||s("=> '"+n.src+"' 不能为空或不合法"),i.config.flag!=="WEB")return n[r]=o,void(n.$reject=s);var a=new Image;a.onload=function(){return o(a)},a.onerror=function(){return s("=> '"+n.src+"' 图片加载失败")},a.src=e})},t.prototype.drawImage=function(e,n){for(var r,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=this.config,a=s.flag,l=s.dpr;if(["WEB","MP-WX"].includes(a))r=n;else{if(!["UNI-H5","UNI-MP","TARO-H5","TARO-MP"].includes(a))return console.error("意料之外的 flag, 该平台尚未兼容!");r=n.path}if(!r.canvas)return i.length===8&&(i=i.map(function(f,d){return d<4?f*l:f})),e.drawImage.apply(e,pu([r],i));var u=r.canvas.getContext("2d");i=i.map(function(f){return f*l});var c=u.getImageData.apply(u,i.slice(0,4));e.putImageData.apply(e,pu([c],i.slice(4,6)))},t.prototype.computedWidthAndHeight=function(e,n,r,i){if(!n.width&&!n.height)return[e.width,e.height];if(n.width&&!n.height){var o=this.getLength(n.width,r);return[o,e.height*(o/e.width)]}if(!n.width&&n.height){var s=this.getLength(n.height,i);return[e.width*(s/e.height),s]}return[this.getLength(n.width,r),this.getLength(n.height,i)]},t.prototype.changeUnits=function(e,n){var r=this;n===void 0&&(n=1);var i=this.config;return Number(e.replace(/^([-]*[0-9.]*)([a-z%]*)$/,function(o,s,a){var l={"%":function(c){return c*(n/100)},px:function(c){return 1*c},rem:function(c){return c*r.htmlFontSize},vw:function(c){return c/100*window.innerWidth}}[a];if(l)return l(s);var u=i.handleCssUnit||i.unitFunc;return u?u(s,a):s}))},t.prototype.getLength=function(e,n){return md(e,"number")?e:md(e,"string")?this.changeUnits(e,n):0},t.prototype.getOffsetX=function(e,n){return n===void 0&&(n=0),(n-e)/2},t.prototype.getOffscreenCanvas=function(e,n){if(!Qu(this,"_offscreenCanvas")&&(window&&window.document&&this.config.flag==="WEB"?this._offscreenCanvas=document.createElement("canvas"):this._offscreenCanvas=this.config.offscreenCanvas,!this._offscreenCanvas))return console.error("离屏 Canvas 无法渲染!");var r=this.config.dpr,i=this._offscreenCanvas;i.width=(e||300)*r,i.height=(n||150)*r;var o=i.getContext("2d");return o.clearRect(0,0,e,n),o.scale(r,r),o.dpr=r,{_offscreenCanvas:i,_ctx:o}},t.prototype.$set=function(e,n,r){e&&typeof e=="object"&&JF(e,n,r)},t.prototype.$computed=function(e,n,r){var i=this;Object.defineProperty(e,n,{get:function(){return r.call(i)}})},t.prototype.$watch=function(e,n,r){r===void 0&&(r={}),typeof n=="object"&&(n=(r=n).handler);var i=new Y_e(this,e,n,r);return r.immediate&&n.call(this,i.value),function(){}},t.version="1.7.21",t}(),Ea=function(t){return Math.PI/180*t},O0=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=Math.min(o,s),u=Math.PI;a>l/2&&(a=l/2),t.beginPath(),t.moveTo(r+a,i),t.lineTo(r+a,i),t.lineTo(r+o-a,i),t.arc(r+o-a,i+a,a,-u/2,0),t.lineTo(r+o,i+s-a),t.arc(r+o-a,i+s-a,a,0,u/2),t.lineTo(r+a,i+s),t.arc(r+a,i+s-a,a,u/2,u),t.lineTo(r,i+a),t.arc(r+a,i+a,a,u,-u/2),t.closePath()},zE=function(t,e,n,r){return t>=r&&(t=r),n*(t/=r)*t+e},ec=function(t,e,n,r){return t>=r&&(t=r),-n*(t/=r)*(t-2)+e},X_e=function(t){function e(n,r){var i,o=t.call(this,n,{width:r.width,height:r.height})||this;return o.blocks=[],o.prizes=[],o.buttons=[],o.defaultConfig={},o.defaultStyle={},o._defaultConfig={},o._defaultStyle={},o.Radius=0,o.prizeRadius=0,o.prizeDeg=0,o.prizeAng=0,o.rotateDeg=0,o.maxBtnRadius=0,o.startTime=0,o.endTime=0,o.stopDeg=0,o.endDeg=0,o.FPS=16.6,o.step=0,o.ImageCache=new Map,o.initData(r),o.initWatch(),o.initComputed(),(i=n.beforeCreate)===null||i===void 0||i.call(o),o.init(),o}return UE(e,t),e.prototype.resize=function(){var n,r;t.prototype.resize.call(this),this.Radius=Math.min(this.boxWidth,this.boxHeight)/2,this.ctx.translate(this.Radius,this.Radius),this.draw(),(r=(n=this.config).afterResize)===null||r===void 0||r.call(n)},e.prototype.initLucky=function(){this.Radius=0,this.prizeRadius=0,this.prizeDeg=0,this.prizeAng=0,this.rotateDeg=0,this.maxBtnRadius=0,this.startTime=0,this.endTime=0,this.stopDeg=0,this.endDeg=0,this.FPS=16.6,this.prizeFlag=-1,this.step=0,t.prototype.initLucky.call(this)},e.prototype.initData=function(n){this.$set(this,"width",n.width||"300px"),this.$set(this,"height",n.height||"300px"),this.$set(this,"blocks",n.blocks||[]),this.$set(this,"prizes",n.prizes||[]),this.$set(this,"buttons",n.buttons||[]),this.$set(this,"defaultConfig",n.defaultConfig||{}),this.$set(this,"defaultStyle",n.defaultStyle||{}),this.$set(this,"startCallback",n.start),this.$set(this,"endCallback",n.end)},e.prototype.initComputed=function(){var n=this;this.$computed(this,"_defaultConfig",function(){return Zo({gutter:"0px",offsetDegree:0,speed:20,speedFunction:"quad",accelerationTime:2500,decelerationTime:2500,stopRange:0},n.defaultConfig)}),this.$computed(this,"_defaultStyle",function(){return Zo({fontSize:"18px",fontColor:"#000",fontStyle:"sans-serif",fontWeight:"400",background:"rgba(0,0,0,0)",wordWrap:!0,lengthLimit:"90%"},n.defaultStyle)})},e.prototype.initWatch=function(){var n=this;this.$watch("width",function(r){n.data.width=r,n.resize()}),this.$watch("height",function(r){n.data.height=r,n.resize()}),this.$watch("blocks",function(r){n.initImageCache()},{deep:!0}),this.$watch("prizes",function(r){n.initImageCache()},{deep:!0}),this.$watch("buttons",function(r){n.initImageCache()},{deep:!0}),this.$watch("defaultConfig",function(){return n.draw()},{deep:!0}),this.$watch("defaultStyle",function(){return n.draw()},{deep:!0}),this.$watch("startCallback",function(){return n.init()}),this.$watch("endCallback",function(){return n.init()})},e.prototype.init=function(){var n,r;return Jo(this,void 0,void 0,function(){var i;return Qo(this,function(o){switch(o.label){case 0:return this.initLucky(),i=this.config,(n=i.beforeInit)===null||n===void 0||n.call(this),this.draw(),this.draw(),[4,this.initImageCache()];case 1:return o.sent(),(r=i.afterInit)===null||r===void 0||r.call(this),[2]}})})},e.prototype.initImageCache=function(){var n=this;return new Promise(function(r){var i={blocks:n.blocks.map(function(o){return o.imgs}),prizes:n.prizes.map(function(o){return o.imgs}),buttons:n.buttons.map(function(o){return o.imgs})};Object.keys(i).forEach(function(o){var s=i[o],a=[];s&&s.forEach(function(l,u){l&&l.forEach(function(c,f){a.push(n.loadAndCacheImg(o,u,f))})}),Promise.all(a).then(function(){n.draw(),r()})})})},e.prototype.handleClick=function(n){var r,i=this.ctx;i.beginPath(),i.arc(0,0,this.maxBtnRadius,0,2*Math.PI,!1),i.isPointInPath(n.offsetX,n.offsetY)&&this.step===0&&((r=this.startCallback)===null||r===void 0||r.call(this,n))},e.prototype.loadAndCacheImg=function(n,r,i){return Jo(this,void 0,void 0,function(){var o=this;return Qo(this,function(s){return[2,new Promise(function(a,l){var u=o[n][r];if(u&&u.imgs){var c=u.imgs[i];c&&o.loadImg(c.src,c).then(function(f){return Jo(o,void 0,void 0,function(){return Qo(this,function(d){switch(d.label){case 0:return typeof c.formatter!="function"?[3,2]:[4,Promise.resolve(c.formatter.call(this,f))];case 1:f=d.sent(),d.label=2;case 2:return this.ImageCache.set(c.src,f),a(),[2]}})})}).catch(function(f){console.error(n+"["+r+"].imgs["+i+"] "+f),l()})}})]})})},e.prototype.drawBlock=function(n,r,i){var o=this,s=this.ctx;Ls(r.background)&&(s.beginPath(),s.fillStyle=r.background,s.arc(0,0,n,0,2*Math.PI,!1),s.fill()),r.imgs&&r.imgs.forEach(function(a,l){var u=o.ImageCache.get(a.src);if(u){var c=o.computedWidthAndHeight(u,a,2*n,2*n),f=c[0],d=c[1],h=[o.getOffsetX(f)+o.getLength(a.left,2*n),o.getLength(a.top,2*n)-n],p=h[0],y=h[1];s.save(),a.rotate&&s.rotate(Ea(o.rotateDeg)),o.drawImage(s,u,p,y,f,d),s.restore()}})},e.prototype.draw=function(){var n,r,i=this,o=this,s=o.config,a=o.ctx,l=o._defaultConfig,u=o._defaultStyle;(n=s.beforeDraw)===null||n===void 0||n.call(this,a),a.clearRect(-this.Radius,-this.Radius,2*this.Radius,2*this.Radius),this.prizeRadius=this.blocks.reduce(function(p,y,v){return i.drawBlock(p,y,v),p-i.getLength(y.padding&&y.padding.split(" ")[0])},this.Radius),this.prizeDeg=360/this.prizes.length,this.prizeAng=Ea(this.prizeDeg);var c=this.prizeRadius*Math.sin(this.prizeAng/2)*2,f=Ea(this.rotateDeg-90+this.prizeDeg/2+l.offsetDegree),d=function(p,y){return i.getOffsetX(a.measureText(y).width)+i.getLength(p.left,c)},h=function(p,y,v){var g=p.lineHeight||u.lineHeight||p.fontSize||u.fontSize;return i.getLength(p.top,y)+(v+1)*i.getLength(g)};a.save(),this.prizes.forEach(function(p,y){var v=f+y*i.prizeAng,g=i.prizeRadius-i.maxBtnRadius,m=p.background||u.background;Ls(m)&&(a.fillStyle=m,function(x,w,E,S,P,C){x.beginPath();var A,T,R=Ea(90/Math.PI/E*C),N=S+R,G=P-R;x.arc(0,0,E,N,G,!1),x.lineTo.apply(x,(A=(S+P)/2,T=C/2/Math.abs(Math.sin((S-P)/2)),[+(Math.cos(A)*T).toFixed(8),+(Math.sin(A)*T).toFixed(8)])),x.closePath()}(a,i.maxBtnRadius,i.prizeRadius,v-i.prizeAng/2,v+i.prizeAng/2,i.getLength(l.gutter)),a.fill());var _=Math.cos(v)*i.prizeRadius,b=Math.sin(v)*i.prizeRadius;a.translate(_,b),a.rotate(v+Ea(90)),p.imgs&&p.imgs.forEach(function(x,w){var E=i.ImageCache.get(x.src);if(E){var S=i.computedWidthAndHeight(E,x,i.prizeAng*i.prizeRadius,g),P=S[0],C=S[1],A=[i.getOffsetX(P)+i.getLength(x.left,c),i.getLength(x.top,g)],T=A[0],R=A[1];i.drawImage(a,E,T,R,P,C)}}),p.fonts&&p.fonts.forEach(function(x){var w=x.fontColor||u.fontColor,E=x.fontWeight||u.fontWeight,S=i.getLength(x.fontSize||u.fontSize),P=x.fontStyle||u.fontStyle,C=Qu(x,"wordWrap")?x.wordWrap:u.wordWrap,A=x.lengthLimit||u.lengthLimit,T=x.lineClamp||u.lineClamp;a.fillStyle=w,a.font=E+" "+(S>>0)+"px "+P;var R=String(x.text);(C?HE(a,GE(R),function(N){var G=(i.prizeRadius-h(x,g,N.length))*Math.tan(i.prizeAng/2)*2-i.getLength(l.gutter);return i.getLength(A,G)},T):R.split(`
`)).filter(function(N){return!!N}).forEach(function(N,G){a.fillText(N,d(x,N),h(x,g,G))})}),a.rotate(Ea(360)-v-Ea(90)),a.translate(-_,-b)}),a.restore(),this.buttons.forEach(function(p,y){var v=i.getLength(p.radius,i.prizeRadius);i.maxBtnRadius=Math.max(i.maxBtnRadius,v),Ls(p.background)&&(a.beginPath(),a.fillStyle=p.background,a.arc(0,0,v,0,2*Math.PI,!1),a.fill()),p.pointer&&Ls(p.background)&&(a.beginPath(),a.fillStyle=p.background,a.moveTo(-v,0),a.lineTo(v,0),a.lineTo(0,2*-v),a.closePath(),a.fill()),p.imgs&&p.imgs.forEach(function(g,m){var _=i.ImageCache.get(g.src);if(_){var b=i.computedWidthAndHeight(_,g,2*v,2*v),x=b[0],w=b[1],E=[i.getOffsetX(x)+i.getLength(g.left,v),i.getLength(g.top,v)],S=E[0],P=E[1];i.drawImage(a,_,S,P,x,w)}}),p.fonts&&p.fonts.forEach(function(g){var m=g.fontColor||u.fontColor,_=g.fontWeight||u.fontWeight,b=i.getLength(g.fontSize||u.fontSize),x=g.fontStyle||u.fontStyle;a.fillStyle=m,a.font=_+" "+(b>>0)+"px "+x,String(g.text).split(`
`).forEach(function(w,E){a.fillText(w,d(g,w),h(g,v,E))})})}),(r=s.afterDraw)===null||r===void 0||r.call(this,a)},e.prototype.carveOnGunwaleOfAMovingBoat=function(){var n=this,r=n._defaultConfig,i=n.prizeFlag,o=n.prizeDeg,s=n.rotateDeg;this.endTime=Date.now();for(var a=this.stopDeg=s,l=r.speed,u=(Math.random()*o-o/2)*this.getLength(r.stopRange),c=0,f=0,d=0;++c;){var h=360*c-i*o-s-r.offsetDegree+u-o/2,p=ec(this.FPS,a,h,r.decelerationTime)-a;if(p>l){this.endDeg=l-f>p-l?h:d;break}d=h,f=p}},e.prototype.play=function(){var n,r;this.step===0&&(this.startTime=Date.now(),this.prizeFlag=void 0,this.step=1,(r=(n=this.config).afterStart)===null||r===void 0||r.call(n),this.run())},e.prototype.stop=function(n){if(this.step!==0&&this.step!==3){if(!n&&n!==0){var r=this.prizes.map(function(i){return i.range});n=qF(r)}n<0?(this.step=0,this.prizeFlag=-1):(this.step=2,this.prizeFlag=n%this.prizes.length)}},e.prototype.run=function(n){var r;n===void 0&&(n=0);var i=this,o=i.rAF,s=i.step,a=i.prizeFlag,l=i._defaultConfig,u=l.accelerationTime,c=l.decelerationTime,f=l.speed;if(s!==0){if(a!==-1){s!==3||this.endDeg||this.carveOnGunwaleOfAMovingBoat();var d=Date.now()-this.startTime,h=Date.now()-this.endTime,p=this.rotateDeg;if(s===1||d<u){this.FPS=d/n;var y=zE(d,0,f,u);y===f&&(this.step=2),p+=y%360}else s===2?(p+=f%360,a!==void 0&&a>=0&&(this.step=3,this.stopDeg=0,this.endDeg=0)):s===3?(p=ec(h,this.stopDeg,this.endDeg,c),h>=c&&(this.step=0)):this.stop(-1);this.rotateDeg=p,this.draw(),o(this.run.bind(this,n+1))}}else(r=this.endCallback)===null||r===void 0||r.call(this,this.prizes.find(function(v,g){return g===a})||{})},e.prototype.conversionAxis=function(n,r){var i=this.config;return[n/i.dpr-this.Radius,r/i.dpr-this.Radius]},e}(VE),K_e=function(t){function e(n,r){var i,o=t.call(this,n,{width:r.width,height:r.height})||this;return o.rows=3,o.cols=3,o.blocks=[],o.prizes=[],o.buttons=[],o.defaultConfig={},o.defaultStyle={},o.activeStyle={},o._defaultConfig={},o._defaultStyle={},o._activeStyle={},o.cellWidth=0,o.cellHeight=0,o.startTime=0,o.endTime=0,o.currIndex=0,o.stopIndex=0,o.endIndex=0,o.demo=!1,o.timer=0,o.FPS=16.6,o.step=0,o.prizeFlag=-1,o.cells=[],o.ImageCache=new Map,o.initData(r),o.initWatch(),o.initComputed(),(i=n.beforeCreate)===null||i===void 0||i.call(o),o.init(),o}return UE(e,t),e.prototype.resize=function(){var n,r;t.prototype.resize.call(this),this.draw(),(r=(n=this.config).afterResize)===null||r===void 0||r.call(n)},e.prototype.initLucky=function(){this.cellWidth=0,this.cellHeight=0,this.startTime=0,this.endTime=0,this.currIndex=0,this.stopIndex=0,this.endIndex=0,this.demo=!1,this.timer=0,this.FPS=16.6,this.prizeFlag=-1,this.step=0,t.prototype.initLucky.call(this)},e.prototype.initData=function(n){this.$set(this,"width",n.width||"300px"),this.$set(this,"height",n.height||"300px"),this.$set(this,"rows",Number(n.rows)||3),this.$set(this,"cols",Number(n.cols)||3),this.$set(this,"blocks",n.blocks||[]),this.$set(this,"prizes",n.prizes||[]),this.$set(this,"buttons",n.buttons||[]),this.$set(this,"button",n.button),this.$set(this,"defaultConfig",n.defaultConfig||{}),this.$set(this,"defaultStyle",n.defaultStyle||{}),this.$set(this,"activeStyle",n.activeStyle||{}),this.$set(this,"startCallback",n.start),this.$set(this,"endCallback",n.end)},e.prototype.initComputed=function(){var n=this;this.$computed(this,"_defaultConfig",function(){var r=Zo({gutter:5,speed:20,accelerationTime:2500,decelerationTime:2500},n.defaultConfig);return r.gutter=n.getLength(r.gutter),r.speed=r.speed/40,r}),this.$computed(this,"_defaultStyle",function(){return Zo({borderRadius:20,fontColor:"#000",fontSize:"18px",fontStyle:"sans-serif",fontWeight:"400",background:"rgba(0,0,0,0)",shadow:"",wordWrap:!0,lengthLimit:"90%"},n.defaultStyle)}),this.$computed(this,"_activeStyle",function(){return Zo({background:"#ffce98",shadow:""},n.activeStyle)})},e.prototype.initWatch=function(){var n=this;this.$watch("width",function(r){n.data.width=r,n.resize()}),this.$watch("height",function(r){n.data.height=r,n.resize()}),this.$watch("blocks",function(r){n.initImageCache()},{deep:!0}),this.$watch("prizes",function(r){n.initImageCache()},{deep:!0}),this.$watch("buttons",function(r){n.initImageCache()},{deep:!0}),this.$watch("rows",function(){return n.init()}),this.$watch("cols",function(){return n.init()}),this.$watch("defaultConfig",function(){return n.draw()},{deep:!0}),this.$watch("defaultStyle",function(){return n.draw()},{deep:!0}),this.$watch("activeStyle",function(){return n.draw()},{deep:!0}),this.$watch("startCallback",function(){return n.init()}),this.$watch("endCallback",function(){return n.init()})},e.prototype.init=function(){var n,r;return Jo(this,void 0,void 0,function(){var i;return Qo(this,function(o){switch(o.label){case 0:return this.initLucky(),i=this.config,(n=i.beforeInit)===null||n===void 0||n.call(this),this.draw(),[4,this.initImageCache()];case 1:return o.sent(),(r=i.afterInit)===null||r===void 0||r.call(this),[2]}})})},e.prototype.initImageCache=function(){var n=this;return new Promise(function(r){var i=n.buttons.map(function(s){return s.imgs});n.button&&i.push(n.button.imgs);var o={blocks:n.blocks.map(function(s){return s.imgs}),prizes:n.prizes.map(function(s){return s.imgs}),buttons:i};Object.keys(o).forEach(function(s){var a=o[s],l=[];a&&a.forEach(function(u,c){u&&u.forEach(function(f,d){l.push(n.loadAndCacheImg(s,c,d))})}),Promise.all(l).then(function(){n.draw(),r()})})})},e.prototype.handleClick=function(n){var r=this,i=this.ctx;pu(pu([],this.buttons),[this.button]).forEach(function(o){var s;if(o){var a=r.getGeometricProperty([o.x,o.y,o.col||1,o.row||1]),l=a[0],u=a[1],c=a[2],f=a[3];i.beginPath(),i.rect(l,u,c,f),i.isPointInPath(n.offsetX,n.offsetY)&&r.step===0&&(typeof o.callback=="function"&&o.callback.call(r,o),(s=r.startCallback)===null||s===void 0||s.call(r,n,o))}})},e.prototype.loadAndCacheImg=function(n,r,i){return Jo(this,void 0,void 0,function(){var o=this;return Qo(this,function(s){return[2,new Promise(function(a,l){var u=o[n][r];if(n==="buttons"&&!o.buttons.length&&o.button&&(u=o.button),u&&u.imgs){var c=u.imgs[i];if(c){var f=[o.loadImg(c.src,c),c.activeSrc&&o.loadImg(c.activeSrc,c,"$activeResolve")];Promise.all(f).then(function(d){var h=d[0],p=d[1];return Jo(o,void 0,void 0,function(){var y;return Qo(this,function(v){switch(v.label){case 0:return typeof(y=c.formatter)!="function"?[3,3]:[4,Promise.resolve(y.call(this,h))];case 1:return h=v.sent(),p?[4,Promise.resolve(y.call(this,p))]:[3,3];case 2:p=v.sent(),v.label=3;case 3:return this.ImageCache.set(c.src,h),p&&this.ImageCache.set(c.activeSrc,p),a(),[2]}})})}).catch(function(d){console.error(n+"["+r+"].imgs["+i+"] "+d),l()})}}})]})})},e.prototype.draw=function(){var n,r,i=this,o=this,s=o.config,a=o.ctx,l=o._defaultConfig,u=o._defaultStyle,c=o._activeStyle;(n=s.beforeDraw)===null||n===void 0||n.call(this,a),a.clearRect(0,0,this.boxWidth,this.boxHeight),this.cells=pu(pu([],this.prizes),this.buttons),this.button&&this.cells.push(this.button),this.cells.forEach(function(f){f.col=f.col||1,f.row=f.row||1}),this.prizeArea=this.blocks.reduce(function(f,d,h){var p=f.x,y=f.y,v=f.w,g=f.h,m=KF(d,i.getLength.bind(i)),_=m[0],b=m[1],x=m[2],w=m[3],E=d.borderRadius?i.getLength(d.borderRadius):0,S=d.background;return Ls(S)&&(a.fillStyle=i.handleBackground(p,y,v,g,S),O0(a,p,y,v,g,E),a.fill()),d.imgs&&d.imgs.forEach(function(P,C){var A=i.ImageCache.get(P.src);if(A){var T=i.computedWidthAndHeight(A,P,v,g),R=T[0],N=T[1],G=[i.getOffsetX(R,v)+i.getLength(P.left,v),i.getLength(P.top,g)],k=G[0],U=G[1];i.drawImage(a,A,p+k,y+U,R,N)}}),{x:p+x,y:y+_,w:v-x-w,h:g-_-b}},{x:0,y:0,w:this.boxWidth,h:this.boxHeight}),this.cellWidth=(this.prizeArea.w-l.gutter*(this.cols-1))/this.cols,this.cellHeight=(this.prizeArea.h-l.gutter*(this.rows-1))/this.rows,this.cells.forEach(function(f,d){var h=i.getGeometricProperty([f.x,f.y,f.col,f.row]),p=h[0],y=h[1],v=h[2],g=h[3],m=!1;(i.prizeFlag===void 0||i.prizeFlag>-1)&&(m=d===i.currIndex%i.prizes.length>>0);var _=m?c.background:f.background||u.background;if(Ls(_)){var b=(m?c.shadow:f.shadow||u.shadow).replace(/px/g,"").split(",")[0].split(" ").map(function(w,E){return E<3?Number(w):w});b.length===4&&(a.shadowColor=b[3],a.shadowOffsetX=b[0]*s.dpr,a.shadowOffsetY=b[1]*s.dpr,a.shadowBlur=b[2],b[0]>0?v-=b[0]:(v+=b[0],p-=b[0]),b[1]>0?g-=b[1]:(g+=b[1],y-=b[1])),a.fillStyle=i.handleBackground(p,y,v,g,_);var x=i.getLength(f.borderRadius?f.borderRadius:u.borderRadius);O0(a,p,y,v,g,x),a.fill(),a.shadowColor="rgba(0, 0, 0, 0)",a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0}d>=i.prizes.length&&(d-=i.prizes.length),f.imgs&&f.imgs.forEach(function(w,E){var S=i.ImageCache.get(w.src),P=i.ImageCache.get(w.activeSrc);if(S){var C=m&&P||S;if(C){var A=i.computedWidthAndHeight(C,w,v,g),T=A[0],R=A[1],N=[p+i.getOffsetX(T,v)+i.getLength(w.left,v),y+i.getLength(w.top,g)],G=N[0],k=N[1];i.drawImage(a,C,G,k,T,R)}}}),f.fonts&&f.fonts.forEach(function(w){var E=m&&c.fontStyle?c.fontStyle:w.fontStyle||u.fontStyle,S=m&&c.fontWeight?c.fontWeight:w.fontWeight||u.fontWeight,P=m&&c.fontSize?i.getLength(c.fontSize):i.getLength(w.fontSize||u.fontSize),C=m&&c.lineHeight?c.lineHeight:w.lineHeight||u.lineHeight||w.fontSize||u.fontSize,A=Qu(w,"wordWrap")?w.wordWrap:u.wordWrap,T=w.lengthLimit||u.lengthLimit,R=w.lineClamp||u.lineClamp;a.font=S+" "+(P>>0)+"px "+E,a.fillStyle=m&&c.fontColor?c.fontColor:w.fontColor||u.fontColor;var N=[],G=String(w.text);if(A){var k=i.getLength(T,v);N=HE(a,GE(G),function(){return k},R)}else N=G.split(`
`);N.forEach(function(U,W){a.fillText(U,p+i.getOffsetX(a.measureText(U).width,v)+i.getLength(w.left,v),y+i.getLength(w.top,g)+(W+1)*i.getLength(C))})})}),(r=s.afterDraw)===null||r===void 0||r.call(this,a)},e.prototype.handleBackground=function(n,r,i,o,s){var a=this.ctx;return s.includes("linear-gradient")&&(s=function(l,u,c,f,d,h){var p=/linear-gradient\((.+)\)/.exec(h)[1].split(",").map(function(_){return _.trim()}),y=p.shift(),v=[0,0,0,0];if(y.includes("deg")){var g=function(_){return Math.tan(_/180*Math.PI)};(y=y.slice(0,-3)%360)>=0&&y<45?v=[u,c+d,u+f,c+d-f*g(y-0)]:y>=45&&y<90?v=[u,c+d,u+f-d*g(y-45),c]:y>=90&&y<135?v=[u+f,c+d,u+f-d*g(y-90),c]:y>=135&&y<180?v=[u+f,c+d,u,c+f*g(y-135)]:y>=180&&y<225?v=[u+f,c,u,c+f*g(y-180)]:y>=225&&y<270?v=[u+f,c,u+d*g(y-225),c+d]:y>=270&&y<315?v=[u,c,u+d*g(y-270),c+d]:y>=315&&y<360&&(v=[u,c,u+f,c+d-f*g(y-315)])}else y.includes("top")?v=[u,c+d,u,c]:y.includes("bottom")?v=[u,c,u,c+d]:y.includes("left")?v=[u+f,c,u,c]:y.includes("right")&&(v=[u,c,u+f,c]);var m=l.createLinearGradient.apply(l,v.map(function(_){return _>>0}));return p.reduce(function(_,b,x){var w=b.split(" ");return w.length===1?_.addColorStop(x,w[0]):w.length===2&&_.addColorStop.apply(_,w),_},m)}(a,n,r,i,o,s)),s},e.prototype.carveOnGunwaleOfAMovingBoat=function(){var n=this,r=n._defaultConfig,i=n.prizeFlag,o=n.currIndex;this.endTime=Date.now();for(var s=this.stopIndex=o,a=r.speed,l=0,u=0,c=0;++l;){var f=this.prizes.length*l+i-s,d=ec(this.FPS,s,f,r.decelerationTime)-s;if(d>a){this.endIndex=a-u>d-a?f:c;break}c=f,u=d}},e.prototype.play=function(){var n,r;this.step===0&&(this.startTime=Date.now(),this.prizeFlag=void 0,this.step=1,(r=(n=this.config).afterStart)===null||r===void 0||r.call(n),this.run())},e.prototype.stop=function(n){if(this.step!==0&&this.step!==3){if(!n&&n!==0){var r=this.prizes.map(function(i){return i.range});n=qF(r)}n<0?(this.step=0,this.prizeFlag=-1):(this.step=2,this.prizeFlag=n%this.prizes.length)}},e.prototype.run=function(n){var r;n===void 0&&(n=0);var i=this,o=i.rAF,s=i.step,a=i.prizes,l=i.prizeFlag,u=i._defaultConfig,c=u.accelerationTime,f=u.decelerationTime,d=u.speed;if(s!==0){if(l!==-1){s!==3||this.endIndex||this.carveOnGunwaleOfAMovingBoat();var h=Date.now()-this.startTime,p=Date.now()-this.endTime,y=this.currIndex;if(s===1||h<c){this.FPS=h/n;var v=zE(h,.1,d-.1,c);v===d&&(this.step=2),y+=v%a.length}else s===2?(y+=d%a.length,l!==void 0&&l>=0&&(this.step=3,this.stopIndex=0,this.endIndex=0)):s===3?(y=ec(p,this.stopIndex,this.endIndex,f),p>=f&&(this.step=0)):this.stop(-1);this.currIndex=y,this.draw(),o(this.run.bind(this,n+1))}}else(r=this.endCallback)===null||r===void 0||r.call(this,this.prizes.find(function(g,m){return m===l})||{})},e.prototype.getGeometricProperty=function(n){var r=n[0],i=n[1],o=n[2],s=o===void 0?1:o,a=n[3],l=a===void 0?1:a,u=this.cellWidth,c=this.cellHeight,f=this._defaultConfig.gutter,d=[this.prizeArea.x+(u+f)*r,this.prizeArea.y+(c+f)*i];return s&&l&&d.push(u*s+f*(s-1),c*l+f*(l-1)),d},e.prototype.conversionAxis=function(n,r){var i=this.config;return[n/i.dpr,r/i.dpr]},e}(VE),q_e=function(t){function e(n,r){var i,o=t.call(this,n,{width:r.width,height:r.height})||this;return o.blocks=[],o.prizes=[],o.slots=[],o.defaultConfig={},o._defaultConfig={},o.defaultStyle={},o._defaultStyle={},o.endCallback=function(){},o.cellWidth=0,o.cellHeight=0,o.cellAndSpacing=0,o.widthAndSpacing=0,o.heightAndSpacing=0,o.FPS=16.6,o.scroll=[],o.stopScroll=[],o.endScroll=[],o.startTime=0,o.endTime=0,o.step=0,o.prizeFlag=void 0,o.ImageCache=new Map,o.initData(r),o.initWatch(),o.initComputed(),(i=n.beforeCreate)===null||i===void 0||i.call(o),o.init(),o}return UE(e,t),e.prototype.resize=function(){var n,r;t.prototype.resize.call(this),this.draw(),(r=(n=this.config).afterResize)===null||r===void 0||r.call(n)},e.prototype.initLucky=function(){this.cellWidth=0,this.cellHeight=0,this.cellAndSpacing=0,this.widthAndSpacing=0,this.heightAndSpacing=0,this.FPS=16.6,this.scroll=[],this.stopScroll=[],this.endScroll=[],this.startTime=0,this.endTime=0,this.prizeFlag=void 0,this.step=0,t.prototype.initLucky.call(this)},e.prototype.initData=function(n){this.$set(this,"width",n.width||"300px"),this.$set(this,"height",n.height||"300px"),this.$set(this,"blocks",n.blocks||[]),this.$set(this,"prizes",n.prizes||[]),this.$set(this,"slots",n.slots||[]),this.$set(this,"defaultConfig",n.defaultConfig||{}),this.$set(this,"defaultStyle",n.defaultStyle||{}),this.$set(this,"endCallback",n.end)},e.prototype.initComputed=function(){var n=this;this.$computed(this,"_defaultConfig",function(){var r=Zo({mode:"vertical",rowSpacing:0,colSpacing:5,speed:20,direction:1,accelerationTime:2500,decelerationTime:2500},n.defaultConfig);return r.rowSpacing=n.getLength(r.rowSpacing),r.colSpacing=n.getLength(r.colSpacing),r}),this.$computed(this,"_defaultStyle",function(){return Zo({borderRadius:0,fontColor:"#000",fontSize:"18px",fontStyle:"sans-serif",fontWeight:"400",background:"rgba(0,0,0,0)",wordWrap:!0,lengthLimit:"90%"},n.defaultStyle)})},e.prototype.initWatch=function(){var n=this;this.$watch("width",function(r){n.data.width=r,n.resize()}),this.$watch("height",function(r){n.data.height=r,n.resize()}),this.$watch("blocks",function(r){n.initImageCache()},{deep:!0}),this.$watch("prizes",function(r){n.initImageCache()},{deep:!0}),this.$watch("slots",function(r){n.drawOffscreenCanvas(),n.draw()},{deep:!0}),this.$watch("defaultConfig",function(){return n.draw()},{deep:!0}),this.$watch("defaultStyle",function(){return n.draw()},{deep:!0}),this.$watch("endCallback",function(){return n.init()})},e.prototype.init=function(){var n,r;return Jo(this,void 0,void 0,function(){var i;return Qo(this,function(o){switch(o.label){case 0:return this.initLucky(),i=this.config,(n=i.beforeInit)===null||n===void 0||n.call(this),this.drawOffscreenCanvas(),this.draw(),[4,this.initImageCache()];case 1:return o.sent(),(r=i.afterInit)===null||r===void 0||r.call(this),[2]}})})},e.prototype.initImageCache=function(){var n=this;return new Promise(function(r){var i={blocks:n.blocks.map(function(o){return o.imgs}),prizes:n.prizes.map(function(o){return o.imgs})};Object.keys(i).forEach(function(o){var s=i[o],a=[];s&&s.forEach(function(l,u){l&&l.forEach(function(c,f){a.push(n.loadAndCacheImg(o,u,f))})}),Promise.all(a).then(function(){n.drawOffscreenCanvas(),n.draw(),r()})})})},e.prototype.loadAndCacheImg=function(n,r,i){return Jo(this,void 0,void 0,function(){var o=this;return Qo(this,function(s){return[2,new Promise(function(a,l){var u=o[n][r];if(u&&u.imgs){var c=u.imgs[i];c&&o.loadImg(c.src,c).then(function(f){return Jo(o,void 0,void 0,function(){return Qo(this,function(d){switch(d.label){case 0:return typeof c.formatter!="function"?[3,2]:[4,Promise.resolve(c.formatter.call(this,f))];case 1:f=d.sent(),d.label=2;case 2:return this.ImageCache.set(c.src,f),a(),[2]}})})}).catch(function(f){console.error(n+"["+r+"].imgs["+i+"] "+f),l()})}})]})})},e.prototype.drawOffscreenCanvas=function(){var n=this,r=this._defaultConfig,i=this._defaultStyle,o=this.drawBlocks(),s=o.w,a=o.h,l=this.prizes.length,u=this.displacementWidthOrHeight(),c=u.cellWidth,f=u.cellHeight,d=u.widthAndSpacing,h=u.heightAndSpacing,p=new Array(l).fill(void 0).map(function(b,x){return x}),y=0,v=0;this.slots.forEach(function(b,x){n.scroll[x]===void 0&&(n.scroll[x]=0),b.order=b.order||p;var w=b.order.length;y=Math.max(y,s+d*w),v=Math.max(v,a+h*w)});var g=this.getOffscreenCanvas(y,v),m=g._offscreenCanvas,_=g._ctx;this._offscreenCanvas=m,this.slots.forEach(function(b,x){var w=c*x,E=f*x,S=0,P=function(K,fe){for(var ce={},X=[],ie=0;ie<K.length;ie++)ce[ie]=K[ie];for(ie=0;ie<fe.length;ie++){var ge=ce[fe[ie]];ge&&(X[ie]=ge)}return X}(n.prizes,b.order);if(P.length){P.forEach(function(K,fe){if(K){b.order[fe];var ce=d*fe+r.colSpacing/2,X=h*fe+r.rowSpacing/2,ie=n.displacement([w,X,h],[ce,E,d]),ge=ie[0],F=ie[1],q=ie[2];S+=q;var L=K.background||i.background;if(Ls(L)){var ee=n.getLength(Qu(K,"borderRadius")?K.borderRadius:i.borderRadius);O0(_,ge,F,c,c,ee),_.fillStyle=L,_.fill()}K.imgs&&K.imgs.forEach(function(J,de){var pe=n.ImageCache.get(J.src);if(pe){var be=n.computedWidthAndHeight(pe,J,c,f),I=be[0],$=be[1],j=[ge+n.getOffsetX(I,c)+n.getLength(J.left,c),F+n.getLength(J.top,f)],ae=j[0],ue=j[1];n.drawImage(_,pe,ae,ue,I,$)}}),K.fonts&&K.fonts.forEach(function(J){var de=J.fontStyle||i.fontStyle,pe=J.fontWeight||i.fontWeight,be=n.getLength(J.fontSize||i.fontSize),I=J.lineHeight||i.lineHeight||J.fontSize||i.fontSize,$=Qu(J,"wordWrap")?J.wordWrap:i.wordWrap,j=J.lengthLimit||i.lengthLimit,ae=J.lineClamp||i.lineClamp;_.font=pe+" "+(be>>0)+"px "+de,_.fillStyle=J.fontColor||i.fontColor;var ue=[],M=String(J.text);if($){var B=n.getLength(j,c);ue=HE(_,GE(M),function(){return B},ae)}else ue=M.split(`
`);ue.forEach(function(H,Q){_.fillText(H,ge+n.getOffsetX(_.measureText(H).width,c)+n.getLength(J.left,c),F+n.getLength(J.top,f)+(Q+1)*n.getLength(I))})})}});for(var C=n.displacement([w,0,c,S],[0,E,S,f]),A=C[0],T=C[1],R=C[2],N=C[3],G=S;G<v+S;){var k=n.displacement([A,G],[G,T]),U=k[0],W=k[1];n.drawImage(_,m,A,T,R,N,U,W,R,N),G+=S}}})},e.prototype.drawBlocks=function(){var n=this,r=this;r.config;var i=r.ctx;r._defaultConfig;var o=r._defaultStyle;return this.prizeArea=this.blocks.reduce(function(s,a,l){var u=s.x,c=s.y,f=s.w,d=s.h,h=KF(a,n.getLength.bind(n)),p=h[0],y=h[1],v=h[2],g=h[3],m=a.borderRadius?n.getLength(a.borderRadius):0,_=a.background||o.background;return Ls(_)&&(O0(i,u,c,f,d,m),i.fillStyle=_,i.fill()),a.imgs&&a.imgs.forEach(function(b,x){var w=n.ImageCache.get(b.src);if(w){var E=n.computedWidthAndHeight(w,b,f,d),S=E[0],P=E[1],C=[n.getOffsetX(S,f)+n.getLength(b.left,f),n.getLength(b.top,d)],A=C[0],T=C[1];n.drawImage(i,w,u+A,c+T,S,P)}}),{x:u+v,y:c+p,w:f-v-g,h:d-p-y}},{x:0,y:0,w:this.boxWidth,h:this.boxHeight})},e.prototype.draw=function(){var n,r=this,i=this,o=i.config,s=i.ctx;i._defaultConfig,i._defaultStyle,(n=o.beforeDraw)===null||n===void 0||n.call(this,s),s.clearRect(0,0,this.boxWidth,this.boxHeight);var a=this.drawBlocks(),l=a.x,u=a.y,c=a.w,f=a.h;if(this._offscreenCanvas){var d=this,h=d.cellWidth,p=d.cellHeight,y=d.cellAndSpacing,v=d.widthAndSpacing,g=d.heightAndSpacing;this.slots.forEach(function(m,_){var b=y*m.order.length,x=r.displacement(-(f-g)/2,-(c-v)/2),w=r.scroll[_]+x;w<0&&(w=w%b+b),w>b&&(w%=b);var E=r.displacement([h*_,w,h,f],[w,p*_,c,p]),S=E[0],P=E[1],C=E[2],A=E[3],T=r.displacement([l+v*_,u,h,f],[l,u+g*_,c,p]),R=T[0],N=T[1],G=T[2],k=T[3];r.drawImage(s,r._offscreenCanvas,S,P,C,A,R,N,G,k)})}},e.prototype.carveOnGunwaleOfAMovingBoat=function(){var n=this,r=this,i=r._defaultConfig,o=r.prizeFlag,s=r.cellAndSpacing;this.endTime=Date.now(),this.slots.forEach(function(a,l){var u=a.order;if(u.length)for(var c=a.speed||i.speed,f=a.direction||i.direction,d=u.findIndex(function(m){return m===o[l]}),h=s*u.length,p=n.stopScroll[l]=n.scroll[l],y=0;++y;){var v=s*d+h*y*f-p,g=ec(n.FPS,p,v,i.decelerationTime)-p;if(Math.abs(g)>c){n.endScroll[l]=v;break}}})},e.prototype.play=function(){var n,r;this.step===0&&(this.startTime=Date.now(),this.prizeFlag=void 0,this.step=1,(r=(n=this.config).afterStart)===null||r===void 0||r.call(n),this.run())},e.prototype.stop=function(n){var r;if(this.step!==0&&this.step!==3){if(typeof n=="number")this.prizeFlag=new Array(this.slots.length).fill(n);else{if(!md(n,"array"))return this.stop(-1),console.error("stop() 无法识别的参数类型 "+typeof n);if(n.length!==this.slots.length)return this.stop(-1),console.error("stop(["+n+"]) 参数长度的不正确");this.prizeFlag=n}!((r=this.prizeFlag)===null||r===void 0)&&r.includes(-1)?(this.prizeFlag=[],this.step=0):this.step=2}},e.prototype.run=function(n){var r,i,o=this;n===void 0&&(n=0);var s=this,a=s.rAF,l=s.step,u=s.prizeFlag,c=s._defaultConfig,f=s.cellAndSpacing,d=s.slots,h=c.accelerationTime,p=c.decelerationTime;if(this.step!==0||(u==null?void 0:u.length)!==d.length){if(u===void 0||u.length){this.step!==3||this.endScroll.length||this.carveOnGunwaleOfAMovingBoat();var y=Date.now()-this.startTime,v=Date.now()-this.endTime;d.forEach(function(x,w){var E=x.order;if(E&&E.length){var S=f*E.length,P=Math.abs(x.speed||c.speed),C=x.direction||c.direction,A=0,T=o.scroll[w];if(l===1||y<h){o.FPS=y/n;var R=zE(y,0,P,h);R===P&&(o.step=2),A=(T+R*C)%S}else if(l===2)A=(T+P*C)%S,(u==null?void 0:u.length)===d.length&&(o.step=3,o.stopScroll=[],o.endScroll=[]);else if(l===3&&v){var N=o.stopScroll[w],G=o.endScroll[w];A=ec(v,N,G,p),v>=p&&(o.step=0)}o.scroll[w]=A}}),this.draw(),a(this.run.bind(this,n+1))}}else{for(var g=u[0],m=0;m<d.length;m++){var _=d[m],b=u[m];if(!(!((r=_.order)===null||r===void 0)&&r.includes(b))||g!==b){g=-1;break}}(i=this.endCallback)===null||i===void 0||i.call(this,this.prizes.find(function(x,w){return w===g})||void 0)}},e.prototype.displacement=function(n,r){return this._defaultConfig.mode==="horizontal"?r:n},e.prototype.displacementWidthOrHeight=function(){var n=this._defaultConfig.mode,r=this.slots.length,i=this._defaultConfig,o=i.colSpacing,s=i.rowSpacing,a=this.prizeArea||this.drawBlocks();a.x,a.y;var l,u,c=a.w,f=a.h,d=0,h=0;return n==="horizontal"?(h=this.cellHeight=(f-s*(r-1))/r,d=this.cellWidth=h):(d=this.cellWidth=(c-o*(r-1))/r,h=this.cellHeight=d),l=this.widthAndSpacing=this.cellWidth+o,u=this.heightAndSpacing=this.cellHeight+s,this.cellAndSpacing=n==="horizontal"?l:u,{cellWidth:d,cellHeight:h,widthAndSpacing:l,heightAndSpacing:u}},e}(VE),jE=function(t,e,n){e===void 0&&(e={});var r=e.props,i=e.domProps,o=e.on,s=function(u,c){var f={};for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&c.indexOf(d)<0&&(f[d]=u[d]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function"){var h=0;for(d=Object.getOwnPropertySymbols(u);h<d.length;h++)c.indexOf(d[h])<0&&Object.prototype.propertyIsEnumerable.call(u,d[h])&&(f[d[h]]=u[d[h]])}return f}(e,["props","domProps","on"]),a=function(u){return u?Object.entries(u).reduce(function(c,f){var d,h=f[0],p=f[1];return h="on"+(h=h.charAt(0).toUpperCase()+h.slice(1)),Er(Er({},c),((d={})[h]=p,d))},{}):null}(o),l=Er(Er(Er(Er({},s),r),i),a);return Mn(t,l,n)},WE="@lucky-canvas/vue",Z_e=we({name:"LuckyWheel",props:{width:{type:[String,Number]},height:{type:[String,Number]},blocks:{type:Array,default:function(){return[]}},prizes:{type:Array,default:function(){return[]}},buttons:{type:Array,default:function(){return[]}},defaultStyle:{type:Object,default:function(){return{}}},defaultConfig:{type:Object,default:function(){return{}}}},emits:["start","end","success","error","finally"],watch:{blocks:function(t,e){this.lucky&&(this.lucky.blocks=t)},prizes:function(t,e){this.lucky&&(this.lucky.prizes=t)},buttons:function(t,e){this.lucky&&(this.lucky.buttons=t)}},data:function(){return{lucky:null}},mounted:function(){this.$refs.myLucky&&this.$refs.myLucky.setAttribute("package",WE+"@0.1.11");try{this.initLucky(),this.$emit("success")}catch(t){this.$emit("error",t)}finally{this.$emit("finally")}},methods:{initLucky:function(){var t=this;this.lucky=new X_e({flag:"WEB",width:String(this.width),height:String(this.height),divElement:this.$refs.myLucky,rAF:window.requestAnimationFrame,setTimeout:window.setTimeout,setInterval:window.setInterval,clearTimeout:window.clearTimeout,clearInterval:window.clearInterval},Er(Er({},this.$props),{start:function(e){t.$emit("start",e)},end:function(e){t.$emit("end",e)}}))},init:function(){this.lucky&&this.lucky.init()},play:function(){var t;(t=this.lucky)===null||t===void 0||t.play()},stop:function(t){var e;(e=this.lucky)===null||e===void 0||e.stop(t)}},render:function(){return jE("div",{ref:"myLucky"})}}),J_e=we({name:"LuckyGrid",props:{width:{type:[String,Number]},height:{type:[String,Number]},cols:{type:[String,Number],default:3},rows:{type:[String,Number],default:3},blocks:{type:Array,default:function(){return[]}},prizes:{type:Array,default:function(){return[]}},buttons:{type:Array,default:function(){return[]}},button:{type:Object},defaultStyle:{type:Object,default:function(){return{}}},activeStyle:{type:Object,default:function(){return{}}},defaultConfig:{type:Object,default:function(){return{}}}},emits:["start","end","success","error","finally"],watch:{cols:function(t,e){this.lucky&&(this.lucky.cols=t)},rows:function(t,e){this.lucky&&(this.lucky.rows=t)},blocks:function(t,e){this.lucky&&(this.lucky.blocks=t)},prizes:function(t,e){this.lucky&&(this.lucky.prizes=t)},buttons:function(t,e){this.lucky&&(this.lucky.buttons=t)},button:function(t,e){this.lucky&&(this.lucky.button=t)}},data:function(){return{lucky:null}},mounted:function(){this.$refs.myLucky&&this.$refs.myLucky.setAttribute("package",WE+"@0.1.11");try{this.initLucky(),this.$emit("success")}catch(t){this.$emit("error",t)}finally{this.$emit("finally")}},methods:{initLucky:function(){var t=this;this.lucky=new K_e({flag:"WEB",width:String(this.width),height:String(this.height),divElement:this.$refs.myLucky,rAF:window.requestAnimationFrame,setTimeout:window.setTimeout,setInterval:window.setInterval,clearTimeout:window.clearTimeout,clearInterval:window.clearInterval},Er(Er({},this.$props),{start:function(e,n){t.$emit("start",e,n)},end:function(e){t.$emit("end",e)}}))},init:function(){this.lucky&&this.lucky.init()},play:function(){var t;(t=this.lucky)===null||t===void 0||t.play()},stop:function(t){var e;(e=this.lucky)===null||e===void 0||e.stop(t)}},render:function(){return jE("div",{ref:"myLucky"})}}),Q_e=we({name:"SlotMachine",props:{width:{type:[String,Number]},height:{type:[String,Number]},blocks:{type:Array,default:function(){return[]}},prizes:{type:Array,default:function(){return[]}},slots:{type:Array,default:function(){return[]}},defaultStyle:{type:Object,default:function(){return{}}},defaultConfig:{type:Object,default:function(){return{}}}},watch:{blocks:function(t,e){this.lucky&&(this.lucky.blocks=t)},slots:function(t,e){this.lucky&&(this.lucky.slots=t)},prizes:function(t,e){this.lucky&&(this.lucky.prizes=t)}},data:function(){return{lucky:null}},mounted:function(){this.$refs.myLucky&&this.$refs.myLucky.setAttribute("package",WE+"@0.1.11");try{this.initLucky(),this.$emit("success")}catch(t){this.$emit("error",t)}finally{this.$emit("finally")}},methods:{initLucky:function(){var t=this;this.lucky=new q_e({flag:"WEB",width:String(this.width),height:String(this.height),divElement:this.$refs.myLucky,rAF:window.requestAnimationFrame,setTimeout:window.setTimeout,setInterval:window.setInterval,clearTimeout:window.clearTimeout,clearInterval:window.clearInterval},Er(Er({},this.$props),{start:function(e){t.$emit("start",e)},end:function(e){t.$emit("end",e)}}))},init:function(){this.lucky&&this.lucky.init()},play:function(){var t;(t=this.lucky)===null||t===void 0||t.play()},stop:function(t){var e;(e=this.lucky)===null||e===void 0||e.stop(t)}},render:function(){return jE("div",{ref:"myLucky"})}}),ebe=function(t){t.component("LuckyWheel",Z_e),t.component("LuckyGrid",J_e),t.component("SlotMachine",Q_e)};typeof window<"u"&&window.Vue&&XF&&ebe(window.Vue);function tbe(t,e){var n=Object.setPrototypeOf;n?n(t,e):t.__proto__=e}function nbe(t,e){e===void 0&&(e=t.constructor);var n=Error.captureStackTrace;n&&n(t,e)}var rbe=function(){var t=function(n,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},t(n,r)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ibe=function(t){rbe(e,t);function e(n,r){var i=this.constructor,o=t.call(this,n,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1,configurable:!0}),tbe(o,i.prototype),nbe(o),o}return e}(Error),obe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Br=function(t){obe(e,t);function e(n){n===void 0&&(n=void 0);var r=t.call(this,n)||this;return r.message=n,r}return e.prototype.getKind=function(){var n=this.constructor;return n.kind},e.kind="Exception",e}(ibe),sbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rn=function(t){sbe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Br),abe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ke=function(t){abe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Br),QF=function(){function t(e){if(this.binarizer=e,e===null)throw new ke("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,n){return this.binarizer.getBlackRow(e,n)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,n,r,i){var o=this.binarizer.getLuminanceSource().crop(e,n,r,i);return new t(this.binarizer.createBinarizer(o))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),lbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fn=function(t){lbe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Br),ube=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),It=function(){function t(){}return t.arraycopy=function(e,n,r,i,o){for(;o--;)r[i++]=e[n++]},t.currentTimeMillis=function(){return Date.now()},t}(),cbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),YE=function(t){cbe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Br),fbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),n3=function(t){fbe(e,t);function e(n,r){n===void 0&&(n=void 0),r===void 0&&(r=void 0);var i=t.call(this,r)||this;return i.index=n,i.message=r,i}return e.kind="ArrayIndexOutOfBoundsException",e}(YE),dbe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xn=function(){function t(){}return t.fill=function(e,n){for(var r=0,i=e.length;r<i;r++)e[r]=n},t.fillWithin=function(e,n,r,i){t.rangeCheck(e.length,n,r);for(var o=n;o<r;o++)e[o]=i},t.rangeCheck=function(e,n,r){if(n>r)throw new ke("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new n3(n);if(r>e)throw new n3(r)},t.asList=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e},t.create=function(e,n,r){var i=Array.from({length:e});return i.map(function(o){return Array.from({length:n}).fill(r)})},t.createInt32Array=function(e,n,r){var i=Array.from({length:e});return i.map(function(o){return Int32Array.from({length:n}).fill(r)})},t.equals=function(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==n[r])return!1;return!0},t.hashCode=function(e){var n,r;if(e===null)return 0;var i=1;try{for(var o=dbe(e),s=o.next();!s.done;s=o.next()){var a=s.value;i=31*i+a}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},t.fillUint8Array=function(e,n){for(var r=0;r!==e.length;r++)e[r]=n},t.copyOf=function(e,n){return e.slice(0,n)},t.copyOfUint8Array=function(e,n){if(e.length<=n){var r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)},t.copyOfRange=function(e,n,r){var i=r-n,o=new Int32Array(i);return It.arraycopy(e,n,o,0,i),o},t.binarySearch=function(e,n,r){r===void 0&&(r=t.numberComparator);for(var i=0,o=e.length-1;i<=o;){var s=o+i>>1,a=r(n,e[s]);if(a>0)i=s+1;else if(a<0)o=s-1;else return s}return-i-1},t.numberComparator=function(e,n){return e-n},t}(),qe=function(){function t(){}return t.numberOfTrailingZeros=function(e){var n;if(e===0)return 32;var r=31;return n=e<<16,n!==0&&(r-=16,e=n),n=e<<8,n!==0&&(r-=8,e=n),n=e<<4,n!==0&&(r-=4,e=n),n=e<<2,n!==0&&(r-=2,e=n),r-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,n){return Math.trunc(e/n)},t.parseInt=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Dn=function(){function t(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=t.makeArray(e):this.bits=n)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var n=t.makeArray(e);It.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var n=this.size;if(e>=n)return n;var r=this.bits,i=Math.floor(e/32),o=r[i];o&=~((1<<(e&31))-1);for(var s=r.length;o===0;){if(++i===s)return n;o=r[i]}var a=i*32+qe.numberOfTrailingZeros(o);return a>n?n:a},t.prototype.getNextUnset=function(e){var n=this.size;if(e>=n)return n;var r=this.bits,i=Math.floor(e/32),o=~r[i];o&=~((1<<(e&31))-1);for(var s=r.length;o===0;){if(++i===s)return n;o=~r[i]}var a=i*32+qe.numberOfTrailingZeros(o);return a>n?n:a},t.prototype.setBulk=function(e,n){this.bits[Math.floor(e/32)]=n},t.prototype.setRange=function(e,n){if(n<e||e<0||n>this.size)throw new ke;if(n!==e){n--;for(var r=Math.floor(e/32),i=Math.floor(n/32),o=this.bits,s=r;s<=i;s++){var a=s>r?0:e&31,l=s<i?31:n&31,u=(2<<l)-(1<<a);o[s]|=u}}},t.prototype.clear=function(){for(var e=this.bits.length,n=this.bits,r=0;r<e;r++)n[r]=0},t.prototype.isRange=function(e,n,r){if(n<e||e<0||n>this.size)throw new ke;if(n===e)return!0;n--;for(var i=Math.floor(e/32),o=Math.floor(n/32),s=this.bits,a=i;a<=o;a++){var l=a>i?0:e&31,u=a<o?31:n&31,c=(2<<u)-(1<<l)&4294967295;if((s[a]&c)!==(r?c:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,n){if(n<0||n>32)throw new ke("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var r=n;r>0;r--)this.appendBit((e>>r-1&1)===1)},t.prototype.appendBitArray=function(e){var n=e.size;this.ensureCapacity(this.size+n);for(var r=0;r<n;r++)this.appendBit(e.get(r))},t.prototype.xor=function(e){if(this.size!==e.size)throw new ke("Sizes don't match");for(var n=this.bits,r=0,i=n.length;r<i;r++)n[r]^=e.bits[r]},t.prototype.toBytes=function(e,n,r,i){for(var o=0;o<i;o++){for(var s=0,a=0;a<8;a++)this.get(e)&&(s|=1<<7-a),e++;n[r+o]=s}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,i=this.bits,o=0;o<r;o++){var s=i[o];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[n-o]=s}if(this.size!==r*32){for(var a=r*32-this.size,l=e[0]>>>a,o=1;o<r;o++){var u=e[o];l|=u<<32-a,e[o-1]=l,l=u>>>a}e[r-1]=l}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.size===n.size&&xn.equals(this.bits,n.bits)},t.prototype.hashCode=function(){return 31*this.size+xn.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",n=0,r=this.size;n<r;n++)n&7||(e+=" "),e+=this.get(n)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],n=0,r=this.size;n<r;n++)e.push(this.get(n));return e},t}(),cb;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(cb||(cb={}));const Ot=cb;var hbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),me=function(t){hbe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Br),pbe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_t;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(_t||(_t={}));var bn=function(){function t(e,n,r){for(var i,o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];this.valueIdentifier=e,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=s,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(r,this);for(var l=this.values,u=0,c=l.length;u!==c;u++){var f=l[u];t.VALUES_TO_ECI.set(f,this)}try{for(var d=pbe(s),h=d.next();!h.done;h=d.next()){var p=h.value;t.NAME_TO_ECI.set(p,this)}}catch(y){i={error:y}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new me("incorect value");var n=t.VALUES_TO_ECI.get(e);if(n===void 0)throw new me("incorect value");return n},t.getCharacterSetECIByName=function(e){var n=t.NAME_TO_ECI.get(e);if(n===void 0)throw new me("incorect value");return n},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.getName()===n.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(_t.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(_t.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(_t.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(_t.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(_t.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(_t.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(_t.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(_t.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(_t.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(_t.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(_t.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(_t.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(_t.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(_t.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(_t.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(_t.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(_t.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(_t.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(_t.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(_t.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(_t.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(_t.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(_t.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(_t.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(_t.Big5,28,"Big5"),t.GB18030=new t(_t.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(_t.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),gbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Np=function(t){gbe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Br),mi=function(){function t(){}return t.decode=function(e,n){var r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,n){var r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof bn?e:bn.getCharacterSetECIByName(e)},t.decodeFallback=function(e,n){var r=this.encodingCharacterSet(n);if(t.isDecodeFallbackSupported(r)){for(var i="",o=0,s=e.length;o<s;o++){var a=e[o].toString(16);a.length<2&&(a="0"+a),i+="%"+a}return decodeURIComponent(i)}if(r.equals(bn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Np("Encoding "+this.encodingName(n)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(bn.UTF8)||e.equals(bn.ISO8859_1)||e.equals(bn.ASCII)},t.encodeFallback=function(e){for(var n=btoa(unescape(encodeURIComponent(e))),r=n.split(""),i=[],o=0;o<r.length;o++)i.push(r[o].charCodeAt(0));return new Uint8Array(i)},t}(),nt=function(){function t(){}return t.castAsNonUtf8Char=function(e,n){n===void 0&&(n=null);var r=n?n.getName():this.ISO88591;return mi.decode(new Uint8Array([e]),r)},t.guessEncoding=function(e,n){if(n!=null&&n.get(Ot.CHARACTER_SET)!==void 0)return n.get(Ot.CHARACTER_SET).toString();for(var r=e.length,i=!0,o=!0,s=!0,a=0,l=0,u=0,c=0,f=0,d=0,h=0,p=0,y=0,v=0,g=0,m=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,_=0;_<r&&(i||o||s);_++){var b=e[_]&255;s&&(a>0?b&128?a--:s=!1:b&128&&(b&64?(a++,b&32?(a++,b&16?(a++,b&8?s=!1:c++):u++):l++):s=!1)),i&&(b>127&&b<160?i=!1:b>159&&(b<192||b===215||b===247)&&g++),o&&(f>0?b<64||b===127||b>252?o=!1:f--:b===128||b===160||b>239?o=!1:b>160&&b<224?(d++,p=0,h++,h>y&&(y=h)):b>127?(f++,h=0,p++,p>v&&(v=p)):(h=0,p=0))}return s&&a>0&&(s=!1),o&&f>0&&(o=!1),s&&(m||l+u+c>0)?t.UTF8:o&&(t.ASSUME_SHIFT_JIS||y>=3||v>=3)?t.SHIFT_JIS:i&&o?y===2&&d===2||g*10>=r?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:o?t.SHIFT_JIS:s?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=-1;function o(a,l,u,c,f,d){if(a==="%%")return"%";if(n[++i]!==void 0){a=c?parseInt(c.substr(1)):void 0;var h=f?parseInt(f.substr(1)):void 0,p;switch(d){case"s":p=n[i];break;case"c":p=n[i][0];break;case"f":p=parseFloat(n[i]).toFixed(a);break;case"p":p=parseFloat(n[i]).toPrecision(a);break;case"e":p=parseFloat(n[i]).toExponential(a);break;case"x":p=parseInt(n[i]).toString(h||16);break;case"d":p=parseFloat(parseInt(n[i],h||10).toPrecision(a)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var y=parseInt(u),v=u&&u[0]+""=="0"?"0":" ";p.length<y;)p=l!==void 0?p+v:v+p;return p}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,o)},t.getBytes=function(e,n){return mi.encode(e,n)},t.getCharCode=function(e,n){return n===void 0&&(n=0),e.charCodeAt(n)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=bn.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=bn.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=bn.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),Ke=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=nt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,n,r){for(var i=n;n<n+r;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)},t.prototype.substring=function(e,n){return this.value.substring(e,n)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,n){this.value=this.value.substring(0,e)+n+this.value.substring(e)},t}(),_o=function(){function t(e,n,r,i){if(this.width=e,this.height=n,this.rowSize=r,this.bits=i,n==null&&(n=e),this.height=n,e<1||n<1)throw new ke("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var n=e.length,r=e[0].length,i=new t(r,n),o=0;o<n;o++)for(var s=e[o],a=0;a<r;a++)s[a]&&i.set(a,o);return i},t.parseFromString=function(e,n,r){if(e===null)throw new ke("stringRepresentation cannot be null");for(var i=new Array(e.length),o=0,s=0,a=-1,l=0,u=0;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(o>s){if(a===-1)a=o-s;else if(o-s!==a)throw new ke("row lengths do not match");s=o,l++}u++}else if(e.substring(u,u+n.length)===n)u+=n.length,i[o]=!0,o++;else if(e.substring(u,u+r.length)===r)u+=r.length,i[o]=!1,o++;else throw new ke("illegal character encountered: "+e.substring(u));if(o>s){if(a===-1)a=o-s;else if(o-s!==a)throw new ke("row lengths do not match");l++}for(var c=new t(a,l),f=0;f<o;f++)i[f]&&c.set(Math.floor(f%a),Math.floor(f/a));return c},t.prototype.get=function(e,n){var r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},t.prototype.set=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,n){var r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new ke("input matrix dimensions do not match");for(var n=new Dn(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,o=0,s=this.height;o<s;o++)for(var a=o*r,l=e.getRow(o,n).getBitArray(),u=0;u<r;u++)i[a+u]^=l[u]},t.prototype.clear=function(){for(var e=this.bits,n=e.length,r=0;r<n;r++)e[r]=0},t.prototype.setRegion=function(e,n,r,i){if(n<0||e<0)throw new ke("Left and top must be nonnegative");if(i<1||r<1)throw new ke("Height and width must be at least 1");var o=e+r,s=n+i;if(s>this.height||o>this.width)throw new ke("The region must fit inside the matrix");for(var a=this.rowSize,l=this.bits,u=n;u<s;u++)for(var c=u*a,f=e;f<o;f++)l[c+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,n){n==null||n.getSize()<this.width?n=new Dn(this.width):n.clear();for(var r=this.rowSize,i=this.bits,o=e*r,s=0;s<r;s++)n.setBulk(s*32,i[o+s]);return n},t.prototype.setRow=function(e,n){It.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),n=this.getHeight(),r=new Dn(e),i=new Dn(e),o=0,s=Math.floor((n+1)/2);o<s;o++)r=this.getRow(o,r),i=this.getRow(n-1-o,i),r.reverse(),i.reverse(),this.setRow(o,i),this.setRow(n-1-o,r)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,n=this.height,r=this.rowSize,i=this.bits,o=e,s=n,a=-1,l=-1,u=0;u<n;u++)for(var c=0;c<r;c++){var f=i[u*r+c];if(f!==0){if(u<s&&(s=u),u>l&&(l=u),c*32<o){for(var d=0;!(f<<31-d&4294967295);)d++;c*32+d<o&&(o=c*32+d)}if(c*32+31>a){for(var d=31;!(f>>>d);)d--;c*32+d>a&&(a=c*32+d)}}}return a<o||l<s?null:Int32Array.from([o,s,a-o+1,l-s+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,n=this.bits,r=0;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;for(var i=r/e,o=r%e*32,s=n[r],a=0;!(s<<31-a&4294967295);)a++;return o+=a,Int32Array.from([o,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,n=this.bits,r=n.length-1;r>=0&&n[r]===0;)r--;if(r<0)return null;for(var i=Math.floor(r/e),o=Math.floor(r%e)*32,s=n[r],a=31;!(s>>>a);)a--;return o+=a,Int32Array.from([o,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&xn.equals(this.bits,n.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+xn.hashCode(this.bits),e},t.prototype.toString=function(e,n,r){return e===void 0&&(e="X "),n===void 0&&(n="  "),r===void 0&&(r=`
`),this.buildToString(e,n,r)},t.prototype.buildToString=function(e,n,r){for(var i=new Ke,o=0,s=this.height;o<s;o++){for(var a=0,l=this.width;a<l;a++)i.append(this.get(a,o)?e:n);i.append(r)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),mbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oe=function(t){mbe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Br),vbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ybe=function(t){vbe(e,t);function e(n){var r=t.call(this,n)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(n,r){var i=this.getLuminanceSource(),o=i.getWidth();r==null||r.getSize()<o?r=new Dn(o):r.clear(),this.initArrays(o);for(var s=i.getRow(n,this.luminances),a=this.buckets,l=0;l<o;l++)a[(s[l]&255)>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(a);if(o<3)for(var l=0;l<o;l++)(s[l]&255)<u&&r.set(l);else for(var c=s[0]&255,f=s[1]&255,l=1;l<o-1;l++){var d=s[l+1]&255;(f*4-c-d)/2<u&&r.set(l),c=f,f=d}return r},e.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),r=n.getWidth(),i=n.getHeight(),o=new _o(r,i);this.initArrays(r);for(var s=this.buckets,a=1;a<5;a++)for(var l=Math.floor(i*a/5),u=n.getRow(l,this.luminances),c=Math.floor(r*4/5),f=Math.floor(r/5);f<c;f++){var d=u[f]&255;s[d>>e.LUMINANCE_SHIFT]++}for(var h=e.estimateBlackPoint(s),p=n.getMatrix(),a=0;a<i;a++)for(var y=a*r,f=0;f<r;f++){var d=p[y+f]&255;d<h&&o.set(f,a)}return o},e.prototype.createBinarizer=function(n){return new e(n)},e.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var r=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)r[i]=0},e.estimateBlackPoint=function(n){for(var r=n.length,i=0,o=0,s=0,a=0;a<r;a++)n[a]>s&&(o=a,s=n[a]),n[a]>i&&(i=n[a]);for(var l=0,u=0,a=0;a<r;a++){var c=a-o,f=n[a]*c*c;f>u&&(l=a,u=f)}if(o>l){var d=o;o=l,l=d}if(l-o<=r/16)throw new oe;for(var h=l-1,p=-1,a=l-1;a>o;a--){var y=a-o,f=y*y*(l-a)*(i-n[a]);f>p&&(h=a,p=f)}return h<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(ube),_be=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),eL=function(t){_be(e,t);function e(n){var r=t.call(this,n)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var n=this.getLuminanceSource(),r=n.getWidth(),i=n.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var o=n.getMatrix(),s=r>>e.BLOCK_SIZE_POWER;r&e.BLOCK_SIZE_MASK&&s++;var a=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&a++;var l=e.calculateBlackPoints(o,s,a,r,i),u=new _o(r,i);e.calculateThresholdForBlock(o,s,a,r,i,l,u),this.matrix=u}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(n){return new e(n)},e.calculateThresholdForBlock=function(n,r,i,o,s,a,l){for(var u=s-e.BLOCK_SIZE,c=o-e.BLOCK_SIZE,f=0;f<i;f++){var d=f<<e.BLOCK_SIZE_POWER;d>u&&(d=u);for(var h=e.cap(f,2,i-3),p=0;p<r;p++){var y=p<<e.BLOCK_SIZE_POWER;y>c&&(y=c);for(var v=e.cap(p,2,r-3),g=0,m=-2;m<=2;m++){var _=a[h+m];g+=_[v-2]+_[v-1]+_[v]+_[v+1]+_[v+2]}var b=g/25;e.thresholdBlock(n,y,d,b,o,l)}}},e.cap=function(n,r,i){return n<r?r:n>i?i:n},e.thresholdBlock=function(n,r,i,o,s,a){for(var l=0,u=i*s+r;l<e.BLOCK_SIZE;l++,u+=s)for(var c=0;c<e.BLOCK_SIZE;c++)(n[u+c]&255)<=o&&a.set(r+c,i+l)},e.calculateBlackPoints=function(n,r,i,o,s){for(var a=s-e.BLOCK_SIZE,l=o-e.BLOCK_SIZE,u=new Array(i),c=0;c<i;c++){u[c]=new Int32Array(r);var f=c<<e.BLOCK_SIZE_POWER;f>a&&(f=a);for(var d=0;d<r;d++){var h=d<<e.BLOCK_SIZE_POWER;h>l&&(h=l);for(var p=0,y=255,v=0,g=0,m=f*o+h;g<e.BLOCK_SIZE;g++,m+=o){for(var _=0;_<e.BLOCK_SIZE;_++){var b=n[m+_]&255;p+=b,b<y&&(y=b),b>v&&(v=b)}if(v-y>e.MIN_DYNAMIC_RANGE)for(g++,m+=o;g<e.BLOCK_SIZE;g++,m+=o)for(var _=0;_<e.BLOCK_SIZE;_++)p+=n[m+_]&255}var x=p>>e.BLOCK_SIZE_POWER*2;if(v-y<=e.MIN_DYNAMIC_RANGE&&(x=y/2,c>0&&d>0)){var w=(u[c-1][d]+2*u[c][d-1]+u[c-1][d-1])/4;y<w&&(x=w)}u[c][d]=x}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(ybe),nh=function(){function t(e,n){this.width=e,this.height=n}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,n,r,i){throw new Np("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new Np("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new Np("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),n=new Ke,r=0;r<this.height;r++){for(var i=this.getRow(r,e),o=0;o<this.width;o++){var s=i[o]&255,a=void 0;s<64?a="#":s<128?a="+":s<192?a=".":a=" ",n.append(a)}n.append(`
`)}return n.toString()},t}(),bbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),um=function(t){bbe(e,t);function e(n){var r=t.call(this,n.getWidth(),n.getHeight())||this;return r.delegate=n,r}return e.prototype.getRow=function(n,r){for(var i=this.delegate.getRow(n,r),o=this.getWidth(),s=0;s<o;s++)i[s]=255-(i[s]&255);return i},e.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),o=0;o<r;o++)i[o]=255-(n[o]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(n,r,i,o){return new e(this.delegate.crop(n,r,i,o))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(nh),xbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wbe=function(t){xbe(e,t);function e(n,r){r===void 0&&(r=!1);var i=t.call(this,n.width,n.height)||this;return i.canvas=n,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(n,r),i}return e.makeBufferFromCanvasImageData=function(n,r){r===void 0&&(r=!1);var i=n.getContext("2d").getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(i.data,n.width,n.height,r)},e.toGrayscaleBuffer=function(n,r,i,o){o===void 0&&(o=!1);var s=new Uint8ClampedArray(r*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!o)for(var a=0,l=0,u=n.length;a<u;a+=4,l++){var c=void 0,f=n[a+3];if(f===0)c=255;else{var d=n[a],h=n[a+1],p=n[a+2];c=306*d+601*h+117*p+512>>10}s[l]=c}else for(var a=0,l=0,y=n.length;a<y;a+=4,l++){var c=void 0,f=n[a+3];if(f===0)c=255;else{var d=n[a],h=n[a+1],p=n[a+2];c=306*d+601*h+117*p+512>>10}s[l]=255-c}return s},e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new ke("Requested row is outside the image: "+n);var i=this.getWidth(),o=n*i;return r===null?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,o){return t.prototype.crop.call(this,n,r,i,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var r=this.getTempCanvasElement(),i=r.getContext("2d"),o=n*e.DEGREE_TO_RADIANS,s=this.canvas.width,a=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(o))*s+Math.abs(Math.sin(o))*a),u=Math.ceil(Math.abs(Math.sin(o))*s+Math.abs(Math.cos(o))*a);return r.width=l,r.height=u,i.translate(l/2,u/2),i.rotate(o),i.drawImage(this.canvas,s/-2,a/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new um(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(nh),Ebe=function(){function t(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),rr=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(f){s(f)}}function l(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})},ir=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Sbe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yc=function(){function t(e,n,r){n===void 0&&(n=500),this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return rr(this,void 0,void 0,function(){var e,n,r,i,o,s,a,l,u,c,f,d;return ir(this,function(h){switch(h.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=h.sent(),n=[];try{for(r=Sbe(e),i=r.next();!i.done;i=r.next())o=i.value,s=o.kind==="video"?"videoinput":o.kind,s==="videoinput"&&(a=o.deviceId||o.id,l=o.label||"Video device "+(n.length+1),u=o.groupId,c={deviceId:a,label:l,kind:s,groupId:u},n.push(c))}catch(p){f={error:p}}finally{try{i&&!i.done&&(d=r.return)&&d.call(r)}finally{if(f)throw f.error}}return[2,n]}})})},t.prototype.getVideoInputDevices=function(){return rr(this,void 0,void 0,function(){var e;return ir(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=n.sent(),[2,e.map(function(r){return new Ebe(r.deviceId,r.label)})]}})})},t.prototype.findDeviceById=function(e){return rr(this,void 0,void 0,function(){var n;return ir(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return n=r.sent(),n?[2,n.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,n){return rr(this,void 0,void 0,function(){return ir(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,n)];case 1:return[2,r.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,n){return rr(this,void 0,void 0,function(){var r,i;return ir(this,function(o){switch(o.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,n){return rr(this,void 0,void 0,function(){var r;return ir(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,n)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,n){return rr(this,void 0,void 0,function(){var r,i;return ir(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return r=o.sent(),[4,this.decodeOnce(r)];case 2:return i=o.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,n,r){return rr(this,void 0,void 0,function(){return ir(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,n,r)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,n,r){return rr(this,void 0,void 0,function(){var i,o;return ir(this,function(s){switch(s.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},o={video:i},[4,this.decodeFromConstraints(o,n,r)];case 1:return[2,s.sent()]}})})},t.prototype.decodeFromConstraints=function(e,n,r){return rr(this,void 0,void 0,function(){var i;return ir(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=o.sent(),[4,this.decodeFromStream(i,n,r)];case 2:return[2,o.sent()]}})})},t.prototype.decodeFromStream=function(e,n,r){return rr(this,void 0,void 0,function(){var i;return ir(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,n)];case 1:return i=o.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,o.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,n){return rr(this,void 0,void 0,function(){var r;return ir(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(n),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},t.prototype.playVideoOnLoadAsync=function(e){var n=this;return new Promise(function(r,i){return n.playVideoOnLoad(e,function(){return r()})})},t.prototype.playVideoOnLoad=function(e,n){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return rr(this,void 0,void 0,function(){return ir(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,n){var r=document.getElementById(e);if(!r)throw new rn("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new rn("element with id '"+e+"' must be an "+n+" element");return r},t.prototype.decodeFromImage=function(e,n){if(!e&&!n)throw new rn("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,n){if(!e&&!n)throw new rn("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,n,r){if(e===void 0&&n===void 0)throw new rn("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new rn("An image element must be provided.");this.reset();var n=this.prepareImageElement(e);this.imageElement=n;var r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r},t.prototype.decodeFromVideoElement=function(e){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)},t.prototype.decodeFromVideoElementContinuously=function(e,n){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new rn("A video element must be provided.");this.reset();var n=this.prepareVideoElement(e);return this.videoElement=n,n},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new rn("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var r=this._decodeOnLoadImage(n);return n.src=e,r},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new rn("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r},t.prototype.decodeFromVideoUrlContinuously=function(e,n){if(!e)throw new rn("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,n);return r.src=e,i},t.prototype._decodeOnLoadImage=function(e){var n=this;return new Promise(function(r,i){n.imageLoadedListener=function(){return n.decodeOnce(e,!1,!0).then(r,i)},e.addEventListener("load",n.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return rr(this,void 0,void 0,function(){return ir(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),[4,this.decodeOnce(e)];case 2:return[2,n.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,n){return rr(this,void 0,void 0,function(){return ir(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,n),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n},t.prototype.prepareVideoElement=function(e){var n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},t.prototype.decodeOnce=function(e,n,r){var i=this;n===void 0&&(n=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var o=function(s,a){if(i._stopAsyncDecode){a(new oe("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);s(l)}catch(d){var u=n&&d instanceof oe,c=d instanceof fn||d instanceof me,f=c&&r;if(u||f)return setTimeout(o,i._timeBetweenDecodingAttempts,s,a);a(d)}};return new Promise(function(s,a){return o(s,a)})},t.prototype.decodeContinuously=function(e,n){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var o=r.decode(e);n(o,null),setTimeout(i,r.timeBetweenScansMillis)}catch(l){n(null,l);var s=l instanceof fn||l instanceof me,a=l instanceof oe;(s||a)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var n=this.createBinaryBitmap(e);return this.decodeBitmap(n)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var n=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),n=!0):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),i=new wbe(r,n),o=new eL(i);return new QF(o)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(e),r=void 0;try{r=n.getContext("2d",{willReadFrequently:!0})}catch{r=n.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,n,r){n===void 0&&(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},t.prototype.drawImageOnCanvas=function(e,n,r){n===void 0&&(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var n=document.createElement("canvas"),r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=i+"px",n.width=r,n.height=i,n},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),tr=function(){function t(e,n,r,i,o,s){r===void 0&&(r=n==null?0:8*n.length),s===void 0&&(s=It.currentTimeMillis()),this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=i,this.format=o,this.timestamp=s,this.text=e,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=i,this.format=o,this.resultMetadata=null,s==null?this.timestamp=It.currentTimeMillis():this.timestamp=s}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(n.length+e.length);It.arraycopy(n,0,r,0,n.length),It.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),fb;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(fb||(fb={}));const Be=fb;var db;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(db||(db={}));const Gn=db;var cm=function(){function t(e,n,r,i,o,s){o===void 0&&(o=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),tf=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new ke;return this.logTable[e]},t.addOrSubtract=function(e,n){return e^n},t}(),Ys=function(){function t(e,n){if(n.length===0)throw new ke;this.field=e;var r=n.length;if(r>1&&n[0]===0){for(var i=1;i<r&&n[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),It.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var n=this.coefficients,r;if(e===1){r=0;for(var i=0,o=n.length;i!==o;i++){var s=n[i];r=tf.addOrSubtract(r,s)}return r}r=n[0];for(var a=n.length,l=this.field,i=1;i<a;i++)r=tf.addOrSubtract(l.multiply(e,r),n[i]);return r},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new ke("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}var o=new Int32Array(r.length),s=r.length-n.length;It.arraycopy(r,0,o,0,s);for(var a=s;a<r.length;a++)o[a]=tf.addOrSubtract(n[a-s],r[a]);return new t(this.field,o)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new ke("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var n=this.coefficients,r=n.length,i=e.coefficients,o=i.length,s=new Int32Array(r+o-1),a=this.field,l=0;l<r;l++)for(var u=n[l],c=0;c<o;c++)s[l+c]=tf.addOrSubtract(s[l+c],a.multiply(u,i[c]));return new t(a,s)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var n=this.coefficients.length,r=this.field,i=new Int32Array(n),o=this.coefficients,s=0;s<n;s++)i[s]=r.multiply(o[s],e);return new t(r,i)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new ke;if(n===0)return this.field.getZero();for(var r=this.coefficients,i=r.length,o=new Int32Array(i+e),s=this.field,a=0;a<i;a++)o[a]=s.multiply(r[a],n);return new t(s,o)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new ke("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new ke("Divide by 0");for(var n=this.field,r=n.getZero(),i=this,o=e.getCoefficient(e.getDegree()),s=n.inverse(o);i.getDegree()>=e.getDegree()&&!i.isZero();){var a=i.getDegree()-e.getDegree(),l=n.multiply(i.getCoefficient(i.getDegree()),s),u=e.multiplyByMonomial(a,l),c=n.buildMonomial(a,l);r=r.addOrSubtract(c),i=i.addOrSubtract(u)}return[r,i]},t.prototype.toString=function(){for(var e="",n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){var i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e},t}(),Cbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),tL=function(t){Cbe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Br),Abe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sr=function(t){Abe(e,t);function e(n,r,i){var o=t.call(this)||this;o.primitive=n,o.size=r,o.generatorBase=i;for(var s=new Int32Array(r),a=1,l=0;l<r;l++)s[l]=a,a*=2,a>=r&&(a^=n,a&=r-1);o.expTable=s;for(var u=new Int32Array(r),l=0;l<r-1;l++)u[s[l]]=l;return o.logTable=u,o.zero=new Ys(o,Int32Array.from([0])),o.one=new Ys(o,Int32Array.from([1])),o}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,r){if(n<0)throw new ke;if(r===0)return this.zero;var i=new Int32Array(n+1);return i[0]=r,new Ys(this,i)},e.prototype.inverse=function(n){if(n===0)throw new tL;return this.expTable[this.size-this.logTable[n]-1]},e.prototype.multiply=function(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+qe.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(n){return n===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(tf),Tbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lp=function(t){Tbe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Br),Pbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rh=function(t){Pbe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Br),fm=function(){function t(e){this.field=e}return t.prototype.decode=function(e,n){for(var r=this.field,i=new Ys(r,e),o=new Int32Array(n),s=!0,a=0;a<n;a++){var l=i.evaluateAt(r.exp(a+r.getGeneratorBase()));o[o.length-1-a]=l,l!==0&&(s=!1)}if(!s)for(var u=new Ys(r,o),c=this.runEuclideanAlgorithm(r.buildMonomial(n,1),u,n),f=c[0],d=c[1],h=this.findErrorLocations(f),p=this.findErrorMagnitudes(d,h),a=0;a<h.length;a++){var y=e.length-1-r.log(h[a]);if(y<0)throw new lp("Bad error location");e[y]=Sr.addOrSubtract(e[y],p[a])}},t.prototype.runEuclideanAlgorithm=function(e,n,r){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var o=this.field,s=e,a=n,l=o.getZero(),u=o.getOne();a.getDegree()>=(r/2|0);){var c=s,f=l;if(s=a,l=u,s.isZero())throw new lp("r_{i-1} was zero");a=c;for(var d=o.getZero(),h=s.getCoefficient(s.getDegree()),p=o.inverse(h);a.getDegree()>=s.getDegree()&&!a.isZero();){var y=a.getDegree()-s.getDegree(),v=o.multiply(a.getCoefficient(a.getDegree()),p);d=d.addOrSubtract(o.buildMonomial(y,v)),a=a.addOrSubtract(s.multiplyByMonomial(y,v))}if(u=d.multiply(l).addOrSubtract(f),a.getDegree()>=s.getDegree())throw new rh("Division algorithm failed to reduce polynomial?")}var g=u.getCoefficient(0);if(g===0)throw new lp("sigmaTilde(0) was zero");var m=o.inverse(g),_=u.multiplyScalar(m),b=a.multiplyScalar(m);return[_,b]},t.prototype.findErrorLocations=function(e){var n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(n),i=0,o=this.field,s=1;s<o.getSize()&&i<n;s++)e.evaluateAt(s)===0&&(r[i]=o.inverse(s),i++);if(i!==n)throw new lp("Error locator degree does not match number of roots");return r},t.prototype.findErrorMagnitudes=function(e,n){for(var r=n.length,i=new Int32Array(r),o=this.field,s=0;s<r;s++){for(var a=o.inverse(n[s]),l=1,u=0;u<r;u++)if(s!==u){var c=o.multiply(n[u],a),f=c&1?c&-2:c|1;l=o.multiply(l,f)}i[s]=o.multiply(e.evaluateAt(a),o.inverse(l)),o.getGeneratorBase()!==0&&(i[s]=o.multiply(i[s],a))}return i},t}(),Nn;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(Nn||(Nn={}));var r3=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var n=e.getBits(),r=this.extractBits(n),i=this.correctBits(r),o=t.convertBoolArrayToByteArray(i),s=t.getEncodedData(i),a=new cm(o,s,null,null);return a.setNumBits(i.length),a},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var n=e.length,r=Nn.UPPER,i=Nn.UPPER,o="",s=0;s<n;)if(i===Nn.BINARY){if(n-s<5)break;var a=t.readCode(e,s,5);if(s+=5,a===0){if(n-s<11)break;a=t.readCode(e,s,11)+31,s+=11}for(var l=0;l<a;l++){if(n-s<8){s=n;break}var u=t.readCode(e,s,8);o+=nt.castAsNonUtf8Char(u),s+=8}i=r}else{var c=i===Nn.DIGIT?4:5;if(n-s<c)break;var u=t.readCode(e,s,c);s+=c;var f=t.getCharacter(i,u);f.startsWith("CTRL_")?(r=i,i=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(r=i)):(o+=f,i=r)}return o},t.getTable=function(e){switch(e){case"L":return Nn.LOWER;case"P":return Nn.PUNCT;case"M":return Nn.MIXED;case"D":return Nn.DIGIT;case"B":return Nn.BINARY;case"U":default:return Nn.UPPER}},t.getCharacter=function(e,n){switch(e){case Nn.UPPER:return t.UPPER_TABLE[n];case Nn.LOWER:return t.LOWER_TABLE[n];case Nn.MIXED:return t.MIXED_TABLE[n];case Nn.PUNCT:return t.PUNCT_TABLE[n];case Nn.DIGIT:return t.DIGIT_TABLE[n];default:throw new rh("Bad table")}},t.prototype.correctBits=function(e){var n,r;this.ddata.getNbLayers()<=2?(r=6,n=Sr.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=Sr.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=Sr.AZTEC_DATA_10):(r=12,n=Sr.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),o=e.length/r;if(o<i)throw new me;for(var s=e.length%r,a=new Int32Array(o),l=0;l<o;l++,s+=r)a[l]=t.readCode(e,s,r);try{var u=new fm(n);u.decode(a,o-i)}catch(v){throw new me(v)}for(var c=(1<<r)-1,f=0,l=0;l<i;l++){var d=a[l];if(d===0||d===c)throw new me;(d===1||d===c-1)&&f++}for(var h=new Array(i*r-f),p=0,l=0;l<i;l++){var d=a[l];if(d===1||d===c-1)h.fill(d>1,p,p+r-1),p+=r-1;else for(var y=r-1;y>=0;--y)h[p++]=(d&1<<y)!==0}return h},t.prototype.extractBits=function(e){var n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(n?11:14)+r*4,o=new Int32Array(i),s=new Array(this.totalBitsInLayer(r,n));if(n)for(var a=0;a<o.length;a++)o[a]=a;else for(var l=i+1+2*qe.truncDivision(qe.truncDivision(i,2)-1,15),u=i/2,c=qe.truncDivision(l,2),a=0;a<u;a++){var f=a+qe.truncDivision(a,15);o[u-a-1]=c-f-1,o[u+a]=c+f+1}for(var a=0,d=0;a<r;a++){for(var h=(r-a)*4+(n?9:12),p=a*2,y=i-1-p,v=0;v<h;v++)for(var g=v*2,m=0;m<2;m++)s[d+g+m]=e.get(o[p+m],o[p+v]),s[d+2*h+g+m]=e.get(o[p+v],o[y-m]),s[d+4*h+g+m]=e.get(o[y-m],o[y-v]),s[d+6*h+g+m]=e.get(o[y-v],o[p+m]);d+=h*8}return s},t.readCode=function(e,n,r){for(var i=0,o=n;o<n+r;o++)i<<=1,e[o]&&(i|=1);return i},t.readByte=function(e,n){var r=e.length-n;return r>=8?t.readCode(e,n,8):t.readCode(e,n,r)<<8-r},t.convertBoolArrayToByteArray=function(e){for(var n=new Uint8Array((e.length+7)/8),r=0;r<n.length;r++)n[r]=t.readByte(e,8*r);return n},t.prototype.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),ft=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,n,r,i){var o=e-r,s=n-i;return Math.sqrt(o*o+s*s)},t.sum=function(e){for(var n=0,r=0,i=e.length;r!==i;r++){var o=e[r];n+=o}return n},t}(),hb=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Pe=function(){function t(e,n){this.x=e,this.y=n}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var n=e;return this.x===n.x&&this.y===n.y}return!1},t.prototype.hashCode=function(){return 31*hb.floatToIntBits(this.x)+hb.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),o,s,a;if(r>=n&&r>=i?(s=e[0],o=e[1],a=e[2]):i>=r&&i>=n?(s=e[1],o=e[0],a=e[2]):(s=e[2],o=e[0],a=e[1]),this.crossProductZ(o,s,a)<0){var l=o;o=a,a=l}e[0]=o,e[1]=s,e[2]=a},t.distance=function(e,n){return ft.distance(e.x,e.y,n.x,n.y)},t.crossProductZ=function(e,n,r){var i=n.x,o=n.y;return(r.x-i)*(e.y-o)-(r.y-o)*(e.x-i)},t}(),XE=function(){function t(e,n){this.bits=e,this.points=n}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),Ibe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Obe=function(t){Ibe(e,t);function e(n,r,i,o,s){var a=t.call(this,n,r)||this;return a.compact=i,a.nbDatablocks=o,a.nbLayers=s,a}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(XE),pb=function(){function t(e,n,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=t.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var o=n/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new oe}return t.prototype.detect=function(){for(var e=this.leftInit,n=this.rightInit,r=this.upInit,i=this.downInit,o=!1,s=!0,a=!1,l=!1,u=!1,c=!1,f=!1,d=this.width,h=this.height;s;){s=!1;for(var p=!0;(p||!l)&&n<d;)p=this.containsBlackPoint(r,i,n,!1),p?(n++,s=!0,l=!0):l||n++;if(n>=d){o=!0;break}for(var y=!0;(y||!u)&&i<h;)y=this.containsBlackPoint(e,n,i,!0),y?(i++,s=!0,u=!0):u||i++;if(i>=h){o=!0;break}for(var v=!0;(v||!c)&&e>=0;)v=this.containsBlackPoint(r,i,e,!1),v?(e--,s=!0,c=!0):c||e--;if(e<0){o=!0;break}for(var g=!0;(g||!f)&&r>=0;)g=this.containsBlackPoint(e,n,r,!0),g?(r--,s=!0,f=!0):f||r--;if(r<0){o=!0;break}s&&(a=!0)}if(!o&&a){for(var m=n-e,_=null,b=1;_===null&&b<m;b++)_=this.getBlackPointOnSegment(e,i-b,e+b,i);if(_==null)throw new oe;for(var x=null,b=1;x===null&&b<m;b++)x=this.getBlackPointOnSegment(e,r+b,e+b,r);if(x==null)throw new oe;for(var w=null,b=1;w===null&&b<m;b++)w=this.getBlackPointOnSegment(n,r+b,n-b,r);if(w==null)throw new oe;for(var E=null,b=1;E===null&&b<m;b++)E=this.getBlackPointOnSegment(n,i-b,n-b,i);if(E==null)throw new oe;return this.centerEdges(E,_,w,x)}else throw new oe},t.prototype.getBlackPointOnSegment=function(e,n,r,i){for(var o=ft.round(ft.distance(e,n,r,i)),s=(r-e)/o,a=(i-n)/o,l=this.image,u=0;u<o;u++){var c=ft.round(e+u*s),f=ft.round(n+u*a);if(l.get(c,f))return new Pe(c,f)}return null},t.prototype.centerEdges=function(e,n,r,i){var o=e.getX(),s=e.getY(),a=n.getX(),l=n.getY(),u=r.getX(),c=r.getY(),f=i.getX(),d=i.getY(),h=t.CORR;return o<this.width/2?[new Pe(f-h,d+h),new Pe(a+h,l+h),new Pe(u-h,c-h),new Pe(o+h,s-h)]:[new Pe(f+h,d+h),new Pe(a+h,l-h),new Pe(u-h,c+h),new Pe(o-h,s-h)]},t.prototype.containsBlackPoint=function(e,n,r,i){var o=this.image;if(i){for(var s=e;s<=n;s++)if(o.get(s,r))return!0}else for(var a=e;a<=n;a++)if(o.get(r,a))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),i3=function(){function t(){}return t.checkAndNudgePoints=function(e,n){for(var r=e.getWidth(),i=e.getHeight(),o=!0,s=0;s<n.length&&o;s+=2){var a=Math.floor(n[s]),l=Math.floor(n[s+1]);if(a<-1||a>r||l<-1||l>i)throw new oe;o=!1,a===-1?(n[s]=0,o=!0):a===r&&(n[s]=r-1,o=!0),l===-1?(n[s+1]=0,o=!0):l===i&&(n[s+1]=i-1,o=!0)}o=!0;for(var s=n.length-2;s>=0&&o;s-=2){var a=Math.floor(n[s]),l=Math.floor(n[s+1]);if(a<-1||a>r||l<-1||l>i)throw new oe;o=!1,a===-1?(n[s]=0,o=!0):a===r&&(n[s]=r-1,o=!0),l===-1?(n[s+1]=0,o=!0):l===i&&(n[s+1]=i-1,o=!0)}},t}(),nL=function(){function t(e,n,r,i,o,s,a,l,u){this.a11=e,this.a21=n,this.a31=r,this.a12=i,this.a22=o,this.a32=s,this.a13=a,this.a23=l,this.a33=u}return t.quadrilateralToQuadrilateral=function(e,n,r,i,o,s,a,l,u,c,f,d,h,p,y,v){var g=t.quadrilateralToSquare(e,n,r,i,o,s,a,l),m=t.squareToQuadrilateral(u,c,f,d,h,p,y,v);return m.times(g)},t.prototype.transformPoints=function(e){for(var n=e.length,r=this.a11,i=this.a12,o=this.a13,s=this.a21,a=this.a22,l=this.a23,u=this.a31,c=this.a32,f=this.a33,d=0;d<n;d+=2){var h=e[d],p=e[d+1],y=o*h+l*p+f;e[d]=(r*h+s*p+u)/y,e[d+1]=(i*h+a*p+c)/y}},t.prototype.transformPointsWithValues=function(e,n){for(var r=this.a11,i=this.a12,o=this.a13,s=this.a21,a=this.a22,l=this.a23,u=this.a31,c=this.a32,f=this.a33,d=e.length,h=0;h<d;h++){var p=e[h],y=n[h],v=o*p+l*y+f;e[h]=(r*p+s*y+u)/v,n[h]=(i*p+a*y+c)/v}},t.squareToQuadrilateral=function(e,n,r,i,o,s,a,l){var u=e-r+o-a,c=n-i+s-l;if(u===0&&c===0)return new t(r-e,o-r,e,i-n,s-i,n,0,0,1);var f=r-o,d=a-o,h=i-s,p=l-s,y=f*p-d*h,v=(u*p-d*c)/y,g=(f*c-u*h)/y;return new t(r-e+v*r,a-e+g*a,e,i-n+v*i,l-n+g*l,n,v,g,1)},t.quadrilateralToSquare=function(e,n,r,i,o,s,a,l){return t.squareToQuadrilateral(e,n,r,i,o,s,a,l).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),Rbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mbe=function(t){Rbe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(n,r,i,o,s,a,l,u,c,f,d,h,p,y,v,g,m,_,b){var x=nL.quadrilateralToQuadrilateral(o,s,a,l,u,c,f,d,h,p,y,v,g,m,_,b);return this.sampleGridWithTransform(n,r,i,x)},e.prototype.sampleGridWithTransform=function(n,r,i,o){if(r<=0||i<=0)throw new oe;for(var s=new _o(r,i),a=new Float32Array(2*r),l=0;l<i;l++){for(var u=a.length,c=l+.5,f=0;f<u;f+=2)a[f]=f/2+.5,a[f+1]=c;o.transformPoints(a),i3.checkAndNudgePoints(n,a);try{for(var f=0;f<u;f+=2)n.get(Math.floor(a[f]),Math.floor(a[f+1]))&&s.set(f/2,l)}catch{throw new oe}}return s},e}(i3),KE=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new Mbe,t}(),yr=function(){function t(e,n){this.x=e,this.y=n}return t.prototype.toResultPoint=function(){return new Pe(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),Dbe=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var o=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),s=this.getMatrixCornerPoints(r);return new Obe(o,s,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new oe;var n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);for(var i=0,o=0;o<4;o++){var s=r[(this.shift+o)%4];this.compact?(i<<=7,i+=s>>1&127):(i<<=10,i+=(s>>2&992)+(s>>1&31))}var a=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(a>>6)+1,this.nbDataBlocks=(a&63)+1):(this.nbLayers=(a>>11)+1,this.nbDataBlocks=(a&2047)+1)},t.prototype.getRotation=function(e,n){var r=0;e.forEach(function(o,s,a){var l=(o>>n-2<<1)+(o&1);r=(r<<3)+l}),r=((r&1)<<11)+(r>>1);for(var i=0;i<4;i++)if(qe.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new oe},t.prototype.getCorrectedParameterData=function(e,n){var r,i;n?(r=7,i=2):(r=10,i=4);for(var o=r-i,s=new Int32Array(r),a=r-1;a>=0;--a)s[a]=e&15,e>>=4;try{var l=new fm(Sr.AZTEC_PARAM);l.decode(s,o)}catch{throw new oe}for(var u=0,a=0;a<i;a++)u=(u<<4)+s[a];return u},t.prototype.getBullsEyeCorners=function(e){var n=e,r=e,i=e,o=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var a=this.getFirstDifferent(n,s,1,-1),l=this.getFirstDifferent(r,s,1,1),u=this.getFirstDifferent(i,s,-1,1),c=this.getFirstDifferent(o,s,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(c,a)*this.nbCenterLayers/(this.distancePoint(o,n)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(a,l,u,c))break}n=a,r=l,i=u,o=c,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new oe;this.compact=this.nbCenterLayers===5;var d=new Pe(n.getX()+.5,n.getY()-.5),h=new Pe(r.getX()+.5,r.getY()+.5),p=new Pe(i.getX()-.5,i.getY()+.5),y=new Pe(o.getX()-.5,o.getY()-.5);return this.expandSquare([d,h,p,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,n,r,i;try{var o=new pb(this.image).detect();e=o[0],n=o[1],r=o[2],i=o[3]}catch{var s=this.image.getWidth()/2,a=this.image.getHeight()/2;e=this.getFirstDifferent(new yr(s+7,a-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new yr(s+7,a+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new yr(s-7,a+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new yr(s-7,a-7),!1,-1,-1).toResultPoint()}var l=ft.round((e.getX()+i.getX()+n.getX()+r.getX())/4),u=ft.round((e.getY()+i.getY()+n.getY()+r.getY())/4);try{var o=new pb(this.image,15,l,u).detect();e=o[0],n=o[1],r=o[2],i=o[3]}catch{e=this.getFirstDifferent(new yr(l+7,u-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new yr(l+7,u+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new yr(l-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new yr(l-7,u-7),!1,-1,-1).toResultPoint()}return l=ft.round((e.getX()+i.getX()+n.getX()+r.getX())/4),u=ft.round((e.getY()+i.getY()+n.getY()+r.getY())/4),new yr(l,u)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,n,r,i,o){var s=KE.getInstance(),a=this.getDimension(),l=a/2-this.nbCenterLayers,u=a/2+this.nbCenterLayers;return s.sampleGrid(e,a,a,l,l,u,l,u,u,l,u,n.getX(),n.getY(),r.getX(),r.getY(),i.getX(),i.getY(),o.getX(),o.getY())},t.prototype.sampleLine=function(e,n,r){for(var i=0,o=this.distanceResultPoint(e,n),s=o/r,a=e.getX(),l=e.getY(),u=s*(n.getX()-e.getX())/o,c=s*(n.getY()-e.getY())/o,f=0;f<r;f++)this.image.get(ft.round(a+f*u),ft.round(l+f*c))&&(i|=1<<r-f-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,n,r,i){var o=3;e=new yr(e.getX()-o,e.getY()+o),n=new yr(n.getX()-o,n.getY()-o),r=new yr(r.getX()+o,r.getY()-o),i=new yr(i.getX()+o,i.getY()+o);var s=this.getColor(i,e);if(s===0)return!1;var a=this.getColor(e,n);return a!==s||(a=this.getColor(n,r),a!==s)?!1:(a=this.getColor(r,i),a===s)},t.prototype.getColor=function(e,n){for(var r=this.distancePoint(e,n),i=(n.getX()-e.getX())/r,o=(n.getY()-e.getY())/r,s=0,a=e.getX(),l=e.getY(),u=this.image.get(e.getX(),e.getY()),c=Math.ceil(r),f=0;f<c;f++)a+=i,l+=o,this.image.get(ft.round(a),ft.round(l))!==u&&s++;var d=s/r;return d>.1&&d<.9?0:d<=.1===u?1:-1},t.prototype.getFirstDifferent=function(e,n,r,i){for(var o=e.getX()+r,s=e.getY()+i;this.isValid(o,s)&&this.image.get(o,s)===n;)o+=r,s+=i;for(o-=r,s-=i;this.isValid(o,s)&&this.image.get(o,s)===n;)o+=r;for(o-=r;this.isValid(o,s)&&this.image.get(o,s)===n;)s+=i;return s-=i,new yr(o,s)},t.prototype.expandSquare=function(e,n,r){var i=r/(2*n),o=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),a=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,u=new Pe(a+i*o,l+i*s),c=new Pe(a-i*o,l-i*s);o=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),a=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var f=new Pe(a+i*o,l+i*s),d=new Pe(a-i*o,l-i*s),h=[u,f,c,d];return h},t.prototype.isValid=function(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()},t.prototype.isValidPoint=function(e){var n=ft.round(e.getX()),r=ft.round(e.getY());return this.isValid(n,r)},t.prototype.distancePoint=function(e,n){return ft.distance(e.getX(),e.getY(),n.getX(),n.getY())},t.prototype.distanceResultPoint=function(e,n){return ft.distance(e.getX(),e.getY(),n.getX(),n.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(qe.truncDivision(this.nbLayers-4,8)+1)+15},t}(),R0=function(){function t(){}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r=null,i=new Dbe(e.getBlackMatrix()),o=null,s=null;try{var a=i.detectMirror(!1);o=a.getPoints(),this.reportFoundResultPoints(n,o),s=new r3().decode(a)}catch(f){r=f}if(s==null)try{var a=i.detectMirror(!0);o=a.getPoints(),this.reportFoundResultPoints(n,o),s=new r3().decode(a)}catch(f){throw r??f}var l=new tr(s.getText(),s.getRawBytes(),s.getNumBits(),o,Be.AZTEC,It.currentTimeMillis()),u=s.getByteSegments();u!=null&&l.putMetadata(Gn.BYTE_SEGMENTS,u);var c=s.getECLevel();return c!=null&&l.putMetadata(Gn.ERROR_CORRECTION_LEVEL,c),l},t.prototype.reportFoundResultPoints=function(e,n){if(e!=null){var r=e.get(Ot.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach(function(i,o,s){r.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),Bbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){Bbe(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new R0,n)||this}return e})(yc);var En=function(){function t(){}return t.prototype.decode=function(e,n){try{return this.doDecode(e,n)}catch{var r=n&&n.get(Ot.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),o=this.doDecode(i,n),s=o.getResultMetadata(),a=270;s!==null&&s.get(Gn.ORIENTATION)===!0&&(a=a+s.get(Gn.ORIENTATION)%360),o.putMetadata(Gn.ORIENTATION,a);var l=o.getResultPoints();if(l!==null)for(var u=i.getHeight(),c=0;c<l.length;c++)l[c]=new Pe(u-l[c].getY()-1,l[c].getX());return o}else throw new oe}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,n){var r=e.getWidth(),i=e.getHeight(),o=new Dn(r),s=n&&n.get(Ot.TRY_HARDER)===!0,a=Math.max(1,i>>(s?8:5)),l;s?l=i:l=15;for(var u=Math.trunc(i/2),c=0;c<l;c++){var f=Math.trunc((c+1)/2),d=(c&1)===0,h=u+a*(d?f:-f);if(h<0||h>=i)break;try{o=e.getBlackRow(h,o)}catch{continue}for(var p=function(m){if(m===1&&(o.reverse(),n&&n.get(Ot.NEED_RESULT_POINT_CALLBACK)===!0)){var _=new Map;n.forEach(function(w,E){return _.set(E,w)}),_.delete(Ot.NEED_RESULT_POINT_CALLBACK),n=_}try{var b=y.decodeRow(h,o,n);if(m===1){b.putMetadata(Gn.ORIENTATION,180);var x=b.getResultPoints();x!==null&&(x[0]=new Pe(r-x[0].getX()-1,x[0].getY()),x[1]=new Pe(r-x[1].getX()-1,x[1].getY()))}return{value:b}}catch{}},y=this,v=0;v<2;v++){var g=p(v);if(typeof g=="object")return g.value}}throw new oe},t.recordPattern=function(e,n,r){for(var i=r.length,o=0;o<i;o++)r[o]=0;var s=e.getSize();if(n>=s)throw new oe;for(var a=!e.get(n),l=0,u=n;u<s;){if(e.get(u)!==a)r[l]++;else{if(++l===i)break;r[l]=1,a=!a}u++}if(!(l===i||l===i-1&&u===s))throw new oe},t.recordPatternInReverse=function(e,n,r){for(var i=r.length,o=e.get(n);n>0&&i>=0;)e.get(--n)!==o&&(i--,o=!o);if(i>=0)throw new oe;t.recordPattern(e,n+1,r)},t.patternMatchVariance=function(e,n,r){for(var i=e.length,o=0,s=0,a=0;a<i;a++)o+=e[a],s+=n[a];if(o<s)return Number.POSITIVE_INFINITY;var l=o/s;r*=l;for(var u=0,c=0;c<i;c++){var f=e[c],d=n[c]*l,h=f>d?f-d:d-f;if(h>r)return Number.POSITIVE_INFINITY;u+=h}return u/o},t}(),kbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),o3=function(t){kbe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(n){for(var r=n.getSize(),i=n.getNextSet(0),o=0,s=Int32Array.from([0,0,0,0,0,0]),a=i,l=!1,u=6,c=i;c<r;c++)if(n.get(c)!==l)s[o]++;else{if(o===u-1){for(var f=e.MAX_AVG_VARIANCE,d=-1,h=e.CODE_START_A;h<=e.CODE_START_C;h++){var p=En.patternMatchVariance(s,e.CODE_PATTERNS[h],e.MAX_INDIVIDUAL_VARIANCE);p<f&&(f=p,d=h)}if(d>=0&&n.isRange(Math.max(0,a-(c-a)/2),a,!1))return Int32Array.from([a,c,d]);a+=s[0]+s[1],s=s.slice(2,s.length),s[o-1]=0,s[o]=0,o--}else o++;s[o]=1,l=!l}throw new oe},e.decodeCode=function(n,r,i){En.recordPattern(n,i,r);for(var o=e.MAX_AVG_VARIANCE,s=-1,a=0;a<e.CODE_PATTERNS.length;a++){var l=e.CODE_PATTERNS[a],u=this.patternMatchVariance(r,l,e.MAX_INDIVIDUAL_VARIANCE);u<o&&(o=u,s=a)}if(s>=0)return s;throw new oe},e.prototype.decodeRow=function(n,r,i){var o=i&&i.get(Ot.ASSUME_GS1)===!0,s=e.findStartPattern(r),a=s[2],l=0,u=new Uint8Array(20);u[l++]=a;var c;switch(a){case e.CODE_START_A:c=e.CODE_CODE_A;break;case e.CODE_START_B:c=e.CODE_CODE_B;break;case e.CODE_START_C:c=e.CODE_CODE_C;break;default:throw new me}for(var f=!1,d=!1,h="",p=s[0],y=s[1],v=Int32Array.from([0,0,0,0,0,0]),g=0,m=0,_=a,b=0,x=!0,w=!1,E=!1;!f;){var S=d;switch(d=!1,g=m,m=e.decodeCode(r,v,y),u[l++]=m,m!==e.CODE_STOP&&(x=!0),m!==e.CODE_STOP&&(b++,_+=b*m),p=y,y+=v.reduce(function(U,W){return U+W},0),m){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new me}switch(c){case e.CODE_CODE_A:if(m<64)E===w?h+=String.fromCharCode(" ".charCodeAt(0)+m):h+=String.fromCharCode(" ".charCodeAt(0)+m+128),E=!1;else if(m<96)E===w?h+=String.fromCharCode(m-64):h+=String.fromCharCode(m+64),E=!1;else switch(m!==e.CODE_STOP&&(x=!1),m){case e.CODE_FNC_1:o&&(h.length===0?h+="]C1":h+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!w&&E?(w=!0,E=!1):w&&E?(w=!1,E=!1):E=!0;break;case e.CODE_SHIFT:d=!0,c=e.CODE_CODE_B;break;case e.CODE_CODE_B:c=e.CODE_CODE_B;break;case e.CODE_CODE_C:c=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(m<96)E===w?h+=String.fromCharCode(" ".charCodeAt(0)+m):h+=String.fromCharCode(" ".charCodeAt(0)+m+128),E=!1;else switch(m!==e.CODE_STOP&&(x=!1),m){case e.CODE_FNC_1:o&&(h.length===0?h+="]C1":h+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!w&&E?(w=!0,E=!1):w&&E?(w=!1,E=!1):E=!0;break;case e.CODE_SHIFT:d=!0,c=e.CODE_CODE_A;break;case e.CODE_CODE_A:c=e.CODE_CODE_A;break;case e.CODE_CODE_C:c=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(m<100)m<10&&(h+="0"),h+=m;else switch(m!==e.CODE_STOP&&(x=!1),m){case e.CODE_FNC_1:o&&(h.length===0?h+="]C1":h+=String.fromCharCode(29));break;case e.CODE_CODE_A:c=e.CODE_CODE_A;break;case e.CODE_CODE_B:c=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}S&&(c=c===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var P=y-p;if(y=r.getNextUnset(y),!r.isRange(y,Math.min(r.getSize(),y+(y-p)/2),!1))throw new oe;if(_-=b*g,_%103!==g)throw new fn;var C=h.length;if(C===0)throw new oe;C>0&&x&&(c===e.CODE_CODE_C?h=h.substring(0,C-2):h=h.substring(0,C-1));for(var A=(s[1]+s[0])/2,T=p+P/2,R=u.length,N=new Uint8Array(R),G=0;G<R;G++)N[G]=u[G];var k=[new Pe(A,n),new Pe(T,n)];return new tr(h,N,0,k,Be.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(En),Nbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),y1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s3=function(t){Nbe(e,t);function e(n,r){n===void 0&&(n=!1),r===void 0&&(r=!1);var i=t.call(this)||this;return i.usingCheckDigit=n,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(n,r,i){var o,s,a,l,u=this.counters;u.fill(0),this.decodeRowResult="";var c=e.findAsteriskPattern(r,u),f=r.getNextSet(c[1]),d=r.getSize(),h,p;do{e.recordPattern(r,f,u);var y=e.toNarrowWidePattern(u);if(y<0)throw new oe;h=e.patternToChar(y),this.decodeRowResult+=h,p=f;try{for(var v=(o=void 0,y1(u)),g=v.next();!g.done;g=v.next()){var m=g.value;f+=m}}catch(R){o={error:R}}finally{try{g&&!g.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}f=r.getNextSet(f)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var _=0;try{for(var b=y1(u),x=b.next();!x.done;x=b.next()){var m=x.value;_+=m}}catch(R){a={error:R}}finally{try{x&&!x.done&&(l=b.return)&&l.call(b)}finally{if(a)throw a.error}}var w=f-p-_;if(f!==d&&w*2<_)throw new oe;if(this.usingCheckDigit){for(var E=this.decodeRowResult.length-1,S=0,P=0;P<E;P++)S+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(P));if(this.decodeRowResult.charAt(E)!==e.ALPHABET_STRING.charAt(S%43))throw new fn;this.decodeRowResult=this.decodeRowResult.substring(0,E)}if(this.decodeRowResult.length===0)throw new oe;var C;this.extendedMode?C=e.decodeExtended(this.decodeRowResult):C=this.decodeRowResult;var A=(c[1]+c[0])/2,T=p+_/2;return new tr(C,null,0,[new Pe(A,n),new Pe(T,n)],Be.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(n,r){for(var i=n.getSize(),o=n.getNextSet(0),s=0,a=o,l=!1,u=r.length,c=o;c<i;c++)if(n.get(c)!==l)r[s]++;else{if(s===u-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&n.isRange(Math.max(0,a-Math.floor((c-a)/2)),a,!1))return[a,c];a+=r[0]+r[1],r.copyWithin(0,2,2+s-1),r[s-1]=0,r[s]=0,s--}else s++;r[s]=1,l=!l}throw new oe},e.toNarrowWidePattern=function(n){var r,i,o=n.length,s=0,a;do{var l=2147483647;try{for(var u=(r=void 0,y1(n)),c=u.next();!c.done;c=u.next()){var f=c.value;f<l&&f>s&&(l=f)}}catch(y){r={error:y}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}s=l,a=0;for(var d=0,h=0,p=0;p<o;p++){var f=n[p];f>s&&(h|=1<<o-1-p,a++,d+=f)}if(a===3){for(var p=0;p<o&&a>0;p++){var f=n[p];if(f>s&&(a--,f*2>=d))return-1}return h}}while(a>3);return-1},e.patternToChar=function(n){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===n)return e.ALPHABET_STRING.charAt(r);if(n===e.ASTERISK_ENCODING)return"*";throw new oe},e.decodeExtended=function(n){for(var r=n.length,i="",o=0;o<r;o++){var s=n.charAt(o);if(s==="+"||s==="$"||s==="%"||s==="/"){var a=n.charAt(o+1),l="\0";switch(s){case"+":if(a>="A"&&a<="Z")l=String.fromCharCode(a.charCodeAt(0)+32);else throw new me;break;case"$":if(a>="A"&&a<="Z")l=String.fromCharCode(a.charCodeAt(0)-64);else throw new me;break;case"%":if(a>="A"&&a<="E")l=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")l=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")l=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")l=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")l="\0";else if(a==="V")l="@";else if(a==="W")l="`";else if(a==="X"||a==="Y"||a==="Z")l="";else throw new me;break;case"/":if(a>="A"&&a<="O")l=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")l=":";else throw new me;break}i+=l,o++}else i+=s}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(En),Fbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a3=function(t){Fbe(e,t);function e(){var n=t.call(this)||this;return n.decodeRowResult="",n.counters=new Int32Array(6),n}return e.prototype.decodeRow=function(n,r,i){var o,s,a,l,u=this.findAsteriskPattern(r),c=r.getNextSet(u[1]),f=r.getSize(),d=this.counters;d.fill(0),this.decodeRowResult="";var h,p;do{e.recordPattern(r,c,d);var y=this.toPattern(d);if(y<0)throw new oe;h=this.patternToChar(y),this.decodeRowResult+=h,p=c;try{for(var v=(o=void 0,_1(d)),g=v.next();!g.done;g=v.next()){var m=g.value;c+=m}}catch(P){o={error:P}}finally{try{g&&!g.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}c=r.getNextSet(c)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var _=0;try{for(var b=_1(d),x=b.next();!x.done;x=b.next()){var m=x.value;_+=m}}catch(P){a={error:P}}finally{try{x&&!x.done&&(l=b.return)&&l.call(b)}finally{if(a)throw a.error}}if(c===f||!r.get(c))throw new oe;if(this.decodeRowResult.length<2)throw new oe;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var w=this.decodeExtended(this.decodeRowResult),E=(u[1]+u[0])/2,S=p+_/2;return new tr(w,null,0,[new Pe(E,n),new Pe(S,n)],Be.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(n){var r=n.getSize(),i=n.getNextSet(0);this.counters.fill(0);for(var o=this.counters,s=i,a=!1,l=o.length,u=0,c=i;c<r;c++)if(n.get(c)!==a)o[u]++;else{if(u===l-1){if(this.toPattern(o)===e.ASTERISK_ENCODING)return new Int32Array([s,c]);s+=o[0]+o[1],o.copyWithin(0,2,2+u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,a=!a}throw new oe},e.prototype.toPattern=function(n){var r,i,o=0;try{for(var s=_1(n),a=s.next();!a.done;a=s.next()){var l=a.value;o+=l}}catch(p){r={error:p}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}for(var u=0,c=n.length,f=0;f<c;f++){var d=Math.round(n[f]*9/o);if(d<1||d>4)return-1;if(f&1)u<<=d;else for(var h=0;h<d;h++)u=u<<1|1}return u},e.prototype.patternToChar=function(n){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===n)return e.ALPHABET_STRING.charAt(r);throw new oe},e.prototype.decodeExtended=function(n){for(var r=n.length,i="",o=0;o<r;o++){var s=n.charAt(o);if(s>="a"&&s<="d"){if(o>=r-1)throw new me;var a=n.charAt(o+1),l="\0";switch(s){case"d":if(a>="A"&&a<="Z")l=String.fromCharCode(a.charCodeAt(0)+32);else throw new me;break;case"a":if(a>="A"&&a<="Z")l=String.fromCharCode(a.charCodeAt(0)-64);else throw new me;break;case"b":if(a>="A"&&a<="E")l=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")l=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")l=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")l=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")l="\0";else if(a==="V")l="@";else if(a==="W")l="`";else if(a>="X"&&a<="Z")l=String.fromCharCode(127);else throw new me;break;case"c":if(a>="A"&&a<="O")l=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")l=":";else throw new me;break}i+=l,o++}else i+=s}return i},e.prototype.checkChecksums=function(n){var r=n.length;this.checkOneChecksum(n,r-2,20),this.checkOneChecksum(n,r-1,15)},e.prototype.checkOneChecksum=function(n,r,i){for(var o=1,s=0,a=r-1;a>=0;a--)s+=o*e.ALPHABET_STRING.indexOf(n.charAt(a)),++o>i&&(o=1);if(n.charAt(r)!==e.ALPHABET_STRING[s%47])throw new fn},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(En),Lbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$be=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l3=function(t){Lbe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return e.prototype.decodeRow=function(n,r,i){var o,s,a=this.decodeStart(r),l=this.decodeEnd(r),u=new Ke;e.decodeMiddle(r,a[1],l[0],u);var c=u.toString(),f=null;i!=null&&(f=i.get(Ot.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var d=c.length,h=!1,p=0;try{for(var y=$be(f),v=y.next();!v.done;v=y.next()){var g=v.value;if(d===g){h=!0;break}g>p&&(p=g)}}catch(b){o={error:b}}finally{try{v&&!v.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}if(!h&&d>p&&(h=!0),!h)throw new me;var m=[new Pe(a[1],n),new Pe(l[0],n)],_=new tr(c,null,0,m,Be.ITF,new Date().getTime());return _},e.decodeMiddle=function(n,r,i,o){var s=new Int32Array(10),a=new Int32Array(5),l=new Int32Array(5);for(s.fill(0),a.fill(0),l.fill(0);r<i;){En.recordPattern(n,r,s);for(var u=0;u<5;u++){var c=2*u;a[u]=s[c],l[u]=s[c+1]}var f=e.decodeDigit(a);o.append(f.toString()),f=this.decodeDigit(l),o.append(f.toString()),s.forEach(function(d){r+=d})}},e.prototype.decodeStart=function(n){var r=e.skipWhiteSpace(n),i=e.findGuardPattern(n,r,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(n,i[0]),i},e.prototype.validateQuietZone=function(n,r){var i=this.narrowLineWidth*10;i=i<r?i:r;for(var o=r-1;i>0&&o>=0&&!n.get(o);o--)i--;if(i!==0)throw new oe},e.skipWhiteSpace=function(n){var r=n.getSize(),i=n.getNextSet(0);if(i===r)throw new oe;return i},e.prototype.decodeEnd=function(n){n.reverse();try{var r=e.skipWhiteSpace(n),i=void 0;try{i=e.findGuardPattern(n,r,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof oe&&(i=e.findGuardPattern(n,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,i[0]);var o=i[0];return i[0]=n.getSize()-i[1],i[1]=n.getSize()-o,i}finally{n.reverse()}},e.findGuardPattern=function(n,r,i){var o=i.length,s=new Int32Array(o),a=n.getSize(),l=!1,u=0,c=r;s.fill(0);for(var f=r;f<a;f++)if(n.get(f)!==l)s[u]++;else{if(u===o-1){if(En.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[c,f];c+=s[0]+s[1],It.arraycopy(s,2,s,0,u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,l=!l}throw new oe},e.decodeDigit=function(n){for(var r=e.MAX_AVG_VARIANCE,i=-1,o=e.PATTERNS.length,s=0;s<o;s++){var a=e.PATTERNS[s],l=En.patternMatchVariance(n,a,e.MAX_INDIVIDUAL_VARIANCE);l<r?(r=l,i=s):l===r&&(i=-1)}if(i>=0)return i%10;throw new oe},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(En),Ube=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),tc=function(t){Ube(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return e.findStartGuardPattern=function(n){for(var r=!1,i,o=0,s=Int32Array.from([0,0,0]);!r;){s=Int32Array.from([0,0,0]),i=e.findGuardPattern(n,o,!1,this.START_END_PATTERN,s);var a=i[0];o=i[1];var l=a-(o-a);l>=0&&(r=n.isRange(l,a,!1))}return i},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var i=parseInt(n.charAt(r-1),10);return e.getStandardUPCEANChecksum(n.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(n){for(var r=n.length,i=0,o=r-1;o>=0;o-=2){var s=n.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new me;i+=s}i*=3;for(var o=r-2;o>=0;o-=2){var s=n.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new me;i+=s}return(1e3-i)%10},e.decodeEnd=function(n,r){return e.findGuardPattern(n,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(n,r,i,o){return this.findGuardPattern(n,r,i,o,new Int32Array(o.length))},e.findGuardPattern=function(n,r,i,o,s){var a=n.getSize();r=i?n.getNextUnset(r):n.getNextSet(r);for(var l=0,u=r,c=o.length,f=i,d=r;d<a;d++)if(n.get(d)!==f)s[l]++;else{if(l===c-1){if(En.patternMatchVariance(s,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,d]);u+=s[0]+s[1];for(var h=s.slice(2,s.length),p=0;p<l-1;p++)s[p]=h[p];s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,f=!f}throw new oe},e.decodeDigit=function(n,r,i,o){this.recordPattern(n,i,r);for(var s=this.MAX_AVG_VARIANCE,a=-1,l=o.length,u=0;u<l;u++){var c=o[u],f=En.patternMatchVariance(r,c,e.MAX_INDIVIDUAL_VARIANCE);f<s&&(s=f,a=u)}if(a>=0)return a;throw new oe},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(En),Gbe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hbe=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,i),s=i.toString(),a=t.parseExtensionString(s),l=[new Pe((r[0]+r[1])/2,e),new Pe(o,e)],u=new tr(s,null,0,l,Be.UPC_EAN_EXTENSION,new Date().getTime());return a!=null&&u.putAllMetadata(a),u},t.prototype.decodeMiddle=function(e,n,r){var i,o,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var a=e.getSize(),l=n[1],u=0,c=0;c<5&&l<a;c++){var f=tc.decodeDigit(e,s,l,tc.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var d=(i=void 0,Gbe(s)),h=d.next();!h.done;h=d.next()){var p=h.value;l+=p}}catch(v){i={error:v}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}f>=10&&(u|=1<<4-c),c!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(r.length!==5)throw new oe;var y=this.determineCheckDigit(u);if(t.extensionChecksum(r.toString())!==y)throw new oe;return l},t.extensionChecksum=function(e){for(var n=e.length,r=0,i=n-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);r*=3;for(var i=n-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return r*=3,r%10},t.prototype.determineCheckDigit=function(e){for(var n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new oe},t.parseExtensionString=function(e){if(e.length!==5)return null;var n=t.parseExtension5String(e);return n==null?null:new Map([[Gn.SUGGESTED_PRICE,n]])},t.parseExtension5String=function(e){var n;switch(e.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}var r=parseInt(e.substring(1)),i=(r/100).toString(),o=r%100,s=o<10?"0"+o:o.toString();return n+i+"."+s},t}(),Vbe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zbe=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,i),s=i.toString(),a=t.parseExtensionString(s),l=[new Pe((r[0]+r[1])/2,e),new Pe(o,e)],u=new tr(s,null,0,l,Be.UPC_EAN_EXTENSION,new Date().getTime());return a!=null&&u.putAllMetadata(a),u},t.prototype.decodeMiddle=function(e,n,r){var i,o,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var a=e.getSize(),l=n[1],u=0,c=0;c<2&&l<a;c++){var f=tc.decodeDigit(e,s,l,tc.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+f%10);try{for(var d=(i=void 0,Vbe(s)),h=d.next();!h.done;h=d.next()){var p=h.value;l+=p}}catch(y){i={error:y}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}f>=10&&(u|=1<<1-c),c!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(r.length!==2)throw new oe;if(parseInt(r.toString())%4!==u)throw new oe;return l},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Gn.ISSUE_NUMBER,parseInt(e)]])},t}(),jbe=function(){function t(){}return t.decodeRow=function(e,n,r){var i=tc.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var o=new Hbe;return o.decodeRow(e,n,i)}catch{var s=new zbe;return s.decodeRow(e,n,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),Wbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_n=function(t){Wbe(e,t);function e(){var n=t.call(this)||this;n.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(a){return Int32Array.from(a)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],o=new Int32Array(i.length),s=0;s<i.length;s++)o[s]=i[i.length-s-1];e.L_AND_G_PATTERNS[r]=o}return n}return e.prototype.decodeRow=function(n,r,i){var o=e.findStartGuardPattern(r),s=i==null?null:i.get(Ot.NEED_RESULT_POINT_CALLBACK);if(s!=null){var a=new Pe((o[0]+o[1])/2,n);s.foundPossibleResultPoint(a)}var l=this.decodeMiddle(r,o,this.decodeRowStringBuffer),u=l.rowOffset,c=l.resultString;if(s!=null){var f=new Pe(u,n);s.foundPossibleResultPoint(f)}var d=e.decodeEnd(r,u);if(s!=null){var h=new Pe((d[0]+d[1])/2,n);s.foundPossibleResultPoint(h)}var p=d[1],y=p+(p-d[0]);if(y>=r.getSize()||!r.isRange(p,y,!1))throw new oe;var v=c.toString();if(v.length<8)throw new me;if(!e.checkChecksum(v))throw new fn;var g=(o[1]+o[0])/2,m=(d[1]+d[0])/2,_=this.getBarcodeFormat(),b=[new Pe(g,n),new Pe(m,n)],x=new tr(v,null,0,b,_,new Date().getTime()),w=0;try{var E=jbe.decodeRow(n,r,d[1]);x.putMetadata(Gn.UPC_EAN_EXTENSION,E.getText()),x.putAllMetadata(E.getResultMetadata()),x.addResultPoints(E.getResultPoints()),w=E.getText().length}catch{}var S=i==null?null:i.get(Ot.ALLOWED_EAN_EXTENSIONS);if(S!=null){var P=!1;for(var C in S)if(w.toString()===C){P=!0;break}if(!P)throw new oe}return _===Be.EAN_13||Be.UPC_A,x},e.checkChecksum=function(n){return e.checkStandardUPCEANChecksum(n)},e.checkStandardUPCEANChecksum=function(n){var r=n.length;if(r===0)return!1;var i=parseInt(n.charAt(r-1),10);return e.getStandardUPCEANChecksum(n.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(n){for(var r=n.length,i=0,o=r-1;o>=0;o-=2){var s=n.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new me;i+=s}i*=3;for(var o=r-2;o>=0;o-=2){var s=n.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new me;i+=s}return(1e3-i)%10},e.decodeEnd=function(n,r){return e.findGuardPattern(n,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(tc),Ybe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),u3=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gb=function(t){Ybe(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,r,i){var o,s,a,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var c=n.getSize(),f=r[1],d=0,h=0;h<6&&f<c;h++){var p=_n.decodeDigit(n,u,f,_n.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+p%10);try{for(var y=(o=void 0,u3(u)),v=y.next();!v.done;v=y.next()){var g=v.value;f+=g}}catch(x){o={error:x}}finally{try{v&&!v.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}p>=10&&(d|=1<<5-h)}i=e.determineFirstDigit(i,d);var m=_n.findGuardPattern(n,f,!0,_n.MIDDLE_PATTERN,new Int32Array(_n.MIDDLE_PATTERN.length).fill(0));f=m[1];for(var h=0;h<6&&f<c;h++){var p=_n.decodeDigit(n,u,f,_n.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+p);try{for(var _=(a=void 0,u3(u)),b=_.next();!b.done;b=_.next()){var g=b.value;f+=g}}catch(E){a={error:E}}finally{try{b&&!b.done&&(l=_.return)&&l.call(_)}finally{if(a)throw a.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return Be.EAN_13},e.determineFirstDigit=function(n,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return n=String.fromCharCode("0".charCodeAt(0)+i)+n,n;throw new oe},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(_n),Xbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),c3=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},f3=function(t){Xbe(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return e.prototype.decodeMiddle=function(n,r,i){var o,s,a,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var c=n.getSize(),f=r[1],d=0;d<4&&f<c;d++){var h=_n.decodeDigit(n,u,f,_n.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+h);try{for(var p=(o=void 0,c3(u)),y=p.next();!y.done;y=p.next()){var v=y.value;f+=v}}catch(b){o={error:b}}finally{try{y&&!y.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}}var g=_n.findGuardPattern(n,f,!0,_n.MIDDLE_PATTERN,new Int32Array(_n.MIDDLE_PATTERN.length).fill(0));f=g[1];for(var d=0;d<4&&f<c;d++){var h=_n.decodeDigit(n,u,f,_n.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+h);try{for(var m=(a=void 0,c3(u)),_=m.next();!_.done;_=m.next()){var v=_.value;f+=v}}catch(w){a={error:w}}finally{try{_&&!_.done&&(l=m.return)&&l.call(m)}finally{if(a)throw a.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return Be.EAN_8},e}(_n),Kbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),d3=function(t){Kbe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.ean13Reader=new gb,n}return e.prototype.getBarcodeFormat=function(){return Be.UPC_A},e.prototype.decode=function(n,r){return this.maybeReturnResult(this.ean13Reader.decode(n))},e.prototype.decodeRow=function(n,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,r,i))},e.prototype.decodeMiddle=function(n,r,i){return this.ean13Reader.decodeMiddle(n,r,i)},e.prototype.maybeReturnResult=function(n){var r=n.getText();if(r.charAt(0)==="0"){var i=new tr(r.substring(1),null,null,n.getResultPoints(),Be.UPC_A);return n.getResultMetadata()!=null&&i.putAllMetadata(n.getResultMetadata()),i}else throw new oe},e.prototype.reset=function(){this.ean13Reader.reset()},e}(_n),qbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zbe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},h3=function(t){qbe(e,t);function e(){var n=t.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return e.prototype.decodeMiddle=function(n,r,i){var o,s,a=this.decodeMiddleCounters.map(function(v){return v});a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var l=n.getSize(),u=r[1],c=0,f=0;f<6&&u<l;f++){var d=e.decodeDigit(n,a,u,e.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+d%10);try{for(var h=(o=void 0,Zbe(a)),p=h.next();!p.done;p=h.next()){var y=p.value;u+=y}}catch(v){o={error:v}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}d>=10&&(c|=1<<5-f)}return e.determineNumSysAndCheckDigit(new Ke(i),c),u},e.prototype.decodeEnd=function(n,r){return e.findGuardPatternWithoutCounters(n,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(n){return _n.checkChecksum(e.convertUPCEtoUPCA(n))},e.determineNumSysAndCheckDigit=function(n,r){for(var i=0;i<=1;i++)for(var o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){n.insert(0,"0"+i),n.append("0"+o);return}throw oe.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Be.UPC_E},e.convertUPCEtoUPCA=function(n){var r=n.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),i=new Ke;i.append(n.charAt(0));var o=r[5];switch(o){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(o),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(o);break}return n.length>=8&&i.append(n.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(_n),Jbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),p3=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},b1=function(t){Jbe(e,t);function e(n){var r=t.call(this)||this,i=n==null?null:n.get(Ot.POSSIBLE_FORMATS),o=[];return i!=null&&(i.indexOf(Be.EAN_13)>-1&&o.push(new gb),i.indexOf(Be.UPC_A)>-1&&o.push(new d3),i.indexOf(Be.EAN_8)>-1&&o.push(new f3),i.indexOf(Be.UPC_E)>-1&&o.push(new h3)),o.length===0&&(o.push(new gb),o.push(new d3),o.push(new f3),o.push(new h3)),r.readers=o,r}return e.prototype.decodeRow=function(n,r,i){var o,s;try{for(var a=p3(this.readers),l=a.next();!l.done;l=a.next()){var u=l.value;try{var c=u.decodeRow(n,r,i),f=c.getBarcodeFormat()===Be.EAN_13&&c.getText().charAt(0)==="0",d=i==null?null:i.get(Ot.POSSIBLE_FORMATS),h=d==null||d.includes(Be.UPC_A);if(f&&h){var p=c.getRawBytes(),y=new tr(c.getText().substring(1),p,p?p.length:null,c.getResultPoints(),Be.UPC_A);return y.putAllMetadata(c.getResultMetadata()),y}return c}catch{}}}catch(v){o={error:v}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}throw new oe},e.prototype.reset=function(){var n,r;try{for(var i=p3(this.readers),o=i.next();!o.done;o=i.next()){var s=o.value;s.reset()}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e}(En),Qbe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),exe=function(t){Qbe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},n}return e.prototype.decodeRow=function(n,r,i){var o=this.getValidRowData(r);if(!o)throw new oe;var s=this.codaBarDecodeRow(o.row);if(!s)throw new oe;return new tr(s,null,0,[new Pe(o.left,n),new Pe(o.right,n)],Be.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(n){var r=n.toArray(),i=r.indexOf(!0);if(i===-1)return null;var o=r.lastIndexOf(!0);if(o<=i)return null;r=r.slice(i,o+1);for(var s=[],a=r[0],l=1,u=1;u<r.length;u++)r[u]===a?l++:(a=r[u],s.push(l),l=1);return s.push(l),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:i,right:o}},e.prototype.codaBarDecodeRow=function(n){for(var r=[],i=Math.ceil(n.reduce(function(l,u){return(l+u)/2},0));n.length>0;){var o=n.splice(0,8).splice(0,7),s=o.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[s])}var a=r.join("");return this.validCodaBarString(a)?a:null},e.prototype.validCodaBarString=function(n){var r=/^[A-D].{1,}[A-D]$/;return r.test(n)},e}(En),txe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nxe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ma=function(t){txe(e,t);function e(){var n=t.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(n,r){for(var i=0;i<r.length;i++)if(En.patternMatchVariance(n,r[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new oe},e.count=function(n){return ft.sum(new Int32Array(n))},e.increment=function(n,r){for(var i=0,o=r[0],s=1;s<n.length;s++)r[s]>o&&(o=r[s],i=s);n[i]++},e.decrement=function(n,r){for(var i=0,o=r[0],s=1;s<n.length;s++)r[s]<o&&(o=r[s],i=s);n[i]--},e.isFinderPattern=function(n){var r,i,o=n[0]+n[1],s=o+n[2]+n[3],a=o/s;if(a>=e.MIN_FINDER_PATTERN_RATIO&&a<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var c=nxe(n),f=c.next();!f.done;f=c.next()){var d=f.value;d>u&&(u=d),d<l&&(l=d)}}catch(h){r={error:h}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return u<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(En),M0=function(){function t(e,n){this.value=e,this.checksumPortion=n}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),rL=function(){function t(e,n,r,i,o){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new Pe(r,o)),this.resultPoints.push(new Pe(i,o))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.hashCode=function(){return this.value},t}(),rxe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gu=function(){function t(){}return t.getRSSvalue=function(e,n,r){var i,o,s=0;try{for(var a=rxe(e),l=a.next();!l.done;l=a.next()){var u=l.value;s+=u}}catch(m){i={error:m}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}for(var c=0,f=0,d=e.length,h=0;h<d-1;h++){var p=void 0;for(p=1,f|=1<<h;p<e[h];p++,f&=~(1<<h)){var y=t.combins(s-p-1,d-h-2);if(r&&f===0&&s-p-(d-h-1)>=d-h-1&&(y-=t.combins(s-p-(d-h),d-h-2)),d-h-1>1){for(var v=0,g=s-p-(d-h-2);g>n;g--)v+=t.combins(s-p-g-1,d-h-3);y-=v*(d-1-h)}else s-p>n&&y--;c+=y}s-=p}return c},t.combins=function(e,n){var r,i;e-n>n?(i=n,r=e-n):(i=e-n,r=n);for(var o=1,s=1,a=e;a>r;a--)o*=a,s<=i&&(o/=s,s++);for(;s<=i;)o/=s,s++;return o},t}(),ixe=function(){function t(){}return t.buildBitArray=function(e){var n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);for(var r=12*n,i=new Dn(r),o=0,s=e[0],a=s.getRightChar().getValue(),l=11;l>=0;--l)a&1<<l&&i.set(o),o++;for(var l=1;l<e.length;++l){for(var u=e[l],c=u.getLeftChar().getValue(),f=11;f>=0;--f)c&1<<f&&i.set(o),o++;if(u.getRightChar()!==null)for(var d=u.getRightChar().getValue(),f=11;f>=0;--f)d&1<<f&&i.set(o),o++}return i},t}(),Sa=function(){function t(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),qE=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),oxe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wi=function(t){oxe(e,t);function e(n,r){var i=t.call(this,n)||this;return i.value=r,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(qE),sxe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ca=function(t){sxe(e,t);function e(n,r,i){var o=t.call(this,n)||this;return i?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=r,o}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(qE),axe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nu=function(t){axe(e,t);function e(n,r,i){var o=t.call(this,n)||this;if(r<0||r>10||i<0||i>10)throw new me;return o.firstDigit=r,o.secondDigit=i,o}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(qE),up=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lxe=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var n,r,i,o,s,a,l,u;if(!e)return null;if(e.length<2)throw new oe;var c=e.substring(0,2);try{for(var f=up(t.TWO_DIGIT_DATA_LENGTH),d=f.next();!d.done;d=f.next()){var h=d.value;if(h[0]===c)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,h[2],e):t.processFixedAI(2,h[1],e)}}catch(w){n={error:w}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}if(e.length<3)throw new oe;var p=e.substring(0,3);try{for(var y=up(t.THREE_DIGIT_DATA_LENGTH),v=y.next();!v.done;v=y.next()){var h=v.value;if(h[0]===p)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,h[2],e):t.processFixedAI(3,h[1],e)}}catch(w){i={error:w}}finally{try{v&&!v.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}try{for(var g=up(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),m=g.next();!m.done;m=g.next()){var h=m.value;if(h[0]===p)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,h[2],e):t.processFixedAI(4,h[1],e)}}catch(w){s={error:w}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(s)throw s.error}}if(e.length<4)throw new oe;var _=e.substring(0,4);try{for(var b=up(t.FOUR_DIGIT_DATA_LENGTH),x=b.next();!x.done;x=b.next()){var h=x.value;if(h[0]===_)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,h[2],e):t.processFixedAI(4,h[1],e)}}catch(w){l={error:w}}finally{try{x&&!x.done&&(u=b.return)&&u.call(b)}finally{if(l)throw l.error}}throw new oe},t.processFixedAI=function(e,n,r){if(r.length<e)throw new oe;var i=r.substring(0,e);if(r.length<e+n)throw new oe;var o=r.substring(e,e+n),s=r.substring(e+n),a="("+i+")"+o,l=t.parseFieldsInGeneralPurpose(s);return l==null?a:a+l},t.processVariableAI=function(e,n,r){var i=r.substring(0,e),o;r.length<e+n?o=r.length:o=e+n;var s=r.substring(e,o),a=r.substring(o),l="("+i+")"+s,u=t.parseFieldsInGeneralPurpose(a);return u==null?l:l+u},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),Fp=function(){function t(e){this.buffer=new Ke,this.information=e}return t.prototype.decodeAllCodes=function(e,n){var r=n,i=null;do{var o=this.decodeGeneralPurposeField(r,i),s=lxe.parseFieldsInGeneralPurpose(o.getNewString());if(s!=null&&e.append(s),o.isRemaining()?i=""+o.getRemainingValue():i=null,r===o.getNewPosition())break;r=o.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(e,4);return n===0?new nu(this.information.getSize(),nu.FNC1,nu.FNC1):new nu(this.information.getSize(),n-1,nu.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,o=(r-8)%11;return new nu(e+7,i,o)},t.prototype.extractNumericValueFromBitArray=function(e,n){return t.extractNumericValueFromBitArray(this.information,e,n)},t.extractNumericValueFromBitArray=function(e,n,r){for(var i=0,o=0;o<r;++o)e.get(n+o)&&(i|=1<<r-o-1);return i},t.prototype.decodeGeneralPurposeField=function(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new Ca(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Ca(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,n;do{var r=this.current.getPosition();this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished());var i=r!==this.current.getPosition();if(!i&&!e)break}while(!e);return n.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var n=void 0;return e.isSecondDigitFNC1()?n=new Ca(this.current.getPosition(),this.buffer.toString()):n=new Ca(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Sa(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var n=new Ca(this.current.getPosition(),this.buffer.toString());return new Sa(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Sa(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new Ca(this.current.getPosition(),this.buffer.toString());return new Sa(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Sa(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var n=new Ca(this.current.getPosition(),this.buffer.toString());return new Sa(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Sa(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new wi(e+5,wi.FNC1);if(n>=5&&n<15)return new wi(e+5,"0"+(n-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new wi(e+7,""+(r+1));if(r>=90&&r<116)return new wi(e+7,""+(r+7));var i=this.extractNumericValueFromBitArray(e,8),o;switch(i){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new me}return new wi(e+8,o)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},t.prototype.decodeAlphanumeric=function(e){var n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new wi(e+5,wi.FNC1);if(n>=5&&n<15)return new wi(e+5,"0"+(n-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new wi(e+6,""+(r+33));var i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new rh("Decoding invalid alphanumeric value: "+r)}return new wi(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0},t}(),iL=function(){function t(e){this.information=e,this.generalDecoder=new Fp(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),uxe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oi=function(t){uxe(e,t);function e(n){return t.call(this,n)||this}return e.prototype.encodeCompressedGtin=function(n,r){n.append("(01)");var i=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,r,i)},e.prototype.encodeCompressedGtinWithoutAI=function(n,r,i){for(var o=0;o<4;++o){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);s/100===0&&n.append("0"),s/10===0&&n.append("0"),n.append(s)}e.appendCheckDigit(n,i)},e.appendCheckDigit=function(n,r){for(var i=0,o=0;o<13;o++){var s=n.charAt(o+r).charCodeAt(0)-"0".charCodeAt(0);i+=o&1?s:3*s}i=10-i%10,i===10&&(i=0),n.append(i)},e.GTIN_SIZE=40,e}(iL),cxe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fxe=function(t){cxe(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new Ke;n.append("(01)");var r=n.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return n.append(i),this.encodeCompressedGtinWithoutAI(n,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE+44)},e.HEADER_SIZE=1+1+2,e}(Oi),dxe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hxe=function(t){dxe(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){var n=new Ke;return this.getGeneralDecoder().decodeAllCodes(n,e.HEADER_SIZE)},e.HEADER_SIZE=2+1+2,e}(iL),pxe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lp=function(t){pxe(e,t);function e(n){return t.call(this,n)||this}return e.prototype.encodeCompressedWeight=function(n,r,i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(n,o);for(var s=this.checkWeight(o),a=1e5,l=0;l<5;++l)s/a===0&&n.append("0"),a/=10;n.append(s)},e}(Oi),gxe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oL=function(t){gxe(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Lp.GTIN_SIZE+e.WEIGHT_SIZE)throw new oe;var n=new Ke;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+Lp.GTIN_SIZE,e.WEIGHT_SIZE),n.toString()},e.HEADER_SIZE=4+1,e.WEIGHT_SIZE=15,e}(Lp),mxe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vxe=function(t){mxe(e,t);function e(n){return t.call(this,n)||this}return e.prototype.addWeightCode=function(n,r){n.append("(3103)")},e.prototype.checkWeight=function(n){return n},e}(oL),yxe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_xe=function(t){yxe(e,t);function e(n){return t.call(this,n)||this}return e.prototype.addWeightCode=function(n,r){r<1e4?n.append("(3202)"):n.append("(3203)")},e.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},e}(oL),bxe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xxe=function(t){bxe(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Oi.GTIN_SIZE)throw new oe;var n=new Ke;this.encodeCompressedGtin(n,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Oi.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(392"),n.append(r),n.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Oi.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return n.append(i.getNewString()),n.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e}(Oi),wxe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Exe=function(t){wxe(e,t);function e(n){return t.call(this,n)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Oi.GTIN_SIZE)throw new oe;var n=new Ke;this.encodeCompressedGtin(n,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Oi.GTIN_SIZE,e.LAST_DIGIT_SIZE);n.append("(393"),n.append(r),n.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Oi.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&n.append("0"),i/10===0&&n.append("0"),n.append(i);var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Oi.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return n.append(o.getNewString()),n.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Oi),Sxe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xs=function(t){Sxe(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.dateCode=i,o.firstAIdigits=r,o}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new oe;var n=new Ke;return this.encodeCompressedGtin(n,e.HEADER_SIZE),this.encodeCompressedWeight(n,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(n,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),n.toString()},e.prototype.encodeCompressedDate=function(n,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(i!==38400){n.append("("),n.append(this.dateCode),n.append(")");var o=i%32;i/=32;var s=i%12+1;i/=12;var a=i;a/10===0&&n.append("0"),n.append(a),s/10===0&&n.append("0"),n.append(s),o/10===0&&n.append("0"),n.append(o)}},e.prototype.addWeightCode=function(n,r){n.append("("),n.append(this.firstAIdigits),n.append(r/1e5),n.append(")")},e.prototype.checkWeight=function(n){return n%1e5},e.HEADER_SIZE=7+1,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Lp);function Cxe(t){try{if(t.get(1))return new fxe(t);if(!t.get(2))return new hxe(t);var e=Fp.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new vxe(t);case 5:return new _xe(t)}var n=Fp.extractNumericValueFromBitArray(t,1,5);switch(n){case 12:return new xxe(t);case 13:return new Exe(t)}var r=Fp.extractNumericValueFromBitArray(t,1,7);switch(r){case 56:return new xs(t,"310","11");case 57:return new xs(t,"320","11");case 58:return new xs(t,"310","13");case 59:return new xs(t,"320","13");case 60:return new xs(t,"310","15");case 61:return new xs(t,"320","15");case 62:return new xs(t,"310","17");case 63:return new xs(t,"320","17")}}catch(i){throw console.log(i),new rh("unknown decoder: "+t)}}var g3=function(){function t(e,n,r,i){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,n){return e instanceof t?t.equalsOrNull(e.leftchar,n.leftchar)&&t.equalsOrNull(e.rightchar,n.rightchar)&&t.equalsOrNull(e.finderpattern,n.finderpattern):!1},t.equalsOrNull=function(e,n){return e===null?n===null:t.equals(e,n)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),Axe=function(){function t(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,n){return e instanceof t?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1},t.prototype.checkEqualitity=function(e,n){if(!(!e||!n)){var r;return e.forEach(function(i,o){n.forEach(function(s){i.getLeftChar().getValue()===s.getLeftChar().getValue()&&i.getRightChar().getValue()===s.getRightChar().getValue()&&i.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(r=!0)})}),r}},t}(),Txe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ws=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pxe=function(t){Txe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pairs=new Array(e.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return e.prototype.decodeRow=function(n,r,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(n,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(n,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(n,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,n))}catch(a){if(a instanceof oe){if(!this.pairs.length)throw new oe;i=!0}}if(this.checkChecksum())return this.pairs;var o;if(this.rows.length?o=!0:o=!1,this.storeRow(n,!1),o){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new oe},e.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return n&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(n,r){for(var i,o,s=r;s<this.rows.length;s++){var a=this.rows[s];this.pairs.length=0;try{for(var l=(i=void 0,ws(n)),u=l.next();!u.done;u=l.next()){var c=u.value;this.pairs.push(c.getPairs())}}catch(d){i={error:d}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(a.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(n);f.push(a);try{return this.checkRows(f,s+1)}catch(d){console.log(d)}}}throw new oe},e.isValidSequence=function(n){var r,i;try{for(var o=ws(e.FINDER_PATTERN_SEQUENCES),s=o.next();!s.done;s=o.next()){var a=s.value;if(!(n.length>a.length)){for(var l=!0,u=0;u<n.length;u++)if(n[u].getFinderPattern().getValue()!==a[u]){l=!1;break}if(l)return!0}}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(n,r){for(var i=0,o=!1,s=!1;i<this.rows.length;){var a=this.rows[i];if(a.getRowNumber()>n){s=a.isEquivalent(this.pairs);break}o=a.isEquivalent(this.pairs),i++}s||o||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Axe(this.pairs,n,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(n,r){var i,o,s,a,l,u;try{for(var c=ws(r),f=c.next();!f.done;f=c.next()){var d=f.value;if(d.getPairs().length!==n.length){var h=!0;try{for(var p=(s=void 0,ws(d.getPairs())),y=p.next();!y.done;y=p.next()){var v=y.value,g=!1;try{for(var m=(l=void 0,ws(n)),_=m.next();!_.done;_=m.next()){var b=_.value;if(g3.equals(v,b)){g=!0;break}}}catch(x){l={error:x}}finally{try{_&&!_.done&&(u=m.return)&&u.call(m)}finally{if(l)throw l.error}}g||(h=!1)}}catch(x){s={error:x}}finally{try{y&&!y.done&&(a=p.return)&&a.call(p)}finally{if(s)throw s.error}}}}}catch(x){i={error:x}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}},e.isPartialRow=function(n,r){var i,o,s,a,l,u;try{for(var c=ws(r),f=c.next();!f.done;f=c.next()){var d=f.value,h=!0;try{for(var p=(s=void 0,ws(n)),y=p.next();!y.done;y=p.next()){var v=y.value,g=!1;try{for(var m=(l=void 0,ws(d.getPairs())),_=m.next();!_.done;_=m.next()){var b=_.value;if(v.equals(b)){g=!0;break}}}catch(x){l={error:x}}finally{try{_&&!_.done&&(u=m.return)&&u.call(m)}finally{if(l)throw l.error}}if(!g){h=!1;break}}}catch(x){s={error:x}}finally{try{y&&!y.done&&(a=p.return)&&a.call(p)}finally{if(s)throw s.error}}if(h)return!0}}catch(x){i={error:x}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(n){var r=ixe.buildBitArray(n),i=Cxe(r),o=i.parseInformation(),s=n[0].getFinderPattern().getResultPoints(),a=n[n.length-1].getFinderPattern().getResultPoints(),l=[s[0],s[1],a[0],a[1]];return new tr(o,null,null,l,Be.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var n=this.pairs.get(0),r=n.getLeftChar(),i=n.getRightChar();if(i===null)return!1;for(var o=i.getChecksumPortion(),s=2,a=1;a<this.pairs.size();++a){var l=this.pairs.get(a);o+=l.getLeftChar().getChecksumPortion(),s++;var u=l.getRightChar();u!=null&&(o+=u.getChecksumPortion(),s++)}o%=211;var c=211*(s-4)+o;return c===r.getValue()},e.getNextSecondBar=function(n,r){var i;return n.get(r)?(i=n.getNextUnset(r),i=n.getNextSet(i)):(i=n.getNextSet(r),i=n.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(n,r,i){var o=r.length%2===0;this.startFromEven&&(o=!o);var s,a=!0,l=-1;do this.findNextPair(n,r,l),s=this.parseFoundFinderPattern(n,i,o),s===null?l=e.getNextSecondBar(n,this.startEnd[0]):a=!1;while(a);var u=this.decodeDataCharacter(n,s,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new oe;var c;try{c=this.decodeDataCharacter(n,s,o,!1)}catch(f){c=null,console.log(f)}return new g3(u,c,s,!0)},e.prototype.isEmptyPair=function(n){return n.length===0},e.prototype.findNextPair=function(n,r,i){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var s=n.getSize(),a;if(i>=0)a=i;else if(this.isEmptyPair(r))a=0;else{var l=r[r.length-1];a=l.getFinderPattern().getStartEnd()[1]}var u=r.length%2!==0;this.startFromEven&&(u=!u);for(var c=!1;a<s&&(c=!n.get(a),!!c);)a++;for(var f=0,d=a,h=a;h<s;h++)if(n.get(h)!==c)o[f]++;else{if(f===3){if(u&&e.reverseCounters(o),e.isFinderPattern(o)){this.startEnd[0]=d,this.startEnd[1]=h;return}u&&e.reverseCounters(o),d+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,f--}else f++;o[f]=1,c=!c}throw new oe},e.reverseCounters=function(n){for(var r=n.length,i=0;i<r/2;++i){var o=n[i];n[i]=n[r-i-1],n[r-i-1]=o}},e.prototype.parseFoundFinderPattern=function(n,r,i){var o,s,a;if(i){for(var l=this.startEnd[0]-1;l>=0&&!n.get(l);)l--;l++,o=this.startEnd[0]-l,s=l,a=this.startEnd[1]}else s=this.startEnd[0],a=n.getNextUnset(this.startEnd[1]+1),o=a-this.startEnd[1];var u=this.getDecodeFinderCounters();It.arraycopy(u,0,u,1,u.length-1),u[0]=o;var c;try{c=this.parseFinderValue(u,e.FINDER_PATTERNS)}catch{return null}return new rL(c,[s,a],s,a,r)},e.prototype.decodeDataCharacter=function(n,r,i,o){for(var s=this.getDataCharacterCounters(),a=0;a<s.length;a++)s[a]=0;if(o)e.recordPatternInReverse(n,r.getStartEnd()[0],s);else{e.recordPattern(n,r.getStartEnd()[1],s);for(var l=0,u=s.length-1;l<u;l++,u--){var c=s[l];s[l]=s[u],s[u]=c}}var f=17,d=ft.sum(new Int32Array(s))/f,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new oe;for(var p=this.getOddCounts(),y=this.getEvenCounts(),v=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors(),l=0;l<s.length;l++){var m=1*s[l]/d,_=m+.5;if(_<1){if(m<.3)throw new oe;_=1}else if(_>8){if(m>8.7)throw new oe;_=8}var b=l/2;l&1?(y[b]=_,g[b]=m-_):(p[b]=_,v[b]=m-_)}this.adjustOddEvenCounts(f);for(var x=4*r.getValue()+(i?0:2)+(o?0:1)-1,w=0,E=0,l=p.length-1;l>=0;l--){if(e.isNotA1left(r,i,o)){var S=e.WEIGHTS[x][2*l];E+=p[l]*S}w+=p[l]}for(var P=0,l=y.length-1;l>=0;l--)if(e.isNotA1left(r,i,o)){var S=e.WEIGHTS[x][2*l+1];P+=y[l]*S}var C=E+P;if(w&1||w>13||w<4)throw new oe;var A=(13-w)/2,T=e.SYMBOL_WIDEST[A],R=9-T,N=gu.getRSSvalue(p,T,!0),G=gu.getRSSvalue(y,R,!1),k=e.EVEN_TOTAL_SUBSET[A],U=e.GSUM[A],W=N*k+G+U;return new M0(W,C)},e.isNotA1left=function(n,r,i){return!(n.getValue()===0&&r&&i)},e.prototype.adjustOddEvenCounts=function(n){var r=ft.sum(new Int32Array(this.getOddCounts())),i=ft.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1;r>13?s=!0:r<4&&(o=!0);var a=!1,l=!1;i>13?l=!0:i<4&&(a=!0);var u=r+i-n,c=(r&1)===1,f=(i&1)===0;if(u===1)if(c){if(f)throw new oe;s=!0}else{if(!f)throw new oe;l=!0}else if(u===-1)if(c){if(f)throw new oe;o=!0}else{if(!f)throw new oe;a=!0}else if(u===0){if(c){if(!f)throw new oe;r<i?(o=!0,l=!0):(s=!0,a=!0)}else if(f)throw new oe}else throw new oe;if(o){if(s)throw new oe;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(l)throw new oe;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(Ma),Ixe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oxe=function(t){Ixe(e,t);function e(n,r,i){var o=t.call(this,n,r)||this;return o.count=0,o.finderPattern=i,o}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(M0),Rxe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),x1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},m3=function(t){Rxe(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return e.prototype.decodeRow=function(n,r,i){var o,s,a,l,u=this.decodePair(r,!1,n,i);e.addOrTally(this.possibleLeftPairs,u),r.reverse();var c=this.decodePair(r,!0,n,i);e.addOrTally(this.possibleRightPairs,c),r.reverse();try{for(var f=x1(this.possibleLeftPairs),d=f.next();!d.done;d=f.next()){var h=d.value;if(h.getCount()>1)try{for(var p=(a=void 0,x1(this.possibleRightPairs)),y=p.next();!y.done;y=p.next()){var v=y.value;if(v.getCount()>1&&e.checkChecksum(h,v))return e.constructResult(h,v)}}catch(g){a={error:g}}finally{try{y&&!y.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}}}catch(g){o={error:g}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}throw new oe},e.addOrTally=function(n,r){var i,o;if(r!=null){var s=!1;try{for(var a=x1(n),l=a.next();!l.done;l=a.next()){var u=l.value;if(u.getValue()===r.getValue()){u.incrementCount(),s=!0;break}}}catch(c){i={error:c}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}s||n.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(n,r){for(var i=4537077*n.getValue()+r.getValue(),o=new String(i).toString(),s=new Ke,a=13-o.length;a>0;a--)s.append("0");s.append(o);for(var l=0,a=0;a<13;a++){var u=s.charAt(a).charCodeAt(0)-"0".charCodeAt(0);l+=a&1?u:3*u}l=10-l%10,l===10&&(l=0),s.append(l.toString());var c=n.getFinderPattern().getResultPoints(),f=r.getFinderPattern().getResultPoints();return new tr(s.toString(),null,0,[c[0],c[1],f[0],f[1]],Be.RSS_14,new Date().getTime())},e.checkChecksum=function(n,r){var i=(n.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*n.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o},e.prototype.decodePair=function(n,r,i,o){try{var s=this.findFinderPattern(n,r),a=this.parseFoundFinderPattern(n,i,r,s),l=o==null?null:o.get(Ot.NEED_RESULT_POINT_CALLBACK);if(l!=null){var u=(s[0]+s[1])/2;r&&(u=n.getSize()-1-u),l.foundPossibleResultPoint(new Pe(u,i))}var c=this.decodeDataCharacter(n,a,!0),f=this.decodeDataCharacter(n,a,!1);return new Oxe(1597*c.getValue()+f.getValue(),c.getChecksumPortion()+4*f.getChecksumPortion(),a)}catch{return null}},e.prototype.decodeDataCharacter=function(n,r,i){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(i)En.recordPatternInReverse(n,r.getStartEnd()[0],o);else{En.recordPattern(n,r.getStartEnd()[1]+1,o);for(var a=0,l=o.length-1;a<l;a++,l--){var u=o[a];o[a]=o[l],o[l]=u}}for(var c=i?16:15,f=ft.sum(new Int32Array(o))/c,d=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors(),a=0;a<o.length;a++){var v=o[a]/f,g=Math.floor(v+.5);g<1?g=1:g>8&&(g=8);var m=Math.floor(a/2);a&1?(h[m]=g,y[m]=v-g):(d[m]=g,p[m]=v-g)}this.adjustOddEvenCounts(i,c);for(var _=0,b=0,a=d.length-1;a>=0;a--)b*=9,b+=d[a],_+=d[a];for(var x=0,w=0,a=h.length-1;a>=0;a--)x*=9,x+=h[a],w+=h[a];var E=b+3*x;if(i){if(_&1||_>12||_<4)throw new oe;var S=(12-_)/2,P=e.OUTSIDE_ODD_WIDEST[S],C=9-P,A=gu.getRSSvalue(d,P,!1),T=gu.getRSSvalue(h,C,!0),R=e.OUTSIDE_EVEN_TOTAL_SUBSET[S],N=e.OUTSIDE_GSUM[S];return new M0(A*R+T+N,E)}else{if(w&1||w>10||w<4)throw new oe;var S=(10-w)/2,P=e.INSIDE_ODD_WIDEST[S],C=9-P,A=gu.getRSSvalue(d,P,!0),T=gu.getRSSvalue(h,C,!1),G=e.INSIDE_ODD_TOTAL_SUBSET[S],N=e.INSIDE_GSUM[S];return new M0(T*G+A+N,E)}},e.prototype.findFinderPattern=function(n,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var o=n.getSize(),s=!1,a=0;a<o&&(s=!n.get(a),r!==s);)a++;for(var l=0,u=a,c=a;c<o;c++)if(n.get(c)!==s)i[l]++;else{if(l===3){if(Ma.isFinderPattern(i))return[u,c];u+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,s=!s}throw new oe},e.prototype.parseFoundFinderPattern=function(n,r,i,o){for(var s=n.get(o[0]),a=o[0]-1;a>=0&&s!==n.get(a);)a--;a++;var l=o[0]-a,u=this.getDecodeFinderCounters(),c=new Int32Array(u.length);It.arraycopy(u,0,c,1,u.length-1),c[0]=l;var f=this.parseFinderValue(c,e.FINDER_PATTERNS),d=a,h=o[1];return i&&(d=n.getSize()-1-d,h=n.getSize()-1-h),new rL(f,[a,o[1]],d,h,r)},e.prototype.adjustOddEvenCounts=function(n,r){var i=ft.sum(new Int32Array(this.getOddCounts())),o=ft.sum(new Int32Array(this.getEvenCounts())),s=!1,a=!1,l=!1,u=!1;n?(i>12?a=!0:i<4&&(s=!0),o>12?u=!0:o<4&&(l=!0)):(i>11?a=!0:i<5&&(s=!0),o>10?u=!0:o<4&&(l=!0));var c=i+o-r,f=(i&1)===(n?1:0),d=(o&1)===1;if(c===1)if(f){if(d)throw new oe;a=!0}else{if(!d)throw new oe;u=!0}else if(c===-1)if(f){if(d)throw new oe;s=!0}else{if(!d)throw new oe;l=!0}else if(c===0){if(f){if(!d)throw new oe;i<o?(s=!0,u=!0):(a=!0,l=!0)}else if(d)throw new oe}else throw new oe;if(s){if(a)throw new oe;Ma.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&Ma.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new oe;Ma.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&Ma.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Ma),Mxe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mu=function(t){Mxe(e,t);function e(n){var r=t.call(this)||this;r.readers=[];var i=n?n.get(Ot.POSSIBLE_FORMATS):null,o=n&&n.get(Ot.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,s=n&&n.get(Ot.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Be.EAN_13)||i.includes(Be.UPC_A)||i.includes(Be.EAN_8)||i.includes(Be.UPC_E))&&r.readers.push(new b1(n)),i.includes(Be.CODE_39)&&r.readers.push(new s3(o,s)),i.includes(Be.CODE_93)&&r.readers.push(new a3),i.includes(Be.CODE_128)&&r.readers.push(new o3),i.includes(Be.ITF)&&r.readers.push(new l3),i.includes(Be.CODABAR)&&r.readers.push(new exe),i.includes(Be.RSS_14)&&r.readers.push(new m3),i.includes(Be.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new Pxe))),r.readers.length===0&&(r.readers.push(new b1(n)),r.readers.push(new s3),r.readers.push(new a3),r.readers.push(new b1(n)),r.readers.push(new o3),r.readers.push(new l3),r.readers.push(new m3)),r}return e.prototype.decodeRow=function(n,r,i){for(var o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(n,r,i)}catch{}throw new oe},e.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},e}(En),Dxe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){Dxe(e,t);function e(n,r){return n===void 0&&(n=500),t.call(this,new mu(r),n,r)||this}return e})(yc);var v3=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gt=function(){function t(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),dt=function(){function t(e,n){this.count=e,this.dataCodewords=n}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),Bxe=function(){function t(e,n,r,i,o,s){var a,l;this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=o,this.ecBlocks=s;var u=0,c=s.getECCodewords(),f=s.getECBlocks();try{for(var d=v3(f),h=d.next();!h.done;h=d.next()){var p=h.value;u+=p.getCount()*(p.getDataCodewords()+c)}}catch(y){a={error:y}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(a)throw a.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,n){var r,i;if(e&1||n&1)throw new me;try{for(var o=v3(t.VERSIONS),s=o.next();!s.done;s=o.next()){var a=s.value;if(a.symbolSizeRows===e&&a.symbolSizeColumns===n)return a}}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}throw new me},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new gt(5,new dt(1,3))),new t(2,12,12,10,10,new gt(7,new dt(1,5))),new t(3,14,14,12,12,new gt(10,new dt(1,8))),new t(4,16,16,14,14,new gt(12,new dt(1,12))),new t(5,18,18,16,16,new gt(14,new dt(1,18))),new t(6,20,20,18,18,new gt(18,new dt(1,22))),new t(7,22,22,20,20,new gt(20,new dt(1,30))),new t(8,24,24,22,22,new gt(24,new dt(1,36))),new t(9,26,26,24,24,new gt(28,new dt(1,44))),new t(10,32,32,14,14,new gt(36,new dt(1,62))),new t(11,36,36,16,16,new gt(42,new dt(1,86))),new t(12,40,40,18,18,new gt(48,new dt(1,114))),new t(13,44,44,20,20,new gt(56,new dt(1,144))),new t(14,48,48,22,22,new gt(68,new dt(1,174))),new t(15,52,52,24,24,new gt(42,new dt(2,102))),new t(16,64,64,14,14,new gt(56,new dt(2,140))),new t(17,72,72,16,16,new gt(36,new dt(4,92))),new t(18,80,80,18,18,new gt(48,new dt(4,114))),new t(19,88,88,20,20,new gt(56,new dt(4,144))),new t(20,96,96,22,22,new gt(68,new dt(4,174))),new t(21,104,104,24,24,new gt(56,new dt(6,136))),new t(22,120,120,18,18,new gt(68,new dt(6,175))),new t(23,132,132,20,20,new gt(62,new dt(8,163))),new t(24,144,144,22,22,new gt(62,new dt(8,156),new dt(2,155))),new t(25,8,18,6,16,new gt(7,new dt(1,5))),new t(26,8,32,6,14,new gt(11,new dt(1,10))),new t(27,12,26,10,24,new gt(14,new dt(1,16))),new t(28,12,36,10,16,new gt(18,new dt(1,22))),new t(29,16,36,14,16,new gt(24,new dt(1,32))),new t(30,16,48,14,22,new gt(28,new dt(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),kxe=function(){function t(e){var n=e.getHeight();if(n<8||n>144||n&1)throw new me;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new _o(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var n=e.getHeight(),r=e.getWidth();return Bxe.getVersionForDimensions(n,r)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),n=0,r=4,i=0,o=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),a=!1,l=!1,u=!1,c=!1;do if(r===o&&i===0&&!a)e[n++]=this.readCorner1(o,s)&255,r-=2,i+=2,a=!0;else if(r===o-2&&i===0&&s&3&&!l)e[n++]=this.readCorner2(o,s)&255,r-=2,i+=2,l=!0;else if(r===o+4&&i===2&&!(s&7)&&!u)e[n++]=this.readCorner3(o,s)&255,r-=2,i+=2,u=!0;else if(r===o-2&&i===0&&(s&7)===4&&!c)e[n++]=this.readCorner4(o,s)&255,r-=2,i+=2,c=!0;else{do r<o&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[n++]=this.readUtah(r,i,o,s)&255),r-=2,i+=2;while(r>=0&&i<s);r+=1,i+=3;do r>=0&&i<s&&!this.readMappingMatrix.get(i,r)&&(e[n++]=this.readUtah(r,i,o,s)&255),r+=2,i-=2;while(r<o&&i>=0);r+=3,i+=1}while(r<o||i<s);if(n!==this.version.getTotalCodewords())throw new me;return e},t.prototype.readModule=function(e,n,r,i){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)},t.prototype.readUtah=function(e,n,r,i){var o=0;return this.readModule(e-2,n-2,r,i)&&(o|=1),o<<=1,this.readModule(e-2,n-1,r,i)&&(o|=1),o<<=1,this.readModule(e-1,n-2,r,i)&&(o|=1),o<<=1,this.readModule(e-1,n-1,r,i)&&(o|=1),o<<=1,this.readModule(e-1,n,r,i)&&(o|=1),o<<=1,this.readModule(e,n-2,r,i)&&(o|=1),o<<=1,this.readModule(e,n-1,r,i)&&(o|=1),o<<=1,this.readModule(e,n,r,i)&&(o|=1),o},t.prototype.readCorner1=function(e,n){var r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r},t.prototype.readCorner2=function(e,n){var r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r},t.prototype.readCorner3=function(e,n){var r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r},t.prototype.readCorner4=function(e,n){var r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r},t.prototype.extractDataRegion=function(e){var n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new ke("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),s=n/i|0,a=r/o|0,l=s*i,u=a*o,c=new _o(u,l),f=0;f<s;++f)for(var d=f*i,h=0;h<a;++h)for(var p=h*o,y=0;y<i;++y)for(var v=f*(i+2)+1+y,g=d+y,m=0;m<o;++m){var _=h*(o+2)+1+m;if(e.get(_,v)){var b=p+m;c.set(b,g)}}return c},t}(),y3=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nxe=function(){function t(e,n){this.numDataCodewords=e,this.codewords=n}return t.getDataBlocks=function(e,n){var r,i,o,s,a=n.getECBlocks(),l=0,u=a.getECBlocks();try{for(var c=y3(u),f=c.next();!f.done;f=c.next()){var d=f.value;l+=d.getCount()}}catch(N){r={error:N}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}var h=new Array(l),p=0;try{for(var y=y3(u),v=y.next();!v.done;v=y.next())for(var d=v.value,g=0;g<d.getCount();g++){var m=d.getDataCodewords(),_=a.getECCodewords()+m;h[p++]=new t(m,new Uint8Array(_))}}catch(N){o={error:N}}finally{try{v&&!v.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}for(var b=h[0].codewords.length,x=b-a.getECCodewords(),w=x-1,E=0,g=0;g<w;g++)for(var S=0;S<p;S++)h[S].codewords[g]=e[E++];for(var P=n.getVersionNumber()===24,C=P?8:p,S=0;S<C;S++)h[S].codewords[x-1]=e[E++];for(var A=h[0].codewords.length,g=x;g<A;g++)for(var S=0;S<p;S++){var T=P?(S+8)%p:S,R=P&&T>7?g-1:g;h[T].codewords[R]=e[E++]}if(E!==e.length)throw new ke;return h},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),sL=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new ke(""+e);var n=0,r=this.bitOffset,i=this.byteOffset,o=this.bytes;if(r>0){var s=8-r,a=e<s?e:s,l=s-a,u=255>>8-a<<l;n=(o[i]&u)>>l,e-=a,r+=a,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)n=n<<8|o[i]&255,i++,e-=8;if(e>0){var l=8-e,u=255>>l<<l;n=n<<e|(o[i]&u)>>l,r+=e}}return this.bitOffset=r,this.byteOffset=i,n},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),gn;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(gn||(gn={}));var Fxe=function(){function t(){}return t.decode=function(e){var n=new sL(e),r=new Ke,i=new Ke,o=new Array,s=gn.ASCII_ENCODE;do if(s===gn.ASCII_ENCODE)s=this.decodeAsciiSegment(n,r,i);else{switch(s){case gn.C40_ENCODE:this.decodeC40Segment(n,r);break;case gn.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case gn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case gn.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case gn.BASE256_ENCODE:this.decodeBase256Segment(n,r,o);break;default:throw new me}s=gn.ASCII_ENCODE}while(s!==gn.PAD_ENCODE&&n.available()>0);return i.length()>0&&r.append(i.toString()),new cm(e,r.toString(),o.length===0?null:o,null)},t.decodeAsciiSegment=function(e,n,r){var i=!1;do{var o=e.readBits(8);if(o===0)throw new me;if(o<=128)return i&&(o+=128),n.append(String.fromCharCode(o-1)),gn.ASCII_ENCODE;if(o===129)return gn.PAD_ENCODE;if(o<=229){var s=o-130;s<10&&n.append("0"),n.append(""+s)}else switch(o){case 230:return gn.C40_ENCODE;case 231:return gn.BASE256_ENCODE;case 232:n.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:i=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return gn.ANSIX12_ENCODE;case 239:return gn.TEXT_ENCODE;case 240:return gn.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new me;break}}while(e.available()>0);return gn.ASCII_ENCODE},t.decodeC40Segment=function(e,n){var r=!1,i=[],o=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var a=0;a<3;a++){var l=i[a];switch(o){case 0:if(l<3)o=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[l];r?(n.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):n.append(u)}else throw new me;break;case 1:r?(n.append(String.fromCharCode(l+128)),r=!1):n.append(String.fromCharCode(l)),o=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[l];r?(n.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):n.append(u)}else switch(l){case 27:n.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new me}o=0;break;case 3:r?(n.append(String.fromCharCode(l+224)),r=!1):n.append(String.fromCharCode(l+96)),o=0;break;default:throw new me}}}while(e.available()>0)},t.decodeTextSegment=function(e,n){var r=!1,i=[],o=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var a=0;a<3;a++){var l=i[a];switch(o){case 0:if(l<3)o=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[l];r?(n.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):n.append(u)}else throw new me;break;case 1:r?(n.append(String.fromCharCode(l+128)),r=!1):n.append(String.fromCharCode(l)),o=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[l];r?(n.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):n.append(u)}else switch(l){case 27:n.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new me}o=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[l];r?(n.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):n.append(u),o=0}else throw new me;break;default:throw new me}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,n){var r=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(var o=0;o<3;o++){var s=r[o];switch(s){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(s<14)n.append(String.fromCharCode(s+44));else if(s<40)n.append(String.fromCharCode(s+51));else throw new me;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,n,r){var i=(e<<8)+n-1,o=Math.floor(i/1600);r[0]=o,i-=o*1600,o=Math.floor(i/40),r[1]=o,r[2]=i-o*40},t.decodeEdifactSegment=function(e,n){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var i=e.readBits(6);if(i===31){var o=8-e.getBitOffset();o!==8&&e.readBits(o);return}i&32||(i|=64),n.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,n,r){var i=1+e.getByteOffset(),o=this.unrandomize255State(e.readBits(8),i++),s;if(o===0?s=e.available()/8|0:o<250?s=o:s=250*(o-249)+this.unrandomize255State(e.readBits(8),i++),s<0)throw new me;for(var a=new Uint8Array(s),l=0;l<s;l++){if(e.available()<8)throw new me;a[l]=this.unrandomize255State(e.readBits(8),i++)}r.push(a);try{n.append(mi.decode(a,nt.ISO88591))}catch(u){throw new rh("Platform does not support required encoding: "+u.message)}},t.unrandomize255State=function(e,n){var r=149*n%255+1,i=e-r;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],t}(),Lxe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$xe=function(){function t(){this.rsDecoder=new fm(Sr.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var n,r,i=new kxe(e),o=i.getVersion(),s=i.readCodewords(),a=Nxe.getDataBlocks(s,o),l=0;try{for(var u=Lxe(a),c=u.next();!c.done;c=u.next()){var f=c.value;l+=f.getNumDataCodewords()}}catch(_){n={error:_}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}for(var d=new Uint8Array(l),h=a.length,p=0;p<h;p++){var y=a[p],v=y.getCodewords(),g=y.getNumDataCodewords();this.correctErrors(v,g);for(var m=0;m<g;m++)d[m*h+p]=v[m]}return Fxe.decode(d)},t.prototype.correctErrors=function(e,n){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new fn}for(var i=0;i<n;i++)e[i]=r[i]},t}(),Uxe=function(){function t(e){this.image=e,this.rectangleDetector=new pb(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new oe;n=this.shiftToModuleCenter(n);var r=n[0],i=n[1],o=n[2],s=n[3],a=this.transitionsBetween(r,s)+1,l=this.transitionsBetween(o,s)+1;(a&1)===1&&(a+=1),(l&1)===1&&(l+=1),4*a<7*l&&4*l<7*a&&(a=l=Math.max(a,l));var u=t.sampleGrid(this.image,r,i,o,s,a,l);return new XE(u,[r,i,o,s])},t.shiftPoint=function(e,n,r){var i=(n.getX()-e.getX())/(r+1),o=(n.getY()-e.getY())/(r+1);return new Pe(e.getX()+i,e.getY()+o)},t.moveAway=function(e,n,r){var i=e.getX(),o=e.getY();return i<n?i-=1:i+=1,o<r?o-=1:o+=1,new Pe(i,o)},t.prototype.detectSolid1=function(e){var n=e[0],r=e[1],i=e[3],o=e[2],s=this.transitionsBetween(n,r),a=this.transitionsBetween(r,i),l=this.transitionsBetween(i,o),u=this.transitionsBetween(o,n),c=s,f=[o,n,r,i];return c>a&&(c=a,f[0]=n,f[1]=r,f[2]=i,f[3]=o),c>l&&(c=l,f[0]=r,f[1]=i,f[2]=o,f[3]=n),c>u&&(f[0]=i,f[1]=o,f[2]=n,f[3]=r),f},t.prototype.detectSolid2=function(e){var n=e[0],r=e[1],i=e[2],o=e[3],s=this.transitionsBetween(n,o),a=t.shiftPoint(r,i,(s+1)*4),l=t.shiftPoint(i,r,(s+1)*4),u=this.transitionsBetween(a,n),c=this.transitionsBetween(l,o);return u<c?(e[0]=n,e[1]=r,e[2]=i,e[3]=o):(e[0]=r,e[1]=i,e[2]=o,e[3]=n),e},t.prototype.correctTopRight=function(e){var n=e[0],r=e[1],i=e[2],o=e[3],s=this.transitionsBetween(n,o),a=this.transitionsBetween(r,o),l=t.shiftPoint(n,r,(a+1)*4),u=t.shiftPoint(i,r,(s+1)*4);s=this.transitionsBetween(l,o),a=this.transitionsBetween(u,o);var c=new Pe(o.getX()+(i.getX()-r.getX())/(s+1),o.getY()+(i.getY()-r.getY())/(s+1)),f=new Pe(o.getX()+(n.getX()-r.getX())/(a+1),o.getY()+(n.getY()-r.getY())/(a+1));if(!this.isValid(c))return this.isValid(f)?f:null;if(!this.isValid(f))return c;var d=this.transitionsBetween(l,c)+this.transitionsBetween(u,c),h=this.transitionsBetween(l,f)+this.transitionsBetween(u,f);return d>h?c:f},t.prototype.shiftToModuleCenter=function(e){var n=e[0],r=e[1],i=e[2],o=e[3],s=this.transitionsBetween(n,o)+1,a=this.transitionsBetween(i,o)+1,l=t.shiftPoint(n,r,a*4),u=t.shiftPoint(i,r,s*4);s=this.transitionsBetween(l,o)+1,a=this.transitionsBetween(u,o)+1,(s&1)===1&&(s+=1),(a&1)===1&&(a+=1);var c=(n.getX()+r.getX()+i.getX()+o.getX())/4,f=(n.getY()+r.getY()+i.getY()+o.getY())/4;n=t.moveAway(n,c,f),r=t.moveAway(r,c,f),i=t.moveAway(i,c,f),o=t.moveAway(o,c,f);var d,h;return l=t.shiftPoint(n,r,a*4),l=t.shiftPoint(l,o,s*4),d=t.shiftPoint(r,n,a*4),d=t.shiftPoint(d,i,s*4),u=t.shiftPoint(i,o,a*4),u=t.shiftPoint(u,r,s*4),h=t.shiftPoint(o,i,a*4),h=t.shiftPoint(h,n,s*4),[l,d,u,h]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,n,r,i,o,s,a){var l=KE.getInstance();return l.sampleGrid(e,s,a,.5,.5,s-.5,.5,s-.5,a-.5,.5,a-.5,n.getX(),n.getY(),o.getX(),o.getY(),i.getX(),i.getY(),r.getX(),r.getY())},t.prototype.transitionsBetween=function(e,n){var r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),o=Math.trunc(n.getX()),s=Math.trunc(n.getY()),a=Math.abs(s-i)>Math.abs(o-r);if(a){var l=r;r=i,i=l,l=o,o=s,s=l}for(var u=Math.abs(o-r),c=Math.abs(s-i),f=-u/2,d=i<s?1:-1,h=r<o?1:-1,p=0,y=this.image.get(a?i:r,a?r:i),v=r,g=i;v!==o;v+=h){var m=this.image.get(a?g:v,a?v:g);if(m!==y&&(p++,y=m),f+=c,f>0){if(g===s)break;g+=d,f-=u}}return p},t}(),D0=function(){function t(){this.decoder=new $xe}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r,i;if(n!=null&&n.has(Ot.PURE_BARCODE)){var o=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(o),i=t.NO_POINTS}else{var s=new Uxe(e.getBlackMatrix()).detect();r=this.decoder.decode(s.getBits()),i=s.getPoints()}var a=r.getRawBytes(),l=new tr(r.getText(),a,8*a.length,i,Be.DATA_MATRIX,It.currentTimeMillis()),u=r.getByteSegments();u!=null&&l.putMetadata(Gn.BYTE_SEGMENTS,u);var c=r.getECLevel();return c!=null&&l.putMetadata(Gn.ERROR_CORRECTION_LEVEL,c),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new oe;var i=this.moduleSize(n,e),o=n[1],s=r[1],a=n[0],l=r[0],u=(l-a+1)/i,c=(s-o+1)/i;if(u<=0||c<=0)throw new oe;var f=i/2;o+=f,a+=f;for(var d=new _o(u,c),h=0;h<c;h++)for(var p=o+h*i,y=0;y<u;y++)e.get(a+y*i,p)&&d.set(y,h);return d},t.moduleSize=function(e,n){for(var r=n.getWidth(),i=e[0],o=e[1];i<r&&n.get(i,o);)i++;if(i===r)throw new oe;var s=i-e[0];if(s===0)throw new oe;return s},t.NO_POINTS=[],t}(),Gxe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){Gxe(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new D0,n)||this}return e})(yc);var vu;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(vu||(vu={}));var Hxe=function(){function t(e,n,r){this.value=e,this.stringValue=n,this.bits=r,t.FOR_BITS.set(r,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new rn(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new ke;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(vu.L,"L",1),t.M=new t(vu.M,"M",0),t.Q=new t(vu.Q,"Q",3),t.H=new t(vu.H,"H",2),t}(),Vxe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aL=function(){function t(e){this.errorCorrectionLevel=Hxe.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,n){return qe.bitCount(e^n)},t.decodeFormatInformation=function(e,n){var r=t.doDecodeFormatInformation(e,n);return r!==null?r:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,n^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,n){var r,i,o=Number.MAX_SAFE_INTEGER,s=0;try{for(var a=Vxe(t.FORMAT_INFO_DECODE_LOOKUP),l=a.next();!l.done;l=a.next()){var u=l.value,c=u[0];if(c===e||c===n)return new t(u[1]);var f=t.numBitsDiffering(e,c);f<o&&(s=u[1],o=f),e!==n&&(f=t.numBitsDiffering(n,c),f<o&&(s=u[1],o=f))}}catch(d){r={error:d}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o<=3?new t(s):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),zxe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Y=function(){function t(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=n}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,n,r=0,i=this.ecBlocks;try{for(var o=zxe(i),s=o.next();!s.done;s=o.next()){var a=s.value;r+=a.getCount()}}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),D=function(){function t(e,n){this.count=e,this.dataCodewords=n}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),jxe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rl=function(){function t(e,n){for(var r,i,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=o;var a=0,l=o[0].getECCodewordsPerBlock(),u=o[0].getECBlocks();try{for(var c=jxe(u),f=c.next();!f.done;f=c.next()){var d=f.value;a+=d.getCount()*(d.getDataCodewords()+l)}}catch(h){r={error:h}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}this.totalCodewords=a}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new me;try{return this.getVersionForNumber((e-17)/4)}catch{throw new me}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new ke;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var n=Number.MAX_SAFE_INTEGER,r=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var o=t.VERSION_DECODE_INFO[i];if(o===e)return t.getVersionForNumber(i+7);var s=aL.numBitsDiffering(e,o);s<n&&(r=i+7,n=s)}return n<=3?t.getVersionForNumber(r):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),n=new _o(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var o=this.alignmentPatternCenters[i]-2,s=0;s<r;s++)i===0&&(s===0||s===r-1)||i===r-1&&s===0||n.setRegion(this.alignmentPatternCenters[s]-2,o,5,5);return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new Y(7,new D(1,19)),new Y(10,new D(1,16)),new Y(13,new D(1,13)),new Y(17,new D(1,9))),new t(2,Int32Array.from([6,18]),new Y(10,new D(1,34)),new Y(16,new D(1,28)),new Y(22,new D(1,22)),new Y(28,new D(1,16))),new t(3,Int32Array.from([6,22]),new Y(15,new D(1,55)),new Y(26,new D(1,44)),new Y(18,new D(2,17)),new Y(22,new D(2,13))),new t(4,Int32Array.from([6,26]),new Y(20,new D(1,80)),new Y(18,new D(2,32)),new Y(26,new D(2,24)),new Y(16,new D(4,9))),new t(5,Int32Array.from([6,30]),new Y(26,new D(1,108)),new Y(24,new D(2,43)),new Y(18,new D(2,15),new D(2,16)),new Y(22,new D(2,11),new D(2,12))),new t(6,Int32Array.from([6,34]),new Y(18,new D(2,68)),new Y(16,new D(4,27)),new Y(24,new D(4,19)),new Y(28,new D(4,15))),new t(7,Int32Array.from([6,22,38]),new Y(20,new D(2,78)),new Y(18,new D(4,31)),new Y(18,new D(2,14),new D(4,15)),new Y(26,new D(4,13),new D(1,14))),new t(8,Int32Array.from([6,24,42]),new Y(24,new D(2,97)),new Y(22,new D(2,38),new D(2,39)),new Y(22,new D(4,18),new D(2,19)),new Y(26,new D(4,14),new D(2,15))),new t(9,Int32Array.from([6,26,46]),new Y(30,new D(2,116)),new Y(22,new D(3,36),new D(2,37)),new Y(20,new D(4,16),new D(4,17)),new Y(24,new D(4,12),new D(4,13))),new t(10,Int32Array.from([6,28,50]),new Y(18,new D(2,68),new D(2,69)),new Y(26,new D(4,43),new D(1,44)),new Y(24,new D(6,19),new D(2,20)),new Y(28,new D(6,15),new D(2,16))),new t(11,Int32Array.from([6,30,54]),new Y(20,new D(4,81)),new Y(30,new D(1,50),new D(4,51)),new Y(28,new D(4,22),new D(4,23)),new Y(24,new D(3,12),new D(8,13))),new t(12,Int32Array.from([6,32,58]),new Y(24,new D(2,92),new D(2,93)),new Y(22,new D(6,36),new D(2,37)),new Y(26,new D(4,20),new D(6,21)),new Y(28,new D(7,14),new D(4,15))),new t(13,Int32Array.from([6,34,62]),new Y(26,new D(4,107)),new Y(22,new D(8,37),new D(1,38)),new Y(24,new D(8,20),new D(4,21)),new Y(22,new D(12,11),new D(4,12))),new t(14,Int32Array.from([6,26,46,66]),new Y(30,new D(3,115),new D(1,116)),new Y(24,new D(4,40),new D(5,41)),new Y(20,new D(11,16),new D(5,17)),new Y(24,new D(11,12),new D(5,13))),new t(15,Int32Array.from([6,26,48,70]),new Y(22,new D(5,87),new D(1,88)),new Y(24,new D(5,41),new D(5,42)),new Y(30,new D(5,24),new D(7,25)),new Y(24,new D(11,12),new D(7,13))),new t(16,Int32Array.from([6,26,50,74]),new Y(24,new D(5,98),new D(1,99)),new Y(28,new D(7,45),new D(3,46)),new Y(24,new D(15,19),new D(2,20)),new Y(30,new D(3,15),new D(13,16))),new t(17,Int32Array.from([6,30,54,78]),new Y(28,new D(1,107),new D(5,108)),new Y(28,new D(10,46),new D(1,47)),new Y(28,new D(1,22),new D(15,23)),new Y(28,new D(2,14),new D(17,15))),new t(18,Int32Array.from([6,30,56,82]),new Y(30,new D(5,120),new D(1,121)),new Y(26,new D(9,43),new D(4,44)),new Y(28,new D(17,22),new D(1,23)),new Y(28,new D(2,14),new D(19,15))),new t(19,Int32Array.from([6,30,58,86]),new Y(28,new D(3,113),new D(4,114)),new Y(26,new D(3,44),new D(11,45)),new Y(26,new D(17,21),new D(4,22)),new Y(26,new D(9,13),new D(16,14))),new t(20,Int32Array.from([6,34,62,90]),new Y(28,new D(3,107),new D(5,108)),new Y(26,new D(3,41),new D(13,42)),new Y(30,new D(15,24),new D(5,25)),new Y(28,new D(15,15),new D(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new Y(28,new D(4,116),new D(4,117)),new Y(26,new D(17,42)),new Y(28,new D(17,22),new D(6,23)),new Y(30,new D(19,16),new D(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new Y(28,new D(2,111),new D(7,112)),new Y(28,new D(17,46)),new Y(30,new D(7,24),new D(16,25)),new Y(24,new D(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new Y(30,new D(4,121),new D(5,122)),new Y(28,new D(4,47),new D(14,48)),new Y(30,new D(11,24),new D(14,25)),new Y(30,new D(16,15),new D(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new Y(30,new D(6,117),new D(4,118)),new Y(28,new D(6,45),new D(14,46)),new Y(30,new D(11,24),new D(16,25)),new Y(30,new D(30,16),new D(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new Y(26,new D(8,106),new D(4,107)),new Y(28,new D(8,47),new D(13,48)),new Y(30,new D(7,24),new D(22,25)),new Y(30,new D(22,15),new D(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new Y(28,new D(10,114),new D(2,115)),new Y(28,new D(19,46),new D(4,47)),new Y(28,new D(28,22),new D(6,23)),new Y(30,new D(33,16),new D(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new Y(30,new D(8,122),new D(4,123)),new Y(28,new D(22,45),new D(3,46)),new Y(30,new D(8,23),new D(26,24)),new Y(30,new D(12,15),new D(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new Y(30,new D(3,117),new D(10,118)),new Y(28,new D(3,45),new D(23,46)),new Y(30,new D(4,24),new D(31,25)),new Y(30,new D(11,15),new D(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new Y(30,new D(7,116),new D(7,117)),new Y(28,new D(21,45),new D(7,46)),new Y(30,new D(1,23),new D(37,24)),new Y(30,new D(19,15),new D(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new Y(30,new D(5,115),new D(10,116)),new Y(28,new D(19,47),new D(10,48)),new Y(30,new D(15,24),new D(25,25)),new Y(30,new D(23,15),new D(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new Y(30,new D(13,115),new D(3,116)),new Y(28,new D(2,46),new D(29,47)),new Y(30,new D(42,24),new D(1,25)),new Y(30,new D(23,15),new D(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new Y(30,new D(17,115)),new Y(28,new D(10,46),new D(23,47)),new Y(30,new D(10,24),new D(35,25)),new Y(30,new D(19,15),new D(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new Y(30,new D(17,115),new D(1,116)),new Y(28,new D(14,46),new D(21,47)),new Y(30,new D(29,24),new D(19,25)),new Y(30,new D(11,15),new D(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new Y(30,new D(13,115),new D(6,116)),new Y(28,new D(14,46),new D(23,47)),new Y(30,new D(44,24),new D(7,25)),new Y(30,new D(59,16),new D(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new Y(30,new D(12,121),new D(7,122)),new Y(28,new D(12,47),new D(26,48)),new Y(30,new D(39,24),new D(14,25)),new Y(30,new D(22,15),new D(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new Y(30,new D(6,121),new D(14,122)),new Y(28,new D(6,47),new D(34,48)),new Y(30,new D(46,24),new D(10,25)),new Y(30,new D(2,15),new D(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new Y(30,new D(17,122),new D(4,123)),new Y(28,new D(29,46),new D(14,47)),new Y(30,new D(49,24),new D(10,25)),new Y(30,new D(24,15),new D(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new Y(30,new D(4,122),new D(18,123)),new Y(28,new D(13,46),new D(32,47)),new Y(30,new D(48,24),new D(14,25)),new Y(30,new D(42,15),new D(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new Y(30,new D(20,117),new D(4,118)),new Y(28,new D(40,47),new D(7,48)),new Y(30,new D(43,24),new D(22,25)),new Y(30,new D(10,15),new D(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new Y(30,new D(19,118),new D(6,119)),new Y(28,new D(18,47),new D(31,48)),new Y(30,new D(34,24),new D(34,25)),new Y(30,new D(20,15),new D(61,16)))],t}(),Tn;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(Tn||(Tn={}));var _3=function(){function t(e,n){this.value=e,this.isMasked=n}return t.prototype.unmaskBitMatrix=function(e,n){for(var r=0;r<n;r++)for(var i=0;i<n;i++)this.isMasked(r,i)&&e.flip(i,r)},t.values=new Map([[Tn.DATA_MASK_000,new t(Tn.DATA_MASK_000,function(e,n){return(e+n&1)===0})],[Tn.DATA_MASK_001,new t(Tn.DATA_MASK_001,function(e,n){return(e&1)===0})],[Tn.DATA_MASK_010,new t(Tn.DATA_MASK_010,function(e,n){return n%3===0})],[Tn.DATA_MASK_011,new t(Tn.DATA_MASK_011,function(e,n){return(e+n)%3===0})],[Tn.DATA_MASK_100,new t(Tn.DATA_MASK_100,function(e,n){return(Math.floor(e/2)+Math.floor(n/3)&1)===0})],[Tn.DATA_MASK_101,new t(Tn.DATA_MASK_101,function(e,n){return e*n%6===0})],[Tn.DATA_MASK_110,new t(Tn.DATA_MASK_110,function(e,n){return e*n%6<3})],[Tn.DATA_MASK_111,new t(Tn.DATA_MASK_111,function(e,n){return(e+n+e*n%3&1)===0})]]),t}(),Wxe=function(){function t(e){var n=e.getHeight();if(n<21||(n&3)!==1)throw new me;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,n=0;n<6;n++)e=this.copyBit(n,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var i=this.bitMatrix.getHeight(),o=0,s=i-7,r=i-1;r>=s;r--)o=this.copyBit(8,r,o);for(var n=i-8;n<i;n++)o=this.copyBit(n,8,o);if(this.parsedFormatInfo=aL.decodeFormatInformation(e,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new me},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return rl.getVersionForNumber(n);for(var r=0,i=e-11,o=5;o>=0;o--)for(var s=e-9;s>=i;s--)r=this.copyBit(s,o,r);var a=rl.decodeVersionInformation(r);if(a!==null&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;r=0;for(var s=5;s>=0;s--)for(var o=e-9;o>=i;o--)r=this.copyBit(s,o,r);if(a=rl.decodeVersionInformation(r),a!==null&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;throw new me},t.prototype.copyBit=function(e,n,r){var i=this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n);return i?r<<1|1:r<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),n=this.readVersion(),r=_3.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var o=n.buildFunctionPattern(),s=!0,a=new Uint8Array(n.getTotalCodewords()),l=0,u=0,c=0,f=i-1;f>0;f-=2){f===6&&f--;for(var d=0;d<i;d++)for(var h=s?i-1-d:d,p=0;p<2;p++)o.get(f-p,h)||(c++,u<<=1,this.bitMatrix.get(f-p,h)&&(u|=1),c===8&&(a[l++]=u,c=0,u=0));s=!s}if(l!==n.getTotalCodewords())throw new me;return a},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=_3.values.get(this.parsedFormatInfo.getDataMask()),n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,n=0,r=e.getWidth();n<r;n++)for(var i=n+1,o=e.getHeight();i<o;i++)e.get(n,i)!==e.get(i,n)&&(e.flip(i,n),e.flip(n,i))},t}(),b3=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yxe=function(){function t(e,n){this.numDataCodewords=e,this.codewords=n}return t.getDataBlocks=function(e,n,r){var i,o,s,a;if(e.length!==n.getTotalCodewords())throw new ke;var l=n.getECBlocksForLevel(r),u=0,c=l.getECBlocks();try{for(var f=b3(c),d=f.next();!d.done;d=f.next()){var h=d.value;u+=h.getCount()}}catch(R){i={error:R}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}var p=new Array(u),y=0;try{for(var v=b3(c),g=v.next();!g.done;g=v.next())for(var h=g.value,m=0;m<h.getCount();m++){var _=h.getDataCodewords(),b=l.getECCodewordsPerBlock()+_;p[y++]=new t(_,new Uint8Array(b))}}catch(R){s={error:R}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(s)throw s.error}}for(var x=p[0].codewords.length,w=p.length-1;w>=0;){var E=p[w].codewords.length;if(E===x)break;w--}w++;for(var S=x-l.getECCodewordsPerBlock(),P=0,m=0;m<S;m++)for(var C=0;C<y;C++)p[C].codewords[m]=e[P++];for(var C=w;C<y;C++)p[C].codewords[S]=e[P++];for(var A=p[0].codewords.length,m=S;m<A;m++)for(var C=0;C<y;C++){var T=C<w?m:m+1;p[C].codewords[T]=e[P++]}return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),oi;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(oi||(oi={}));var kt=function(){function t(e,n,r,i){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var n=t.FOR_BITS.get(e);if(n===void 0)throw new ke;return n},t.prototype.getCharacterCountBits=function(e){var n=e.getVersionNumber(),r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.value===n.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(oi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(oi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(oi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(oi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(oi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(oi.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(oi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(oi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(oi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(oi.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),Xxe=function(){function t(){}return t.decode=function(e,n,r,i){var o=new sL(e),s=new Ke,a=new Array,l=-1,u=-1;try{var c=null,f=!1,d=void 0;do{if(o.available()<4)d=kt.TERMINATOR;else{var h=o.readBits(4);d=kt.forBits(h)}switch(d){case kt.TERMINATOR:break;case kt.FNC1_FIRST_POSITION:case kt.FNC1_SECOND_POSITION:f=!0;break;case kt.STRUCTURED_APPEND:if(o.available()<16)throw new me;l=o.readBits(8),u=o.readBits(8);break;case kt.ECI:var p=t.parseECIValue(o);if(c=bn.getCharacterSetECIByValue(p),c===null)throw new me;break;case kt.HANZI:var y=o.readBits(4),v=o.readBits(d.getCharacterCountBits(n));y===t.GB2312_SUBSET&&t.decodeHanziSegment(o,s,v);break;default:var g=o.readBits(d.getCharacterCountBits(n));switch(d){case kt.NUMERIC:t.decodeNumericSegment(o,s,g);break;case kt.ALPHANUMERIC:t.decodeAlphanumericSegment(o,s,g,f);break;case kt.BYTE:t.decodeByteSegment(o,s,g,c,a,i);break;case kt.KANJI:t.decodeKanjiSegment(o,s,g);break;default:throw new me}break}}while(d!==kt.TERMINATOR)}catch{throw new me}return new cm(e,s.toString(),a.length===0?null:a,r===null?null:r.toString(),l,u)},t.decodeHanziSegment=function(e,n,r){if(r*13>e.available())throw new me;for(var i=new Uint8Array(2*r),o=0;r>0;){var s=e.readBits(13),a=s/96<<8&4294967295|s%96;a<959?a+=41377:a+=42657,i[o]=a>>8&255,i[o+1]=a&255,o+=2,r--}try{n.append(mi.decode(i,nt.GB2312))}catch(l){throw new me(l)}},t.decodeKanjiSegment=function(e,n,r){if(r*13>e.available())throw new me;for(var i=new Uint8Array(2*r),o=0;r>0;){var s=e.readBits(13),a=s/192<<8&4294967295|s%192;a<7936?a+=33088:a+=49472,i[o]=a>>8,i[o+1]=a,o+=2,r--}try{n.append(mi.decode(i,nt.SHIFT_JIS))}catch(l){throw new me(l)}},t.decodeByteSegment=function(e,n,r,i,o,s){if(8*r>e.available())throw new me;for(var a=new Uint8Array(r),l=0;l<r;l++)a[l]=e.readBits(8);var u;i===null?u=nt.guessEncoding(a,s):u=i.getName();try{n.append(mi.decode(a,u))}catch(c){throw new me(c)}o.push(a)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new me;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,n,r,i){for(var o=n.length();r>1;){if(e.available()<11)throw new me;var s=e.readBits(11);n.append(t.toAlphaNumericChar(Math.floor(s/45))),n.append(t.toAlphaNumericChar(s%45)),r-=2}if(r===1){if(e.available()<6)throw new me;n.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var a=o;a<n.length();a++)n.charAt(a)==="%"&&(a<n.length()-1&&n.charAt(a+1)==="%"?n.deleteCharAt(a+1):n.setCharAt(a,String.fromCharCode(29)))},t.decodeNumericSegment=function(e,n,r){for(;r>=3;){if(e.available()<10)throw new me;var i=e.readBits(10);if(i>=1e3)throw new me;n.append(t.toAlphaNumericChar(Math.floor(i/100))),n.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),n.append(t.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new me;var o=e.readBits(7);if(o>=100)throw new me;n.append(t.toAlphaNumericChar(Math.floor(o/10))),n.append(t.toAlphaNumericChar(o%10))}else if(r===1){if(e.available()<4)throw new me;var s=e.readBits(4);if(s>=10)throw new me;n.append(t.toAlphaNumericChar(s))}},t.parseECIValue=function(e){var n=e.readBits(8);if(!(n&128))return n&127;if((n&192)===128){var r=e.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){var i=e.readBits(16);return(n&31)<<16&4294967295|i}throw new me},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),lL=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var n=e[0];e[0]=e[2],e[2]=n}},t}(),x3=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kxe=function(){function t(){this.rsDecoder=new fm(Sr.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,n){return this.decodeBitMatrix(_o.parseFromBooleanArray(e),n)},t.prototype.decodeBitMatrix=function(e,n){var r=new Wxe(e),i=null;try{return this.decodeBitMatrixParser(r,n)}catch(s){i=s}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var o=this.decodeBitMatrixParser(r,n);return o.setOther(new lL(!0)),o}catch(s){throw i!==null?i:s}},t.prototype.decodeBitMatrixParser=function(e,n){var r,i,o,s,a=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),c=Yxe.getDataBlocks(u,a,l),f=0;try{for(var d=x3(c),h=d.next();!h.done;h=d.next()){var p=h.value;f+=p.getNumDataCodewords()}}catch(w){r={error:w}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}var y=new Uint8Array(f),v=0;try{for(var g=x3(c),m=g.next();!m.done;m=g.next()){var p=m.value,_=p.getCodewords(),b=p.getNumDataCodewords();this.correctErrors(_,b);for(var x=0;x<b;x++)y[v++]=_[x]}}catch(w){o={error:w}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}return Xxe.decode(y,a,l,n)},t.prototype.correctErrors=function(e,n){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new fn}for(var i=0;i<n;i++)e[i]=r[i]},t}(),qxe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zxe=function(t){qxe(e,t);function e(n,r,i){var o=t.call(this,n,r)||this;return o.estimatedModuleSize=i,o}return e.prototype.aboutEquals=function(n,r,i){if(Math.abs(r-this.getY())<=n&&Math.abs(i-this.getX())<=n){var o=Math.abs(n-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,r,i){var o=(this.getX()+r)/2,s=(this.getY()+n)/2,a=(this.estimatedModuleSize+i)/2;return new e(o,s,a)},e}(Pe),Jxe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qxe=function(){function t(e,n,r,i,o,s,a){this.image=e,this.startX=n,this.startY=r,this.width=i,this.height=o,this.moduleSize=s,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,n=this.height,r=this.width,i=e+r,o=this.startY+n/2,s=new Int32Array(3),a=this.image,l=0;l<n;l++){var u=o+(l&1?-Math.floor((l+1)/2):Math.floor((l+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var c=e;c<i&&!a.get(c,u);)c++;for(var f=0;c<i;){if(a.get(c,u))if(f===1)s[1]++;else if(f===2){if(this.foundPatternCross(s)){var d=this.handlePossibleCenter(s,u,c);if(d!==null)return d}s[0]=s[2],s[1]=1,s[2]=0,f=1}else s[++f]++;else f===1&&f++,s[f]++;c++}if(this.foundPatternCross(s)){var d=this.handlePossibleCenter(s,u,i);if(d!==null)return d}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new oe},t.centerFromEnd=function(e,n){return n-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var n=this.moduleSize,r=n/2,i=0;i<3;i++)if(Math.abs(n-e[i])>=r)return!1;return!0},t.prototype.crossCheckVertical=function(e,n,r,i){var o=this.image,s=o.getHeight(),a=this.crossCheckStateCount;a[0]=0,a[1]=0,a[2]=0;for(var l=e;l>=0&&o.get(n,l)&&a[1]<=r;)a[1]++,l--;if(l<0||a[1]>r)return NaN;for(;l>=0&&!o.get(n,l)&&a[0]<=r;)a[0]++,l--;if(a[0]>r)return NaN;for(l=e+1;l<s&&o.get(n,l)&&a[1]<=r;)a[1]++,l++;if(l===s||a[1]>r)return NaN;for(;l<s&&!o.get(n,l)&&a[2]<=r;)a[2]++,l++;if(a[2]>r)return NaN;var u=a[0]+a[1]+a[2];return 5*Math.abs(u-i)>=2*i?NaN:this.foundPatternCross(a)?t.centerFromEnd(a,l):NaN},t.prototype.handlePossibleCenter=function(e,n,r){var i,o,s=e[0]+e[1]+e[2],a=t.centerFromEnd(e,r),l=this.crossCheckVertical(n,a,2*e[1],s);if(!isNaN(l)){var u=(e[0]+e[1]+e[2])/3;try{for(var c=Jxe(this.possibleCenters),f=c.next();!f.done;f=c.next()){var d=f.value;if(d.aboutEquals(u,l,a))return d.combineEstimate(l,a,u)}}catch(p){i={error:p}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}var h=new Zxe(a,l,u);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null},t}(),ewe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),twe=function(t){ewe(e,t);function e(n,r,i,o){var s=t.call(this,n,r)||this;return s.estimatedModuleSize=i,s.count=o,o===void 0&&(s.count=1),s}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(n,r,i){if(Math.abs(r-this.getY())<=n&&Math.abs(i-this.getX())<=n){var o=Math.abs(n-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(n,r,i){var o=this.count+1,s=(this.count*this.getX()+r)/o,a=(this.count*this.getY()+n)/o,l=(this.count*this.estimatedModuleSize+i)/o;return new e(s,a,l,o)},e}(Pe),nwe=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),Vc=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rwe=function(){function t(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var n=e!=null&&e.get(Ot.TRY_HARDER)!==void 0,r=e!=null&&e.get(Ot.PURE_BARCODE)!==void 0,i=this.image,o=i.getHeight(),s=i.getWidth(),a=Math.floor(3*o/(4*t.MAX_MODULES));(a<t.MIN_SKIP||n)&&(a=t.MIN_SKIP);for(var l=!1,u=new Int32Array(5),c=a-1;c<o&&!l;c+=a){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var f=0,d=0;d<s;d++)if(i.get(d,c))(f&1)===1&&f++,u[f]++;else if(f&1)u[f]++;else if(f===4)if(t.foundPatternCross(u)){var h=this.handlePossibleCenter(u,c,d,r);if(h===!0)if(a=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var p=this.findRowSkip();p>u[2]&&(c+=p-u[2]-a,d=s-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;continue}f=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;else u[++f]++;if(t.foundPatternCross(u)){var h=this.handlePossibleCenter(u,c,s,r);h===!0&&(a=u[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var y=this.selectBestPatterns();return Pe.orderBestPatterns(y),new nwe(y)},t.centerFromEnd=function(e,n){return n-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var n=0,r=0;r<5;r++){var i=e[r];if(i===0)return!1;n+=i}if(n<7)return!1;var o=n/7,s=o/2;return Math.abs(o-e[0])<s&&Math.abs(o-e[1])<s&&Math.abs(3*o-e[2])<3*s&&Math.abs(o-e[3])<s&&Math.abs(o-e[4])<s},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,n,r,i){for(var o=this.getCrossCheckStateCount(),s=0,a=this.image;e>=s&&n>=s&&a.get(n-s,e-s);)o[2]++,s++;if(e<s||n<s)return!1;for(;e>=s&&n>=s&&!a.get(n-s,e-s)&&o[1]<=r;)o[1]++,s++;if(e<s||n<s||o[1]>r)return!1;for(;e>=s&&n>=s&&a.get(n-s,e-s)&&o[0]<=r;)o[0]++,s++;if(o[0]>r)return!1;var l=a.getHeight(),u=a.getWidth();for(s=1;e+s<l&&n+s<u&&a.get(n+s,e+s);)o[2]++,s++;if(e+s>=l||n+s>=u)return!1;for(;e+s<l&&n+s<u&&!a.get(n+s,e+s)&&o[3]<r;)o[3]++,s++;if(e+s>=l||n+s>=u||o[3]>=r)return!1;for(;e+s<l&&n+s<u&&a.get(n+s,e+s)&&o[4]<r;)o[4]++,s++;if(o[4]>=r)return!1;var c=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(c-i)<2*i&&t.foundPatternCross(o)},t.prototype.crossCheckVertical=function(e,n,r,i){for(var o=this.image,s=o.getHeight(),a=this.getCrossCheckStateCount(),l=e;l>=0&&o.get(n,l);)a[2]++,l--;if(l<0)return NaN;for(;l>=0&&!o.get(n,l)&&a[1]<=r;)a[1]++,l--;if(l<0||a[1]>r)return NaN;for(;l>=0&&o.get(n,l)&&a[0]<=r;)a[0]++,l--;if(a[0]>r)return NaN;for(l=e+1;l<s&&o.get(n,l);)a[2]++,l++;if(l===s)return NaN;for(;l<s&&!o.get(n,l)&&a[3]<r;)a[3]++,l++;if(l===s||a[3]>=r)return NaN;for(;l<s&&o.get(n,l)&&a[4]<r;)a[4]++,l++;if(a[4]>=r)return NaN;var u=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(u-i)>=2*i?NaN:t.foundPatternCross(a)?t.centerFromEnd(a,l):NaN},t.prototype.crossCheckHorizontal=function(e,n,r,i){for(var o=this.image,s=o.getWidth(),a=this.getCrossCheckStateCount(),l=e;l>=0&&o.get(l,n);)a[2]++,l--;if(l<0)return NaN;for(;l>=0&&!o.get(l,n)&&a[1]<=r;)a[1]++,l--;if(l<0||a[1]>r)return NaN;for(;l>=0&&o.get(l,n)&&a[0]<=r;)a[0]++,l--;if(a[0]>r)return NaN;for(l=e+1;l<s&&o.get(l,n);)a[2]++,l++;if(l===s)return NaN;for(;l<s&&!o.get(l,n)&&a[3]<r;)a[3]++,l++;if(l===s||a[3]>=r)return NaN;for(;l<s&&o.get(l,n)&&a[4]<r;)a[4]++,l++;if(a[4]>=r)return NaN;var u=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(u-i)>=i?NaN:t.foundPatternCross(a)?t.centerFromEnd(a,l):NaN},t.prototype.handlePossibleCenter=function(e,n,r,i){var o=e[0]+e[1]+e[2]+e[3]+e[4],s=t.centerFromEnd(e,r),a=this.crossCheckVertical(n,Math.floor(s),e[2],o);if(!isNaN(a)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(a),e[2],o),!isNaN(s)&&(!i||this.crossCheckDiagonal(Math.floor(a),Math.floor(s),e[2],o)))){for(var l=o/7,u=!1,c=this.possibleCenters,f=0,d=c.length;f<d;f++){var h=c[f];if(h.aboutEquals(l,a,s)){c[f]=h.combineEstimate(a,s,l),u=!0;break}}if(!u){var p=new twe(s,a,l);c.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1},t.prototype.findRowSkip=function(){var e,n,r=this.possibleCenters.length;if(r<=1)return 0;var i=null;try{for(var o=Vc(this.possibleCenters),s=o.next();!s.done;s=o.next()){var a=s.value;if(a.getCount()>=t.CENTER_QUORUM)if(i==null)i=a;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-a.getX())-Math.abs(i.getY()-a.getY()))/2)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,n,r,i,o=0,s=0,a=this.possibleCenters.length;try{for(var l=Vc(this.possibleCenters),u=l.next();!u.done;u=l.next()){var c=u.value;c.getCount()>=t.CENTER_QUORUM&&(o++,s+=c.getEstimatedModuleSize())}}catch(y){e={error:y}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}if(o<3)return!1;var f=s/a,d=0;try{for(var h=Vc(this.possibleCenters),p=h.next();!p.done;p=h.next()){var c=p.value;d+=Math.abs(c.getEstimatedModuleSize()-f)}}catch(y){r={error:y}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return d<=.05*s},t.prototype.selectBestPatterns=function(){var e,n,r,i,o=this.possibleCenters.length;if(o<3)throw new oe;var s=this.possibleCenters,a;if(o>3){var l=0,u=0;try{for(var c=Vc(this.possibleCenters),f=c.next();!f.done;f=c.next()){var d=f.value,h=d.getEstimatedModuleSize();l+=h,u+=h*h}}catch(x){e={error:x}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}a=l/o;var p=Math.sqrt(u/o-a*a);s.sort(function(x,w){var E=Math.abs(w.getEstimatedModuleSize()-a),S=Math.abs(x.getEstimatedModuleSize()-a);return E<S?-1:E>S?1:0});for(var y=Math.max(.2*a,p),v=0;v<s.length&&s.length>3;v++){var g=s[v];Math.abs(g.getEstimatedModuleSize()-a)>y&&(s.splice(v,1),v--)}}if(s.length>3){var l=0;try{for(var m=Vc(s),_=m.next();!_.done;_=m.next()){var b=_.value;l+=b.getEstimatedModuleSize()}}catch(w){r={error:w}}finally{try{_&&!_.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}a=l/s.length,s.sort(function(w,E){if(E.getCount()===w.getCount()){var S=Math.abs(E.getEstimatedModuleSize()-a),P=Math.abs(w.getEstimatedModuleSize()-a);return S<P?1:S>P?-1:0}else return E.getCount()-w.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),iwe=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Ot.NEED_RESULT_POINT_CALLBACK);var n=new rwe(this.image,this.resultPointCallback),r=n.find(e);return this.processFinderPatternInfo(r)},t.prototype.processFinderPatternInfo=function(e){var n=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),o=this.calculateModuleSize(n,r,i);if(o<1)throw new oe("No pattern found in proccess finder.");var s=t.computeDimension(n,r,i,o),a=rl.getProvisionalVersionForDimension(s),l=a.getDimensionForVersion()-7,u=null;if(a.getAlignmentPatternCenters().length>0)for(var c=r.getX()-n.getX()+i.getX(),f=r.getY()-n.getY()+i.getY(),d=1-3/l,h=Math.floor(n.getX()+d*(c-n.getX())),p=Math.floor(n.getY()+d*(f-n.getY())),y=4;y<=16;y<<=1)try{u=this.findAlignmentInRegion(o,h,p,y);break}catch(_){if(!(_ instanceof oe))throw _}var v=t.createTransform(n,r,i,u,s),g=t.sampleGrid(this.image,v,s),m;return u===null?m=[i,n,r]:m=[i,n,r,u],new XE(g,m)},t.createTransform=function(e,n,r,i,o){var s=o-3.5,a,l,u,c;return i!==null?(a=i.getX(),l=i.getY(),u=s-3,c=u):(a=n.getX()-e.getX()+r.getX(),l=n.getY()-e.getY()+r.getY(),u=s,c=s),nL.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,u,c,3.5,s,e.getX(),e.getY(),n.getX(),n.getY(),a,l,r.getX(),r.getY())},t.sampleGrid=function(e,n,r){var i=KE.getInstance();return i.sampleGridWithTransform(e,r,r,n)},t.computeDimension=function(e,n,r,i){var o=ft.round(Pe.distance(e,n)/i),s=ft.round(Pe.distance(e,r)/i),a=Math.floor((o+s)/2)+7;switch(a&3){case 0:a++;break;case 2:a--;break;case 3:throw new oe("Dimensions could be not found.")}return a},t.prototype.calculateModuleSize=function(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2},t.prototype.calculateModuleSizeOneWay=function(e,n){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,n,r,i){var o=this.sizeOfBlackWhiteBlackRun(e,n,r,i),s=1,a=e-(r-e);a<0?(s=e/(e-a),a=0):a>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(a-e),a=this.image.getWidth()-1);var l=Math.floor(n-(i-n)*s);return s=1,l<0?(s=n/(n-l),l=0):l>=this.image.getHeight()&&(s=(this.image.getHeight()-1-n)/(l-n),l=this.image.getHeight()-1),a=Math.floor(e+(a-e)*s),o+=this.sizeOfBlackWhiteBlackRun(e,n,a,l),o-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,n,r,i){var o=Math.abs(i-n)>Math.abs(r-e);if(o){var s=e;e=n,n=s,s=r,r=i,i=s}for(var a=Math.abs(r-e),l=Math.abs(i-n),u=-a/2,c=e<r?1:-1,f=n<i?1:-1,d=0,h=r+c,p=e,y=n;p!==h;p+=c){var v=o?y:p,g=o?p:y;if(d===1===this.image.get(v,g)){if(d===2)return ft.distance(p,y,e,n);d++}if(u+=l,u>0){if(y===i)break;y+=f,u-=a}}return d===2?ft.distance(r+c,i,e,n):NaN},t.prototype.findAlignmentInRegion=function(e,n,r,i){var o=Math.floor(i*e),s=Math.max(0,n-o),a=Math.min(this.image.getWidth()-1,n+o);if(a-s<e*3)throw new oe("Alignment top exceeds estimated module size.");var l=Math.max(0,r-o),u=Math.min(this.image.getHeight()-1,r+o);if(u-l<e*3)throw new oe("Alignment bottom exceeds estimated module size.");var c=new Qxe(this.image,s,l,a-s,u-l,e,this.resultPointCallback);return c.find()},t}(),owe=function(){function t(){this.decoder=new Kxe}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,n){var r,i;if(n!=null&&n.get(Ot.PURE_BARCODE)!==void 0){var o=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(o,n),i=t.NO_POINTS}else{var s=new iwe(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(s.getBits(),n),i=s.getPoints()}r.getOther()instanceof lL&&r.getOther().applyMirroredCorrection(i);var a=new tr(r.getText(),r.getRawBytes(),void 0,i,Be.QR_CODE,void 0),l=r.getByteSegments();l!==null&&a.putMetadata(Gn.BYTE_SEGMENTS,l);var u=r.getECLevel();return u!==null&&a.putMetadata(Gn.ERROR_CORRECTION_LEVEL,u),r.hasStructuredAppend()&&(a.putMetadata(Gn.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),a.putMetadata(Gn.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),a},t.prototype.reset=function(){},t.extractPureBits=function(e){var n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new oe;var i=this.moduleSize(n,e),o=n[1],s=r[1],a=n[0],l=r[0];if(a>=l||o>=s)throw new oe;if(s-o!==l-a&&(l=a+(s-o),l>=e.getWidth()))throw new oe;var u=Math.round((l-a+1)/i),c=Math.round((s-o+1)/i);if(u<=0||c<=0)throw new oe;if(c!==u)throw new oe;var f=Math.floor(i/2);o+=f,a+=f;var d=a+Math.floor((u-1)*i)-l;if(d>0){if(d>f)throw new oe;a-=d}var h=o+Math.floor((c-1)*i)-s;if(h>0){if(h>f)throw new oe;o-=h}for(var p=new _o(u,c),y=0;y<c;y++)for(var v=o+Math.floor(y*i),g=0;g<u;g++)e.get(a+Math.floor(g*i),v)&&p.set(g,y);return p},t.moduleSize=function(e,n){for(var r=n.getHeight(),i=n.getWidth(),o=e[0],s=e[1],a=!0,l=0;o<i&&s<r;){if(a!==n.get(o,s)){if(++l===5)break;a=!a}o++,s++}if(o===i||s===r)throw new oe;return(o-e[0])/7},t.NO_POINTS=new Array,t}();const B0=owe;var swe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},at=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return ft.sum(e)},t.toIntArray=function(e){var n,r;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),o=0;try{for(var s=swe(e),a=s.next();!a.done;a=s.next()){var l=a.value;i[o++]=l}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},t.getCodeword=function(e){var n=xn.binarySearch(t.SYMBOL_TABLE,e&262143);return n<0?-1:(t.CODEWORD_TABLE[n]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),awe=function(){function t(e,n){this.bits=e,this.points=n}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),lwe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uwe=function(){function t(){}return t.detectMultiple=function(e,n,r){var i=e.getBlackMatrix(),o=t.detect(r,i);return o.length||(i=i.clone(),i.rotate180(),o=t.detect(r,i)),new awe(i,o)},t.detect=function(e,n){for(var r,i,o=new Array,s=0,a=0,l=!1;s<n.getHeight();){var u=t.findVertices(n,s,a);if(u[0]==null&&u[3]==null){if(!l)break;l=!1,a=0;try{for(var c=(r=void 0,lwe(o)),f=c.next();!f.done;f=c.next()){var d=f.value;d[1]!=null&&(s=Math.trunc(Math.max(s,d[1].getY()))),d[3]!=null&&(s=Math.max(s,Math.trunc(d[3].getY())))}}catch(h){r={error:h}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}s+=t.ROW_STEP;continue}if(l=!0,o.push(u),!e)break;u[2]!=null?(a=Math.trunc(u[2].getX()),s=Math.trunc(u[2].getY())):(a=Math.trunc(u[4].getX()),s=Math.trunc(u[4].getY()))}return o},t.findVertices=function(e,n,r){var i=e.getHeight(),o=e.getWidth(),s=new Array(8);return t.copyToResult(s,t.findRowsWithPattern(e,i,o,n,r,t.START_PATTERN),t.INDEXES_START_PATTERN),s[4]!=null&&(r=Math.trunc(s[4].getX()),n=Math.trunc(s[4].getY())),t.copyToResult(s,t.findRowsWithPattern(e,i,o,n,r,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),s},t.copyToResult=function(e,n,r){for(var i=0;i<r.length;i++)e[r[i]]=n[i]},t.findRowsWithPattern=function(e,n,r,i,o,s){for(var a=new Array(4),l=!1,u=new Int32Array(s.length);i<n;i+=t.ROW_STEP){var c=t.findGuardPattern(e,o,i,r,!1,s,u);if(c!=null){for(;i>0;){var f=t.findGuardPattern(e,o,--i,r,!1,s,u);if(f!=null)c=f;else{i++;break}}a[0]=new Pe(c[0],i),a[1]=new Pe(c[1],i),l=!0;break}}var d=i+1;if(l){for(var h=0,f=Int32Array.from([Math.trunc(a[0].getX()),Math.trunc(a[1].getX())]);d<n;d++){var c=t.findGuardPattern(e,f[0],d,r,!1,s,u);if(c!=null&&Math.abs(f[0]-c[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-c[1])<t.MAX_PATTERN_DRIFT)f=c,h=0;else{if(h>t.SKIPPED_ROW_COUNT_MAX)break;h++}}d-=h+1,a[2]=new Pe(f[0],d),a[3]=new Pe(f[1],d)}return d-i<t.BARCODE_MIN_HEIGHT&&xn.fill(a,null),a},t.findGuardPattern=function(e,n,r,i,o,s,a){xn.fillWithin(a,0,a.length,0);for(var l=n,u=0;e.get(l,r)&&l>0&&u++<t.MAX_PIXEL_DRIFT;)l--;for(var c=l,f=0,d=s.length,h=o;c<i;c++){var p=e.get(c,r);if(p!==h)a[f]++;else{if(f===d-1){if(t.patternMatchVariance(a,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([l,c]);l+=a[0]+a[1],It.arraycopy(a,2,a,0,f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,h=!h}}return f===d-1&&t.patternMatchVariance(a,s,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([l,c-1]):null},t.patternMatchVariance=function(e,n,r){for(var i=e.length,o=0,s=0,a=0;a<i;a++)o+=e[a],s+=n[a];if(o<s)return 1/0;var l=o/s;r*=l;for(var u=0,c=0;c<i;c++){var f=e[c],d=n[c]*l,h=f>d?f-d:d-f;if(h>r)return 1/0;u+=h}return u/o},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),cwe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wa=function(){function t(e,n){if(n.length===0)throw new ke;this.field=e;var r=n.length;if(r>1&&n[0]===0){for(var i=1;i<r&&n[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),It.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var n,r;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var o=cwe(this.coefficients),s=o.next();!s.done;s=o.next()){var a=s.value;i=this.field.add(i,a)}}catch(f){n={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}for(var l=this.coefficients[0],u=this.coefficients.length,c=1;c<u;c++)l=this.field.add(this.field.multiply(e,l),this.coefficients[c]);return l},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new ke("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}var o=new Int32Array(r.length),s=r.length-n.length;It.arraycopy(r,0,o,0,s);for(var a=s;a<r.length;a++)o[a]=this.field.add(n[a-s],r[a]);return new t(this.field,o)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new ke("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new ke("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var n=this.coefficients,r=n.length,i=e.coefficients,o=i.length,s=new Int32Array(r+o-1),a=0;a<r;a++)for(var l=n[a],u=0;u<o;u++)s[a+u]=this.field.add(s[a+u],this.field.multiply(l,i[u]));return new t(this.field,s)},t.prototype.negative=function(){for(var e=this.coefficients.length,n=new Int32Array(e),r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new t(this.field,n)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var n=this.coefficients.length,r=new Int32Array(n),i=0;i<n;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,r)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new ke;if(n===0)return new t(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],n);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Ke,n=this.getDegree();n>=0;n--){var r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(n===0||r!==1)&&e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()},t}(),fwe=function(){function t(){}return t.prototype.add=function(e,n){return(e+n)%this.modulus},t.prototype.subtract=function(e,n){return(this.modulus+e-n)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new ke;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new tL;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),dwe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hwe=function(t){dwe(e,t);function e(n,r){var i=t.call(this)||this;i.modulus=n,i.expTable=new Int32Array(n),i.logTable=new Int32Array(n);for(var o=1,s=0;s<n;s++)i.expTable[s]=o,o=o*r%n;for(var s=0;s<n-1;s++)i.logTable[i.expTable[s]]=s;return i.zero=new Wa(i,new Int32Array([0])),i.one=new Wa(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(n,r){if(n<0)throw new ke;if(r===0)return this.zero;var i=new Int32Array(n+1);return i[0]=r,new Wa(this,i)},e.PDF417_GF=new e(at.NUMBER_OF_CODEWORDS,3),e}(fwe),pwe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gwe=function(){function t(){this.field=hwe.PDF417_GF}return t.prototype.decode=function(e,n,r){for(var i,o,s=new Wa(this.field,e),a=new Int32Array(n),l=!1,u=n;u>0;u--){var c=s.evaluateAt(this.field.exp(u));a[n-u]=c,c!==0&&(l=!0)}if(!l)return 0;var f=this.field.getOne();if(r!=null)try{for(var d=pwe(r),h=d.next();!h.done;h=d.next()){var p=h.value,y=this.field.exp(e.length-1-p),v=new Wa(this.field,new Int32Array([this.field.subtract(0,y),1]));f=f.multiply(v)}}catch(S){i={error:S}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}for(var g=new Wa(this.field,a),m=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),g,n),_=m[0],b=m[1],x=this.findErrorLocations(_),w=this.findErrorMagnitudes(b,_,x),u=0;u<x.length;u++){var E=e.length-1-this.field.log(x[u]);if(E<0)throw fn.getChecksumInstance();e[E]=this.field.subtract(e[E],w[u])}return x.length},t.prototype.runEuclideanAlgorithm=function(e,n,r){if(e.getDegree()<n.getDegree()){var i=e;e=n,n=i}for(var o=e,s=n,a=this.field.getZero(),l=this.field.getOne();s.getDegree()>=Math.round(r/2);){var u=o,c=a;if(o=s,a=l,o.isZero())throw fn.getChecksumInstance();s=u;for(var f=this.field.getZero(),d=o.getCoefficient(o.getDegree()),h=this.field.inverse(d);s.getDegree()>=o.getDegree()&&!s.isZero();){var p=s.getDegree()-o.getDegree(),y=this.field.multiply(s.getCoefficient(s.getDegree()),h);f=f.add(this.field.buildMonomial(p,y)),s=s.subtract(o.multiplyByMonomial(p,y))}l=f.multiply(a).subtract(c).negative()}var v=l.getCoefficient(0);if(v===0)throw fn.getChecksumInstance();var g=this.field.inverse(v),m=l.multiply(g),_=s.multiply(g);return[m,_]},t.prototype.findErrorLocations=function(e){for(var n=e.getDegree(),r=new Int32Array(n),i=0,o=1;o<this.field.getSize()&&i<n;o++)e.evaluateAt(o)===0&&(r[i]=this.field.inverse(o),i++);if(i!==n)throw fn.getChecksumInstance();return r},t.prototype.findErrorMagnitudes=function(e,n,r){for(var i=n.getDegree(),o=new Int32Array(i),s=1;s<=i;s++)o[i-s]=this.field.multiply(s,n.getCoefficient(s));for(var a=new Wa(this.field,o),l=r.length,u=new Int32Array(l),s=0;s<l;s++){var c=this.field.inverse(r[s]),f=this.field.subtract(0,e.evaluateAt(c)),d=this.field.inverse(a.evaluateAt(c));u[s]=this.field.multiply(f,d)}return u},t}(),mb=function(){function t(e,n,r,i,o){e instanceof t?this.constructor_2(e):this.constructor_1(e,n,r,i,o)}return t.prototype.constructor_1=function(e,n,r,i,o){var s=n==null||r==null,a=i==null||o==null;if(s&&a)throw new oe;s?(n=new Pe(0,i.getY()),r=new Pe(0,o.getY())):a&&(i=new Pe(e.getWidth()-1,n.getY()),o=new Pe(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=i,this.bottomRight=o,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),o.getX())),this.minY=Math.trunc(Math.min(n.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,n){return e==null?n:n==null?e:new t(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)},t.prototype.addMissingRows=function(e,n,r){var i=this.topLeft,o=this.bottomLeft,s=this.topRight,a=this.bottomRight;if(e>0){var l=r?this.topLeft:this.topRight,u=Math.trunc(l.getY()-e);u<0&&(u=0);var c=new Pe(l.getX(),u);r?i=c:s=c}if(n>0){var f=r?this.bottomLeft:this.bottomRight,d=Math.trunc(f.getY()+n);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);var h=new Pe(f.getX(),d);r?o=h:a=h}return new t(this.image,i,o,s,a)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),mwe=function(){function t(e,n,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),ZE=function(){function t(){this.buffer=""}return t.form=function(e,n){var r=-1;function i(s,a,l,u,c,f){if(s==="%%")return"%";if(n[++r]!==void 0){s=u?parseInt(u.substr(1)):void 0;var d=c?parseInt(c.substr(1)):void 0,h;switch(f){case"s":h=n[r];break;case"c":h=n[r][0];break;case"f":h=parseFloat(n[r]).toFixed(s);break;case"p":h=parseFloat(n[r]).toPrecision(s);break;case"e":h=parseFloat(n[r]).toExponential(s);break;case"x":h=parseInt(n[r]).toString(d||16);break;case"d":h=parseFloat(parseInt(n[r],d||10).toPrecision(s)).toFixed(0);break}h=typeof h=="object"?JSON.stringify(h):(+h).toString(d);for(var p=parseInt(l),y=l&&l[0]+""=="0"?"0":" ";h.length<p;)h=a!==void 0?h+y:y+h;return h}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,i)},t.prototype.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.buffer+=t.form(e,n)},t.prototype.toString=function(){return this.buffer},t}(),vwe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uL=function(){function t(e){this.boundingBox=new mb(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var n=this.getCodeword(e);if(n!=null)return n;for(var r=1;r<t.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(n=this.codewords[i],n!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(n=this.codewords[i],n!=null)))return n}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,n,r=new ZE,i=0;try{for(var o=vwe(this.codewords),s=o.next();!s.done;s=o.next()){var a=s.value;if(a==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,a.getRowNumber(),a.getValue())}}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),ywe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_we=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},nf=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)},t.prototype.getValue=function(){var e,n,r=-1,i=new Array,o=function(f,d){var h={getKey:function(){return f},getValue:function(){return d}};h.getValue()>r?(r=h.getValue(),i=[],i.push(h.getKey())):h.getValue()===r&&i.push(h.getKey())};try{for(var s=ywe(this.values.entries()),a=s.next();!a.done;a=s.next()){var l=_we(a.value,2),u=l[0],c=l[1];o(u,c)}}catch(f){e={error:f}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return at.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),bwe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),w1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w3=function(t){bwe(e,t);function e(n,r){var i=t.call(this,n)||this;return i._isLeft=r,i}return e.prototype.setRowNumbers=function(){var n,r;try{for(var i=w1(this.getCodewords()),o=i.next();!o.done;o=i.next()){var s=o.value;s!=null&&s.setRowNumberAsRowIndicatorColumn()}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,n);for(var i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=-1,c=1,f=0,d=a;d<l;d++)if(r[d]!=null){var h=r[d],p=h.getRowNumber()-u;if(p===0)f++;else if(p===1)c=Math.max(c,f),f=1,u=h.getRowNumber();else if(p<0||h.getRowNumber()>=n.getRowCount()||p>d)r[d]=null;else{var y=void 0;c>2?y=(c-2)*p:y=p;for(var v=y>=d,g=1;g<=y&&!v;g++)v=r[d-g]!=null;v?r[d]=null:(u=h.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var n,r,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var o=new Int32Array(i.getRowCount());try{for(var s=w1(this.getCodewords()),a=s.next();!a.done;a=s.next()){var l=a.value;if(l!=null){var u=l.getRowNumber();if(u>=o.length)continue;o[u]++}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),a=this.imageRowToCodewordIndex(Math.trunc(o.getY())),l=this.getCodewords(),u=-1,c=s;c<a;c++)if(l[c]!=null){var f=l[c];f.setRowNumberAsRowIndicatorColumn();var d=f.getRowNumber()-u;d===0||(d===1?u=f.getRowNumber():f.getRowNumber()>=n.getRowCount()?l[c]=null:u=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var n,r,i=this.getCodewords(),o=new nf,s=new nf,a=new nf,l=new nf;try{for(var u=w1(i),c=u.next();!c.done;c=u.next()){var f=c.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var d=f.getValue()%30,h=f.getRowNumber();switch(this._isLeft||(h+=2),h%3){case 0:s.setValue(d*3+1);break;case 1:l.setValue(d/3),a.setValue(d%3);break;case 2:o.setValue(d+1);break}}}}catch(y){n={error:y}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}if(o.getValue().length===0||s.getValue().length===0||a.getValue().length===0||l.getValue().length===0||o.getValue()[0]<1||s.getValue()[0]+a.getValue()[0]<at.MIN_ROWS_IN_BARCODE||s.getValue()[0]+a.getValue()[0]>at.MAX_ROWS_IN_BARCODE)return null;var p=new mwe(o.getValue()[0],s.getValue()[0],a.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,p),p},e.prototype.removeIncorrectCodewords=function(n,r){for(var i=0;i<n.length;i++){var o=n[i];if(n[i]!=null){var s=o.getValue()%30,a=o.getRowNumber();if(a>r.getRowCount()){n[i]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:s*3+1!==r.getRowCountUpperPart()&&(n[i]=null);break;case 1:(Math.trunc(s/3)!==r.getErrorCorrectionLevel()||s%3!==r.getRowCountLowerPart())&&(n[i]=null);break;case 2:s+1!==r.getColumnCount()&&(n[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(uL),xwe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wwe=function(){function t(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=at.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var r=this.detectionResultColumns[n].getCodewords(),i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(n,i,r));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var o=this.detectionResultColumns[i].getCodewords()[r];o!=null&&(o.setRowNumber(e[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var i=n[r].getRowNumber(),o=0,s=this.barcodeColumnCount+1;s>0&&o<this.ADJUST_ROW_NUMBER_SKIP;s--){var a=this.detectionResultColumns[s].getCodewords()[r];a!=null&&(o=t.adjustRowNumberIfValid(i,o,a),a.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,n=this.detectionResultColumns[0].getCodewords(),r=0;r<n.length;r++)if(n[r]!=null)for(var i=n[r].getRowNumber(),o=0,s=1;s<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;s++){var a=this.detectionResultColumns[s].getCodewords()[r];a!=null&&(o=t.adjustRowNumberIfValid(i,o,a),a.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n},t.prototype.adjustRowNumbers=function(e,n,r){var i,o;if(this.detectionResultColumns[e-1]!=null){var s=r[n],a=this.detectionResultColumns[e-1].getCodewords(),l=a;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var u=new Array(14);u[2]=a[n],u[3]=l[n],n>0&&(u[0]=r[n-1],u[4]=a[n-1],u[5]=l[n-1]),n>1&&(u[8]=r[n-2],u[10]=a[n-2],u[11]=l[n-2]),n<r.length-1&&(u[1]=r[n+1],u[6]=a[n+1],u[7]=l[n+1]),n<r.length-2&&(u[9]=r[n+2],u[12]=a[n+2],u[13]=l[n+2]);try{for(var c=xwe(u),f=c.next();!f.done;f=c.next()){var d=f.value;if(t.adjustRowNumber(s,d))return}}catch(h){i={error:h}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,n){this.detectionResultColumns[e]=n},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new ZE,r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){n.format("    |   ");continue}var o=this.detectionResultColumns[i].getCodewords()[r];if(o==null){n.format("    |   ");continue}n.format(" %3d|%3d",o.getRowNumber(),o.getValue())}n.format("%n")}return n.toString()},t}(),Ewe=function(){function t(e,n,r,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),Swe=function(){function t(){}return t.initialize=function(){for(var e=0;e<at.SYMBOL_TABLE.length;e++)for(var n=at.SYMBOL_TABLE[e],r=n&1,i=0;i<at.BARS_IN_MODULE;i++){for(var o=0;(n&1)===r;)o+=1,n>>=1;r=n&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(at.BARS_IN_MODULE)),t.RATIOS_TABLE[e][at.BARS_IN_MODULE-i-1]=Math.fround(o/at.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var n=t.getDecodedCodewordValue(t.sampleBitCounts(e));return n!==-1?n:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var n=ft.sum(e),r=new Int32Array(at.BARS_IN_MODULE),i=0,o=0,s=0;s<at.MODULES_IN_CODEWORD;s++){var a=n/(2*at.MODULES_IN_CODEWORD)+s*n/at.MODULES_IN_CODEWORD;o+e[i]<=a&&(o+=e[i],i++),r[i]++}return r},t.getDecodedCodewordValue=function(e){var n=t.getBitValue(e);return at.getCodeword(n)===-1?-1:n},t.getBitValue=function(e){for(var n=0,r=0;r<e.length;r++)for(var i=0;i<e[r];i++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)},t.getClosestDecodedValue=function(e){var n=ft.sum(e),r=new Array(at.BARS_IN_MODULE);if(n>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/n);var o=hb.MAX_VALUE,s=-1;this.bSymbolTableReady||t.initialize();for(var a=0;a<t.RATIOS_TABLE.length;a++){for(var l=0,u=t.RATIOS_TABLE[a],c=0;c<at.BARS_IN_MODULE;c++){var f=Math.fround(u[c]-r[c]);if(l+=Math.fround(f*f),l>=o)break}l<o&&(o=l,s=at.SYMBOL_TABLE[a])}return s},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(at.SYMBOL_TABLE.length).map(function(e){return new Array(at.BARS_IN_MODULE)}),t}(),Cwe=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),E3=function(){function t(){}return t.parseLong=function(e,n){return n===void 0&&(n=void 0),parseInt(e,n)},t}(),Awe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Twe=function(t){Awe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Br),Pwe=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,n,r){if(e==null)throw new Twe;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new YE;if(r===0)return;for(var i=0;i<r;i++)this.write(e[n+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),Iwe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Owe=function(t){Iwe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Br),Rwe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mwe=function(t){Rwe(e,t);function e(n){n===void 0&&(n=32);var r=t.call(this)||this;if(r.count=0,n<0)throw new ke("Negative initial size: "+n);return r.buf=new Uint8Array(n),r}return e.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},e.prototype.grow=function(n){var r=this.buf.length,i=r<<1;if(i-n<0&&(i=n),i<0){if(n<0)throw new Owe;i=qe.MAX_VALUE}this.buf=xn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},e.prototype.writeBytesOffset=function(n,r,i){if(r<0||r>n.length||i<0||r+i-n.length>0)throw new YE;this.ensureCapacity(this.count+i),It.arraycopy(n,r,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return xn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(n){return new String(this.buf).toString()},e.prototype.toString_number=function(n){return new String(this.buf).toString()},e.prototype.close=function(){},e}(Pwe),wt;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(wt||(wt={}));function cL(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var cp;function Ts(t){if(typeof cp>"u"&&(cp=cL()),cp===null)throw new Error("BigInt is not supported!");return cp(t)}function Dwe(){var t=[];t[0]=Ts(1);var e=Ts(900);t[1]=e;for(var n=2;n<16;n++)t[n]=t[n-1]*e;return t}var Bwe=function(){function t(){}return t.decode=function(e,n){var r=new Ke(""),i=bn.ISO8859_1;r.enableDecoding(i);for(var o=1,s=e[o++],a=new Cwe;o<e[0];){switch(s){case t.TEXT_COMPACTION_MODE_LATCH:o=t.textCompaction(e,o,r);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:o=t.byteCompaction(s,e,i,o,r);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[o++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:o=t.numericCompaction(e,o,r);break;case t.ECI_CHARSET:bn.getCharacterSetECIByValue(e[o++]);break;case t.ECI_GENERAL_PURPOSE:o+=2;break;case t.ECI_USER_DEFINED:o++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=t.decodeMacroBlock(e,o,a);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new me;default:o--,o=t.textCompaction(e,o,r);break}if(o<e.length)s=e[o++];else throw me.getFormatInstance()}if(r.length()===0)throw me.getFormatInstance();var l=new cm(null,r.toString(),null,n);return l.setOther(a),l},t.decodeMacroBlock=function(e,n,r){if(n+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw me.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<t.NUMBER_OF_SEQUENCE_CODEWORDS;o++,n++)i[o]=e[n];r.setSegmentIndex(qe.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new Ke;n=t.textCompaction(e,n,s),r.setFileId(s.toString());var a=-1;for(e[n]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=n+1);n<e[0];)switch(e[n]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new Ke;n=t.textCompaction(e,n+1,l),r.setFileName(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new Ke;n=t.textCompaction(e,n+1,u),r.setSender(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var c=new Ke;n=t.textCompaction(e,n+1,c),r.setAddressee(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new Ke;n=t.numericCompaction(e,n+1,f),r.setSegmentCount(qe.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var d=new Ke;n=t.numericCompaction(e,n+1,d),r.setTimestamp(E3.parseLong(d.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var h=new Ke;n=t.numericCompaction(e,n+1,h),r.setChecksum(qe.parseInt(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var p=new Ke;n=t.numericCompaction(e,n+1,p),r.setFileSize(E3.parseLong(p.toString()));break;default:throw me.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw me.getFormatInstance()}if(a!==-1){var y=n-a;r.isLastSegment()&&y--,r.setOptionalData(xn.copyOfRange(e,a,a+y))}return n},t.textCompaction=function(e,n,r){for(var i=new Int32Array((e[0]-n)*2),o=new Int32Array((e[0]-n)*2),s=0,a=!1;n<e[0]&&!a;){var l=e[n++];if(l<t.TEXT_COMPACTION_MODE_LATCH)i[s]=l/30,i[s+1]=l%30,s+=2;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:i[s++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,a=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[s]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[n++],o[s]=l,s++;break}}return t.decodeTextCompaction(i,o,s,r),n},t.decodeTextCompaction=function(e,n,r,i){for(var o=wt.ALPHA,s=wt.ALPHA,a=0;a<r;){var l=e[a],u="";switch(o){case wt.ALPHA:if(l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case t.LL:o=wt.LOWER;break;case t.ML:o=wt.MIXED;break;case t.PS:s=o,o=wt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=wt.ALPHA;break}break;case wt.LOWER:if(l<26)u=String.fromCharCode(97+l);else switch(l){case 26:u=" ";break;case t.AS:s=o,o=wt.ALPHA_SHIFT;break;case t.ML:o=wt.MIXED;break;case t.PS:s=o,o=wt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=wt.ALPHA;break}break;case wt.MIXED:if(l<t.PL)u=t.MIXED_CHARS[l];else switch(l){case t.PL:o=wt.PUNCT;break;case 26:u=" ";break;case t.LL:o=wt.LOWER;break;case t.AL:o=wt.ALPHA;break;case t.PS:s=o,o=wt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=wt.ALPHA;break}break;case wt.PUNCT:if(l<t.PAL)u=t.PUNCT_CHARS[l];else switch(l){case t.PAL:o=wt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=wt.ALPHA;break}break;case wt.ALPHA_SHIFT:if(o=s,l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:o=wt.ALPHA;break}break;case wt.PUNCT_SHIFT:if(o=s,l<t.PAL)u=t.PUNCT_CHARS[l];else switch(l){case t.PAL:o=wt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[a]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=wt.ALPHA;break}break}u!==""&&i.append(u),a++}},t.byteCompaction=function(e,n,r,i,o){var s=new Mwe,a=0,l=0,u=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var c=new Int32Array(6),f=n[i++];i<n[0]&&!u;)switch(c[a++]=f,l=900*l+f,f=n[i++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break;default:if(a%5===0&&a>0){for(var d=0;d<6;++d)s.write(Number(Ts(l)>>Ts(8*(5-d))));l=0,a=0}break}i===n[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(c[a++]=f);for(var h=0;h<a;h++)s.write(c[h]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<n[0]&&!u;){var p=n[i++];if(p<t.TEXT_COMPACTION_MODE_LATCH)a++,l=900*l+p;else switch(p){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break}if(a%5===0&&a>0){for(var d=0;d<6;++d)s.write(Number(Ts(l)>>Ts(8*(5-d))));l=0,a=0}}break}return o.append(mi.decode(s.toByteArray(),r)),i},t.numericCompaction=function(e,n,r){for(var i=0,o=!1,s=new Int32Array(t.MAX_NUMERIC_CODEWORDS);n<e[0]&&!o;){var a=e[n++];if(n===e[0]&&(o=!0),a<t.TEXT_COMPACTION_MODE_LATCH)s[i]=a,i++;else switch(a){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,o=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||a===t.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(r.append(t.decodeBase900toBase10(s,i)),i=0)}return n},t.decodeBase900toBase10=function(e,n){for(var r=Ts(0),i=0;i<n;i++)r+=t.EXP900[n-i-1]*Ts(e[i]);var o=r.toString();if(o.charAt(0)!=="1")throw new me;return o.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=cL()?Dwe():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),zc=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kwe=function(){function t(){}return t.decode=function(e,n,r,i,o,s,a){for(var l=new mb(e,n,r,i,o),u=null,c=null,f,d=!0;;d=!1){if(n!=null&&(u=t.getRowIndicatorColumn(e,l,n,!0,s,a)),i!=null&&(c=t.getRowIndicatorColumn(e,l,i,!1,s,a)),f=t.merge(u,c),f==null)throw oe.getNotFoundInstance();var h=f.getBoundingBox();if(d&&h!=null&&(h.getMinY()<l.getMinY()||h.getMaxY()>l.getMaxY()))l=h;else break}f.setBoundingBox(l);var p=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,u),f.setDetectionResultColumn(p,c);for(var y=u!=null,v=1;v<=p;v++){var g=y?v:p-v;if(f.getDetectionResultColumn(g)===void 0){var m=void 0;g===0||g===p?m=new w3(l,g===0):m=new uL(l),f.setDetectionResultColumn(g,m);for(var _=-1,b=_,x=l.getMinY();x<=l.getMaxY();x++){if(_=t.getStartColumn(f,g,x,y),_<0||_>l.getMaxX()){if(b===-1)continue;_=b}var w=t.detectCodeword(e,l.getMinX(),l.getMaxX(),y,_,x,s,a);w!=null&&(m.setCodeword(x,w),b=_,s=Math.min(s,w.getWidth()),a=Math.max(a,w.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,n){if(e==null&&n==null)return null;var r=t.getBarcodeMetadata(e,n);if(r==null)return null;var i=mb.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(n));return new wwe(r,i)},t.adjustBoundingBox=function(e){var n,r;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var o=t.getMax(i),s=0;try{for(var a=zc(i),l=a.next();!l.done;l=a.next()){var u=l.value;if(s+=o-u,u>0)break}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var c=e.getCodewords(),f=0;s>0&&c[f]==null;f++)s--;for(var d=0,f=i.length-1;f>=0&&(d+=o-i[f],!(i[f]>0));f--);for(var f=c.length-1;d>0&&c[f]==null;f--)d--;return e.getBoundingBox().addMissingRows(s,d,e.isLeft())},t.getMax=function(e){var n,r,i=-1;try{for(var o=zc(e),s=o.next();!s.done;s=o.next()){var a=s.value;i=Math.max(i,a)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},t.getBarcodeMetadata=function(e,n){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();var i;return n==null||(i=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},t.getRowIndicatorColumn=function(e,n,r,i,o,s){for(var a=new w3(n,i),l=0;l<2;l++)for(var u=l===0?1:-1,c=Math.trunc(Math.trunc(r.getX())),f=Math.trunc(Math.trunc(r.getY()));f<=n.getMaxY()&&f>=n.getMinY();f+=u){var d=t.detectCodeword(e,0,e.getWidth(),i,c,f,o,s);d!=null&&(a.setCodeword(f,d),i?c=d.getStartX():c=d.getEndX())}return a},t.adjustCodewordCount=function(e,n){var r=n[0][1],i=r.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(o<1||o>at.MAX_CODEWORDS_IN_BARCODE)throw oe.getNotFoundInstance();r.setValue(o)}else i[0]!==o&&r.setValue(o)},t.createDecoderResult=function(e){var n=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,n);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],s=new Array,a=0;a<e.getBarcodeRowCount();a++)for(var l=0;l<e.getBarcodeColumnCount();l++){var u=n[a][l+1].getValue(),c=a*e.getBarcodeColumnCount()+l;u.length===0?r.push(c):u.length===1?i[c]=u[0]:(s.push(c),o.push(u))}for(var f=new Array(o.length),d=0;d<f.length;d++)f[d]=o[d];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,at.toIntArray(r),at.toIntArray(s),f)},t.createDecoderResultFromAmbiguousValues=function(e,n,r,i,o){for(var s=new Int32Array(i.length),a=100;a-- >0;){for(var l=0;l<s.length;l++)n[i[l]]=o[l][s[l]];try{return t.decodeCodewords(n,e,r)}catch(c){var u=c instanceof fn;if(!u)throw c}if(s.length===0)throw fn.getChecksumInstance();for(var l=0;l<s.length;l++)if(s[l]<o[l].length-1){s[l]++;break}else if(s[l]=0,l===s.length-1)throw fn.getChecksumInstance()}throw fn.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var n,r,i,o,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),a=0;a<s.length;a++)for(var l=0;l<s[a].length;l++)s[a][l]=new nf;var u=0;try{for(var c=zc(e.getDetectionResultColumns()),f=c.next();!f.done;f=c.next()){var d=f.value;if(d!=null)try{for(var h=(i=void 0,zc(d.getCodewords())),p=h.next();!p.done;p=h.next()){var y=p.value;if(y!=null){var v=y.getRowNumber();if(v>=0){if(v>=s.length)continue;s[v][u].setValue(y.getValue())}}}}catch(g){i={error:g}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}u++}}catch(g){n={error:g}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return s},t.isValidBarcodeColumn=function(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,n,r,i){var o,s,a=i?1:-1,l=null;if(t.isValidBarcodeColumn(e,n-a)&&(l=e.getDetectionResultColumn(n-a).getCodeword(r)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(n).getCodewordNearby(r),l!=null)return i?l.getStartX():l.getEndX();if(t.isValidBarcodeColumn(e,n-a)&&(l=e.getDetectionResultColumn(n-a).getCodewordNearby(r)),l!=null)return i?l.getEndX():l.getStartX();for(var u=0;t.isValidBarcodeColumn(e,n-a);){n-=a;try{for(var c=(o=void 0,zc(e.getDetectionResultColumn(n).getCodewords())),f=c.next();!f.done;f=c.next()){var d=f.value;if(d!=null)return(i?d.getEndX():d.getStartX())+a*u*(d.getEndX()-d.getStartX())}}catch(h){o={error:h}}finally{try{f&&!f.done&&(s=c.return)&&s.call(c)}finally{if(o)throw o.error}}u++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,n,r,i,o,s,a,l){o=t.adjustCodewordStartColumn(e,n,r,i,o,s);var u=t.getModuleBitCount(e,n,r,i,o,s);if(u==null)return null;var c,f=ft.sum(u);if(i)c=o+f;else{for(var d=0;d<u.length/2;d++){var h=u[d];u[d]=u[u.length-1-d],u[u.length-1-d]=h}c=o,o=c-f}if(!t.checkCodewordSkew(f,a,l))return null;var p=Swe.getDecodedValue(u),y=at.getCodeword(p);return y===-1?null:new Ewe(o,c,t.getCodewordBucketNumber(p),y)},t.getModuleBitCount=function(e,n,r,i,o,s){for(var a=o,l=new Int32Array(8),u=0,c=i?1:-1,f=i;(i?a<r:a>=n)&&u<l.length;)e.get(a,s)===f?(l[u]++,a+=c):(u++,f=!f);return u===l.length||a===(i?r:n)&&u===l.length-1?l:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,n,r,i,o,s){for(var a=o,l=i?-1:1,u=0;u<2;u++){for(;(i?a>=n:a<r)&&i===e.get(a,s);){if(Math.abs(o-a)>t.CODEWORD_SKEW_SIZE)return o;a+=l}l=-l,i=!i}return a},t.checkCodewordSkew=function(e,n,r){return n-t.CODEWORD_SKEW_SIZE<=e&&e<=r+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,n,r){if(e.length===0)throw me.getFormatInstance();var i=1<<n+1,o=t.correctErrors(e,r,i);t.verifyCodewordCount(e,i);var s=Bwe.decode(e,""+n);return s.setErrorsCorrected(o),s.setErasures(r.length),s},t.correctErrors=function(e,n,r){if(n!=null&&n.length>r/2+t.MAX_ERRORS||r<0||r>t.MAX_EC_CODEWORDS)throw fn.getChecksumInstance();return t.errorCorrection.decode(e,r,n)},t.verifyCodewordCount=function(e,n){if(e.length<4)throw me.getFormatInstance();var r=e[0];if(r>e.length)throw me.getFormatInstance();if(r===0)if(n<e.length)e[0]=e.length-n;else throw me.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var n=new Int32Array(8),r=0,i=n.length-1;!((e&1)!==r&&(r=e&1,i--,i<0));)n[i]++,e>>=1;return n},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var n=new ZE,r=0;r<e.length;r++){n.format("Row %2d: ",r);for(var i=0;i<e[r].length;i++){var o=e[r][i];o.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}n.format("%n")}return n.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new gwe,t}(),Nwe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},k0=function(){function t(){}return t.prototype.decode=function(e,n){n===void 0&&(n=null);var r=t.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw oe.getNotFoundInstance();return r[0]},t.prototype.decodeMultiple=function(e,n){n===void 0&&(n=null);try{return t.decode(e,n,!0)}catch(r){throw r instanceof me||r instanceof fn?oe.getNotFoundInstance():r}},t.decode=function(e,n,r){var i,o,s=new Array,a=uwe.detectMultiple(e,n,r);try{for(var l=Nwe(a.getPoints()),u=l.next();!u.done;u=l.next()){var c=u.value,f=kwe.decode(a.getBits(),c[4],c[5],c[6],c[7],t.getMinCodewordWidth(c),t.getMaxCodewordWidth(c)),d=new tr(f.getText(),f.getRawBytes(),void 0,c,Be.PDF_417);d.putMetadata(Gn.ERROR_CORRECTION_LEVEL,f.getECLevel());var h=f.getOther();h!=null&&d.putMetadata(Gn.PDF417_EXTRA_METADATA,h),s.push(d)}}catch(p){i={error:p}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return s.map(function(p){return p})},t.getMaxWidth=function(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))},t.getMinWidth=function(e,n){return e==null||n==null?qe.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),Fwe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),S3=function(t){Fwe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(Br),C3=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fL=function(){function t(){}return t.prototype.decode=function(e,n){return this.setHints(n),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var n=e!=null&&e.get(Ot.TRY_HARDER)!==void 0,r=e==null?null:e.get(Ot.POSSIBLE_FORMATS),i=new Array;if(r!=null){var o=r.some(function(s){return s===Be.UPC_A||s===Be.UPC_E||s===Be.EAN_13||s===Be.EAN_8||s===Be.CODABAR||s===Be.CODE_39||s===Be.CODE_93||s===Be.CODE_128||s===Be.ITF||s===Be.RSS_14||s===Be.RSS_EXPANDED});o&&!n&&i.push(new mu(e)),r.includes(Be.QR_CODE)&&i.push(new B0),r.includes(Be.DATA_MATRIX)&&i.push(new D0),r.includes(Be.AZTEC)&&i.push(new R0),r.includes(Be.PDF_417)&&i.push(new k0),o&&n&&i.push(new mu(e))}i.length===0&&(n||i.push(new mu(e)),i.push(new B0),i.push(new D0),i.push(new R0),i.push(new k0),n&&i.push(new mu(e))),this.readers=i},t.prototype.reset=function(){var e,n;if(this.readers!==null)try{for(var r=C3(this.readers),i=r.next();!i.done;i=r.next()){var o=i.value;o.reset()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var n,r;if(this.readers===null)throw new S3("No readers where selected, nothing can be read.");try{for(var i=C3(this.readers),o=i.next();!o.done;o=i.next()){var s=o.value;try{return s.decode(e,this.hints)}catch(a){if(a instanceof S3)continue}}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}throw new oe("No MultiFormat Readers were able to detect the code.")},t}(),Lwe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){Lwe(e,t);function e(n,r){n===void 0&&(n=null),r===void 0&&(r=500);var i=this,o=new fL;return o.setHints(n),i=t.call(this,o,r)||this,i}return e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e})(yc);var $we=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){$we(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new k0,n)||this}return e})(yc);var Uwe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){Uwe(e,t);function e(n){return n===void 0&&(n=500),t.call(this,new B0,n)||this}return e})(yc);var vb;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(vb||(vb={}));const fp=vb;var dL=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Ys(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var n=this.cachedGenerators;if(e>=n.length)for(var r=n[n.length-1],i=this.field,o=n.length;o<=e;o++){var s=r.multiply(new Ys(i,Int32Array.from([1,i.exp(o-1+i.getGeneratorBase())])));n.push(s),r=s}return n[e]},t.prototype.encode=function(e,n){if(n===0)throw new ke("No error correction bytes");var r=e.length-n;if(r<=0)throw new ke("No data bytes provided");var i=this.buildGenerator(n),o=new Int32Array(r);It.arraycopy(e,0,o,0,r);var s=new Ys(this.field,o);s=s.multiplyByMonomial(n,1);for(var a=s.divide(i)[1],l=a.getCoefficients(),u=n-l.length,c=0;c<u;c++)e[r+c]=0;It.arraycopy(l,0,e,r+u,l.length)},t}(),rf=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),s=0;s<o-1;s++)for(var a=r[s],l=0;l<i-1;l++){var u=a[l];u===a[l+1]&&u===r[s+1][l]&&u===r[s+1][l+1]&&n++}return t.N2*n},t.applyMaskPenaltyRule3=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),s=0;s<o;s++)for(var a=0;a<i;a++){var l=r[s];a+6<i&&l[a]===1&&l[a+1]===0&&l[a+2]===1&&l[a+3]===1&&l[a+4]===1&&l[a+5]===0&&l[a+6]===1&&(t.isWhiteHorizontal(l,a-4,a)||t.isWhiteHorizontal(l,a+7,a+11))&&n++,s+6<o&&r[s][a]===1&&r[s+1][a]===0&&r[s+2][a]===1&&r[s+3][a]===1&&r[s+4][a]===1&&r[s+5][a]===0&&r[s+6][a]===1&&(t.isWhiteVertical(r,a,s-4,s)||t.isWhiteVertical(r,a,s+7,s+11))&&n++}return n*t.N3},t.isWhiteHorizontal=function(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(var i=n;i<r;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,n,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(var o=r;o<i;o++)if(e[o][n]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),s=0;s<o;s++)for(var a=r[s],l=0;l<i;l++)a[l]===1&&n++;var u=e.getHeight()*e.getWidth(),c=Math.floor(Math.abs(n*2-u)*10/u);return c*t.N4},t.getDataMaskBit=function(e,n,r){var i,o;switch(e){case 0:i=r+n&1;break;case 1:i=r&1;break;case 2:i=n%3;break;case 3:i=(r+n)%3;break;case 4:i=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:o=r*n,i=(o&1)+o%3;break;case 6:o=r*n,i=(o&1)+o%3&1;break;case 7:o=r*n,i=o%3+(r+n&1)&1;break;default:throw new ke("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,n){for(var r=0,i=n?e.getHeight():e.getWidth(),o=n?e.getWidth():e.getHeight(),s=e.getArray(),a=0;a<i;a++){for(var l=0,u=-1,c=0;c<o;c++){var f=n?s[a][c]:s[c][a];f===u?l++:(l>=5&&(r+=t.N1+(l-5)),l=1,u=f)}l>=5&&(r+=t.N1+(l-5))}return r},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),Gwe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hwe=function(){function t(e,n){this.width=e,this.height=n;for(var r=new Array(n),i=0;i!==n;i++)r[i]=new Uint8Array(e);this.bytes=r}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,n){return this.bytes[n][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,n,r){this.bytes[n][e]=r},t.prototype.setBoolean=function(e,n,r){this.bytes[n][e]=r?1:0},t.prototype.clear=function(e){var n,r;try{for(var i=Gwe(this.bytes),o=i.next();!o.done;o=i.next()){var s=o.value;xn.fill(s,e)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var o=this.bytes[r],s=n.bytes[r],a=0,l=this.width;a<l;++a)if(o[a]!==s[a])return!1;return!0},t.prototype.toString=function(){for(var e=new Ke,n=0,r=this.height;n<r;++n){for(var i=this.bytes[n],o=0,s=this.width;o<s;++o)switch(i[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),yb=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Ke;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),Vwe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bt=function(t){Vwe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(Br),A3=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,n,r,i,o){t.clearMatrix(o),t.embedBasicPatterns(r,o),t.embedTypeInfo(n,i,o),t.maybeEmbedVersionInfo(r,o),t.embedDataBits(e,i,o)},t.embedBasicPatterns=function(e,n){t.embedPositionDetectionPatternsAndSeparators(n),t.embedDarkDotAtLeftBottomCorner(n),t.maybeEmbedPositionAdjustmentPatterns(e,n),t.embedTimingPatterns(n)},t.embedTypeInfo=function(e,n,r){var i=new Dn;t.makeTypeInfoBits(e,n,i);for(var o=0,s=i.getSize();o<s;++o){var a=i.get(i.getSize()-1-o),l=t.TYPE_INFO_COORDINATES[o],u=l[0],c=l[1];if(r.setBoolean(u,c,a),o<8){var f=r.getWidth()-o-1,d=8;r.setBoolean(f,d,a)}else{var f=8,d=r.getHeight()-7+(o-8);r.setBoolean(f,d,a)}}},t.maybeEmbedVersionInfo=function(e,n){if(!(e.getVersionNumber()<7)){var r=new Dn;t.makeVersionInfoBits(e,r);for(var i=6*3-1,o=0;o<6;++o)for(var s=0;s<3;++s){var a=r.get(i);i--,n.setBoolean(o,n.getHeight()-11+s,a),n.setBoolean(n.getHeight()-11+s,o,a)}}},t.embedDataBits=function(e,n,r){for(var i=0,o=-1,s=r.getWidth()-1,a=r.getHeight()-1;s>0;){for(s===6&&(s-=1);a>=0&&a<r.getHeight();){for(var l=0;l<2;++l){var u=s-l;if(t.isEmpty(r.get(u,a))){var c=void 0;i<e.getSize()?(c=e.get(i),++i):c=!1,n!==255&&rf.getDataMaskBit(n,u,a)&&(c=!c),r.setBoolean(u,a,c)}}a+=o}o=-o,a+=o,s-=2}if(i!==e.getSize())throw new Bt("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-qe.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,n){if(n===0)throw new ke("0 polynomial");var r=t.findMSBSet(n);for(e<<=r-1;t.findMSBSet(e)>=r;)e^=n<<t.findMSBSet(e)-r;return e},t.makeTypeInfoBits=function(e,n,r){if(!yb.isValidMaskPattern(n))throw new Bt("Invalid mask pattern");var i=e.getBits()<<3|n;r.appendBits(i,5);var o=t.calculateBCHCode(i,t.TYPE_INFO_POLY);r.appendBits(o,10);var s=new Dn;if(s.appendBits(t.TYPE_INFO_MASK_PATTERN,15),r.xor(s),r.getSize()!==15)throw new Bt("should not happen but we got: "+r.getSize())},t.makeVersionInfoBits=function(e,n){n.appendBits(e.getVersionNumber(),6);var r=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new Bt("should not happen but we got: "+n.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var n=8;n<e.getWidth()-8;++n){var r=(n+1)%2;t.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),t.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Bt;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,n,r){for(var i=0;i<8;++i){if(!t.isEmpty(r.get(e+i,n)))throw new Bt;r.setNumber(e+i,n,0)}},t.embedVerticalSeparationPattern=function(e,n,r){for(var i=0;i<7;++i){if(!t.isEmpty(r.get(e,n+i)))throw new Bt;r.setNumber(e,n+i,0)}},t.embedPositionAdjustmentPattern=function(e,n,r){for(var i=0;i<5;++i)for(var o=t.POSITION_ADJUSTMENT_PATTERN[i],s=0;s<5;++s)r.setNumber(e+s,n+i,o[s])},t.embedPositionDetectionPattern=function(e,n,r){for(var i=0;i<7;++i)for(var o=t.POSITION_DETECTION_PATTERN[i],s=0;s<7;++s)r.setNumber(e+s,n+i,o[s])},t.embedPositionDetectionPatternsAndSeparators=function(e){var n=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-n,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-n,e);var r=8;t.embedHorizontalSeparationPattern(0,r-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,n){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],o=0,s=i.length;o!==s;o++){var a=i[o];if(a>=0)for(var l=0;l!==s;l++){var u=i[l];u>=0&&t.isEmpty(n.get(u,a))&&t.embedPositionAdjustmentPattern(u-2,a-2,n)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),zwe=function(){function t(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),T3=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return rf.applyMaskPenaltyRule1(e)+rf.applyMaskPenaltyRule2(e)+rf.applyMaskPenaltyRule3(e)+rf.applyMaskPenaltyRule4(e)},t.encode=function(e,n,r){r===void 0&&(r=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,o=r!==null&&r.get(fp.CHARACTER_SET)!==void 0;o&&(i=r.get(fp.CHARACTER_SET).toString());var s=this.chooseMode(e,i),a=new Dn;if(s===kt.BYTE&&(o||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=bn.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,a)}this.appendModeInfo(s,a);var u=new Dn;this.appendBytes(e,s,u,i);var c;if(r!==null&&r.get(fp.QR_VERSION)!==void 0){var f=Number.parseInt(r.get(fp.QR_VERSION).toString(),10);c=rl.getVersionForNumber(f);var d=this.calculateBitsNeeded(s,a,u,c);if(!this.willFit(d,c,n))throw new Bt("Data too big for requested version")}else c=this.recommendVersion(n,s,a,u);var h=new Dn;h.appendBitArray(a);var p=s===kt.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(p,c,s,h),h.appendBitArray(u);var y=c.getECBlocksForLevel(n),v=c.getTotalCodewords()-y.getTotalECCodewords();this.terminateBits(v,h);var g=this.interleaveWithECBytes(h,c.getTotalCodewords(),v,y.getNumBlocks()),m=new yb;m.setECLevel(n),m.setMode(s),m.setVersion(c);var _=c.getDimensionForVersion(),b=new Hwe(_,_),x=this.chooseMaskPattern(g,n,c,b);return m.setMaskPattern(x),A3.buildMatrix(g,n,c,x,b),m.setMatrix(b),m},t.recommendVersion=function(e,n,r,i){var o=this.calculateBitsNeeded(n,r,i,rl.getVersionForNumber(1)),s=this.chooseVersion(o,e),a=this.calculateBitsNeeded(n,r,i,s);return this.chooseVersion(a,e)},t.calculateBitsNeeded=function(e,n,r,i){return n.getSize()+e.getCharacterCountBits(i)+r.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,n){if(n===void 0&&(n=null),bn.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return kt.KANJI;for(var r=!1,i=!1,o=0,s=e.length;o<s;++o){var a=e.charAt(o);if(t.isDigit(a))r=!0;else if(this.getAlphanumericCode(a.charCodeAt(0))!==-1)i=!0;else return kt.BYTE}return i?kt.ALPHANUMERIC:r?kt.NUMERIC:kt.BYTE},t.isOnlyDoubleByteKanji=function(e){var n;try{n=mi.encode(e,bn.SJIS)}catch{return!1}var r=n.length;if(r%2!==0)return!1;for(var i=0;i<r;i+=2){var o=n[i]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0},t.chooseMaskPattern=function(e,n,r,i){for(var o=Number.MAX_SAFE_INTEGER,s=-1,a=0;a<yb.NUM_MASK_PATTERNS;a++){A3.buildMatrix(e,n,r,a,i);var l=this.calculateMaskPenalty(i);l<o&&(o=l,s=a)}return s},t.chooseVersion=function(e,n){for(var r=1;r<=40;r++){var i=rl.getVersionForNumber(r);if(t.willFit(e,i,n))return i}throw new Bt("Data too big")},t.willFit=function(e,n,r){var i=n.getTotalCodewords(),o=n.getECBlocksForLevel(r),s=o.getTotalECCodewords(),a=i-s,l=(e+7)/8;return a>=l},t.terminateBits=function(e,n){var r=e*8;if(n.getSize()>r)throw new Bt("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(var i=0;i<4&&n.getSize()<r;++i)n.appendBit(!1);var o=n.getSize()&7;if(o>0)for(var i=o;i<8;i++)n.appendBit(!1);for(var s=e-n.getSizeInBytes(),i=0;i<s;++i)n.appendBits(i&1?17:236,8);if(n.getSize()!==r)throw new Bt("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,n,r,i,o,s){if(i>=r)throw new Bt("Block ID too large");var a=e%r,l=r-a,u=Math.floor(e/r),c=u+1,f=Math.floor(n/r),d=f+1,h=u-f,p=c-d;if(h!==p)throw new Bt("EC bytes mismatch");if(r!==l+a)throw new Bt("RS blocks mismatch");if(e!==(f+h)*l+(d+p)*a)throw new Bt("Total bytes mismatch");i<l?(o[0]=f,s[0]=h):(o[0]=d,s[0]=p)},t.interleaveWithECBytes=function(e,n,r,i){var o,s,a,l;if(e.getSizeInBytes()!==r)throw new Bt("Number of bits and data bytes does not match");for(var u=0,c=0,f=0,d=new Array,h=0;h<i;++h){var p=new Int32Array(1),y=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(n,r,i,h,p,y);var v=p[0],g=new Uint8Array(v);e.toBytes(8*u,g,0,v);var m=t.generateECBytes(g,y[0]);d.push(new zwe(g,m)),c=Math.max(c,v),f=Math.max(f,m.length),u+=p[0]}if(r!==u)throw new Bt("Data bytes does not match offset");for(var _=new Dn,h=0;h<c;++h)try{for(var b=(o=void 0,T3(d)),x=b.next();!x.done;x=b.next()){var w=x.value,g=w.getDataBytes();h<g.length&&_.appendBits(g[h],8)}}catch(C){o={error:C}}finally{try{x&&!x.done&&(s=b.return)&&s.call(b)}finally{if(o)throw o.error}}for(var h=0;h<f;++h)try{for(var E=(a=void 0,T3(d)),S=E.next();!S.done;S=E.next()){var w=S.value,m=w.getErrorCorrectionBytes();h<m.length&&_.appendBits(m[h],8)}}catch(C){a={error:C}}finally{try{S&&!S.done&&(l=E.return)&&l.call(E)}finally{if(a)throw a.error}}if(n!==_.getSizeInBytes())throw new Bt("Interleaving error: "+n+" and "+_.getSizeInBytes()+" differ.");return _},t.generateECBytes=function(e,n){for(var r=e.length,i=new Int32Array(r+n),o=0;o<r;o++)i[o]=e[o]&255;new dL(Sr.QR_CODE_FIELD_256).encode(i,n);for(var s=new Uint8Array(n),o=0;o<n;o++)s[o]=i[r+o];return s},t.appendModeInfo=function(e,n){n.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,n,r,i){var o=r.getCharacterCountBits(n);if(e>=1<<o)throw new Bt(e+" is bigger than "+((1<<o)-1));i.appendBits(e,o)},t.appendBytes=function(e,n,r,i){switch(n){case kt.NUMERIC:t.appendNumericBytes(e,r);break;case kt.ALPHANUMERIC:t.appendAlphanumericBytes(e,r);break;case kt.BYTE:t.append8BitBytes(e,r,i);break;case kt.KANJI:t.appendKanjiBytes(e,r);break;default:throw new Bt("Invalid mode: "+n)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var n=t.getDigit(e);return n>=0&&n<=9},t.appendNumericBytes=function(e,n){for(var r=e.length,i=0;i<r;){var o=t.getDigit(e.charAt(i));if(i+2<r){var s=t.getDigit(e.charAt(i+1)),a=t.getDigit(e.charAt(i+2));n.appendBits(o*100+s*10+a,10),i+=3}else if(i+1<r){var s=t.getDigit(e.charAt(i+1));n.appendBits(o*10+s,7),i+=2}else n.appendBits(o,4),i++}},t.appendAlphanumericBytes=function(e,n){for(var r=e.length,i=0;i<r;){var o=t.getAlphanumericCode(e.charCodeAt(i));if(o===-1)throw new Bt;if(i+1<r){var s=t.getAlphanumericCode(e.charCodeAt(i+1));if(s===-1)throw new Bt;n.appendBits(o*45+s,11),i+=2}else n.appendBits(o,6),i++}},t.append8BitBytes=function(e,n,r){var i;try{i=mi.encode(e,r)}catch(l){throw new Bt(l)}for(var o=0,s=i.length;o!==s;o++){var a=i[o];n.appendBits(a,8)}},t.appendKanjiBytes=function(e,n){var r;try{r=mi.encode(e,bn.SJIS)}catch(f){throw new Bt(f)}for(var i=r.length,o=0;o<i;o+=2){var s=r[o]&255,a=r[o+1]&255,l=s<<8&4294967295|a,u=-1;if(l>=33088&&l<=40956?u=l-33088:l>=57408&&l<=60351&&(u=l-49472),u===-1)throw new Bt("Invalid byte sequence");var c=(u>>8)*192+(u&255);n.appendBits(c,13)}},t.appendECI=function(e,n){n.appendBits(kt.ECI.getBits(),4),n.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=bn.UTF8.getName(),t})();var jwe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){jwe(e,t);function e(n,r,i,o,s,a,l,u){var c=t.call(this,a,l)||this;if(c.yuvData=n,c.dataWidth=r,c.dataHeight=i,c.left=o,c.top=s,o+a>r||s+l>i)throw new ke("Crop rectangle does not fit within image data.");return u&&c.reverseHorizontal(a,l),c}return e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new ke("Requested row is outside the image: "+n);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var o=(n+this.top)*this.dataWidth+this.left;return It.arraycopy(this.yuvData,o,r,0,i),r},e.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=n*r,o=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return It.arraycopy(this.yuvData,s,o,0,i),o;for(var a=0;a<r;a++){var l=a*n;It.arraycopy(this.yuvData,s,o,l,n),s+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,o){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+r,i,o,!1)},e.prototype.renderThumbnail=function(){for(var n=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(n*r),o=this.yuvData,s=this.top*this.dataWidth+this.left,a=0;a<r;a++){for(var l=a*n,u=0;u<n;u++){var c=o[s+u*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+u]=4278190080|c*65793}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(n,r){for(var i=this.yuvData,o=0,s=this.top*this.dataWidth+this.left;o<r;o++,s+=this.dataWidth)for(var a=s+n/2,l=s,u=s+n-1;l<a;l++,u--){var c=i[l];i[l]=i[u],i[u]=c}},e.prototype.invert=function(){return new um(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(nh);var Wwe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){Wwe(e,t);function e(n,r,i,o,s,a,l){var u=t.call(this,r,i)||this;if(u.dataWidth=o,u.dataHeight=s,u.left=a,u.top=l,n.BYTES_PER_ELEMENT===4){for(var c=r*i,f=new Uint8ClampedArray(c),d=0;d<c;d++){var h=n[d],p=h>>16&255,y=h>>7&510,v=h&255;f[d]=(p+y+v)/4&255}u.luminances=f}else u.luminances=n;if(o===void 0&&(u.dataWidth=r),s===void 0&&(u.dataHeight=i),a===void 0&&(u.left=0),l===void 0&&(u.top=0),u.left+r>u.dataWidth||u.top+i>u.dataHeight)throw new ke("Crop rectangle does not fit within image data.");return u}return e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new ke("Requested row is outside the image: "+n);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var o=(n+this.top)*this.dataWidth+this.left;return It.arraycopy(this.luminances,o,r,0,i),r},e.prototype.getMatrix=function(){var n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=n*r,o=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return It.arraycopy(this.luminances,s,o,0,i),o;for(var a=0;a<r;a++){var l=a*n;It.arraycopy(this.luminances,s,o,l,n),s+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,o){return new e(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+n,this.top+r)},e.prototype.invert=function(){return new um(this)},e})(nh);var Ywe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xwe=function(t){Ywe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(n){return this.getCharacterSetECIByName(n)},e}(bn),Kwe=function(){function t(){}return t.ISO_8859_1=bn.ISO8859_1,t}(),_b,qwe=301,Zwe=function(t,e){for(var n=1,r=0;r<255;r++)e[r]=n,t[n]=r,n*=2,n>=256&&(n^=qwe);return{LOG:t,ALOG:e}};_b=Zwe([],[]),_b.LOG;_b.ALOG;var P3;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(P3||(P3={}));var I3=129,hL=230,Jwe=231,Qwe=235,eEe=236,tEe=237,nEe=238,rEe=239,iEe=240,E1=254,oEe=254,O3="[)>05",R3="[)>06",M3="",bt=0,Fn=1,ar=2,mn=3,Pn=4,Wn=5,sEe=function(){function t(){}return t.prototype.getEncodingMode=function(){return bt},t.prototype.encode=function(e){var n=Ri.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(n>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),i=Ri.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Wn:e.writeCodeword(Jwe),e.signalEncoderChange(Wn);return;case Fn:e.writeCodeword(hL),e.signalEncoderChange(Fn);return;case mn:e.writeCodeword(nEe),e.signalEncoderChange(mn);break;case ar:e.writeCodeword(rEe),e.signalEncoderChange(ar);break;case Pn:e.writeCodeword(iEe),e.signalEncoderChange(Pn);break;default:throw new Error("Illegal mode: "+i)}else Ri.isExtendedASCII(r)?(e.writeCodeword(Qwe),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,n){if(Ri.isDigit(e)&&Ri.isDigit(n)){var r=(e-48)*10+(n-48);return r+130}throw new Error("not digits: "+e+n)},t}(),aEe=function(){function t(){}return t.prototype.getEncodingMode=function(){return Wn},t.prototype.encode=function(e){var n=new Ke;for(n.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();n.append(r),e.pos++;var i=Ri.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(bt);break}}var o=n.length()-1,s=1,a=e.getCodewordCount()+o+s;e.updateSymbolInfo(a);var l=e.getSymbolInfo().getDataCapacity()-a>0;if(e.hasMoreCharacters()||l)if(o<=249)n.setCharAt(0,nt.getCharAt(o));else if(o<=1555)n.setCharAt(0,nt.getCharAt(Math.floor(o/250)+249)),n.insert(1,nt.getCharAt(o%250));else throw new Error("Message length not in valid ranges: "+o);for(var u=0,r=n.length();u<r;u++)e.writeCodeword(this.randomize255State(n.charAt(u).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,n){var r=149*n%255+1,i=e+r;return i<=255?i:i-256},t}(),JE=function(){function t(){}return t.prototype.getEncodingMode=function(){return Fn},t.prototype.encodeMaximal=function(e){for(var n=new Ke,r=0,i=e.pos,o=0;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++,r=this.encodeChar(s,n),n.length()%3===0&&(i=e.pos,o=n.length())}if(o!==n.length()){var a=Math.floor(n.length()/3*2),l=Math.floor(e.getCodewordCount()+a+1);e.updateSymbolInfo(l);var u=e.getSymbolInfo().getDataCapacity()-l,c=Math.floor(n.length()%3);(c===2&&u!==2||c===1&&(r>3||u!==1))&&(e.pos=i)}n.length()>0&&e.writeCodeword(hL),this.handleEOD(e,n)},t.prototype.encode=function(e){for(var n=new Ke;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var i=this.encodeChar(r,n),o=Math.floor(n.length()/3)*2,s=e.getCodewordCount()+o;e.updateSymbolInfo(s);var a=e.getSymbolInfo().getDataCapacity()-s;if(!e.hasMoreCharacters()){var l=new Ke;for(n.length()%3===2&&a!==2&&(i=this.backtrackOneCharacter(e,n,l,i));n.length()%3===1&&(i>3||a!==1);)i=this.backtrackOneCharacter(e,n,l,i);break}var u=n.length();if(u%3===0){var c=Ri.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(c!==this.getEncodingMode()){e.signalEncoderChange(bt);break}}}this.handleEOD(e,n)},t.prototype.backtrackOneCharacter=function(e,n,r,i){var o=n.length(),s=n.toString().substring(0,o-i);n.setLengthToZero(),n.append(s),e.pos--;var a=e.getCurrentChar();return i=this.encodeChar(a,r),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,n){e.writeCodewords(this.encodeToCodewords(n.toString()));var r=n.toString().substring(3);n.setLengthToZero(),n.append(r)},t.prototype.handleEOD=function(e,n){var r=Math.floor(n.length()/3*2),i=n.length()%3,o=e.getCodewordCount()+r;e.updateSymbolInfo(o);var s=e.getSymbolInfo().getDataCapacity()-o;if(i===2){for(n.append("\0");n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(E1)}else if(s===1&&i===1){for(;n.length()>=3;)this.writeNextTriplet(e,n);e.hasMoreCharacters()&&e.writeCodeword(E1),e.pos--}else if(i===0){for(;n.length()>=3;)this.writeNextTriplet(e,n);(s>0||e.hasMoreCharacters())&&e.writeCodeword(E1)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(bt)},t.prototype.encodeChar=function(e,n){if(e===" ".charCodeAt(0))return n.append(3),1;if(e>="0".charCodeAt(0)&&e<="9".charCodeAt(0))return n.append(e-48+4),1;if(e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0))return n.append(e-65+14),1;if(e<" ".charCodeAt(0))return n.append(0),n.append(e),2;if(e<="/".charCodeAt(0))return n.append(1),n.append(e-33),2;if(e<="@".charCodeAt(0))return n.append(1),n.append(e-58+15),2;if(e<="_".charCodeAt(0))return n.append(1),n.append(e-91+22),2;if(e<=127)return n.append(2),n.append(e-96),2;n.append("1");var r=2;return r+=this.encodeChar(e-128,n),r},t.prototype.encodeToCodewords=function(e){var n=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=n/256,i=n%256,o=new Ke;return o.append(r),o.append(i),o.toString()},t}(),lEe=function(){function t(){}return t.prototype.getEncodingMode=function(){return Pn},t.prototype.encode=function(e){for(var n=new Ke;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,n),e.pos++;var i=n.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(n.toString()));var o=n.toString().substring(4);n.setLengthToZero(),n.append(o);var s=Ri.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){e.signalEncoderChange(bt);break}}}n.append(nt.getCharAt(31)),this.handleEOD(e,n)},t.prototype.handleEOD=function(e,n){try{var r=n.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),o=e.getRemainingCharacters();if(o>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),o<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var s=r-1,a=this.encodeToCodewords(n.toString()),l=!e.hasMoreCharacters(),u=l&&s<=2;if(s<=2){e.updateSymbolInfo(e.getCodewordCount()+s);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(u=!1,e.updateSymbolInfo(e.getCodewordCount()+a.length))}u?(e.resetSymbolInfo(),e.pos-=s):e.writeCodewords(a)}finally{e.signalEncoderChange(bt)}},t.prototype.encodeChar=function(e,n){e>=" ".charCodeAt(0)&&e<="?".charCodeAt(0)?n.append(e):e>="@".charCodeAt(0)&&e<="^".charCodeAt(0)?n.append(nt.getCharAt(e-64)):Ri.illegalCharacter(nt.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var n=e.length;if(n===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),i=n>=2?e.charAt(1).charCodeAt(0):0,o=n>=3?e.charAt(2).charCodeAt(0):0,s=n>=4?e.charAt(3).charCodeAt(0):0,a=(r<<18)+(i<<12)+(o<<6)+s,l=a>>16&255,u=a>>8&255,c=a&255,f=new Ke;return f.append(l),n>=2&&f.append(u),n>=3&&f.append(c),f.toString()},t}(),uEe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cEe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ht=function(){function t(e,n,r,i,o,s,a,l){a===void 0&&(a=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=n,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=o,this.dataRegions=s,this.rsBlockData=a,this.rsBlockError=l}return t.lookup=function(e,n,r,i,o){var s,a;n===void 0&&(n=0),r===void 0&&(r=null),i===void 0&&(i=null),o===void 0&&(o=!0);try{for(var l=cEe(dEe),u=l.next();!u.done;u=l.next()){var c=u.value;if(!(n===1&&c.rectangular)&&!(n===2&&!c.rectangular)&&!(r!=null&&(c.getSymbolWidth()<r.getWidth()||c.getSymbolHeight()<r.getHeight()))&&!(i!=null&&(c.getSymbolWidth()>i.getWidth()||c.getSymbolHeight()>i.getHeight()))&&e<=c.dataCapacity)return c}}catch(f){s={error:f}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}if(o)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),fEe=function(t){uEe(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(n){return n<=8?156:155},e}(ht),dEe=[new ht(!1,3,5,8,8,1),new ht(!1,5,7,10,10,1),new ht(!0,5,7,16,6,1),new ht(!1,8,10,12,12,1),new ht(!0,10,11,14,6,2),new ht(!1,12,12,14,14,1),new ht(!0,16,14,24,10,1),new ht(!1,18,14,16,16,1),new ht(!1,22,18,18,18,1),new ht(!0,22,18,16,10,2),new ht(!1,30,20,20,20,1),new ht(!0,32,24,16,14,2),new ht(!1,36,24,22,22,1),new ht(!1,44,28,24,24,1),new ht(!0,49,28,22,14,2),new ht(!1,62,36,14,14,4),new ht(!1,86,42,16,16,4),new ht(!1,114,48,18,18,4),new ht(!1,144,56,20,20,4),new ht(!1,174,68,22,22,4),new ht(!1,204,84,24,24,4,102,42),new ht(!1,280,112,14,14,16,140,56),new ht(!1,368,144,16,16,16,92,36),new ht(!1,456,192,18,18,16,114,48),new ht(!1,576,224,20,20,16,144,56),new ht(!1,696,272,22,22,16,174,68),new ht(!1,816,336,24,24,16,136,56),new ht(!1,1050,408,18,18,36,175,68),new ht(!1,1304,496,20,20,36,163,62),new fEe],hEe=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var n=e.split("").map(function(a){return a.charCodeAt(0)}),r=new Ke,i=0,o=n.length;i<o;i++){var s=String.fromCharCode(n[i]&255);if(s==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(s)}this.msg=r.toString(),this.shape=0,this.codewords=new Ke,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,n){this.minSize=e,this.maxSize=n},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=ht.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),pEe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gEe=function(t){pEe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return mn},e.prototype.encode=function(n){for(var r=new Ke;n.hasMoreCharacters();){var i=n.getCurrentChar();n.pos++,this.encodeChar(i,r);var o=r.length();if(o%3===0){this.writeNextTriplet(n,r);var s=Ri.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){n.signalEncoderChange(bt);break}}}this.handleEOD(n,r)},e.prototype.encodeChar=function(n,r){switch(n){case 13:r.append(0);break;case"*".charCodeAt(0):r.append(1);break;case">".charCodeAt(0):r.append(2);break;case" ".charCodeAt(0):r.append(3);break;default:n>="0".charCodeAt(0)&&n<="9".charCodeAt(0)?r.append(n-48+4):n>="A".charCodeAt(0)&&n<="Z".charCodeAt(0)?r.append(n-65+14):Ri.illegalCharacter(nt.getCharAt(n));break}return 1},e.prototype.handleEOD=function(n,r){n.updateSymbolInfo();var i=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount(),o=r.length();n.pos-=o,(n.getRemainingCharacters()>1||i>1||n.getRemainingCharacters()!==i)&&n.writeCodeword(oEe),n.getNewEncoding()<0&&n.signalEncoderChange(bt)},e}(JE),mEe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vEe=function(t){mEe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return ar},e.prototype.encodeChar=function(n,r){if(n===" ".charCodeAt(0))return r.append(3),1;if(n>="0".charCodeAt(0)&&n<="9".charCodeAt(0))return r.append(n-48+4),1;if(n>="a".charCodeAt(0)&&n<="z".charCodeAt(0))return r.append(n-97+14),1;if(n<" ".charCodeAt(0))return r.append(0),r.append(n),2;if(n<="/".charCodeAt(0))return r.append(1),r.append(n-33),2;if(n<="@".charCodeAt(0))return r.append(1),r.append(n-58+15),2;if(n>="[".charCodeAt(0)&&n<="_".charCodeAt(0))return r.append(1),r.append(n-91+22),2;if(n==="`".charCodeAt(0))return r.append(2),r.append(0),2;if(n<="Z".charCodeAt(0))return r.append(2),r.append(n-65+1),2;if(n<=127)return r.append(2),r.append(n-123+27),2;r.append("1");var i=2;return i+=this.encodeChar(n-128,r),i},e}(JE),yEe=function(){function t(){}return t.randomize253State=function(e){var n=149*e%253+1,r=I3+n;return r<=254?r:r-254},t.encodeHighLevel=function(e,n,r,i,o){n===void 0&&(n=0),r===void 0&&(r=null),i===void 0&&(i=null),o===void 0&&(o=!1);var s=new JE,a=[new sEe,s,new vEe,new gEe,new lEe,new aEe],l=new hEe(e);l.setSymbolShape(n),l.setSizeConstraints(r,i),e.startsWith(O3)&&e.endsWith(M3)?(l.writeCodeword(eEe),l.setSkipAtEnd(2),l.pos+=O3.length):e.startsWith(R3)&&e.endsWith(M3)&&(l.writeCodeword(tEe),l.setSkipAtEnd(2),l.pos+=R3.length);var u=bt;for(o&&(s.encodeMaximal(l),u=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)a[u].encode(l),l.getNewEncoding()>=0&&(u=l.getNewEncoding(),l.resetEncoderSignal());var c=l.getCodewordCount();l.updateSymbolInfo();var f=l.getSymbolInfo().getDataCapacity();c<f&&u!==bt&&u!==Wn&&u!==Pn&&l.writeCodeword("þ");var d=l.getCodewords();for(d.length()<f&&d.append(I3);d.length()<f;)d.append(this.randomize253State(d.length()+1));return l.getCodewords().toString()},t.lookAheadTest=function(e,n,r){var i=this.lookAheadTestIntern(e,n,r);if(r===mn&&i===mn){for(var o=Math.min(n+3,e.length),s=n;s<o;s++)if(!this.isNativeX12(e.charCodeAt(s)))return bt}else if(r===Pn&&i===Pn){for(var o=Math.min(n+4,e.length),s=n;s<o;s++)if(!this.isNativeEDIFACT(e.charCodeAt(s)))return bt}return i},t.lookAheadTestIntern=function(e,n,r){if(n>=e.length)return r;var i;r===bt?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[r]=0);for(var o=0,s=new Uint8Array(6),a=[];;){if(n+o===e.length){xn.fill(s,0),xn.fill(a,0);var l=this.findMinimums(i,a,qe.MAX_VALUE,s),u=this.getMinimumCount(s);if(a[bt]===l)return bt;if(u===1){if(s[Wn]>0)return Wn;if(s[Pn]>0)return Pn;if(s[ar]>0)return ar;if(s[mn]>0)return mn}return Fn}var c=e.charCodeAt(n+o);if(o++,this.isDigit(c)?i[bt]+=.5:this.isExtendedASCII(c)?(i[bt]=Math.ceil(i[bt]),i[bt]+=2):(i[bt]=Math.ceil(i[bt]),i[bt]++),this.isNativeC40(c)?i[Fn]+=2/3:this.isExtendedASCII(c)?i[Fn]+=8/3:i[Fn]+=4/3,this.isNativeText(c)?i[ar]+=2/3:this.isExtendedASCII(c)?i[ar]+=8/3:i[ar]+=4/3,this.isNativeX12(c)?i[mn]+=2/3:this.isExtendedASCII(c)?i[mn]+=13/3:i[mn]+=10/3,this.isNativeEDIFACT(c)?i[Pn]+=3/4:this.isExtendedASCII(c)?i[Pn]+=17/4:i[Pn]+=13/4,this.isSpecialB256(c)?i[Wn]+=4:i[Wn]++,o>=4){if(xn.fill(s,0),xn.fill(a,0),this.findMinimums(i,a,qe.MAX_VALUE,s),a[bt]<this.min(a[Wn],a[Fn],a[ar],a[mn],a[Pn]))return bt;if(a[Wn]<a[bt]||a[Wn]+1<this.min(a[Fn],a[ar],a[mn],a[Pn]))return Wn;if(a[Pn]+1<this.min(a[Wn],a[Fn],a[ar],a[mn],a[bt]))return Pn;if(a[ar]+1<this.min(a[Wn],a[Fn],a[Pn],a[mn],a[bt]))return ar;if(a[mn]+1<this.min(a[Wn],a[Fn],a[Pn],a[ar],a[bt]))return mn;if(a[Fn]+1<this.min(a[bt],a[Wn],a[Pn],a[ar])){if(a[Fn]<a[mn])return Fn;if(a[Fn]===a[mn]){for(var f=n+o+1;f<e.length;){var d=e.charCodeAt(f);if(this.isX12TermSep(d))return mn;if(!this.isNativeX12(d))break;f++}return Fn}}}}},t.min=function(e,n,r,i,o){var s=Math.min(e,Math.min(n,Math.min(r,i)));return o===void 0?s:Math.min(s,o)},t.findMinimums=function(e,n,r,i){for(var o=0;o<6;o++){var s=n[o]=Math.ceil(e[o]);r>s&&(r=s,xn.fill(i,0)),r===s&&(i[o]=i[o]+1)}return r},t.getMinimumCount=function(e){for(var n=0,r=0;r<6;r++)n+=e[r];return n||0},t.isDigit=function(e){return e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},t.isNativeText=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},t.isX12TermSep=function(e){return e===13||e==="*".charCodeAt(0)||e===">".charCodeAt(0)},t.isNativeEDIFACT=function(e){return e>=" ".charCodeAt(0)&&e<="^".charCodeAt(0)},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,n){n===void 0&&(n=0);for(var r=e.length,i=n;i<r&&this.isDigit(e.charCodeAt(i));)i++;return i-n},t.illegalCharacter=function(e){var n=qe.toHexString(e.charCodeAt(0));throw n="0000".substring(0,4-n.length)+n,new Error("Illegal character: "+e+" (0x"+n+")")},t}();const Ri=yEe;var S1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D3=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return mi.encode(e,this.charset)!=null}catch{return!1}},t}(),_Ee=function(){function t(e,n,r){var i,o,s,a,l,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(P){return new D3(Xwe.forName(P))}),this.encoders=[];var c=[];c.push(new D3(Kwe.ISO_8859_1));for(var f=n!=null&&n.name.startsWith("UTF"),d=0;d<e.length;d++){var h=!1;try{for(var p=(i=void 0,S1(c)),y=p.next();!y.done;y=p.next()){var v=y.value,g=e.charAt(d),m=g.charCodeAt(0);if(m===r||v.canEncode(g)){h=!0;break}}}catch(P){i={error:P}}finally{try{y&&!y.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}if(!h)try{for(var _=(s=void 0,S1(this.ENCODERS)),b=_.next();!b.done;b=_.next()){var v=b.value;if(v.canEncode(e.charAt(d))){c.push(v),h=!0;break}}}catch(P){s={error:P}}finally{try{b&&!b.done&&(a=_.return)&&a.call(_)}finally{if(s)throw s.error}}h||(f=!0)}if(c.length===1&&!f)this.encoders=[c[0]];else{this.encoders=[];var x=0;try{for(var w=S1(c),E=w.next();!E.done;E=w.next()){var v=E.value;this.encoders[x++]=v}}catch(P){l={error:P}}finally{try{E&&!E.done&&(u=w.return)&&u.call(w)}finally{if(l)throw l.error}}}var S=-1;if(n!=null){for(var d=0;d<this.encoders.length;d++)if(this.encoders[d]!=null&&n.name===this.encoders[d].name){S=d;break}}this.priorityEncoderIndex=S}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,n){if(!(n<this.length()))throw new Error("index must be less than length");return mi.encode(nt.getCharAt(e),this.encoders[n].name)},t}(),bEe=3,xEe=function(){function t(e,n,r){this.fnc1=r;var i=new _Ee(e,n,r);if(i.length()===1)for(var o=0;o<this.bytes.length;o++){var s=e.charAt(o).charCodeAt(0);this.bytes[o]=s===r?1e3:s}else this.bytes=this.encodeMinimally(e,i,r)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,n){if(e+n-1>=this.bytes.length)return!1;for(var r=0;r<n;r++)if(this.isECI(e+r))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,n){if(e<0||e>n||n>this.length())throw new Error(""+e);for(var r=new Ke,i=e;i<n;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,n,r){(e[n][r.encoderIndex]==null||e[n][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[n][r.encoderIndex]=r)},t.prototype.addEdges=function(e,n,r,i,o,s){var a=e.charAt(i).charCodeAt(0),l=0,u=n.length();n.getPriorityEncoderIndex()>=0&&(a===s||n.canEncode(a,n.getPriorityEncoderIndex()))&&(l=n.getPriorityEncoderIndex(),u=l+1);for(var c=l;c<u;c++)(a===s||n.canEncode(a,c))&&this.addEdge(r,i+1,new B3(a,n,c,o,s))},t.prototype.encodeMinimally=function(e,n,r){var i=e.length,o=new B3[i+1][n.length()];this.addEdges(e,n,o,0,null,r);for(var s=1;s<=i;s++){for(var a=0;a<n.length();a++)o[s][a]!=null&&s<i&&this.addEdges(e,n,o,s,o[s][a],r);for(var a=0;a<n.length();a++)o[s-1][a]=null}for(var l=-1,u=qe.MAX_VALUE,a=0;a<n.length();a++)if(o[i][a]!=null){var c=o[i][a];c.cachedTotalSize<u&&(u=c.cachedTotalSize,l=a)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],d=o[i][l];d!=null;){if(d.isFNC1())f.unshift(1e3);else for(var h=n.encode(d.c,d.encoderIndex),s=h.length-1;s>=0;s--)f.unshift(h[s]&255);var p=d.previous===null?0:d.previous.encoderIndex;p!==d.encoderIndex&&f.unshift(256+n.getECIValue(d.encoderIndex)),d=d.previous}for(var y=[],s=0;s<y.length;s++)y[s]=f[s];return y},t}(),B3=function(){function t(e,n,r,i,o){this.c=e,this.encoderSet=n,this.encoderIndex=r,this.previous=i,this.fnc1=o,this.c=e===o?1e3:e;var s=this.isFNC1()?1:n.encode(e,r).length,a=i===null?0:i.encoderIndex;a!==r&&(s+=bEe),i!=null&&(s+=i.cachedTotalSize),this.cachedTotalSize=s}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),wEe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();globalThis&&globalThis.__values;var EEe=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o};globalThis&&globalThis.__spread;var k3;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(k3||(k3={}));(function(t){wEe(e,t);function e(n,r,i,o,s){var a=t.call(this,n,r,i)||this;return a.shape=o,a.macroId=s,a}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(xEe);var SEe=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),N3=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,n){return e.sort(n)[0]},t}(),CEe=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),AEe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),QE=function(t){AEe(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.value=r,o.bitCount=i,o}return e.prototype.appendTo=function(n,r){n.appendBits(this.value,this.bitCount)},e.prototype.add=function(n,r){return new e(this,n,r)},e.prototype.addBinaryShift=function(n,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,n,r)},e.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+qe.toBinaryString(n|1<<this.bitCount).substring(1)+">"},e}(CEe),TEe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),PEe=function(t){TEe(e,t);function e(n,r,i){var o=t.call(this,n,0,0)||this;return o.binaryShiftStart=r,o.binaryShiftByteCount=i,o}return e.prototype.appendTo=function(n,r){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):i===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(r[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(n,r){return new e(this,n,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(QE);function IEe(t,e,n){return new PEe(t,e,n)}function jc(t,e,n){return new QE(t,e,n)}var OEe=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Xs=0,N0=1,fi=2,pL=3,io=4,REe=new QE(null,0,0),C1=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])],MEe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function DEe(t){var e,n;try{for(var r=MEe(t),i=r.next();!i.done;i=r.next()){var o=i.value;xn.fill(o,-1)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return t[Xs][io]=0,t[N0][io]=0,t[N0][Xs]=28,t[pL][io]=0,t[fi][io]=0,t[fi][Xs]=15,t}var gL=DEe(xn.createInt32Array(6,6)),BEe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kEe=function(){function t(e,n,r,i){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,n){var r=this.bitCount,i=this.token;if(e!==this.mode){var o=C1[this.mode][e];i=jc(i,o&65535,o>>16),r+=o>>16}var s=e===fi?4:5;return i=jc(i,n,s),new t(i,e,0,r+s)},t.prototype.shiftAndAppend=function(e,n){var r=this.token,i=this.mode===fi?4:5;return r=jc(r,gL[this.mode][e],i),r=jc(r,n,5),new t(r,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var n=this.token,r=this.mode,i=this.bitCount;if(this.mode===io||this.mode===fi){var o=C1[r][Xs];n=jc(n,o&65535,o>>16),i+=o>>16,r=Xs}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new t(n,r,this.binaryShiftByteCount+1,i+s);return a.binaryShiftByteCount===2047+31&&(a=a.endBinaryShift(e+1)),a},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var n=this.token;return n=IEe(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(n,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var n=this.bitCount+(C1[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount},t.prototype.toBitArray=function(e){for(var n,r,i=[],o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())i.unshift(o);var s=new Dn;try{for(var a=BEe(i),l=a.next();!l.done;l=a.next()){var u=l.value;u.appendTo(s,e)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return s},t.prototype.toString=function(){return nt.format("%s bits=%d bytes=%d",OEe[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(REe,Xs,0,0),t}();function NEe(t){var e=nt.getCharCode(" "),n=nt.getCharCode("."),r=nt.getCharCode(",");t[Xs][e]=1;for(var i=nt.getCharCode("Z"),o=nt.getCharCode("A"),s=o;s<=i;s++)t[Xs][s]=s-o+2;t[N0][e]=1;for(var a=nt.getCharCode("z"),l=nt.getCharCode("a"),s=l;s<=a;s++)t[N0][s]=s-l+2;t[fi][e]=1;for(var u=nt.getCharCode("9"),c=nt.getCharCode("0"),s=c;s<=u;s++)t[fi][s]=s-c+2;t[fi][r]=12,t[fi][n]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],d=0;d<f.length;d++)t[pL][nt.getCharCode(f[d])]=d;for(var h=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],d=0;d<h.length;d++)nt.getCharCode(h[d])>0&&(t[io][nt.getCharCode(h[d])]=d);return t}var A1=NEe(xn.createInt32Array(5,256)),dp=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FEe=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=nt.getCharCode(" "),n=nt.getCharCode(`
`),r=N3.singletonList(kEe.INITIAL_STATE),i=0;i<this.text.length;i++){var o=void 0,s=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case nt.getCharCode("\r"):o=s===n?2:0;break;case nt.getCharCode("."):o=s===e?3:0;break;case nt.getCharCode(","):o=s===e?4:0;break;case nt.getCharCode(":"):o=s===e?5:0;break;default:o=0}o>0?(r=t.updateStateListForPair(r,i,o),i++):r=this.updateStateListForChar(r,i)}var a=N3.min(r,function(l,u){return l.getBitCount()-u.getBitCount()});return a.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,n){var r,i,o=[];try{for(var s=dp(e),a=s.next();!a.done;a=s.next()){var l=a.value;this.updateStateForChar(l,n,o)}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return t.simplifyStates(o)},t.prototype.updateStateForChar=function(e,n,r){for(var i=this.text[n]&255,o=A1[e.getMode()][i]>0,s=null,a=0;a<=io;a++){var l=A1[a][i];if(l>0){if(s==null&&(s=e.endBinaryShift(n)),!o||a===e.getMode()||a===fi){var u=s.latchAndAppend(a,l);r.push(u)}if(!o&&gL[e.getMode()][a]>=0){var c=s.shiftAndAppend(a,l);r.push(c)}}}if(e.getBinaryShiftByteCount()>0||A1[e.getMode()][i]===0){var f=e.addBinaryShiftChar(n);r.push(f)}},t.updateStateListForPair=function(e,n,r){var i,o,s=[];try{for(var a=dp(e),l=a.next();!l.done;l=a.next()){var u=l.value;this.updateStateForPair(u,n,r,s)}}catch(c){i={error:c}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return this.simplifyStates(s)},t.updateStateForPair=function(e,n,r,i){var o=e.endBinaryShift(n);if(i.push(o.latchAndAppend(io,r)),e.getMode()!==io&&i.push(o.shiftAndAppend(io,r)),r===3||r===4){var s=o.latchAndAppend(fi,16-r).latchAndAppend(fi,1);i.push(s)}if(e.getBinaryShiftByteCount()>0){var a=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);i.push(a)}},t.simplifyStates=function(e){var n,r,i,o,s=[];try{for(var a=dp(e),l=a.next();!l.done;l=a.next()){var u=l.value,c=!0,f=function(v){if(v.isBetterThanOrEqualTo(u))return c=!1,"break";u.isBetterThanOrEqualTo(v)&&(s=s.filter(function(g){return g!==v}))};try{for(var d=(i=void 0,dp(s)),h=d.next();!h.done;h=d.next()){var p=h.value,y=f(p);if(y==="break")break}}catch(v){i={error:v}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}c&&s.push(u)}}catch(v){n={error:v}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return s},t}(),LEe=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,n,r){var i=new FEe(e).encode(),o=qe.truncDivision(i.getSize()*n,100)+11,s=i.getSize()+o,a,l,u,c,f;if(r!==t.DEFAULT_AZTEC_LAYERS){if(a=r<0,l=Math.abs(r),l>(a?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new ke(nt.format("Illegal value %s for layers",r));u=t.totalBitsInLayer(l,a),c=t.WORD_SIZE[l];var d=u-u%c;if(f=t.stuffBits(i,c),f.getSize()+o>d)throw new ke("Data to large for user specified layer");if(a&&f.getSize()>c*64)throw new ke("Data to large for user specified layer")}else{c=0,f=null;for(var h=0;;h++){if(h>t.MAX_NB_BITS)throw new ke("Data too large for an Aztec code");if(a=h<=3,l=a?h+1:h,u=t.totalBitsInLayer(l,a),!(s>u)){(f==null||c!==t.WORD_SIZE[l])&&(c=t.WORD_SIZE[l],f=t.stuffBits(i,c));var d=u-u%c;if(!(a&&f.getSize()>c*64)&&f.getSize()+o<=d)break}}}var p=t.generateCheckWords(f,u,c),y=f.getSize()/c,v=t.generateModeMessage(a,l,y),g=(a?11:14)+l*4,m=new Int32Array(g),_;if(a){_=g;for(var h=0;h<m.length;h++)m[h]=h}else{_=g+1+2*qe.truncDivision(qe.truncDivision(g,2)-1,15);for(var b=qe.truncDivision(g,2),x=qe.truncDivision(_,2),h=0;h<b;h++){var w=h+qe.truncDivision(h,15);m[b-h-1]=x-w-1,m[b+h]=x+w+1}}for(var E=new _o(_),h=0,S=0;h<l;h++){for(var P=(l-h)*4+(a?9:12),C=0;C<P;C++)for(var A=C*2,T=0;T<2;T++)p.get(S+A+T)&&E.set(m[h*2+T],m[h*2+C]),p.get(S+P*2+A+T)&&E.set(m[h*2+C],m[g-1-h*2-T]),p.get(S+P*4+A+T)&&E.set(m[g-1-h*2-T],m[g-1-h*2-C]),p.get(S+P*6+A+T)&&E.set(m[g-1-h*2-C],m[h*2+T]);S+=P*8}if(t.drawModeMessage(E,a,_,v),a)t.drawBullsEye(E,qe.truncDivision(_,2),5);else{t.drawBullsEye(E,qe.truncDivision(_,2),7);for(var h=0,C=0;h<qe.truncDivision(g,2)-1;h+=15,C+=16)for(var T=qe.truncDivision(_,2)&1;T<_;T+=2)E.set(qe.truncDivision(_,2)-C,T),E.set(qe.truncDivision(_,2)+C,T),E.set(T,qe.truncDivision(_,2)-C),E.set(T,qe.truncDivision(_,2)+C)}var R=new SEe;return R.setCompact(a),R.setSize(_),R.setLayers(l),R.setCodeWords(y),R.setMatrix(E),R},t.drawBullsEye=function(e,n,r){for(var i=0;i<r;i+=2)for(var o=n-i;o<=n+i;o++)e.set(o,n-i),e.set(o,n+i),e.set(n-i,o),e.set(n+i,o);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)},t.generateModeMessage=function(e,n,r){var i=new Dn;return e?(i.appendBits(n-1,2),i.appendBits(r-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(n-1,5),i.appendBits(r-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,n,r,i){var o=qe.truncDivision(r,2);if(n)for(var s=0;s<7;s++){var a=o-3+s;i.get(s)&&e.set(a,o-5),i.get(s+7)&&e.set(o+5,a),i.get(20-s)&&e.set(a,o+5),i.get(27-s)&&e.set(o-5,a)}else for(var s=0;s<10;s++){var a=o-5+s+qe.truncDivision(s,5);i.get(s)&&e.set(a,o-7),i.get(s+10)&&e.set(o+7,a),i.get(29-s)&&e.set(a,o+7),i.get(39-s)&&e.set(o-7,a)}},t.generateCheckWords=function(e,n,r){var i,o,s=e.getSize()/r,a=new dL(t.getGF(r)),l=qe.truncDivision(n,r),u=t.bitsToWords(e,r,l);a.encode(u,l-s);var c=n%r,f=new Dn;f.appendBits(0,c);try{for(var d=LEe(Array.from(u)),h=d.next();!h.done;h=d.next()){var p=h.value;f.appendBits(p,r)}}catch(y){i={error:y}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return f},t.bitsToWords=function(e,n,r){var i=new Int32Array(r),o,s;for(o=0,s=e.getSize()/n;o<s;o++){for(var a=0,l=0;l<n;l++)a|=e.get(o*n+l)?1<<n-l-1:0;i[o]=a}return i},t.getGF=function(e){switch(e){case 4:return Sr.AZTEC_PARAM;case 6:return Sr.AZTEC_DATA_6;case 8:return Sr.AZTEC_DATA_8;case 10:return Sr.AZTEC_DATA_10;case 12:return Sr.AZTEC_DATA_12;default:throw new ke("Unsupported word size "+e)}},t.stuffBits=function(e,n){for(var r=new Dn,i=e.getSize(),o=(1<<n)-2,s=0;s<i;s+=n){for(var a=0,l=0;l<n;l++)(s+l>=i||e.get(s+l))&&(a|=1<<n-1-l);(a&o)===o?(r.appendBits(a&o,n),s--):a&o?r.appendBits(a,n):(r.appendBits(a|1,n),s--)}return r},t.totalBitsInLayer=function(e,n){return((n?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var $Ee=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),UEe=function(t){$Ee(e,t);function e(n){var r=t.call(this,n.width,n.height)||this;return r.canvas=n,r.tempCanvasElement=null,r.buffer=e.makeBufferFromCanvasImageData(n),r}return e.makeBufferFromCanvasImageData=function(n){var r;try{r=n.getContext("2d",{willReadFrequently:!0})}catch{r=n.getContext("2d")}if(!r)throw new Error("Couldn't get canvas context.");var i=r.getImageData(0,0,n.width,n.height);return e.toGrayscaleBuffer(i.data,n.width,n.height)},e.toGrayscaleBuffer=function(n,r,i){for(var o=new Uint8ClampedArray(r*i),s=0,a=0,l=n.length;s<l;s+=4,a++){var u=void 0,c=n[s+3];if(c===0)u=255;else{var f=n[s],d=n[s+1],h=n[s+2];u=306*f+601*d+117*h+512>>10}o[a]=u}return o},e.prototype.getRow=function(n,r){if(n<0||n>=this.getHeight())throw new ke("Requested row is outside the image: "+n);var i=this.getWidth(),o=n*i;return r===null?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(n,r,i,o){return t.prototype.crop.call(this,n,r,i,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new um(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},e.prototype.rotate=function(n){var r=this.getTempCanvasElement();if(!r)throw new Error("Could not create a Canvas element.");var i=n*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,a=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*s),l=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*s);r.width=a,r.height=l;var u=r.getContext("2d");if(!u)throw new Error("Could not create a Canvas Context element.");return u.translate(a/2,l/2),u.rotate(i),u.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(nh);function mL(){return typeof navigator<"u"}function GEe(){return mL()&&!!navigator.mediaDevices}function HEe(){return!!(GEe()&&navigator.mediaDevices.enumerateDevices)}var yu=globalThis&&globalThis.__assign||function(){return yu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},yu.apply(this,arguments)},zt=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(f){s(f)}}function l(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})},jt=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},T1=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},VEe={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},_c=function(){function t(e,n,r){n===void 0&&(n=new Map),r===void 0&&(r={}),this.reader=e,this.hints=n,this.options=yu(yu({},VEe),r)}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(Ot.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),t.addVideoSource=function(e,n){try{e.srcObject=n}catch{console.error("got interrupted by new loading request")}},t.mediaStreamSetTorch=function(e,n){return zt(this,void 0,void 0,function(){return jt(this,function(r){switch(r.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:n?"flash":"off",torch:!!n}]})];case 1:return r.sent(),[2]}})})},t.mediaStreamIsTorchCompatible=function(e){var n,r,i=e.getVideoTracks();try{for(var o=T1(i),s=o.next();!s.done;s=o.next()){var a=s.value;if(t.mediaStreamIsTorchCompatibleTrack(a))return!0}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1},t.mediaStreamIsTorchCompatibleTrack=function(e){try{var n=e.getCapabilities();return"torch"in n}catch(r){return console.error(r),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},t.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},t.getMediaElement=function(e,n){var r=document.getElementById(e);if(!r)throw new rn("element with id '".concat(e,"' not found"));if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new rn("element with id '".concat(e,"' must be an ").concat(n," element"));return r},t.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return t.getMediaElement(e,"video");if(!e&&typeof document<"u"){var n=document.createElement("video");return n.width=200,n.height=200,n}throw new Error("Couldn't get videoElement from videoSource!")},t.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return t.getMediaElement(e,"img");if(typeof e>"u"){var n=document.createElement("img");return n.width=200,n.height=200,n}throw new Error("Couldn't get imageElement from imageSource!")},t.prepareVideoElement=function(e){var n=t.createVideoElement(e);return n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},t.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.createBinaryBitmapFromCanvas=function(e){var n=new UEe(e),r=new eL(n);return new QF(r)},t.drawImageOnCanvas=function(e,n){e.drawImage(n,0,0)},t.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},t.createCaptureCanvas=function(e){if(!e)throw new rn("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var n=document.createElement("canvas"),r=t.getMediaElementDimensions(e),i=r.width,o=r.height;return n.style.width=i+"px",n.style.height=o+"px",n.width=i,n.height=o,n},t.tryPlayVideo=function(e){return zt(this,void 0,void 0,function(){var n;return jt(this,function(r){switch(r.label){case 0:if(e!=null&&e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(t.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[2,!0];case 3:return n=r.sent(),console.warn("It was not possible to play the video.",n),[2,!1];case 4:return[2]}})})},t.createCanvasFromMediaElement=function(e){var n=t.createCaptureCanvas(e),r=n.getContext("2d");if(!r)throw new Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(r,e),n},t.createBinaryBitmapFromMediaElem=function(e){var n=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(n)},t.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},t.listVideoInputDevices=function(){return zt(this,void 0,void 0,function(){var e,n,r,i,o,s,a,l,u,c,f,d;return jt(this,function(h){switch(h.label){case 0:if(!mL())throw new Error("Can't enumerate devices, navigator is not present.");if(!HEe())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=h.sent(),n=[];try{for(r=T1(e),i=r.next();!i.done;i=r.next())o=i.value,s=o.kind==="video"?"videoinput":o.kind,s==="videoinput"&&(a=o.deviceId||o.id,l=o.label||"Video device ".concat(n.length+1),u=o.groupId,c={deviceId:a,label:l,kind:s,groupId:u},n.push(c))}catch(p){f={error:p}}finally{try{i&&!i.done&&(d=r.return)&&d.call(r)}finally{if(f)throw f.error}}return[2,n]}})})},t.findDeviceById=function(e){return zt(this,void 0,void 0,function(){var n;return jt(this,function(r){switch(r.label){case 0:return[4,t.listVideoInputDevices()];case 1:return n=r.sent(),n?[2,n.find(function(i){return i.deviceId===e})]:[2]}})})},t.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},t.releaseAllStreams=function(){t.streamTracker.length!==0&&t.streamTracker.forEach(function(e){e.getTracks().forEach(function(n){return n.stop()})}),t.streamTracker=[]},t.playVideoOnLoadAsync=function(e,n){return zt(this,void 0,void 0,function(){var r;return jt(this,function(i){switch(i.label){case 0:return[4,t.tryPlayVideo(e)];case 1:return r=i.sent(),r?[2,!0]:[2,new Promise(function(o,s){var a=setTimeout(function(){t.isVideoPlaying(e)||(s(!1),e.removeEventListener("canplay",l))},n),l=function(){t.tryPlayVideo(e).then(function(u){clearTimeout(a),e.removeEventListener("canplay",l),o(u)})};e.addEventListener("canplay",l)})]}})})},t.attachStreamToVideo=function(e,n,r){return r===void 0&&(r=5e3),zt(this,void 0,void 0,function(){var i;return jt(this,function(o){switch(o.label){case 0:return i=t.prepareVideoElement(n),t.addVideoSource(i,e),[4,t.playVideoOnLoadAsync(i,r)];case 1:return o.sent(),[2,i]}})})},t._waitImageLoad=function(e){return new Promise(function(n,r){var i=1e4,o=setTimeout(function(){t.isImageLoaded(e)||(e.removeEventListener("load",s),r())},i),s=function(){clearTimeout(o),e.removeEventListener("load",s),n()};e.addEventListener("load",s)})},t.checkCallbackFnOrThrow=function(e){if(!e)throw new rn("`callbackFn` is a required parameter, you cannot capture results without it.")},t.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(n){return n.stop()}),e=void 0},t.prototype.decode=function(e){var n=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(n)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},t.prototype.decodeFromCanvas=function(e){var n=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(n)},t.prototype.decodeFromImageElement=function(e){return zt(this,void 0,void 0,function(){var n;return jt(this,function(r){switch(r.label){case 0:if(!e)throw new rn("An image element must be provided.");return n=t.prepareImageElement(e),[4,this._decodeOnLoadImage(n)];case 1:return[2,r.sent()]}})})},t.prototype.decodeFromImageUrl=function(e){return zt(this,void 0,void 0,function(){var n;return jt(this,function(r){switch(r.label){case 0:if(!e)throw new rn("An URL must be provided.");n=t.prepareImageElement(),n.src=e,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.decodeFromImageElement(n)];case 2:return[2,r.sent()];case 3:return t.destroyImageElement(n),[7];case 4:return[2]}})})},t.prototype.decodeFromConstraints=function(e,n,r){return zt(this,void 0,void 0,function(){var i,o;return jt(this,function(s){switch(s.label){case 0:return t.checkCallbackFnOrThrow(r),[4,this.getUserMedia(e)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.decodeFromStream(i,n,r)];case 3:return[2,s.sent()];case 4:throw o=s.sent(),t.disposeMediaStream(i),o;case 5:return[2]}})})},t.prototype.decodeFromStream=function(e,n,r){return zt(this,void 0,void 0,function(){var i,o,s,a,l,u,c,f,d,h=this;return jt(this,function(p){switch(p.label){case 0:return t.checkCallbackFnOrThrow(r),i=this.options.tryPlayVideoTimeout,[4,t.attachStreamToVideo(e,n,i)];case 1:return o=p.sent(),s=function(){t.disposeMediaStream(e),t.cleanVideoSource(o)},a=this.scan(o,r,s),l=e.getVideoTracks(),u=yu(yu({},a),{stop:function(){a.stop()},streamVideoConstraintsApply:function(y,v){return zt(this,void 0,void 0,function(){var g,m,_,b,x,w,E;return jt(this,function(S){switch(S.label){case 0:g=v?l.filter(v):l,S.label=1;case 1:S.trys.push([1,6,7,8]),m=T1(g),_=m.next(),S.label=2;case 2:return _.done?[3,5]:(b=_.value,[4,b.applyConstraints(y)]);case 3:S.sent(),S.label=4;case 4:return _=m.next(),[3,2];case 5:return[3,8];case 6:return x=S.sent(),w={error:x},[3,8];case 7:try{_&&!_.done&&(E=m.return)&&E.call(m)}finally{if(w)throw w.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(y){return l.find(y).getConstraints()},streamVideoSettingsGet:function(y){return l.find(y).getSettings()},streamVideoCapabilitiesGet:function(y){return l.find(y).getCapabilities()}}),c=t.mediaStreamIsTorchCompatible(e),c&&(f=l==null?void 0:l.find(function(y){return t.mediaStreamIsTorchCompatibleTrack(y)}),d=function(y){return zt(h,void 0,void 0,function(){return jt(this,function(v){switch(v.label){case 0:return[4,t.mediaStreamSetTorch(f,y)];case 1:return v.sent(),[2]}})})},u.switchTorch=d,u.stop=function(){return zt(h,void 0,void 0,function(){return jt(this,function(y){switch(y.label){case 0:return a.stop(),[4,d(!1)];case 1:return y.sent(),[2]}})})}),[2,u]}})})},t.prototype.decodeFromVideoDevice=function(e,n,r){return zt(this,void 0,void 0,function(){var i,o;return jt(this,function(s){switch(s.label){case 0:return t.checkCallbackFnOrThrow(r),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},o={video:i},[4,this.decodeFromConstraints(o,n,r)];case 1:return[2,s.sent()]}})})},t.prototype.decodeFromVideoElement=function(e,n){return zt(this,void 0,void 0,function(){var r,i;return jt(this,function(o){switch(o.label){case 0:if(t.checkCallbackFnOrThrow(n),!e)throw new rn("A video element must be provided.");return r=t.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,i)];case 1:return o.sent(),[2,this.scan(r,n)]}})})},t.prototype.decodeFromVideoUrl=function(e,n){return zt(this,void 0,void 0,function(){var r,i,o,s;return jt(this,function(a){switch(a.label){case 0:if(t.checkCallbackFnOrThrow(n),!e)throw new rn("An URL must be provided.");return r=t.prepareVideoElement(),r.src=e,i=function(){t.cleanVideoSource(r)},o=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,o)];case 1:return a.sent(),s=this.scan(r,n,i),[2,s]}})})},t.prototype.decodeOnceFromConstraints=function(e,n){return zt(this,void 0,void 0,function(){var r;return jt(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,n)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,n){return zt(this,void 0,void 0,function(){var r,i,o;return jt(this,function(s){switch(s.label){case 0:return r=!!n,[4,t.attachStreamToVideo(e,n)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return o=s.sent(),[2,o];case 4:return r||t.cleanVideoSource(i),[7];case 5:return[2]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,n){return zt(this,void 0,void 0,function(){var r,i;return jt(this,function(o){switch(o.label){case 0:return e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeOnceFromVideoElement=function(e){return zt(this,void 0,void 0,function(){var n,r;return jt(this,function(i){switch(i.label){case 0:if(!e)throw new rn("A video element must be provided.");return n=t.prepareVideoElement(e),r=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,r)];case 1:return i.sent(),[4,this.scanOneResult(n)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromVideoUrl=function(e){return zt(this,void 0,void 0,function(){var n,r;return jt(this,function(i){switch(i.label){case 0:if(!e)throw new rn("An URL must be provided.");n=t.prepareVideoElement(),n.src=e,r=this.decodeOnceFromVideoElement(n),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,r];case 2:return[2,i.sent()];case 3:return t.cleanVideoSource(n),[7];case 4:return[2]}})})},t.prototype.scanOneResult=function(e,n,r,i){var o=this;return n===void 0&&(n=!0),r===void 0&&(r=!0),i===void 0&&(i=!0),new Promise(function(s,a){o.scan(e,function(l,u,c){if(l){s(l),c.stop();return}if(u){if(u instanceof oe&&n||u instanceof fn&&r||u instanceof me&&i)return;c.stop(),a(u)}})})},t.prototype.scan=function(e,n,r){var i=this;t.checkCallbackFnOrThrow(n);var o=t.createCaptureCanvas(e),s;try{s=o.getContext("2d",{willReadFrequently:!0})}catch{s=o.getContext("2d")}if(!s)throw new Error("Couldn't create canvas for visual element scan.");var a=function(){s=void 0,o=void 0},l=!1,u,c=function(){l=!0,clearTimeout(u),a(),r&&r()},f={stop:c},d=function(){if(!l)try{t.drawImageOnCanvas(s,e);var h=i.decodeFromCanvas(o);n(h,void 0,f),u=setTimeout(d,i.options.delayBetweenScanSuccess)}catch(g){n(void 0,g,f);var p=g instanceof fn,y=g instanceof me,v=g instanceof oe;if(p||y||v){u=setTimeout(d,i.options.delayBetweenScanAttempts);return}a(),r&&r(g)}};return d(),f},t.prototype._decodeOnLoadImage=function(e){return zt(this,void 0,void 0,function(){var n;return jt(this,function(r){switch(r.label){case 0:return n=t.isImageLoaded(e),n?[3,2]:[4,t._waitImageLoad(e)];case 1:r.sent(),r.label=2;case 2:return[2,this.decode(e)]}})})},t.prototype.getUserMedia=function(e){return zt(this,void 0,void 0,function(){var n;return jt(this,function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=r.sent(),t.streamTracker.push(n),[2,n]}})})},t.streamTracker=[],t}(),zEe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){zEe(e,t);function e(n,r){return t.call(this,new R0,n,r)||this}return e})(_c);var jEe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){jEe(e,t);function e(n,r){return t.call(this,new mu(n),n,r)||this}return e})(_c);var WEe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){WEe(e,t);function e(n,r){return t.call(this,new D0,n,r)||this}return e})(_c);var YEe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){YEe(e,t);function e(n,r){var i=this,o=new fL;return o.setHints(n),i=t.call(this,o,n,r)||this,i.reader=o,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(n){this.hints.set(Ot.POSSIBLE_FORMATS,n),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},e.prototype.setHints=function(n){this.hints=n,this.reader.setHints(this.hints)},e})(_c);var XEe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){XEe(e,t);function e(n,r){return t.call(this,new k0,n,r)||this}return e})(_c);var KEe=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zPe=function(t){KEe(e,t);function e(n,r){return t.call(this,new B0,n,r)||this}return e}(_c);const vL=new Set,Wr=new WeakMap,Pu=new WeakMap,El=new WeakMap,bb=new WeakMap,qEe=new WeakMap,nc=new WeakMap,F0=new WeakMap;let oa;const Ya="__aa_tgt",xb="__aa_del",ZEe=t=>{const e=n2e(t);e&&e.forEach(n=>r2e(n))},JEe=t=>{t.forEach(e=>{e.target===oa&&e2e(),Wr.has(e.target)&&Fl(e.target)})};function QEe(t){const e=bb.get(t);e==null||e.disconnect();let n=Wr.get(t),r=0;const i=5;n||(n=rc(t),Wr.set(t,n));const{offsetWidth:o,offsetHeight:s}=oa,l=[n.top-i,o-(n.left+i+n.width),s-(n.top+i+n.height),n.left-i].map(c=>`${-1*Math.floor(c)}px`).join(" "),u=new IntersectionObserver(()=>{++r>1&&Fl(t)},{root:oa,threshold:1,rootMargin:l});u.observe(t),bb.set(t,u)}function Fl(t){clearTimeout(F0.get(t));const e=dm(t),n=typeof e=="function"?500:e.duration;F0.set(t,setTimeout(()=>{const r=El.get(t);(!r||r.finished)&&(Wr.set(t,rc(t)),QEe(t))},n))}function e2e(){clearTimeout(F0.get(oa)),F0.set(oa,setTimeout(()=>{vL.forEach(t=>bL(t,e=>yL(()=>Fl(e))))},100))}function t2e(t){setTimeout(()=>{qEe.set(t,setInterval(()=>yL(Fl.bind(null,t)),2e3))},Math.round(2e3*Math.random()))}function yL(t){typeof requestIdleCallback=="function"?requestIdleCallback(()=>t()):requestAnimationFrame(()=>t())}let wb,_u;typeof window<"u"&&(oa=document.documentElement,wb=new MutationObserver(ZEe),_u=new ResizeObserver(JEe),_u.observe(oa));function n2e(t){return t.reduce((e,n)=>{if(e===!1)return!1;if(n.target instanceof Element){if(P1(n.target),!e.has(n.target)){e.add(n.target);for(let r=0;r<n.target.children.length;r++){const i=n.target.children.item(r);if(i){if(xb in i)return!1;P1(n.target,i),e.add(i)}}}if(n.removedNodes.length)for(let r=0;r<n.removedNodes.length;r++){const i=n.removedNodes[r];if(xb in i)return!1;i instanceof Element&&(e.add(i),P1(n.target,i),Pu.set(i,[n.previousSibling,n.nextSibling]))}}return e},new Set)}function P1(t,e){!e&&!(Ya in t)?Object.defineProperty(t,Ya,{value:t}):e&&!(Ya in e)&&Object.defineProperty(e,Ya,{value:t})}function r2e(t){var e;const n=oa.contains(t),r=Wr.has(t);n&&Pu.has(t)&&Pu.delete(t),El.has(t)&&((e=El.get(t))===null||e===void 0||e.cancel()),r&&n?i2e(t):r&&!n?s2e(t):o2e(t)}function qi(t){return Number(t.replace(/[^0-9.\-]/g,""))}function rc(t){const e=t.getBoundingClientRect();return{top:e.top+window.scrollY,left:e.left+window.scrollX,width:e.width,height:e.height}}function _L(t,e,n){let r=e.width,i=e.height,o=n.width,s=n.height;const a=getComputedStyle(t);if(a.getPropertyValue("box-sizing")==="content-box"){const u=qi(a.paddingTop)+qi(a.paddingBottom)+qi(a.borderTopWidth)+qi(a.borderBottomWidth),c=qi(a.paddingLeft)+qi(a.paddingRight)+qi(a.borderRightWidth)+qi(a.borderLeftWidth);r-=c,o-=c,i-=u,s-=u}return[r,o,i,s].map(Math.round)}function dm(t){return Ya in t&&nc.has(t[Ya])?nc.get(t[Ya]):{duration:250,easing:"ease-in-out"}}function bL(t,...e){e.forEach(n=>n(t,nc.has(t)));for(let n=0;n<t.children.length;n++){const r=t.children.item(n);r&&e.forEach(i=>i(r,nc.has(r)))}}function i2e(t){const e=Wr.get(t),n=rc(t);let r;if(!e)return;const i=dm(t);if(typeof i!="function"){const o=e.left-n.left,s=e.top-n.top,[a,l,u,c]=_L(t,e,n),f={transform:`translate(${o}px, ${s}px)`},d={transform:"translate(0, 0)"};a!==l&&(f.width=`${a}px`,d.width=`${l}px`),u!==c&&(f.height=`${u}px`,d.height=`${c}px`),r=t.animate([f,d],i)}else r=new Animation(i(t,"remain",e,n)),r.play();El.set(t,r),Wr.set(t,n),r.addEventListener("finish",Fl.bind(null,t))}function o2e(t){const e=rc(t);Wr.set(t,e);const n=dm(t);let r;typeof n!="function"?r=t.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"}):(r=new Animation(n(t,"add",e)),r.play()),El.set(t,r),r.addEventListener("finish",Fl.bind(null,t))}function s2e(t){if(!Pu.has(t)||!Wr.has(t))return;const[e,n]=Pu.get(t);Object.defineProperty(t,xb,{value:!0}),n&&n.parentNode&&n.parentNode instanceof Element?n.parentNode.insertBefore(t,n):e&&e.parentNode&&e.parentNode.appendChild(t);const[r,i,o,s]=a2e(t),a=dm(t),l=Wr.get(t);let u;Object.assign(t.style,{position:"absolute",top:`${r}px`,left:`${i}px`,width:`${o}px`,height:`${s}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),typeof a!="function"?u=t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:a.duration,easing:"ease-out"}):(u=new Animation(a(t,"remove",l)),u.play()),El.set(t,u),u.addEventListener("finish",()=>{var c;t.remove(),Wr.delete(t),Pu.delete(t),El.delete(t),(c=bb.get(t))===null||c===void 0||c.disconnect()})}function a2e(t){const e=Wr.get(t),[n,,r]=_L(t,e,rc(t));let i=t.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);const o=getComputedStyle(i),s=Wr.get(i)||rc(i),a=Math.round(e.top-s.top)-qi(o.borderTopWidth),l=Math.round(e.left-s.left)-qi(o.borderLeftWidth);return[a,l,n,r]}function jPe(t,e={}){wb&&_u&&(getComputedStyle(t).position==="static"&&Object.assign(t.style,{position:"relative"}),bL(t,Fl,t2e,n=>_u==null?void 0:_u.observe(n)),typeof e=="function"?nc.set(t,e):nc.set(t,{duration:250,easing:"ease-in-out",...e}),wb.observe(t,{childList:!0}),vL.add(t))}var bc=TypeError;const l2e=new Proxy({},{get(t,e){throw new Error(`Module "" has been externalized for browser compatibility. Cannot access ".${e}" in client code.  See http://vitejs.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),u2e=Object.freeze(Object.defineProperty({__proto__:null,default:l2e},Symbol.toStringTag,{value:"Module"})),c2e=gx(u2e);var e2=typeof Map=="function"&&Map.prototype,I1=Object.getOwnPropertyDescriptor&&e2?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,L0=e2&&I1&&typeof I1.get=="function"?I1.get:null,F3=e2&&Map.prototype.forEach,t2=typeof Set=="function"&&Set.prototype,O1=Object.getOwnPropertyDescriptor&&t2?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,$0=t2&&O1&&typeof O1.get=="function"?O1.get:null,L3=t2&&Set.prototype.forEach,f2e=typeof WeakMap=="function"&&WeakMap.prototype,Rf=f2e?WeakMap.prototype.has:null,d2e=typeof WeakSet=="function"&&WeakSet.prototype,Mf=d2e?WeakSet.prototype.has:null,h2e=typeof WeakRef=="function"&&WeakRef.prototype,$3=h2e?WeakRef.prototype.deref:null,p2e=Boolean.prototype.valueOf,g2e=Object.prototype.toString,m2e=Function.prototype.toString,v2e=String.prototype.match,n2=String.prototype.slice,$s=String.prototype.replace,y2e=String.prototype.toUpperCase,U3=String.prototype.toLowerCase,xL=RegExp.prototype.test,G3=Array.prototype.concat,Qi=Array.prototype.join,_2e=Array.prototype.slice,H3=Math.floor,Eb=typeof BigInt=="function"?BigInt.prototype.valueOf:null,R1=Object.getOwnPropertySymbols,Sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ic=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Df=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ic||"symbol")?Symbol.toStringTag:null,wL=Object.prototype.propertyIsEnumerable,V3=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function z3(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||xL.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-H3(-t):H3(t);if(r!==t){var i=String(r),o=n2.call(e,i.length+1);return $s.call(i,n,"$&_")+"."+$s.call($s.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $s.call(e,n,"$&_")}var Cb=c2e,j3=Cb.custom,W3=CL(j3)?j3:null,EL={__proto__:null,double:'"',single:"'"},b2e={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},hm=function t(e,n,r,i){var o=n||{};if(No(o,"quoteStyle")&&!No(EL,o.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(No(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=No(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(No(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(No(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return TL(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?z3(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return a?z3(e,u):u}var c=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=c&&c>0&&typeof e=="object")return Ab(e)?"[Array]":"[Object]";var f=L2e(o,r);if(typeof i>"u")i=[];else if(AL(i,e)>=0)return"[Circular]";function d(R,N,G){if(N&&(i=_2e.call(i),i.push(N)),G){var k={depth:o.depth};return No(o,"quoteStyle")&&(k.quoteStyle=o.quoteStyle),t(R,k,r+1,i)}return t(R,o,r+1,i)}if(typeof e=="function"&&!Y3(e)){var h=I2e(e),p=hp(e,d);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(p.length>0?" { "+Qi.call(p,", ")+" }":"")}if(CL(e)){var y=ic?$s.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Sb.call(e);return typeof e=="object"&&!ic?Wc(y):y}if(k2e(e)){for(var v="<"+U3.call(String(e.nodeName)),g=e.attributes||[],m=0;m<g.length;m++)v+=" "+g[m].name+"="+SL(x2e(g[m].value),"double",o);return v+=">",e.childNodes&&e.childNodes.length&&(v+="..."),v+="</"+U3.call(String(e.nodeName))+">",v}if(Ab(e)){if(e.length===0)return"[]";var _=hp(e,d);return f&&!F2e(_)?"["+Tb(_,f)+"]":"[ "+Qi.call(_,", ")+" ]"}if(E2e(e)){var b=hp(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!wL.call(e,"cause")?"{ ["+String(e)+"] "+Qi.call(G3.call("[cause]: "+d(e.cause),b),", ")+" }":b.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Qi.call(b,", ")+" }"}if(typeof e=="object"&&s){if(W3&&typeof e[W3]=="function"&&Cb)return Cb(e,{depth:c-r});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(O2e(e)){var x=[];return F3&&F3.call(e,function(R,N){x.push(d(N,e,!0)+" => "+d(R,e))}),X3("Map",L0.call(e),x,f)}if(D2e(e)){var w=[];return L3&&L3.call(e,function(R){w.push(d(R,e))}),X3("Set",$0.call(e),w,f)}if(R2e(e))return M1("WeakMap");if(B2e(e))return M1("WeakSet");if(M2e(e))return M1("WeakRef");if(C2e(e))return Wc(d(Number(e)));if(T2e(e))return Wc(d(Eb.call(e)));if(A2e(e))return Wc(p2e.call(e));if(S2e(e))return Wc(d(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof ul<"u"&&e===ul)return"{ [object globalThis] }";if(!w2e(e)&&!Y3(e)){var E=hp(e,d),S=V3?V3(e)===Object.prototype:e instanceof Object||e.constructor===Object,P=e instanceof Object?"":"null prototype",C=!S&&Df&&Object(e)===e&&Df in e?n2.call(ga(e),8,-1):P?"Object":"",A=S||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",T=A+(C||P?"["+Qi.call(G3.call([],C||[],P||[]),": ")+"] ":"");return E.length===0?T+"{}":f?T+"{"+Tb(E,f)+"}":T+"{ "+Qi.call(E,", ")+" }"}return String(e)};function SL(t,e,n){var r=n.quoteStyle||e,i=EL[r];return i+t+i}function x2e(t){return $s.call(String(t),/"/g,"&quot;")}function Ll(t){return!Df||!(typeof t=="object"&&(Df in t||typeof t[Df]<"u"))}function Ab(t){return ga(t)==="[object Array]"&&Ll(t)}function w2e(t){return ga(t)==="[object Date]"&&Ll(t)}function Y3(t){return ga(t)==="[object RegExp]"&&Ll(t)}function E2e(t){return ga(t)==="[object Error]"&&Ll(t)}function S2e(t){return ga(t)==="[object String]"&&Ll(t)}function C2e(t){return ga(t)==="[object Number]"&&Ll(t)}function A2e(t){return ga(t)==="[object Boolean]"&&Ll(t)}function CL(t){if(ic)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Sb)return!1;try{return Sb.call(t),!0}catch{}return!1}function T2e(t){if(!t||typeof t!="object"||!Eb)return!1;try{return Eb.call(t),!0}catch{}return!1}var P2e=Object.prototype.hasOwnProperty||function(t){return t in this};function No(t,e){return P2e.call(t,e)}function ga(t){return g2e.call(t)}function I2e(t){if(t.name)return t.name;var e=v2e.call(m2e.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function AL(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function O2e(t){if(!L0||!t||typeof t!="object")return!1;try{L0.call(t);try{$0.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function R2e(t){if(!Rf||!t||typeof t!="object")return!1;try{Rf.call(t,Rf);try{Mf.call(t,Mf)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function M2e(t){if(!$3||!t||typeof t!="object")return!1;try{return $3.call(t),!0}catch{}return!1}function D2e(t){if(!$0||!t||typeof t!="object")return!1;try{$0.call(t);try{L0.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function B2e(t){if(!Mf||!t||typeof t!="object")return!1;try{Mf.call(t,Mf);try{Rf.call(t,Rf)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function k2e(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function TL(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return TL(n2.call(t,0,e.maxStringLength),e)+r}var i=b2e[e.quoteStyle||"single"];i.lastIndex=0;var o=$s.call($s.call(t,i,"\\$1"),/[\x00-\x1f]/g,N2e);return SL(o,"single",e)}function N2e(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+y2e.call(e.toString(16))}function Wc(t){return"Object("+t+")"}function M1(t){return t+" { ? }"}function X3(t,e,n,r){var i=r?Tb(n,r):Qi.call(n,", ");return t+" ("+e+") {"+i+"}"}function F2e(t){for(var e=0;e<t.length;e++)if(AL(t[e],`
`)>=0)return!1;return!0}function L2e(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=Qi.call(Array(t.indent+1)," ");else return null;return{base:n,prev:Qi.call(Array(e+1),n)}}function Tb(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+Qi.call(t,","+n)+`
`+e.prev}function hp(t,e){var n=Ab(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=No(t,i)?e(t[i],t):""}var o=typeof R1=="function"?R1(t):[],s;if(ic){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var l in t)No(t,l)&&(n&&String(Number(l))===l&&l<t.length||ic&&s["$"+l]instanceof Symbol||(xL.call(/[^\w$]/,l)?r.push(e(l,t)+": "+e(t[l],t)):r.push(l+": "+e(t[l],t))));if(typeof R1=="function")for(var u=0;u<o.length;u++)wL.call(t,o[u])&&r.push("["+e(o[u])+"]: "+e(t[o[u]],t));return r}var $2e=hm,U2e=bc,pm=function(t,e,n){for(var r=t,i;(i=r.next)!=null;r=i)if(i.key===e)return r.next=i.next,n||(i.next=t.next,t.next=i),i},G2e=function(t,e){if(t){var n=pm(t,e);return n&&n.value}},H2e=function(t,e,n){var r=pm(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},V2e=function(t,e){return t?!!pm(t,e):!1},z2e=function(t,e){if(t)return pm(t,e,!0)},j2e=function(){var e,n={assert:function(r){if(!n.has(r))throw new U2e("Side channel does not contain "+$2e(r))},delete:function(r){var i=e&&e.next,o=z2e(e,r);return o&&i&&i===o&&(e=void 0),!!o},get:function(r){return G2e(e,r)},has:function(r){return V2e(e,r)},set:function(r,i){e||(e={next:void 0}),H2e(e,r,i)}};return n},PL=Object,W2e=Error,Y2e=EvalError,X2e=RangeError,K2e=ReferenceError,q2e=SyntaxError,Z2e=URIError,J2e=Math.abs,Q2e=Math.floor,eSe=Math.max,tSe=Math.min,nSe=Math.pow,rSe=Math.round,iSe=Number.isNaN||function(e){return e!==e},oSe=iSe,sSe=function(e){return oSe(e)||e===0?e:e<0?-1:1},aSe=Object.getOwnPropertyDescriptor,$p=aSe;if($p)try{$p([],"length")}catch{$p=null}var IL=$p,Up=Object.defineProperty||!1;if(Up)try{Up({},"a",{value:1})}catch{Up=!1}var lSe=Up,D1,K3;function uSe(){return K3||(K3=1,D1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),D1}var B1,q3;function cSe(){if(q3)return B1;q3=1;var t=typeof Symbol<"u"&&Symbol,e=uSe();return B1=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},B1}var k1,Z3;function OL(){return Z3||(Z3=1,k1=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),k1}var N1,J3;function RL(){if(J3)return N1;J3=1;var t=PL;return N1=t.getPrototypeOf||null,N1}var F1,Q3;function fSe(){if(Q3)return F1;Q3=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(l,u){for(var c=[],f=0;f<l.length;f+=1)c[f]=l[f];for(var d=0;d<u.length;d+=1)c[d+l.length]=u[d];return c},o=function(l,u){for(var c=[],f=u||0,d=0;f<l.length;f+=1,d+=1)c[d]=l[f];return c},s=function(a,l){for(var u="",c=0;c<a.length;c+=1)u+=a[c],c+1<a.length&&(u+=l);return u};return F1=function(l){var u=this;if(typeof u!="function"||e.apply(u)!==r)throw new TypeError(t+u);for(var c=o(arguments,1),f,d=function(){if(this instanceof f){var g=u.apply(this,i(c,arguments));return Object(g)===g?g:this}return u.apply(l,i(c,arguments))},h=n(0,u.length-c.length),p=[],y=0;y<h;y++)p[y]="$"+y;if(f=Function("binder","return function ("+s(p,",")+"){ return binder.apply(this,arguments); }")(d),u.prototype){var v=function(){};v.prototype=u.prototype,f.prototype=new v,v.prototype=null}return f},F1}var L1,eI;function gm(){if(eI)return L1;eI=1;var t=fSe();return L1=Function.prototype.bind||t,L1}var $1,tI;function r2(){return tI||(tI=1,$1=Function.prototype.call),$1}var U1,nI;function ML(){return nI||(nI=1,U1=Function.prototype.apply),U1}var dSe=typeof Reflect<"u"&&Reflect&&Reflect.apply,hSe=gm(),pSe=ML(),gSe=r2(),mSe=dSe,vSe=mSe||hSe.call(gSe,pSe),ySe=gm(),_Se=bc,bSe=r2(),xSe=vSe,DL=function(e){if(e.length<1||typeof e[0]!="function")throw new _Se("a function is required");return xSe(ySe,bSe,e)},G1,rI;function wSe(){if(rI)return G1;rI=1;var t=DL,e=IL,n;try{n=[].__proto__===Array.prototype}catch(s){if(!s||typeof s!="object"||!("code"in s)||s.code!=="ERR_PROTO_ACCESS")throw s}var r=!!n&&e&&e(Object.prototype,"__proto__"),i=Object,o=i.getPrototypeOf;return G1=r&&typeof r.get=="function"?t([r.get]):typeof o=="function"?function(a){return o(a==null?a:i(a))}:!1,G1}var H1,iI;function ESe(){if(iI)return H1;iI=1;var t=OL(),e=RL(),n=wSe();return H1=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:n?function(i){return n(i)}:null,H1}var V1,oI;function SSe(){if(oI)return V1;oI=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=gm();return V1=n.call(t,e),V1}var Je,CSe=PL,ASe=W2e,TSe=Y2e,PSe=X2e,ISe=K2e,oc=q2e,Iu=bc,OSe=Z2e,RSe=J2e,MSe=Q2e,DSe=eSe,BSe=tSe,kSe=nSe,NSe=rSe,FSe=sSe,BL=Function,z1=function(t){try{return BL('"use strict"; return ('+t+").constructor;")()}catch{}},vd=IL,LSe=lSe,j1=function(){throw new Iu},$Se=vd?function(){try{return arguments.callee,j1}catch{try{return vd(arguments,"callee").get}catch{return j1}}}():j1,ru=cSe()(),In=ESe(),USe=RL(),GSe=OL(),kL=ML(),ih=r2(),cu={},HSe=typeof Uint8Array>"u"||!In?Je:In(Uint8Array),il={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Je:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Je:ArrayBuffer,"%ArrayIteratorPrototype%":ru&&In?In([][Symbol.iterator]()):Je,"%AsyncFromSyncIteratorPrototype%":Je,"%AsyncFunction%":cu,"%AsyncGenerator%":cu,"%AsyncGeneratorFunction%":cu,"%AsyncIteratorPrototype%":cu,"%Atomics%":typeof Atomics>"u"?Je:Atomics,"%BigInt%":typeof BigInt>"u"?Je:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Je:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Je:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Je:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":ASe,"%eval%":eval,"%EvalError%":TSe,"%Float16Array%":typeof Float16Array>"u"?Je:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Je:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Je:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Je:FinalizationRegistry,"%Function%":BL,"%GeneratorFunction%":cu,"%Int8Array%":typeof Int8Array>"u"?Je:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Je:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Je:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ru&&In?In(In([][Symbol.iterator]())):Je,"%JSON%":typeof JSON=="object"?JSON:Je,"%Map%":typeof Map>"u"?Je:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ru||!In?Je:In(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":CSe,"%Object.getOwnPropertyDescriptor%":vd,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Je:Promise,"%Proxy%":typeof Proxy>"u"?Je:Proxy,"%RangeError%":PSe,"%ReferenceError%":ISe,"%Reflect%":typeof Reflect>"u"?Je:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Je:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ru||!In?Je:In(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Je:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ru&&In?In(""[Symbol.iterator]()):Je,"%Symbol%":ru?Symbol:Je,"%SyntaxError%":oc,"%ThrowTypeError%":$Se,"%TypedArray%":HSe,"%TypeError%":Iu,"%Uint8Array%":typeof Uint8Array>"u"?Je:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Je:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Je:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Je:Uint32Array,"%URIError%":OSe,"%WeakMap%":typeof WeakMap>"u"?Je:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Je:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Je:WeakSet,"%Function.prototype.call%":ih,"%Function.prototype.apply%":kL,"%Object.defineProperty%":LSe,"%Object.getPrototypeOf%":USe,"%Math.abs%":RSe,"%Math.floor%":MSe,"%Math.max%":DSe,"%Math.min%":BSe,"%Math.pow%":kSe,"%Math.round%":NSe,"%Math.sign%":FSe,"%Reflect.getPrototypeOf%":GSe};if(In)try{null.error}catch(t){var VSe=In(In(t));il["%Error.prototype%"]=VSe}var zSe=function t(e){var n;if(e==="%AsyncFunction%")n=z1("async function () {}");else if(e==="%GeneratorFunction%")n=z1("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=z1("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&In&&(n=In(i.prototype))}return il[e]=n,n},sI={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},oh=gm(),U0=SSe(),jSe=oh.call(ih,Array.prototype.concat),WSe=oh.call(kL,Array.prototype.splice),aI=oh.call(ih,String.prototype.replace),G0=oh.call(ih,String.prototype.slice),YSe=oh.call(ih,RegExp.prototype.exec),XSe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,KSe=/\\(\\)?/g,qSe=function(e){var n=G0(e,0,1),r=G0(e,-1);if(n==="%"&&r!=="%")throw new oc("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new oc("invalid intrinsic syntax, expected opening `%`");var i=[];return aI(e,XSe,function(o,s,a,l){i[i.length]=a?aI(l,KSe,"$1"):s||o}),i},ZSe=function(e,n){var r=e,i;if(U0(sI,r)&&(i=sI[r],r="%"+i[0]+"%"),U0(il,r)){var o=il[r];if(o===cu&&(o=zSe(r)),typeof o>"u"&&!n)throw new Iu("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new oc("intrinsic "+e+" does not exist!")},i2=function(e,n){if(typeof e!="string"||e.length===0)throw new Iu("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Iu('"allowMissing" argument must be a boolean');if(YSe(/^%?[^%]*%?$/,e)===null)throw new oc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=qSe(e),i=r.length>0?r[0]:"",o=ZSe("%"+i+"%",n),s=o.name,a=o.value,l=!1,u=o.alias;u&&(i=u[0],WSe(r,jSe([0,1],u)));for(var c=1,f=!0;c<r.length;c+=1){var d=r[c],h=G0(d,0,1),p=G0(d,-1);if((h==='"'||h==="'"||h==="`"||p==='"'||p==="'"||p==="`")&&h!==p)throw new oc("property names with quotes must have matching quotes");if((d==="constructor"||!f)&&(l=!0),i+="."+d,s="%"+i+"%",U0(il,s))a=il[s];else if(a!=null){if(!(d in a)){if(!n)throw new Iu("base intrinsic for "+e+" exists, but the property is not available.");return}if(vd&&c+1>=r.length){var y=vd(a,d);f=!!y,f&&"get"in y&&!("originalValue"in y.get)?a=y.get:a=a[d]}else f=U0(a,d),a=a[d];f&&!l&&(il[s]=a)}}return a},NL=i2,FL=DL,JSe=FL([NL("%String.prototype.indexOf%")]),LL=function(e,n){var r=NL(e,!!n);return typeof r=="function"&&JSe(e,".prototype.")>-1?FL([r]):r},QSe=i2,sh=LL,eCe=hm,tCe=bc,lI=QSe("%Map%",!0),nCe=sh("Map.prototype.get",!0),rCe=sh("Map.prototype.set",!0),iCe=sh("Map.prototype.has",!0),oCe=sh("Map.prototype.delete",!0),sCe=sh("Map.prototype.size",!0),$L=!!lI&&function(){var e,n={assert:function(r){if(!n.has(r))throw new tCe("Side channel does not contain "+eCe(r))},delete:function(r){if(e){var i=oCe(e,r);return sCe(e)===0&&(e=void 0),i}return!1},get:function(r){if(e)return nCe(e,r)},has:function(r){return e?iCe(e,r):!1},set:function(r,i){e||(e=new lI),rCe(e,r,i)}};return n},aCe=i2,mm=LL,lCe=hm,pp=$L,uCe=bc,iu=aCe("%WeakMap%",!0),cCe=mm("WeakMap.prototype.get",!0),fCe=mm("WeakMap.prototype.set",!0),dCe=mm("WeakMap.prototype.has",!0),hCe=mm("WeakMap.prototype.delete",!0),pCe=iu?function(){var e,n,r={assert:function(i){if(!r.has(i))throw new uCe("Side channel does not contain "+lCe(i))},delete:function(i){if(iu&&i&&(typeof i=="object"||typeof i=="function")){if(e)return hCe(e,i)}else if(pp&&n)return n.delete(i);return!1},get:function(i){return iu&&i&&(typeof i=="object"||typeof i=="function")&&e?cCe(e,i):n&&n.get(i)},has:function(i){return iu&&i&&(typeof i=="object"||typeof i=="function")&&e?dCe(e,i):!!n&&n.has(i)},set:function(i,o){iu&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new iu),fCe(e,i,o)):pp&&(n||(n=pp()),n.set(i,o))}};return r}:pp,gCe=bc,mCe=hm,vCe=j2e,yCe=$L,_Ce=pCe,bCe=_Ce||yCe||vCe,xCe=function(){var e,n={assert:function(r){if(!n.has(r))throw new gCe("Side channel does not contain "+mCe(r))},delete:function(r){return!!e&&e.delete(r)},get:function(r){return e&&e.get(r)},has:function(r){return!!e&&e.has(r)},set:function(r,i){e||(e=bCe()),e.set(r,i)}};return n},wCe=String.prototype.replace,ECe=/%20/g,W1={RFC1738:"RFC1738",RFC3986:"RFC3986"},o2={default:W1.RFC3986,formatters:{RFC1738:function(t){return wCe.call(t,ECe,"+")},RFC3986:function(t){return String(t)}},RFC1738:W1.RFC1738,RFC3986:W1.RFC3986},SCe=o2,Y1=Object.prototype.hasOwnProperty,Na=Array.isArray,Wi=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),CCe=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(Na(r)){for(var i=[],o=0;o<r.length;++o)typeof r[o]<"u"&&i.push(r[o]);n.obj[n.prop]=i}}},UL=function(e,n){for(var r=n&&n.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},ACe=function t(e,n,r){if(!n)return e;if(typeof n!="object"&&typeof n!="function"){if(Na(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Y1.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return Na(e)&&!Na(n)&&(i=UL(e,r)),Na(e)&&Na(n)?(n.forEach(function(o,s){if(Y1.call(e,s)){var a=e[s];a&&typeof a=="object"&&o&&typeof o=="object"?e[s]=t(a,o,r):e.push(o)}else e[s]=o}),e):Object.keys(n).reduce(function(o,s){var a=n[s];return Y1.call(o,s)?o[s]=t(o[s],a,r):o[s]=a,o},i)},TCe=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},PCe=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},X1=1024,ICe=function(e,n,r,i,o){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var a="",l=0;l<s.length;l+=X1){for(var u=s.length>=X1?s.slice(l,l+X1):s,c=[],f=0;f<u.length;++f){var d=u.charCodeAt(f);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===SCe.RFC1738&&(d===40||d===41)){c[c.length]=u.charAt(f);continue}if(d<128){c[c.length]=Wi[d];continue}if(d<2048){c[c.length]=Wi[192|d>>6]+Wi[128|d&63];continue}if(d<55296||d>=57344){c[c.length]=Wi[224|d>>12]+Wi[128|d>>6&63]+Wi[128|d&63];continue}f+=1,d=65536+((d&1023)<<10|u.charCodeAt(f)&1023),c[c.length]=Wi[240|d>>18]+Wi[128|d>>12&63]+Wi[128|d>>6&63]+Wi[128|d&63]}a+=c.join("")}return a},OCe=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var o=n[i],s=o.obj[o.prop],a=Object.keys(s),l=0;l<a.length;++l){var u=a[l],c=s[u];typeof c=="object"&&c!==null&&r.indexOf(c)===-1&&(n.push({obj:s,prop:u}),r.push(c))}return CCe(n),e},RCe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},MCe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},DCe=function(e,n){return[].concat(e,n)},BCe=function(e,n){if(Na(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)},GL={arrayToObject:UL,assign:TCe,combine:DCe,compact:OCe,decode:PCe,encode:ICe,isBuffer:MCe,isRegExp:RCe,maybeMap:BCe,merge:ACe},HL=xCe,Gp=GL,Bf=o2,kCe=Object.prototype.hasOwnProperty,VL={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},Ji=Array.isArray,NCe=Array.prototype.push,zL=function(t,e){NCe.apply(t,Ji(e)?e:[e])},FCe=Date.prototype.toISOString,uI=Bf.default,vn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Gp.encode,encodeValuesOnly:!1,filter:void 0,format:uI,formatter:Bf.formatters[uI],indices:!1,serializeDate:function(e){return FCe.call(e)},skipNulls:!1,strictNullHandling:!1},LCe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},K1={},$Ce=function t(e,n,r,i,o,s,a,l,u,c,f,d,h,p,y,v,g,m){for(var _=e,b=m,x=0,w=!1;(b=b.get(K1))!==void 0&&!w;){var E=b.get(e);if(x+=1,typeof E<"u"){if(E===x)throw new RangeError("Cyclic object value");w=!0}typeof b.get(K1)>"u"&&(x=0)}if(typeof c=="function"?_=c(n,_):_ instanceof Date?_=h(_):r==="comma"&&Ji(_)&&(_=Gp.maybeMap(_,function(fe){return fe instanceof Date?h(fe):fe})),_===null){if(s)return u&&!v?u(n,vn.encoder,g,"key",p):n;_=""}if(LCe(_)||Gp.isBuffer(_)){if(u){var S=v?n:u(n,vn.encoder,g,"key",p);return[y(S)+"="+y(u(_,vn.encoder,g,"value",p))]}return[y(n)+"="+y(String(_))]}var P=[];if(typeof _>"u")return P;var C;if(r==="comma"&&Ji(_))v&&u&&(_=Gp.maybeMap(_,u)),C=[{value:_.length>0?_.join(",")||null:void 0}];else if(Ji(c))C=c;else{var A=Object.keys(_);C=f?A.sort(f):A}var T=l?String(n).replace(/\./g,"%2E"):String(n),R=i&&Ji(_)&&_.length===1?T+"[]":T;if(o&&Ji(_)&&_.length===0)return R+"[]";for(var N=0;N<C.length;++N){var G=C[N],k=typeof G=="object"&&G&&typeof G.value<"u"?G.value:_[G];if(!(a&&k===null)){var U=d&&l?String(G).replace(/\./g,"%2E"):String(G),W=Ji(_)?typeof r=="function"?r(R,U):R:R+(d?"."+U:"["+U+"]");m.set(e,x);var K=HL();K.set(K1,m),zL(P,t(k,W,r,i,o,s,a,l,r==="comma"&&v&&Ji(_)?null:u,c,f,d,h,p,y,v,g,K))}}return P},UCe=function(e){if(!e)return vn;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||vn.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Bf.default;if(typeof e.format<"u"){if(!kCe.call(Bf.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=Bf.formatters[r],o=vn.filter;(typeof e.filter=="function"||Ji(e.filter))&&(o=e.filter);var s;if(e.arrayFormat in VL?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=vn.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:vn.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:vn.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:vn.allowEmptyArrays,arrayFormat:s,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:vn.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?vn.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:vn.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:vn.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:vn.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:vn.encodeValuesOnly,filter:o,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:vn.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:vn.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:vn.strictNullHandling}},GCe=function(t,e){var n=t,r=UCe(e),i,o;typeof r.filter=="function"?(o=r.filter,n=o("",n)):Ji(r.filter)&&(o=r.filter,i=o);var s=[];if(typeof n!="object"||n===null)return"";var a=VL[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var u=HL(),c=0;c<i.length;++c){var f=i[c],d=n[f];r.skipNulls&&d===null||zL(s,$Ce(d,f,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}var h=s.join(r.delimiter),p=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),h.length>0?p+h:""},Sl=GL,Pb=Object.prototype.hasOwnProperty,cI=Array.isArray,qt={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Sl.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},HCe=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},jL=function(t,e,n){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&n>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},VCe="utf8=%26%2310003%3B",zCe="utf8=%E2%9C%93",jCe=function(e,n){var r={__proto__:null},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var o=n.parameterLimit===1/0?void 0:n.parameterLimit,s=i.split(n.delimiter,n.throwOnLimitExceeded?o+1:o);if(n.throwOnLimitExceeded&&s.length>o)throw new RangeError("Parameter limit exceeded. Only "+o+" parameter"+(o===1?"":"s")+" allowed.");var a=-1,l,u=n.charset;if(n.charsetSentinel)for(l=0;l<s.length;++l)s[l].indexOf("utf8=")===0&&(s[l]===zCe?u="utf-8":s[l]===VCe&&(u="iso-8859-1"),a=l,l=s.length);for(l=0;l<s.length;++l)if(l!==a){var c=s[l],f=c.indexOf("]="),d=f===-1?c.indexOf("="):f+1,h,p;d===-1?(h=n.decoder(c,qt.decoder,u,"key"),p=n.strictNullHandling?null:""):(h=n.decoder(c.slice(0,d),qt.decoder,u,"key"),p=Sl.maybeMap(jL(c.slice(d+1),n,cI(r[h])?r[h].length:0),function(v){return n.decoder(v,qt.decoder,u,"value")})),p&&n.interpretNumericEntities&&u==="iso-8859-1"&&(p=HCe(String(p))),c.indexOf("[]=")>-1&&(p=cI(p)?[p]:p);var y=Pb.call(r,h);y&&n.duplicates==="combine"?r[h]=Sl.combine(r[h],p):(!y||n.duplicates==="last")&&(r[h]=p)}return r},WCe=function(t,e,n,r){var i=0;if(t.length>0&&t[t.length-1]==="[]"){var o=t.slice(0,-1).join("");i=Array.isArray(e)&&e[o]?e[o].length:0}for(var s=r?e:jL(e,n,i),a=t.length-1;a>=0;--a){var l,u=t[a];if(u==="[]"&&n.parseArrays)l=n.allowEmptyArrays&&(s===""||n.strictNullHandling&&s===null)?[]:Sl.combine([],s);else{l=n.plainObjects?{__proto__:null}:{};var c=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,f=n.decodeDotInKeys?c.replace(/%2E/g,"."):c,d=parseInt(f,10);!n.parseArrays&&f===""?l={0:s}:!isNaN(d)&&u!==f&&String(d)===f&&d>=0&&n.parseArrays&&d<=n.arrayLimit?(l=[],l[d]=s):f!=="__proto__"&&(l[f]=s)}s=l}return s},YCe=function(e,n,r,i){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=r.depth>0&&s.exec(o),u=l?o.slice(0,l.index):o,c=[];if(u){if(!r.plainObjects&&Pb.call(Object.prototype,u)&&!r.allowPrototypes)return;c.push(u)}for(var f=0;r.depth>0&&(l=a.exec(o))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&Pb.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(l[1])}if(l){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");c.push("["+o.slice(l.index)+"]")}return WCe(c,n,r,i)}},XCe=function(e){if(!e)return qt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var n=typeof e.charset>"u"?qt.charset:e.charset,r=typeof e.duplicates>"u"?qt.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:qt.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:qt.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:qt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:qt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:qt.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:qt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:qt.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:qt.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:qt.decoder,delimiter:typeof e.delimiter=="string"||Sl.isRegExp(e.delimiter)?e.delimiter:qt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:qt.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:qt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:qt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:qt.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:qt.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:qt.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},KCe=function(t,e){var n=XCe(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?{__proto__:null}:{};for(var r=typeof t=="string"?jCe(t,n):t,i=n.plainObjects?{__proto__:null}:{},o=Object.keys(r),s=0;s<o.length;++s){var a=o[s],l=YCe(a,r[a],n,typeof t=="string");i=Sl.merge(i,l,n)}return n.allowSparse===!0?i:Sl.compact(i)},qCe=GCe,ZCe=KCe,JCe=o2,QCe={formats:JCe,parse:ZCe,stringify:qCe};const WPe=lc(QCe);var fI=function(){return fI=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},fI.apply(this,arguments)};function YPe(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(f){s(f)}}function l(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function XPe(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function KPe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function eAe(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),e&&(r.href=e),i.href=t,i.href}const tAe=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function Ks(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}let ou=null;function WL(t={}){return ou||(t.includeStyleProperties?(ou=t.includeStyleProperties,ou):(ou=Ks(window.getComputedStyle(document.documentElement)),ou))}function H0(t,e){const r=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function nAe(t){const e=H0(t,"border-left-width"),n=H0(t,"border-right-width");return t.clientWidth+e+n}function rAe(t){const e=H0(t,"border-top-width"),n=H0(t,"border-bottom-width");return t.clientHeight+e+n}function s2(t,e={}){const n=e.width||nAe(t),r=e.height||rAe(t);return{width:n,height:r}}function iAe(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const kr=16384;function oAe(t){(t.width>kr||t.height>kr)&&(t.width>kr&&t.height>kr?t.width>t.height?(t.height*=kr/t.width,t.width=kr):(t.width*=kr/t.height,t.height=kr):t.width>kr?(t.height*=kr/t.width,t.width=kr):(t.width*=kr/t.height,t.height=kr))}function sAe(t,e={}){return t.toBlob?new Promise(n=>{t.toBlob(n,e.type?e.type:"image/png",e.quality?e.quality:1)}):new Promise(n=>{const r=window.atob(t.toDataURL(e.type?e.type:void 0,e.quality?e.quality:void 0).split(",")[1]),i=r.length,o=new Uint8Array(i);for(let s=0;s<i;s+=1)o[s]=r.charCodeAt(s);n(new Blob([o],{type:e.type?e.type:"image/png"}))})}function V0(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t})}async function aAe(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function lAe(t,e,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),o=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${e} ${n}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),i.appendChild(o),o.appendChild(t),aAe(i)}const Or=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||Or(n,e)};function uAe(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function cAe(t,e){return WL(e).map(n=>{const r=t.getPropertyValue(n),i=t.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function fAe(t,e,n,r){const i=`.${t}:${e}`,o=n.cssText?uAe(n):cAe(n,r);return document.createTextNode(`${i}{${o}}`)}function dI(t,e,n,r){const i=window.getComputedStyle(t,n),o=i.getPropertyValue("content");if(o===""||o==="none")return;const s=tAe();try{e.className=`${e.className} ${s}`}catch{return}const a=document.createElement("style");a.appendChild(fAe(s,n,i,r)),e.appendChild(a)}function dAe(t,e,n){dI(t,e,":before",n),dI(t,e,":after",n)}const hI="application/font-woff",pI="image/jpeg",hAe={woff:hI,woff2:hI,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:pI,jpeg:pI,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function pAe(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function a2(t){const e=pAe(t).toLowerCase();return hAe[e]||""}function gAe(t){return t.split(/,/)[1]}function Ib(t){return t.search(/^(data:)/)!==-1}function YL(t,e){return`data:${e};base64,${t}`}async function XL(t,e,n){const r=await fetch(t,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((o,s)=>{const a=new FileReader;a.onerror=s,a.onloadend=()=>{try{o(n({res:r,result:a.result}))}catch(l){s(l)}},a.readAsDataURL(i)})}const q1={};function mAe(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function l2(t,e,n){const r=mAe(t,e,n.includeQueryParams);if(q1[r]!=null)return q1[r];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let i;try{const o=await XL(t,n.fetchRequestInit,({res:s,result:a})=>(e||(e=s.headers.get("Content-Type")||""),gAe(a)));i=YL(o,e)}catch(o){i=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${t}`;o&&(s=typeof o=="string"?o:o.message),s&&console.warn(s)}return q1[r]=i,i}async function vAe(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):V0(e)}async function yAe(t,e){if(t.currentSrc){const o=document.createElement("canvas"),s=o.getContext("2d");o.width=t.clientWidth,o.height=t.clientHeight,s==null||s.drawImage(t,0,0,o.width,o.height);const a=o.toDataURL();return V0(a)}const n=t.poster,r=a2(n),i=await l2(n,r,e);return V0(i)}async function _Ae(t,e){var n;try{if(!((n=t==null?void 0:t.contentDocument)===null||n===void 0)&&n.body)return await vm(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function bAe(t,e){return Or(t,HTMLCanvasElement)?vAe(t):Or(t,HTMLVideoElement)?yAe(t,e):Or(t,HTMLIFrameElement)?_Ae(t,e):t.cloneNode(KL(t))}const xAe=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",KL=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function wAe(t,e,n){var r,i;if(KL(e))return e;let o=[];return xAe(t)&&t.assignedNodes?o=Ks(t.assignedNodes()):Or(t,HTMLIFrameElement)&&(!((r=t.contentDocument)===null||r===void 0)&&r.body)?o=Ks(t.contentDocument.body.childNodes):o=Ks(((i=t.shadowRoot)!==null&&i!==void 0?i:t).childNodes),o.length===0||Or(t,HTMLVideoElement)||await o.reduce((s,a)=>s.then(()=>vm(a,n)).then(l=>{l&&e.appendChild(l)}),Promise.resolve()),e}function EAe(t,e,n){const r=e.style;if(!r)return;const i=window.getComputedStyle(t);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):WL(n).forEach(o=>{let s=i.getPropertyValue(o);o==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),Or(t,HTMLIFrameElement)&&o==="display"&&s==="inline"&&(s="block"),o==="d"&&e.getAttribute("d")&&(s=`path(${e.getAttribute("d")})`),r.setProperty(o,s,i.getPropertyPriority(o))})}function SAe(t,e){Or(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),Or(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function CAe(t,e){if(Or(t,HTMLSelectElement)){const n=e,r=Array.from(n.children).find(i=>t.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function AAe(t,e,n){return Or(e,Element)&&(EAe(t,e,n),dAe(t,e,n),SAe(t,e),CAe(t,e)),e}async function TAe(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const r={};for(let o=0;o<n.length;o++){const a=n[o].getAttribute("xlink:href");if(a){const l=t.querySelector(a),u=document.querySelector(a);!l&&u&&!r[a]&&(r[a]=await vm(u,e,!0))}}const i=Object.values(r);if(i.length){const o="http://www.w3.org/1999/xhtml",s=document.createElementNS(o,"svg");s.setAttribute("xmlns",o),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const a=document.createElementNS(o,"defs");s.appendChild(a);for(let l=0;l<i.length;l++)a.appendChild(i[l]);t.appendChild(s)}return t}async function vm(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(r=>bAe(r,e)).then(r=>wAe(t,r,e)).then(r=>AAe(t,r,e)).then(r=>TAe(r,e))}const qL=/url\((['"]?)([^'"]+?)\1\)/g,PAe=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,IAe=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function OAe(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function RAe(t){const e=[];return t.replace(qL,(n,r,i)=>(e.push(i),n)),e.filter(n=>!Ib(n))}async function MAe(t,e,n,r,i){try{const o=n?eAe(e,n):e,s=a2(e);let a;if(i){const l=await i(o);a=YL(l,s)}else a=await l2(o,s,r);return t.replace(OAe(e),`$1${a}$3`)}catch{}return t}function DAe(t,{preferredFontFormat:e}){return e?t.replace(IAe,n=>{for(;;){const[r,,i]=PAe.exec(n)||[];if(!i)return"";if(i===e)return`src: ${r};`}}):t}function ZL(t){return t.search(qL)!==-1}async function JL(t,e,n){if(!ZL(t))return t;const r=DAe(t,n);return RAe(r).reduce((o,s)=>o.then(a=>MAe(a,s,e,n)),Promise.resolve(r))}async function su(t,e,n){var r;const i=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(t);if(i){const o=await JL(i,null,n);return e.style.setProperty(t,o,e.style.getPropertyPriority(t)),!0}return!1}async function BAe(t,e){await su("background",t,e)||await su("background-image",t,e),await su("mask",t,e)||await su("-webkit-mask",t,e)||await su("mask-image",t,e)||await su("-webkit-mask-image",t,e)}async function kAe(t,e){const n=Or(t,HTMLImageElement);if(!(n&&!Ib(t.src))&&!(Or(t,SVGImageElement)&&!Ib(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,i=await l2(r,a2(r),e);await new Promise((o,s)=>{t.onload=o,t.onerror=e.onImageErrorHandler?(...l)=>{try{o(e.onImageErrorHandler(...l))}catch(u){s(u)}}:s;const a=t;a.decode&&(a.decode=o),a.loading==="lazy"&&(a.loading="eager"),n?(t.srcset="",t.src=i):t.href.baseVal=i})}async function NAe(t,e){const r=Ks(t.childNodes).map(i=>QL(i,e));await Promise.all(r).then(()=>t)}async function QL(t,e){Or(t,Element)&&(await BAe(t,e),await kAe(t,e),await NAe(t,e))}function FAe(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),t}const gI={};async function mI(t){let e=gI[t];if(e!=null)return e;const r=await(await fetch(t)).text();return e={url:t,cssText:r},gI[t]=e,e}async function vI(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let a=s.replace(r,"$1");return a.startsWith("https://")||(a=new URL(a,t.url).href),XL(a,e.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(o).then(()=>n)}function yI(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=t.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;e.push(l[0])}r=r.replace(i,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",a=new RegExp(s,"gi");for(;;){let l=o.exec(r);if(l===null){if(l=a.exec(r),l===null)break;o.lastIndex=a.lastIndex}else a.lastIndex=o.lastIndex;e.push(l[0])}return e}async function LAe(t,e){const n=[],r=[];return t.forEach(i=>{if("cssRules"in i)try{Ks(i.cssRules||[]).forEach((o,s)=>{if(o.type===CSSRule.IMPORT_RULE){let a=s+1;const l=o.href,u=mI(l).then(c=>vI(c,e)).then(c=>yI(c).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?a+=1:i.cssRules.length)}catch(d){console.error("Error inserting rule from remote css",{rule:f,error:d})}})).catch(c=>{console.error("Error loading remote css",c.toString())});r.push(u)}})}catch(o){const s=t.find(a=>a.href==null)||document.styleSheets[0];i.href!=null&&r.push(mI(i.href).then(a=>vI(a,e)).then(a=>yI(a).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(a=>{console.error("Error loading remote stylesheet",a)})),console.error("Error inlining remote css file",o)}}),Promise.all(r).then(()=>(t.forEach(i=>{if("cssRules"in i)try{Ks(i.cssRules||[]).forEach(o=>{n.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${i.href}`,o)}}),n))}function $Ae(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>ZL(e.style.getPropertyValue("src")))}async function UAe(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Ks(t.ownerDocument.styleSheets),r=await LAe(n,e);return $Ae(r)}function e5(t){return t.trim().replace(/["']/g,"")}function GAe(t){const e=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(o=>{e.add(e5(o))}),Array.from(r.children).forEach(o=>{o instanceof HTMLElement&&n(o)})}return n(t),e}async function t5(t,e){const n=await UAe(t,e),r=GAe(t);return(await Promise.all(n.filter(o=>r.has(e5(o.style.fontFamily))).map(o=>{const s=o.parentStyleSheet?o.parentStyleSheet.href:null;return JL(o.cssText,s,e)}))).join(`
`)}async function HAe(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await t5(t,e);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}}async function n5(t,e={}){const{width:n,height:r}=s2(t,e),i=await vm(t,e,!0);return await HAe(i,e),await QL(i,e),FAe(i,e),await lAe(i,n,r)}async function ah(t,e={}){const{width:n,height:r}=s2(t,e),i=await n5(t,e),o=await V0(i),s=document.createElement("canvas"),a=s.getContext("2d"),l=e.pixelRatio||iAe(),u=e.canvasWidth||n,c=e.canvasHeight||r;return s.width=u*l,s.height=c*l,e.skipAutoScale||oAe(s),s.style.width=`${u}`,s.style.height=`${c}`,e.backgroundColor&&(a.fillStyle=e.backgroundColor,a.fillRect(0,0,s.width,s.height)),a.drawImage(o,0,0,s.width,s.height),s}async function VAe(t,e={}){const{width:n,height:r}=s2(t,e);return(await ah(t,e)).getContext("2d").getImageData(0,0,n,r).data}async function zAe(t,e={}){return(await ah(t,e)).toDataURL()}async function jAe(t,e={}){return(await ah(t,e)).toDataURL("image/jpeg",e.quality||1)}async function WAe(t,e={}){const n=await ah(t,e);return await sAe(n)}async function YAe(t,e={}){return t5(t,e)}const qPe=Object.freeze(Object.defineProperty({__proto__:null,getFontEmbedCSS:YAe,toBlob:WAe,toCanvas:ah,toJpeg:jAe,toPixelData:VAe,toPng:zAe,toSvg:n5},Symbol.toStringTag,{value:"Module"}));export{rPe as $,qr as A,lTe as B,we as C,r$ as D,J$ as E,ox as F,Ft as G,o$ as H,sg as I,dr as J,h9 as K,JX as L,O as M,SPe as N,CPe as O,lc as P,Xe as Q,ls as R,JAe as S,cs as T,bo as U,pt as V,ve as W,IJ as X,CTe as Y,uPe as Z,YPe as _,XPe as a,sB as a$,hPe as a0,aTe as a1,cTe as a2,mPe as a3,jy as a4,hi as a5,iPe as a6,q0 as a7,qle as a8,ep as a9,J9 as aA,Qp as aB,WM as aC,GM as aD,Q7 as aE,n7 as aF,Z_e as aG,wPe as aH,$Pe as aI,sPe as aJ,oie as aK,zPe as aL,dn as aM,sf as aN,aPe as aO,oPe as aP,jPe as aQ,i$ as aR,vPe as aS,Zn as aT,hU as aU,HPe as aV,GPe as aW,UPe as aX,lPe as aY,Qd as aZ,o4 as a_,Xr as aa,gl as ab,OPe as ac,DPe as ad,pPe as ae,APe as af,EPe as ag,xPe as ah,tPe as ai,fB as aj,BPe as ak,r7 as al,bPe as am,di as an,pi as ao,Ad as ap,a$ as aq,Td as ar,hO as as,VPe as at,dPe as au,ix as av,Xb as aw,lg as ax,k9 as ay,N9 as az,fI as b,STe as b$,z5 as b0,ta as b1,ea as b2,nPe as b3,QCe as b4,fTe as b5,ul as b6,V5 as b7,Dd as b8,UK as b9,ZJ as bA,s$ as bB,doe as bC,wge as bD,kPe as bE,NPe as bF,FPe as bG,LPe as bH,MTe as bI,tTe as bJ,mTe as bK,pTe as bL,LTe as bM,$Te as bN,ITe as bO,OTe as bP,vTe as bQ,xq as bR,nTe as bS,rTe as bT,kTe as bU,ATe as bV,TTe as bW,xTe as bX,wTe as bY,fs as bZ,_Te as b_,tn as ba,hTe as bb,o0 as bc,DTe as bd,oTe as be,sTe as bf,e$ as bg,V9 as bh,Un as bi,IPe as bj,w0 as bk,Gt as bl,Zfe as bm,MPe as bn,Ae as bo,RPe as bp,VTe as bq,sc as br,Mn as bs,Ay as bt,yt as bu,gPe as bv,og as bw,st as bx,WPe as by,aO as bz,KPe as c,bTe as c0,FTe as c1,GTe as c2,RTe as c3,dTe as c4,Bl as c5,Hq as c6,ETe as c7,UTe as c8,zTe as c9,yTe as ca,NTe as cb,Cg as cc,BTe as cd,rD as ce,HTe as cf,PTe as cg,c4 as ch,XAe as ci,qAe as cj,yPe as ck,Tl as cl,fPe as cm,_Pe as cn,qPe as co,WTe as d,YTe as e,XTe as f,KTe as g,qTe as h,ZTe as i,JTe as j,QTe as k,ePe as l,jTe as m,Hp as n,uTe as o,ZAe as p,QAe as q,Z as r,ZX as s,KAe as t,cPe as u,Sw as v,Mt as w,re as x,Ht as y,D4 as z};

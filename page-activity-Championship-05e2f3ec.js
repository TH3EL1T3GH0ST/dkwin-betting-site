import{C as U,am as ae,r as T,W as P,x as Q,E as o,an as G,ao as oe,F as e,ap as ie,aq as b,I as n,ar as O,K as s,al as g,J as u,z as le,D as q,M as B,as as x,y as K,at as Y,T as ue,L as re,A as ee,au as ce,Q as de,av as M,v as te,N as X,w as pe,aw as z,G as D,H as j,B as ve,ax as H,ay as fe,az as _e}from"./common.modules-d8dc9d74.js";import{u as E,c as I,_ as N,g as me,a as he,r as ge,A as ye,b as ke,j as $e,f as Z,d as we}from"./page-activity-ActivityDetail-18a9ad3a.js";const Te={class:"item"},Ce=["src"],Le={class:"right"},Re={key:0},Se={key:1},Be={key:2},be={key:3,class:"time"},De=["innerHTML"],Ie={key:4,class:"time"},Ae={key:5,class:"time"},Ne={class:"foot"},qe={class:"amount"},Ue=U({__name:"card",props:{bgImgWidth:{type:String,required:!1,default:"100%"},bgImgHeight:{type:String,required:!1,default:"150px"},itemD:{type:null,required:!1,default:{}},state:{type:Number,required:!1},isRefresh:{type:Boolean,required:!1,default:!1}},emits:["update:isRefresh"],setup(p,{emit:f}){const c=p;function d(){if(c.state==1){const a=m.value.replace(/-/g,"/"),L=c.itemD.endTime.replace(/-/g,"/");r.value=new Date(L).getTime()-new Date(a).getTime(),r.value>0&&(v.value=le({time:r.value,onChange:$}),v.value.start())}}const{serviceNowTime:m}=E(),{isRefresh:t}=ae(c,f),r=T(0),v=T();P(()=>c.itemD.id,a=>{d()},{immediate:!0});const y=Q(()=>v.value.current);function $(a){a.total==0?t.value=!0:t.value=!1}function k(a){const L=String(a.hours).padStart(2,"0"),R=String(a.minutes).padStart(2,"0"),S=String(a.seconds).padStart(2,"0");return L+":"+R+":"+S}return(a,L)=>(n(),o("div",Te,[G(e("img",{src:a.itemD.iconUrl,alt:"",style:ie(`width:${a.bgImgWidth};height:${a.bgImgHeight};`)},null,12,Ce),[[oe,a.itemD.iconUrl]]),e("div",Le,[b(a.$slots,"content",{},()=>{var R,S;return[e("div",{class:O(["head",`type${a.state}`])},[a.state==1?(n(),o("h1",Re,s(a.$t("cpsTip3")),1)):a.state==0?(n(),o("h1",Se,s(a.$t("startTime")),1)):a.state==2?(n(),o("h1",Be,s(a.$t("ended")),1)):g("v-if",!0),a.state==1?(n(),o("div",be,[e("p",{innerHTML:a.$t("fifteenDays",[y.value.days])},null,8,De),e("h6",null,s(k(y.value)),1)])):g("v-if",!0),a.state==0?(n(),o("div",Ie,s((R=a.itemD)==null?void 0:R.startTime),1)):g("v-if",!0),a.state==2?(n(),o("div",Ae,"00:00:00")):g("v-if",!0)],2),e("div",Ne,[e("h1",null,s(a.$t("winTips5")),1),e("div",qe,s(u(I)(((S=a.itemD)==null?void 0:S.sumBonus)||0)),1)])]},!0)]),b(a.$slots,"footer",{},void 0,!0)]))}});const se=N(Ue,[["__scopeId","data-v-277c60ca"],["__file","/usr/local/jenkins-prod/workspace/ar081-Bengal-dkwin/src/components/Activity/Championship/card.vue"]]);const ze={},Oe={class:"empty__container"};function je(p,f){const c=q("svg-icon");return n(),o("div",Oe,[B(c,{name:"empty"}),b(p.$slots,"text",{},()=>[e("p",null,s(p.$t("noData")),1)],!0)])}const J=N(ze,[["render",je],["__scopeId","data-v-f84b843f"],["__file","/usr/local/jenkins-prod/workspace/ar081-Bengal-dkwin/src/components/Empty/index.vue"]]),He={class:"dialog__container",role:"dialog",tabindex:"0"},Me={key:0,class:"dialog__container-img"},Pe={class:"dialog__container-title"},Ve={class:"dialog__container-content"},Ee={key:1,class:"dialog__container-footer"},Je=["src"],We=U({__name:"Dialog",props:{show:{type:Boolean,default:!1},title:{type:String,default:""},confirmText:{type:String,default:""},showCancelBtn:{type:Boolean,default:!0},cancelText:{type:String,default:""},clickOutSide:{type:Boolean,default:!1},isShowHeader:{type:Boolean,default:!0},imgUrl:{type:String,default:"tip"},showCloseIcon:{type:Boolean,default:!1},showFooter:{type:Boolean,default:!0}},emits:["update:show","confirm"],setup(p,{emit:f}){const c=p;P(()=>c.show,t=>{t?window.addEventListener("touchmove",m,{passive:!1}):window.removeEventListener("touchmove",m)});function d(t){c.clickOutSide&&f("update:show",!1)}const m=t=>{};return(t,r)=>{const v=x("lazy");return n(),o("div",{class:O(["dialog",{active:p.show,inactive:!p.show}])},[e("div",He,[p.isShowHeader?(n(),o("div",Me,[b(t.$slots,"header",{},()=>[G(e("img",{class:O({succed:p.imgUrl=="succeed"}),alt:""},null,2),[[v,u(me)("wallet",p.imgUrl)]])],!0)])):g("v-if",!0),e("div",Pe,[b(t.$slots,"title",{},()=>[e("h1",null,s(p.title),1)],!0)]),e("div",Ve,[b(t.$slots,"content",{},void 0,!0)]),p.showFooter?(n(),o("div",Ee,[b(t.$slots,"footer",{},()=>[e("button",{onClick:r[0]||(r[0]=()=>{f("confirm")})},s(p.confirmText||t.$t("confirm")),1),p.showCancelBtn?(n(),o("button",{key:0,onClick:r[1]||(r[1]=()=>{f("update:show",!1)})},s(p.cancelText||t.$t("cancel")),1)):g("v-if",!0)],!0)])):g("v-if",!0),p.showCloseIcon?(n(),o("img",{key:2,class:"close_img",src:u(he)("common","close"),onClick:d},null,8,Je)):g("v-if",!0)]),e("div",{class:"dialog__outside",onClick:d})],2)}}});const Fe=N(We,[["__scopeId","data-v-3e71d3da"],["__file","/usr/local/jenkins-prod/workspace/ar081-Bengal-dkwin/src/components/common/Dialog.vue"]]),F=re.messages();function Qe(p){const f=T();return K(()=>{const c="refresh"+ge();f.value&&f.value.setAttribute("id",c),setTimeout(()=>{Y.init({mainElement:"#"+c,triggerElement:"body",onRefresh(){p()},instructionsReleaseToRefresh:F.vanPullRefresh.loosing,instructionsPullToRefresh:F.vanPullRefresh.pulling,instructionsRefreshing:F.loading})},200)}),ue(()=>{Y.destroyAll()}),{elementRef:f}}const Ge={class:"infiniteScroll__loading"},Ke=U({__name:"ListSimply",props:{api:{type:Function,required:!0},distance:{type:Number,required:!1,default:100},pageQuery:{type:null,required:!1,default:{}},list:{type:Array,required:!0},isAutoLoad:{type:Boolean,required:!1,default:!0},filterData:{type:Function,required:!1}},emits:["update:list","update:pageQuery","update:totalCount","pageChange","listChange"],setup(p,{expose:f,emit:c}){const d=p,m=Q(()=>{let _=u(d.list);return d.filterData?d.filterData(_)||[]:_||[]}),{isAutoLoad:t}=d,r=T(!1),v=T({pageNo:1,pageSize:10}),y=T(!1),$=async _=>{if(!v.value.pageNo||!v.value.pageSize)return;y.value=!0;let A={...v.value,...d.pageQuery,..._};const i=await ye(d.api(A));if(i){v.value.pageNo=i.data.pageNo,c("pageChange",i.data),(i.data.totalCount===0||i.data.totalPage===v.value.pageNo)&&(r.value=!0);let l=v.value.pageNo===1?i.data.list:[...d.list.concat(i.data.list)];c("update:list",l),c("listChange",i),y.value=!1}else y.value=!1},k=T(!1);let a=null;async function L(){a&&(a(),a=null),await $(),de(()=>{a=P(w,_=>{const{innerHeight:A}=window;k.value||_<=A+d.distance&&_!==0&&v.value.pageNo>=1&&!y.value&&!r.value&&($({pageNo:v.value.pageNo+1}),k.value=!0,setTimeout(()=>{k.value=!1},1e3))})})}K(async()=>{t&&L()}),ee(async()=>{});const R=()=>{v.value={pageNo:1,pageSize:10},r.value=!1,c("update:list",[]),L()},{elementRef:S}=Qe(R),{bottom:w}=ce(S);return f({resetRefresh:R}),(_,A)=>{const i=q("van-loading");return n(),o("div",{class:"infiniteScroll",ref_key:"scrollRef",ref:S},[b(_.$slots,"content",{list:m.value},void 0,!0),b(_.$slots,"loading",{},()=>[e("div",Ge,[y.value&&!r.value?(n(),M(i,{key:0,class:"z-50"})):g("v-if",!0),m.value.length===0&&r.value?b(_.$slots,"empty",{key:1},()=>[B(J)],!0):r.value?(n(),o("div",{key:2,ref:"pullTextRef"},s(_.$t("noMoreThere")),513)):g("v-if",!0)])],!0)],512)}}});const Xe=N(Ke,[["__scopeId","data-v-cbab7763"],["__file","/usr/local/jenkins-prod/workspace/ar081-Bengal-dkwin/src/components/common/ListSimply.vue"]]),Ye={class:"championship"},Ze={class:"tabs"},xe=["onClick"],et=["onClick"],tt=U({__name:"index",setup(p){const{tabList:f,serviceNowTime:c,type:d}=E(),{t:m}=te(),t=X(),r=pe({state:1}),v=T([]),y=T(),$=T(!1),k=T(""),a=T(!1);P(a,i=>{var l;a.value&&((l=y.value)==null||l.resetRefresh())});function L(i){t.push({name:"Championship-ChampionshipDetail",query:{championId:i}})}function R(i){var l;r.state=i,(l=y.value)==null||l.resetRefresh()}function S(i){c.value=i.serviceNowTime}const w=T(null),_=async i=>{w.value&&clearTimeout(w.value),w.value=setTimeout(async()=>{var C;if(i.isJoin)return;const l=await A($e({championId:i.id}));if(l){if(l.code==0)ve(m("success")),(C=y.value)==null||C.resetRefresh();else if([803,804,805].includes(l.msgCode)&&l.data!=null)switch($.value=!0,l.msgCode){case 803:k.value=m("cpsTip25",[l.data]);break;case 804:k.value=m("cpsTip26",[l.data]);break;case 805:k.value=m("cpsTip27",[d[l.data]]);break;default:k.value=m(`code${l.msgCode}`)}}},100)},A=async i=>await i.then(C=>C&&C.code!==0?[803,804,805].includes(C.msgCode)?C:(Z(C),null):C).catch(C=>(Z(C),null));return(i,l)=>{const C=q("NavBar"),ne=q("van-sticky");return n(),o("div",Ye,[B(ne,null,{default:z(()=>[B(C,{title:i.$t("cpsTip1"),"left-arrow":"",onClickLeft:l[0]||(l[0]=()=>u(t).back())},null,8,["title"]),e("div",Ze,[(n(!0),o(D,null,j(u(f),h=>(n(),o("div",{key:h.key,class:O({active:r.state==h.key}),onClick:V=>R(h.key)},s(h.title),11,xe))),128))])]),_:1}),B(Xe,{list:v.value,"onUpdate:list":l[2]||(l[2]=h=>v.value=h),api:u(ke),"page-query":r,"onUpdate:pageQuery":l[3]||(l[3]=h=>r=h),distance:100,ref_key:"listRef",ref:y,"is-auto-load":!0,onListChange:S},{content:z(()=>[(n(!0),o(D,null,j(v.value,h=>(n(),o("div",{key:h.id},[B(se,{itemD:h,state:h.state,isRefresh:a.value,"onUpdate:isRefresh":l[1]||(l[1]=V=>a.value=V),onClick:V=>L(h.id)},null,8,["itemD","state","isRefresh","onClick"]),[1].includes(h.state)?(n(),o("div",{key:0,class:O(["btn",{active:!h.isJoin}]),onClick:V=>_(h)},s(h.isJoin?i.$t("cpsTip8"):i.$t("cpsTip9")),11,et)):g("v-if",!0)]))),128))]),_:1},8,["list","api","page-query"]),B(Fe,{show:$.value,"onUpdate:show":l[4]||(l[4]=h=>$.value=h),onConfirm:l[5]||(l[5]=()=>$.value=!1),showCancelBtn:!1,showCloseIcon:!0,clickOutSide:!0},{content:z(()=>[e("h1",null,s(k.value),1)]),_:1},8,["show"])])}}});const st=N(tt,[["__scopeId","data-v-5ffc4111"],["__file","/usr/local/jenkins-prod/workspace/ar081-Bengal-dkwin/src/views/activity/Championship/index.vue"]]),Ot=Object.freeze(Object.defineProperty({__proto__:null,default:st},Symbol.toStringTag,{value:"Module"})),nt={class:"title"},at={class:"con"},ot=["innerHTML"],it=["innerHTML"],lt={class:"condition"},ut={key:0},rt={key:1},ct={key:2},dt={class:"ranking"},pt={class:"top"},vt=U({__name:"rule",props:{data:{type:null,required:!1}},setup(p){const{t:f}=te(),c=T(["0"]),{type:d}=E();function m(t,r){return t==r?f("cpsTip20",[t]):f("cpsTip21",[t,r])}return(t,r)=>{const v=q("van-collapse-item"),y=q("van-collapse");return n(),M(y,{modelValue:c.value,"onUpdate:modelValue":r[0]||(r[0]=$=>c.value=$),class:"rule"},{default:z(()=>[B(v,{name:"1"},{title:z(()=>[e("div",nt,s(t.$t("cpsTip5").toLocaleUpperCase()),1)]),default:z(()=>[e("div",at,[e("h1",null,[e("span",null,s(t.$t("cpsTip11")),1)]),e("div",{innerHTML:t.$t("cpsTip12",[t.data.vendorCode,t.data.startTime,t.data.endTime])},null,8,ot),e("h1",null,[e("span",null,s(t.$t("awardAmount")),1)]),e("div",null,[H(s(t.$t("cpsTip13")),1),e("span",null,s(u(I)(t.data.sumBonus||0)),1)]),e("h1",null,[e("span",null,s(t.$t("cpsTip14")),1)]),e("div",null,[e("div",{innerHTML:t.$t("cpsTip15",[t.data.vendorCode])},null,8,it),e("div",lt,[t.data.conditionsBetAmount>0?(n(),o("p",ut,[H(s(t.$t("betAmounts"))+" ",1),e("span",null,s(u(I)(t.data.conditionsBetAmount||0)),1)])):g("v-if",!0),t.data.conditionsRechargeAmount>0?(n(),o("p",rt,[H(s(t.$t("rechageAmount"))+" ",1),e("span",null,s(u(I)(t.data.conditionsRechargeAmount||0)),1)])):g("v-if",!0),t.data.conditionsBindType?(n(),o("p",ct,[H(s(t.$t("toBind"))+" ",1),e("span",null,s(u(d)[t.data.conditionsBindType]),1)])):g("v-if",!0),t.data.conditionsBetAmount==0&&t.data.conditionsRechargeAmount==0&&!t.data.conditionsBindType?(n(),o(D,{key:3},[H(s(t.$t("cpsTip10")),1)],64)):g("v-if",!0)])]),e("h1",null,[e("span",null,s(t.$t("binguoPaimin")),1)]),e("div",dt,[e("div",pt,[e("span",null,s(t.$t("binguoPaimin")),1),e("span",null,s(t.$t("k3WarningTip4")),1)]),(n(!0),o(D,null,j(t.data.rankingAwardsList,($,k)=>(n(),o("div",{class:"info",key:k},[e("span",null,s(m($.startRanking,$.endRanking)),1),e("span",null,s(u(I)($.awardsAmount||0)),1)]))),128)),t.data.rankingAwardsList.length==0?(n(),M(J,{key:0})):g("v-if",!0)]),e("h1",null,[e("span",null,s(t.$t("cpsTip16")),1)]),e("div",null,[e("p",null,s(t.$t("cpsTip17")),1),e("p",null,s(t.$t("cpsTip18")),1)]),e("h1",null,[e("span",null,s(t.$t("cpsTip19")),1)]),e("p",null,[e("span",null,s(t.data.vendorCode),1)])])]),_:1})]),_:1},8,["modelValue"])}}});const ft=N(vt,[["__scopeId","data-v-5c0f1c84"],["__file","/usr/local/jenkins-prod/workspace/ar081-Bengal-dkwin/src/components/Activity/Championship/rule.vue"]]),_t={class:"game"},mt={class:"items"},ht=["onClick"],gt=["onClick"],yt=U({__name:"game",props:{data:{type:null,required:!1},arLotteryList:{type:null,required:!1}},setup(p){const{onItemClick:f}=we();return X(),(c,d)=>{const m=x("lazy");return n(),o("div",_t,[e("h1",null,s(c.$t("cpsTip22")),1),e("div",mt,[(n(!0),o(D,null,j(c.data,t=>(n(),o("div",{class:"item",key:t.gameID,onClick:r=>u(f)(t)},[G(e("img",null,null,512),[[m,t.img]])],8,ht))),128)),(n(!0),o(D,null,j(c.arLotteryList,(t,r)=>(n(),o("div",{class:"lottery",key:r,onClick:v=>u(f)(t)},s(t.title),9,gt))),128)),c.data.length==0&&c.arLotteryList.length==0?(n(),M(J,{key:0})):g("v-if",!0)])])}}});const kt=N(yt,[["__scopeId","data-v-303ee053"],["__file","/usr/local/jenkins-prod/workspace/ar081-Bengal-dkwin/src/components/Activity/Championship/game.vue"]]),W=p=>(fe("data-v-a9d644da"),p=p(),_e(),p),$t={class:"ChampionshipDetail"},wt={class:"ranking"},Tt={class:"title"},Ct={class:"amount"},Lt=W(()=>e("span",null,"--",-1)),Rt=W(()=>e("span",null,"--",-1)),St=W(()=>e("span",null,"--",-1)),Bt={class:"rankingList"},bt={class:"title"},Dt=W(()=>e("span",null,"TOP",-1)),It={key:0,class:"txt"},At={class:"refresh"},Nt=U({__name:"index",setup(p){const{tabList:f,getChampionTaskDetailV:c,championTaskDetailVO:d,getTop10UserList:m,top10UserListVO:t,thirdGameListVO:r,arLotteryList:v}=E(),y=X(),$=Q(()=>{var w;return d.value?(w=f.find(_=>_.key==d.value.state))==null?void 0:w.title:""}),k=T(),a=T(!1),L=T(null);function R(){c(k.value)}P(a,w=>{a.value&&R()});const S=()=>{m(k.value)};return K(()=>{k.value=Number(y.currentRoute.value.query.championId)||0,k.value!=0&&(R(),S(),L.value=setInterval(S,10*60*1e3))}),ee(()=>{clearInterval(L.value)}),(w,_)=>{const A=q("NavBar");return n(),o("div",$t,[B(A,{title:$.value,"left-arrow":"",onClickLeft:_[0]||(_[0]=()=>u(y).back())},null,8,["title"]),JSON.stringify(u(d))!=="{}"?(n(),o(D,{key:0},[B(se,{itemD:u(d),state:u(d).state,isRefresh:a.value,"onUpdate:isRefresh":_[1]||(_[1]=i=>a.value=i)},null,8,["itemD","state","isRefresh"]),e("div",wt,[e("div",Tt,[e("span",null,s(w.$t("binguoPaimin")),1),e("span",null,s(w.$t("betAmounts")),1),e("span",null,s(w.$t("k3WarningTip4")),1)]),e("div",Ct,[u(d)&&u(d).userJoinInfo?(n(),o(D,{key:0},[e("span",null,s(u(d).userJoinInfo.ranking),1),e("span",null,s(u(I)(u(d).userJoinInfo.sumBetAmount||0)),1),e("span",null,s(u(I)(u(d).userJoinInfo.awardsAmount||0)),1)],64)):(n(),o(D,{key:1},[Lt,Rt,St],64))])])],64)):g("v-if",!0),e("div",Bt,[e("div",bt,[Dt,e("span",null,s(w.$t("account")),1),e("span",null,s(w.$t("betAmounts")),1),e("span",null,s(w.$t("k3WarningTip4")),1)]),(n(!0),o(D,null,j(u(t),(i,l)=>(n(),o("div",{class:"info",key:l},[[1,2,3].includes(i.ranking)?(n(),o("span",{key:1,class:O(`top${i.ranking}`)},null,2)):(n(),o("span",It,s(i.ranking),1)),e("span",null,s(i.userName),1),e("span",null,s(u(I)(i.sumBetAmount||0)),1),e("span",null,s(u(I)(i.awardsAmount||0)),1)]))),128)),e("div",At,s(w.$t("cpsTip28")),1),u(t).length==0?(n(),M(J,{key:0})):g("v-if",!0)]),B(ft,{data:u(d)},null,8,["data"]),B(kt,{data:u(r),arLotteryList:u(v)},null,8,["data","arLotteryList"])])}}});const qt=N(Nt,[["__scopeId","data-v-a9d644da"],["__file","/usr/local/jenkins-prod/workspace/ar081-Bengal-dkwin/src/views/activity/Championship/ChampionshipDetail/index.vue"]]),jt=Object.freeze(Object.defineProperty({__proto__:null,default:qt},Symbol.toStringTag,{value:"Module"}));export{se as C,Fe as D,J as E,Xe as L,jt as a,Ot as i,Qe as u};
